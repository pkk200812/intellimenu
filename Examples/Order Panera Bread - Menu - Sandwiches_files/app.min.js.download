/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||ne;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"===n||he.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,n){return he.isFunction(t)?he.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return se.call(t,e)>-1!==n}):Te.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return se.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return he.each(e.match(xe)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function l(e){throw e}function u(e,t,n,r){var i;try{e&&he.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&he.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function d(){ne.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),he.ready()}function p(){this.expando=he.expando+p.uid++}function m(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:Ue.test(e)?JSON.parse(e):e}function f(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Fe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=m(n)}catch(i){}Le.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},c=s(),l=n&&n[3]||(he.cssNumber[t]?"":"px"),u=(he.cssNumber[t]||"px"!==l&&+c)&&Be.exec(he.css(e,t));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do o=o||".5",u/=o,he.style(e,t,u+l);while(o!==(o=s()/c)&&1!==o&&--a)}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}function g(e){var t,n=e.ownerDocument,r=e.nodeName,i=ze[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=he.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ze[r]=i,i)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Me.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&je(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",Me.set(r,"display",n)));for(o=0;a>o;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function y(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?he.merge([e],n):n}function b(e,t){for(var n=0,r=e.length;r>n;n++)Me.set(e[n],"globalEval",!t||Me.get(t[n],"globalEval"))}function _(e,t,n,r,i){for(var o,a,s,c,l,u,d=t.createDocumentFragment(),p=[],m=0,f=e.length;f>m;m++)if(o=e[m],o||0===o)if("object"===he.type(o))he.merge(p,o.nodeType?[o]:o);else if(Je.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(Ye.exec(o)||["",""])[1].toLowerCase(),c=Ke[s]||Ke._default,a.innerHTML=c[1]+he.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;he.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",m=0;o=p[m++];)if(r&&he.inArray(o,r)>-1)i&&i.push(o);else if(l=he.contains(o.ownerDocument,o),a=y(d.appendChild(o),"script"),l&&b(a),n)for(u=0;o=a[u++];)qe.test(o.type||"")&&n.push(o);return d}function E(){return!0}function C(){return!1}function S(){try{return ne.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=C;else if(!i)return e;return 1===o&&(a=i,i=function(e){return he().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function T(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?he(">tbody",e)[0]||e:e}function I(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function O(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function A(e,t){var n,r,i,o,a,s,c,l;if(1===t.nodeType){if(Me.hasData(e)&&(o=Me.access(e),a=Me.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)he.event.add(t,i,l[i][n])}Le.hasData(e)&&(s=Le.access(e),c=he.extend({},s),Le.set(t,c))}}function $(e,t){var n=t.nodeName.toLowerCase();"input"===n&&We.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function D(e,t,r,i){t=oe.apply([],t);var o,a,s,c,l,u,d=0,p=e.length,m=p-1,f=t[0],h=he.isFunction(f);if(h||p>1&&"string"==typeof f&&!me.checkClone&&rt.test(f))return e.each(function(n){var o=e.eq(n);h&&(t[0]=f.call(this,n,o.html())),D(o,t,r,i)});if(p&&(o=_(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=he.map(y(o,"script"),I),c=s.length;p>d;d++)l=o,d!==m&&(l=he.clone(l,!0,!0),c&&he.merge(s,y(l,"script"))),r.call(e[d],l,d);if(c)for(u=s[s.length-1].ownerDocument,he.map(s,O),d=0;c>d;d++)l=s[d],qe.test(l.type||"")&&!Me.access(l,"globalEval")&&he.contains(u,l)&&(l.src?he._evalUrl&&he._evalUrl(l.src):n(l.textContent.replace(ot,""),u))}return e}function x(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(y(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return e}function R(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!me.pixelMarginRight()&&st.test(a)&&at.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in ft)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=mt.length;n--;)if(e=mt[n]+t,e in ft)return e}function N(e){var t=he.cssProps[e];return t||(t=he.cssProps[e]=P(e)||e),t}function M(e,t,n){var r=Be.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function L(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;4>o;o+=2)"margin"===n&&(a+=he.css(e,n+He[o],!0,i)),r?("content"===n&&(a-=he.css(e,"padding"+He[o],!0,i)),"margin"!==n&&(a-=he.css(e,"border"+He[o]+"Width",!0,i))):(a+=he.css(e,"padding"+He[o],!0,i),"padding"!==n&&(a+=he.css(e,"border"+He[o]+"Width",!0,i)));return a}function U(e,t,n){var r,i=ct(e),o=R(e,t,i),a="border-box"===he.css(e,"boxSizing",!1,i);return st.test(o)?o:(r=a&&(me.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),o=parseFloat(o)||0,o+L(e,t,n||(a?"border":"content"),r,i)+"px")}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function G(){gt&&(ne.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(G):e.setTimeout(G,he.fx.interval),he.fx.tick())}function B(){return e.setTimeout(function(){ht=void 0}),ht=he.now()}function H(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=He[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function j(e,t,n){for(var r,i=(W.tweeners[t]||[]).concat(W.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,a,s,c,l,u,d="width"in t||"height"in t,p=this,m={},f=e.style,h=e.nodeType&&je(e),g=Me.get(e,"fxshow");n.queue||(a=he._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],vt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}m[r]=g&&g[r]||he.style(e,r)}if(c=!he.isEmptyObject(t),c||!he.isEmptyObject(m)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=g&&g.display,null==l&&(l=Me.get(e,"display")),u=he.css(e,"display"),"none"===u&&(l?u=l:(v([e],!0),l=e.style.display||l,u=he.css(e,"display"),v([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===he.css(e,"float")&&(c||(p.done(function(){f.display=l}),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),c=!1;for(r in m)c||(g?"hidden"in g&&(h=g.hidden):g=Me.access(e,"fxshow",{display:l}),o&&(g.hidden=!h),h&&v([e],!0),p.done(function(){h||v([e]),Me.remove(e,"fxshow");for(r in m)he.style(e,r,m[r])})),c=j(h?g[r]:0,r,p),r in g||(g[r]=c.start,h&&(c.end=c.start,c.start=0))}}function z(e,t){var n,r,i,o,a;for(n in e)if(r=he.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=he.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o=0,a=W.prefilters.length,s=he.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=ht||B(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,c=l.tweens.length;c>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&c?n:(c||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||B(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(z(u,l.opts.specialEasing);a>o;o++)if(r=W.prefilters[o].call(l,e,u,l.opts))return he.isFunction(r.stop)&&(he._queueHooks(l.elem,l.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(u,j,l),he.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),he.fx.timer(he.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}function Y(e){var t=e.match(xe)||[];return t.join(" ")}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,r){var i;if(Array.isArray(t))he.each(t,function(t,i){n||At.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function J(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(xe)||[];if(he.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Z(e,t,n,r){function i(s){var c;return o[s]=!0,he.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),c}var o={},a=e===Gt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Q(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&he.extend(!0,e,r),e}function X(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function ee(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=l[c+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}var te=[],ne=e.document,re=Object.getPrototypeOf,ie=te.slice,oe=te.concat,ae=te.push,se=te.indexOf,ce={},le=ce.toString,ue=ce.hasOwnProperty,de=ue.toString,pe=de.call(Object),me={},fe="3.2.1",he=function(e,t){return new he.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ve=/^-ms-/,ye=/-([a-z])/g,be=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:fe,constructor:he,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:te.sort,splice:te.splice},he.extend=he.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||he.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(he.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},he.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return e&&"[object Object]"===le.call(e)?(t=re(e))?(n=ue.call(t,"constructor")&&t.constructor,"function"==typeof n&&de.call(n)===pe):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ce[le.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ve,"ms-").replace(ye,be)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;n>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;i>a;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e)?(r=ie.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ie.call(arguments)))},i.guid=e.guid=e.guid||he.guid++,i):void 0},now:Date.now,support:me}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=te[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ce["[object "+t+"]"]=t.toLowerCase()});var _e=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,n,r){var i,o,a,s,c,l,u,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:B)!==k&&R(t),t=t||k,N)){if(11!==f&&(c=ve.exec(e)))if(i=c[1]){if(9===f){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&F(t,a)&&a.id===i)return n.push(a),n}else{if(c[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(C.qsa&&!W[e+" "]&&(!M||!M.test(e))){if(1!==f)p=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Ee,Ce):t.setAttribute("id",s=G),l=I(e),o=l.length;o--;)l[o]="#"+s+" "+m(l[o]);u=l.join(","),p=ye.test(e)&&d(t.parentNode)||t}if(u)try{return Q.apply(n,p.querySelectorAll(u)),n}catch(h){}finally{s===G&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[G]=!0,e}function i(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&we(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function m(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=j++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,u,d,p=[H,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(d=t[G]||(t[G]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[o])&&l[0]===H&&l[1]===s)return p[2]=l[2];if(u[o]=p,p[2]=e(t,n,c))return!0}return!1}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;c>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function y(e,t,n,i,o,a){return i&&!i[G]&&(i=y(i)),o&&!o[G]&&(o=y(o,a)),r(function(r,a,s,c){var l,u,d,p=[],m=[],f=a.length,h=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?h:v(h,p,e,s,c),b=n?o||(r?e:f||i)?[]:a:y;if(n&&n(y,b,s,c),i)for(l=v(b,m),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(b[m[u]]=!(y[m[u]]=d));if(r){if(o||e){if(o){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(y[u]=d);o(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=o?ee(r,d):p[u])>-1&&(r[l]=!(a[l]=d))}}else b=v(b===a?b.splice(f,b.length):b),o?o(null,a,b,c):Q.apply(a,b)})}function b(e){for(var t,n,r,i=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,c=f(function(e){return e===t},a,!0),l=f(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,r){var i=!o&&(r||n!==$)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=S.relative[e[s].type])u=[f(h(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[G]){for(r=++s;i>r&&!S.relative[e[r].type];r++);return y(s>1&&h(u),s>1&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&m(e))}u.push(n)}return h(u)}function _(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,c,l){var u,d,p,m=0,f="0",h=r&&[],g=[],y=$,b=r||o&&S.find.TAG("*",l),_=H+=null==y?1:Math.random()||.1,E=b.length;for(l&&($=a===k||a||l);f!==E&&null!=(u=b[f]);f++){if(o&&u){for(d=0,a||u.ownerDocument===k||(R(u),s=!N);p=e[d++];)if(p(u,a||k,s)){c.push(u);break}l&&(H=_)}i&&((u=!p&&u)&&m--,r&&h.push(u))}if(m+=f,i&&f!==m){for(d=0;p=n[d++];)p(h,g,a,s);if(r){if(m>0)for(;f--;)h[f]||g[f]||(g[f]=J.call(c));g=v(g)}Q.apply(c,g),l&&!r&&g.length>0&&m+n.length>1&&t.uniqueSort(c)}return l&&(H=_,$=y),h};return i?r(a):a}var E,C,S,w,T,I,O,A,$,D,x,R,k,P,N,M,L,U,F,G="sizzle"+1*new Date,B=e.document,H=0,j=0,V=n(),z=n(),W=n(),Y=function(e,t){return e===t&&(x=!0),0},q={}.hasOwnProperty,K=[],J=K.pop,Z=K.push,Q=K.push,X=K.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+re+"$"),me={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ee=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ce=function(e,t){return t?"\x00"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){R()},we=f(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(K=X.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(Te){Q={apply:K.length?function(e,t){Z.apply(e,X.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}C=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},R=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==k&&9===r.nodeType&&r.documentElement?(k=r,P=k.documentElement,N=!T(k),B!==k&&(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=ge.test(k.getElementsByClassName),C.getById=i(function(e){return P.appendChild(e).id=G,!k.getElementsByName||!k.getElementsByName(G).length}),C.getById?(S.filter.ID=function(e){var t=e.replace(be,_e);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(be,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),S.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=C.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&N?t.getElementsByClassName(e):void 0},L=[],M=[],(C.qsa=ge.test(k.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+G+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+G+"+*").length||M.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=ge.test(U=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){C.disconnectedMatch=U.call(e,"*"),U.call(e,"[s!='']:x"),L.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(P.compareDocumentPosition),F=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return x=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===B&&F(B,e)?-1:t===k||t.ownerDocument===B&&F(B,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return x=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!i||!o)return e===k?-1:t===k?1:i?-1:o?1:D?ee(D,e)-ee(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?a(s[r],c[r]):s[r]===B?-1:c[r]===B?1:0},k):k},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==k&&R(e),n=n.replace(ue,"='$1']"),C.matchesSelector&&N&&!W[n+" "]&&(!L||!L.test(n))&&(!M||!M.test(n)))try{var r=U.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,k,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&R(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&R(e);var n=S.attrHandle[t.toLowerCase()],r=n&&q.call(S.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:C.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(Ee,Ce)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(x=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(Y),x){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(be,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=I(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,m,f,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;h;){for(p=t;p=p[h];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=g,d=p[G]||(p[G]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],m=l[0]===H&&l[1],b=m&&l[2],p=m&&g.childNodes[m];p=++m&&p&&p[h]||(b=m=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[H,m,b];break}}else if(y&&(p=t,d=p[G]||(p[G]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],m=l[0]===H&&l[1],b=m),b===!1)for(;(p=++m&&p&&p[h]||(b=m=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&(d=p[G]||(p[G]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[H,b]),p!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[G]?o(n):o.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=O(e.replace(se,"$1"));return i[G]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,_e),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,_e).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})S.pseudos[E]=c(E);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,I=t.tokenize=function(e,n){var r,i,o,a,s,c,l,u=z[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=S.preFilter;s;){(!r||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in S.filter)!(i=me[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,c).slice(0)},O=t.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=I(e)),n=t.length;n--;)o=b(t[n]),o[G]?r.push(o):i.push(o);o=W(e,_(i,r)),o.selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,u=!r&&I(e=l.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&N&&S.relative[o[1].type]){if(t=(S.find.ID(a.matches[0].replace(be,_e),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=me.needsContext.test(e)?0:o.length;i--&&(a=o[i],!S.relative[s=a.type]);)if((c=S.find[s])&&(r=c(a.matches[0].replace(be,_e),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&m(o),!e)return Q.apply(n,r),n;break}}return(l||O(e,u))(r,t,!N,n,!t||ye.test(e)&&d(t.parentNode)||t),n},C.sortStable=G.split("").sort(Y).join("")===G,C.detectDuplicates=!!x,R(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);he.find=_e,he.expr=_e.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=_e.uniqueSort,he.text=_e.getText,he.isXMLDoc=_e.isXML,he.contains=_e.contains,he.escapeSelector=_e.escape;var Ee=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;r.push(e)}return r},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=he.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;r>t;t++)if(he.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;r>t;t++)he.find(e,i[t],n);return r>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&Se.test(e)?he(e):e||[],!1).length}});var Ie,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ae=he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ie,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Oe.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),we.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ne.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)};Ae.prototype=he.fn,Ie=he(ne);var $e=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&he(e);if(!Se.test(e))for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(he(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),he.merge([],e.childNodes))}},function(e,t){he.fn[e]=function(n,r){var i=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=he.filter(r,i)),this.length>1&&(De[e]||he.uniqueSort(i),$e.test(e)&&i.reverse()),this.pushStack(i)}});var xe=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?s(e):he.extend({},e);var t,n,r,i,o=[],a=[],c=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;c=-1)for(n=a.shift();++c<o.length;)o[c].apply(n[0],n[1])===!1&&e.stopOnFalse&&(c=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(c=o.length-1,a.push(n)),function r(t){he.each(t,function(t,n){he.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==he.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),c>=n&&c--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,r){var i=he.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,d=function(){var e,d;if(!(a>t)){if(e=r.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,he.isFunction(d)?i?d.call(e,o(a,n,c,i),o(a,n,l,i)):(a++,d.call(e,o(a,n,c,i),o(a,n,l,i),o(a,n,c,n.notifyWith))):(r!==c&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?d:function(){try{d()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==l&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(he.Deferred.getStackHook&&(p.stackTrace=he.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(i)?i:c,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:c)),n[2][3].add(o(0,e,he.isFunction(r)?r:l))}).promise()},promise:function(e){return null!=e?he.extend(e,i):i}},o={};return he.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ie.call(arguments),o=he.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ie.call(arguments):n,--t||o.resolveWith(r,i)}};if(1>=t&&(u(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||he.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)u(i[n],a(n),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Re.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var ke=he.Deferred();he.fn.ready=function(e){return ke.then(e)["catch"](function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--he.readyWait:he.isReady)||(he.isReady=!0,e!==!0&&--he.readyWait>0||ke.resolveWith(ne,[he]))}}),he.ready.then=ke.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?e.setTimeout(he.ready):(ne.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Pe=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===he.type(n)){i=!0;for(s in n)Pe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,he.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(he(e),n)})),t))for(;c>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},Ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[he.camelCase(t)]=n;else for(r in t)i[he.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in r?[t]:t.match(xe)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||he.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Me=new p,Le=new p,Ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;he.extend({hasData:function(e){return Le.hasData(e)||Me.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return Me.access(e,t,n)},_removeData:function(e,t){Me.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Le.get(o),1===o.nodeType&&!Me.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=he.camelCase(r.slice(5)),f(o,r,i[r])));Me.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Le.set(this,e)}):Pe(this,function(t){var n;if(o&&void 0===t){if(n=Le.get(o,e),void 0!==n)return n;if(n=f(o,e),void 0!==n)return n}else this.each(function(){Le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),he.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Me.get(e,t),n&&(!r||Array.isArray(n)?r=Me.access(e,t,he.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Me.get(e,n)||Me.access(e,n,{empty:he.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Me.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ge=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ge+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},Ve=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},ze={};he.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?he(this).show():he(this).hide()})}});var We=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qe=/^$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,
Ke.th=Ke.td;var Je=/<|&#?\w+;/;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),me.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ze=ne.documentElement,Qe=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,p,m,f,h,g=Me.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&he.find.matchesSelector(Ze,i),n.guid||(n.guid=he.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(xe)||[""],l=t.length;l--;)s=et.exec(t[l])||[],m=h=s[1],f=(s[2]||"").split(".").sort(),m&&(d=he.event.special[m]||{},m=(i?d.delegateType:d.bindType)||m,d=he.event.special[m]||{},u=he.extend({type:m,origType:h,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=c[m])||(p=c[m]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,f,a)!==!1||e.addEventListener&&e.addEventListener(m,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),he.event.global[m]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,p,m,f,h,g=Me.hasData(e)&&Me.get(e);if(g&&(c=g.events)){for(t=(t||"").match(xe)||[""],l=t.length;l--;)if(s=et.exec(t[l])||[],m=h=s[1],f=(s[2]||"").split(".").sort(),m){for(d=he.event.special[m]||{},m=(r?d.delegateType:d.bindType)||m,p=c[m]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!i&&h!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||he.removeEvent(e,m,g.handle),delete c[m])}else for(m in c)he.event.remove(e,m+t[l],n,r,!0);he.isEmptyObject(c)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=he.event.fix(e),c=new Array(arguments.length),l=(Me.get(this,"events")||{})[s.type]||[],u=he.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,s)!==!1){for(a=he.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(o.namespace))&&(s.handleObj=o,s.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;c>n;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?he(i,this).index(l)>-1:he.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==S()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===S()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&i(this,"input")?(this.click(),!1):void 0},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Qe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!he.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=C),this.each(function(){he.event.remove(this,e,n,t)})}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nt=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=he.contains(e.ownerDocument,e);if(!(me.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=y(s),o=y(e),r=0,i=o.length;i>r;r++)$(o[r],a[r]);if(t)if(n)for(o=o||y(e),a=a||y(s),r=0,i=o.length;i>r;r++)A(o[r],a[r]);else A(e,s);return a=y(s,"script"),a.length>0&&b(a,!c&&y(e,"script")),s},cleanData:function(e){for(var t,n,r,i=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Ne(n)){if(t=n[Me.expando]){if(t.events)for(r in t.events)i[r]?he.event.remove(n,r):he.removeEvent(n,r,t.handle);n[Me.expando]=void 0}n[Le.expando]&&(n[Le.expando]=void 0)}}}),he.fn.extend({detach:function(e){return x(this,e,!0)},remove:function(e){return x(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Ke[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=[],i=he(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),he(i[a])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var at=/^margin/,st=new RegExp("^("+Ge+")(?!px)[a-z%]+$","i"),ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ze.removeChild(a),s=null}}var n,r,i,o,a=ne.createElement("div"),s=ne.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(me,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var lt=/^(none|table(?!-c[ea]).+)/,ut=/^--/,dt={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","Moz","ms"],ft=ne.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=he.camelCase(t),c=ut.test(t),l=e.style;return c||(t=N(s)),a=he.cssHooks[t]||he.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Be.exec(n))&&i[1]&&(n=h(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(he.cssNumber[s]?"":"px")),me.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t),c=ut.test(t);return c||(t=N(s)),a=he.cssHooks[t]||he.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=R(e,t,r)),"normal"===i&&t in pt&&(i=pt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){return n?!lt.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?U(e,t,r):Ve(e,dt,function(){return U(e,t,r)}):void 0},set:function(e,n,r){var i,o=r&&ct(e),a=r&&L(e,t,r,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(i=Be.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),M(e,n,a)}}}),he.cssHooks.marginLeft=k(me.reliableMarginLeft,function(e,t){return t?(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+He[r]+t]=o[r]||o[r-2]||o[0];return i}},at.test(e)||(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ct(e),i=t.length;i>a;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=F.prototype.init,he.fx.step={};var ht,gt,vt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;he.Animation=he.extend(W,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Be.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(xe);for(var n,r=0,i=e.length;i>r;r++)n=e[r],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in he.fx.speeds?r.duration=he.fx.speeds[r.duration]:r.duration=he.fx.speeds._default),(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=he.isEmptyObject(e),o=he.speed(t,n,r),a=function(){var t=W(this,he.extend({},e),o);(i||Me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=he.timers,a=Me.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&he.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Me.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,i)}}),he.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(ht=he.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),ht=void 0},he.fx.timer=function(e){he.timers.push(e),he.fx.start()},he.fx.interval=13,he.fx.start=function(){gt||(gt=!0,G())},he.fx.stop=function(){gt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",me.checkOn=""!==e.value,me.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",me.radioValue="t"===e.value}();var bt,_t=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Pe(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(i=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=he.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!me.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(xe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return t===!1?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_t[t]||he.find.attr;_t[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=_t[a],_t[a]=i,i=null!=n(e,t,r)?a:null,_t[a]=o),i}});var Et=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Pe(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),me.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(xe)||[];n=this[c++];)if(i=q(n),r=1===n.nodeType&&" "+Y(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Y(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(xe)||[];n=this[c++];)if(i=q(n),r=1===n.nodeType&&" "+Y(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Y(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=he(this),o=e.match(xe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(void 0===e||"boolean"===n)&&(t=q(this),t&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Y(q(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;he.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,he(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=he.map(i,function(e){return null==e?"":e+""})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=he.valHooks[i.type]||he.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(St,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:Y(he.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s="select-one"===e.type,c=s?null:[],l=s?a+1:o.length;for(r=0>a?l:s?a:0;l>r;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=he(n).val(),s)return t;c.push(t)}return c},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=he.inArray(he.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){return Array.isArray(t)?e.checked=he.inArray(he(e).val(),t)>-1:void 0}},me.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,r,i){var o,a,s,c,l,u,d,p=[r||ne],m=ue.call(t,"type")?t.type:t,f=ue.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||ne,3!==r.nodeType&&8!==r.nodeType&&!wt.test(m+he.event.triggered)&&(m.indexOf(".")>-1&&(f=m.split("."),m=f.shift(),f.sort()),l=m.indexOf(":")<0&&"on"+m,t=t[he.expando]?t:new he.Event(m,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),d=he.event.special[m]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!he.isWindow(r)){for(c=d.delegateType||m,wt.test(c+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||ne)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?c:d.bindType||m,u=(Me.get(a,"events")||{})[t.type]&&Me.get(a,"handle"),u&&u.apply(a,n),u=l&&a[l],u&&u.apply&&Ne(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Ne(r)||l&&he.isFunction(r[m])&&!he.isWindow(r)&&(s=r[l],s&&(r[l]=null),he.event.triggered=m,r[m](),he.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?he.event.trigger(e,t,n,!0):void 0}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),me.focusin="onfocusin"in e,me.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Me.access(r,t);i||r.addEventListener(e,n,!0),Me.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Me.access(r,t)-1;i?Me.access(r,t,i):(r.removeEventListener(e,n,!0),Me.remove(r,t))}}});var Tt=e.location,It=he.now(),Ot=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&he.error("Invalid XML: "+t),n};var At=/\[\]$/,$t=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){var n=he.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&xt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!We.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:Array.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:n.replace($t,"\r\n")}}).get()}});var Rt=/%20/g,kt=/#.*$/,Pt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Ft={},Gt={},Bt="*/".concat("*"),Ht=ne.createElement("a");Ht.href=Tt.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:Mt.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,he.ajaxSettings),t):Q(he.ajaxSettings,e)},ajaxPrefilter:J(Ft),ajaxTransport:J(Gt),ajax:function(t,n){function r(t,n,r,s){var l,p,m,_,E,C=n;u||(u=!0,c&&e.clearTimeout(c),i=void 0,a=s||"",S.readyState=t>0?4:0,l=t>=200&&300>t||304===t,r&&(_=X(f,S,r)),_=ee(f,_,S,l),l?(f.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(he.lastModified[o]=E),E=S.getResponseHeader("etag"),E&&(he.etag[o]=E)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=_.state,p=_.data,m=_.error,l=!m)):(m=C,(t||!C)&&(C="error",0>t&&(t=0))),S.status=t,S.statusText=(n||C)+"",l?v.resolveWith(h,[p,C,S]):v.rejectWith(h,[S,C,m]),S.statusCode(b),b=void 0,d&&g.trigger(l?"ajaxSuccess":"ajaxError",[S,f,l?p:m]),y.fireWith(h,[S,C]),d&&(g.trigger("ajaxComplete",[S,f]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,c,l,u,d,p,m,f=he.ajaxSetup({},n),h=f.context||f,g=f.context&&(h.nodeType||h.jquery)?he(h):he.event,v=he.Deferred(),y=he.Callbacks("once memory"),b=f.statusCode||{},_={},E={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Nt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),r(0,t),this}};if(v.promise(S),f.url=((t||f.url||Tt.href)+"").replace(Ut,Tt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(xe)||[""],null==f.crossDomain){l=ne.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ht.protocol+"//"+Ht.host!=l.protocol+"//"+l.host}catch(w){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=he.param(f.data,f.traditional)),Z(Ft,f,n,S),u)return S;d=he.event&&f.global,d&&0===he.active++&&he.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),o=f.url.replace(kt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Rt,"+")):(m=f.url.slice(o.length),f.data&&(o+=(Ot.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(Pt,"$1"),m=(Ot.test(o)?"&":"?")+"_="+It++ +m),f.url=o+m),f.ifModified&&(he.lastModified[o]&&S.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&S.setRequestHeader("If-None-Match",he.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)S.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(h,S,f)===!1||u))return S.abort();if(C="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),i=Z(Gt,f,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,f]),u)return S;f.async&&f.timeout>0&&(c=e.setTimeout(function(){S.abort("timeout")},f.timeout));try{u=!1,i.send(_,r)}catch(w){if(u)throw w;r(-1,w)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,i){return he.isFunction(n)&&(i=i||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:i,data:n,success:r},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e);
},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var jt={0:200,1223:204},Vt=he.ajaxSettings.xhr();me.cors=!!Vt&&"withCredentials"in Vt,me.ajax=Vt=!!Vt,he.ajaxTransport(function(t){var n,r;return me.cors||Vt&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(c){if(n)throw c}},abort:function(){n&&n()}}:void 0}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var zt=[],Wt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||he.expando+"_"+It++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,"$1"+i):t.jsonp!==!1&&(t.url+=(Ot.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||he.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?he(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,zt.push(i)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),me.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(me.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ne.location.href,t.head.appendChild(r)):t=ne),i=we.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=_([e],t,o),o&&o.length&&he(o).remove(),he.merge([],i.childNodes))},he.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Y(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l,u=he.css(e,"position"),d=he(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=he.css(e,"top"),c=he.css(e,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(r=e.offset()),r={top:r.top+he.css(e[0],"borderTopWidth",!0),left:r.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-he.css(n,"marginTop",!0),left:t.left-r.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Ze})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(r){return Pe(this,function(e,r,i){var o;return he.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=k(me.pixelPosition,function(e,n){return n?(n=R(e,t),st.test(n)?he(e).position()[t]+"px":n):void 0})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Pe(this,function(t,n,i){var o;return he.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?he.css(t,n,s):he.style(t,n,i,s)},t,a?i:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.holdReady=function(e){e?he.readyWait++:he.ready(!0)},he.isArray=Array.isArray,he.parseJSON=JSON.parse,he.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Yt=e.jQuery,qt=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=qt),t&&e.jQuery===he&&(e.jQuery=Yt),he},t||(e.jQuery=e.$=he),he}),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",c=o[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.10/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function n(e){if(null==e||I(e))return!1;if(ri(e)||E(e)||zr&&e instanceof zr)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(w(e))for(o in e)"prototype"===o||"length"===o||"name"===o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(ri(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(_(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Fr.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++ti}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(b(a)||w(a))for(var l=Object.keys(a),u=0,d=l.length;d>u;u++){var p=l[u],m=a[p];n&&b(m)?S(m)?e[p]=new Date(m.valueOf()):T(m)?e[p]=new RegExp(m):m.nodeName?e[p]=m.cloneNode(!0):N(m)?e[p]=m.clone():(b(e[p])||(e[p]=ri(m)?[]:{}),c(e[p],[m],!0)):e[p]=m}}return s(e,r),e}function l(e){return c(e,qr.call(arguments,1),!1)}function u(e){return c(e,qr.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return l(Object.create(e),t)}function m(){}function f(e){return e}function h(e){return function(){return e}}function g(e){return w(e.toString)&&e.toString!==Zr}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!Qr(e)}function E(e){return"string"==typeof e}function C(e){return"number"==typeof e}function S(e){return"[object Date]"===Zr.call(e)}function w(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Zr.call(e)}function I(e){return e&&e.window===e}function O(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"[object File]"===Zr.call(e)}function $(e){return"[object FormData]"===Zr.call(e)}function D(e){return"[object Blob]"===Zr.call(e)}function x(e){return"boolean"==typeof e}function R(e){return e&&w(e.then)}function k(e){return e&&C(e.length)&&ii.test(Zr.call(e))}function P(e){return"[object ArrayBuffer]"===Zr.call(e)}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function M(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Gr(e.nodeName||e[0]&&e[0].nodeName)}function U(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,r=t.$$hashKey;if(ri(e))for(var o=0,a=e.length;a>o;o++)t.push(i(e[o]));else if(_(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Fr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!b(e))return e;var t=a.indexOf(e);if(-1!==t)return c[t];if(I(e)||O(e))throw Xr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=ri(e)?[]:Object.create(Qr(e)),r=!0),a.push(e),c.push(i),r?n(e,i):i}function o(e){switch(Zr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return w(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],c=[];if(t){if(k(t)||P(t))throw Xr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Xr("cpi","Can't copy! Source and destination are identical.");return ri(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),c.push(t),n(e,t)}return i(e)}function G(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!ri(e)){if(S(e))return S(t)?G(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()===t.toString():!1;if(O(e)||O(t)||I(e)||I(t)||ri(t)||S(t)||T(t))return!1;i=he();for(r in e)if("$"!==r.charAt(0)&&!w(e[r])){if(!G(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&y(t[r])&&!w(t[r]))return!1;return!0}if(!ri(t))return!1;if((n=e.length)===t.length){for(r=0;n>r;r++)if(!G(e[r],t[r]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(qr.call(t,n))}function H(e,t){return qr.call(e,t||0)}function j(e,t){var n=arguments.length>2?H(arguments,2):[];return!w(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,B(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:I(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":O(n)&&(r="$SCOPE"),r}function z(e,t){return v(e)?void 0:(C(t)||(t=t?2:null),JSON.stringify(e,V,t))}function W(e){return E(e)?JSON.parse(e):e}function Y(e,t){e=e.replace(li,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return ni(n)?t:n}function q(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function K(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=Y(t,r);return q(e,n*(i-r))}function J(e){e=zr(e).clone();try{e.empty()}catch(t){}var n=zr("<div>").append(e).html();try{return e[0].nodeType===gi?Gr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Gr(t)})}catch(t){return Gr(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function Q(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=Z(r),y(r)&&(i=y(i)?Z(i):!0,Fr.call(t,r)?ri(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function X(e){var t=[];return r(e,function(e,n){ri(e)?r(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,r,i=ui.length;for(r=0;i>r;++r)if(n=ui[r]+t,E(n=e.getAttribute(n)))return n;return null}function re(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),n=e.createElement("a");if(n.href=t,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function ie(t,n){var i,o,a={};if(r(ui,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,o=t.getAttribute(n))}),r(ui,function(e){var n,r=e+"app";!i&&(n=t.querySelector("["+r.replace(":","\\:")+"]"))&&(i=n,o=n.getAttribute(r))}),i){if(!di)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ne(i,"strict-di"),n(i,o?[o]:[],a)}}function oe(t,n,i){b(i)||(i={});var o={strictDi:!1};i=l(o,i);var a=function(){if(t=zr(t),t.injector()){var r=t[0]===e.document?"document":J(t);throw Xr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=it(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!c.test(e.name)?a():(e.name=e.name.replace(c,""),ei.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(w(ei.resumeDeferredBootstrap)&&ei.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=ei.element(e).injector();if(!t)throw Xr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ce(e,t){return t=t||"_",e.replace(pi,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!mi){var n=ci();Wr=v(n)?e.jQuery:n?e[n]:void 0,Wr&&Wr.fn.on?(zr=Wr,l(Wr.fn,{scope:Ni.scope,isolateScope:Ni.isolateScope,controller:Ni.controller,injector:Ni.injector,inheritedData:Ni.inheritedData}),t=Wr.cleanData,Wr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Wr._data(r,"events"),n&&n.$destroy&&Wr(r).triggerHandler("$destroy");t(e)}):zr=De,ei.element=zr,mi=!0}}function ue(e,t,n){if(!e)throw Xr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&ri(e)&&(e=e[e.length-1]),ue(w(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Xr("badname","hasOwnProperty is not a valid {0} name",t)}function me(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&w(e)?j(o,e):e}function fe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=zr(qr.call(e,0,i))),t.push(n));return t||e}function he(){return Object.create(null)}function ge(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),u}}function n(e,n){return function(r,o){return o&&w(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),u}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],c=[],l=e("$injector","invoke","push",s),u={_invokeQueue:i,_configBlocks:s,_runBlocks:c,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(e){return c.push(e),this}};return a&&l(a),u})}})}function ve(e,t){if(ri(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function ye(e){var t=[];return JSON.stringify(e,function(e,n){if(n=V(e,n),b(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ye(e):e}function _e(n){l(n,{bootstrap:oe,copy:F,extend:l,merge:u,equals:G,element:zr,forEach:r,injector:it,noop:m,bind:j,toJson:z,fromJson:W,identity:f,isUndefined:v,isDefined:y,isString:E,isFunction:w,isObject:b,isNumber:C,isElement:N,isArray:ri,version:_i,isDate:S,lowercase:Gr,uppercase:Br,callbacks:{$$counter:0},getTestability:se,$$minErr:t,$$csp:si,reloadWithDebugInfo:ae}),(Yr=ge(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:In}),e.provider("$compile",ht).directive({a:ra,input:Ca,textarea:Ca,form:ca,script:vs,select:_s,option:Es,ngBind:Ta,ngBindHtml:Oa,ngBindTemplate:Ia,ngClass:$a,ngClassEven:xa,ngClassOdd:Da,ngCloak:Ra,ngController:ka,ngForm:la,ngHide:us,ngIf:Ma,ngInclude:La,ngInit:Fa,ngNonBindable:ts,ngPluralize:os,ngRepeat:as,ngShow:ls,ngStyle:ds,ngSwitch:ps,ngSwitchWhen:ms,ngSwitchDefault:fs,ngOptions:is,ngTransclude:gs,ngModel:Qa,ngList:Ga,ngChange:Aa,pattern:Ss,ngPattern:Ss,required:Cs,ngRequired:Cs,minlength:Ts,ngMinlength:Ts,maxlength:ws,ngMaxlength:ws,ngValue:wa,ngModelOptions:es}).directive({ngInclude:Ua}).directive(ia).directive(Pa),e.provider({$anchorScroll:ot,$animate:Zi,$animateCss:eo,$$animateJs:Ki,$$animateQueue:Ji,$$AnimateRunner:Xi,$$animateAsyncRun:Qi,$browser:dt,$cacheFactory:pt,$controller:Et,$document:Ct,$exceptionHandler:St,$filter:Gn,$$forceReflow:ao,$interpolate:Lt,$interval:Ut,$http:kt,$httpParamSerializer:Tt,$httpParamSerializerJQLike:It,$httpBackend:Nt,$xhrFactory:Pt,$jsonpCallbacks:go,$location:Xt,$log:en,$parse:_n,$rootScope:Tn,$q:En,$$q:Cn,$sce:Dn,$sceDelegate:$n,$sniffer:xn,$templateCache:mt,$templateRequest:Rn,$$testability:kn,$timeout:Pn,$window:Ln,$$rAF:wn,$$jqLite:Ze,$$HashMap:Fi,$$cookieReader:Fn})}])}function Ee(){return++Ci}function Ce(e){return e.replace(Ti,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ii,"Moz$1")}function Se(e){return!Di.test(e)}function we(e){var t=e.nodeType;return t===fi||!t||t===yi}function Te(e){for(var t in Ei[e.ng339])return!0;return!1}function Ie(e){for(var t=0,n=e.length;n>t;t++)Pe(e[t])}function Oe(e,t){var n,i,o,a,s=t.createDocumentFragment(),c=[];if(Se(e))c.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=(xi.exec(e)||["",""])[1].toLowerCase(),o=ki[i]||ki._default,n.innerHTML=o[1]+e.replace(Ri,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;c=B(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(c,function(e){s.appendChild(e)}),s}function Ae(t,n){n=n||e.document;var r;return(r=$i.exec(t))?[n.createElement(r[1])]:(r=Oe(t,n))?r.childNodes:[]}function $e(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function De(e){if(e instanceof De)return e;var t;if(E(e)&&(e=oi(e),t=!0),!(this instanceof De)){if(t&&"<"!==e.charAt(0))throw Ai("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new De(e)}t?Ge(this,Ae(e)):Ge(this,e)}function xe(e){return e.cloneNode(!0)}function Re(e,t){if(t||Pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Pe(n[r])}function ke(e,t,n,i){if(y(i))throw Ai("offargs","jqLite#off() does not support the `selector` argument");var o=Ne(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var c=function(t){var r=a[t];y(n)&&U(r||[],n),y(n)&&r&&r.length>0||(wi(e,t,s),delete a[t])};r(t.split(" "),function(e){c(e),Oi[e]&&c(Oi[e])})}else for(t in a)"$destroy"!==t&&wi(e,t,s),delete a[t]}function Pe(e,t){var n=e.ng339,r=n&&Ei[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ke(e)),delete Ei[n],e.ng339=void 0}}function Ne(e,t){var n=e.ng339,r=n&&Ei[n];return t&&!r&&(e.ng339=n=Ee(),r=Ei[n]={events:{},data:{},handle:void 0}),r}function Me(e,t,n){if(we(e)){var r=y(n),i=!r&&t&&!b(t),o=!t,a=Ne(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];l(s,t)}}}function Le(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ue(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",oi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+oi(t)+" "," ")))})}function Fe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=oi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",oi(n))}}function Ge(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Be(e,t){return He(e,"$"+(t||"ngController")+"Controller")}function He(e,t,n){e.nodeType===yi&&(e=e.documentElement);for(var r=ri(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if(y(n=zr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===bi&&e.host}}function je(e){for(Re(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ve(e,t){t||Re(e);var n=e.parentNode;n&&n.removeChild(e)}function ze(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):zr(n).on("load",t)}function We(e,t){var n=Mi[t.toLowerCase()];return n&&Li[L(e)]&&n}function Ye(e){return Ui[e]}function qe(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ke;o>1&&(i=ve(i));for(var c=0;o>c;c++)n.isImmediatePropagationStopped()||s(e,n,i[c])}};return n.elem=e,n}function Ke(e,t,n){n.call(e,t)}function Je(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!Pi.call(e,r))&&n.call(e,t)}function Ze(){this.$get=function(){return l(De,{hasClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ue(e,t)}})}}function Qe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function Xe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function et(e){return Function.prototype.toString.call(e)+" "}function tt(e){var t=et(e).replace(Vi,""),n=t.match(Gi)||t.match(Bi);return n}function nt(e){var t=tt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function rt(e,t,n){var i,o,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw E(n)&&n||(n=e.name||nt(e)),zi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=tt(e),r(o[1].split(Hi),function(e){e.replace(ji,function(e,t,n){i.push(n)})})}e.$inject=i}}else ri(e)?(a=e.length-1,de(e[a],"fn"),i=e.slice(0,a)):de(e,"fn",!0);return i}function it(e,t){function n(e){return function(t,n){return b(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(pe(e,"service"),(w(t)||ri(t))&&(t=S.instantiate(t)),!t.$get)throw zi("pget","Provider '{0}' must define $get factory method.",e);return C[e+g]=t}function a(e,t){return function(){var n=O.invoke(t,this);if(v(n))throw zi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function c(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function l(e,t){return s(e,h(t),!1)}function u(e,t){pe(e,"constant"),C[e]=t,T[e]=t}function d(e,t){var n=S.get(e+g),r=n.$get;n.$get=function(){var e=O.invoke(r,n);return O.invoke(t,null,{$delegate:e})}}function p(e){ue(v(e)||ri(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!_.get(e)){_.put(e,!0);try{E(e)?(t=Yr(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):w(e)?n.push(S.invoke(e)):ri(e)?n.push(S.invoke(e)):de(e,"module")}catch(i){throw ri(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1===i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),zi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function m(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===f)throw zi("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=f,e[t]=n(t,r),e[t]}catch(i){throw e[t]===f&&delete e[t],i}finally{y.shift()}}function i(e,n,i){for(var o=[],a=it.$$annotate(e,t,i),s=0,c=a.length;c>s;s++){var l=a[s];if("string"!=typeof l)throw zi("itkn","Incorrect injection token! Expected service name as string, got {0}",l);o.push(n&&n.hasOwnProperty(l)?n[l]:r(l,i))}return o}function o(e){return 11>=Vr?!1:"function"==typeof e&&/^(?:class\b|constructor\()/.test(et(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return ri(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=ri(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:it.$$annotate,has:function(t){return C.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var f={},g="Provider",y=[],_=new Xe([],!0),C={$provide:{provider:n(i),factory:n(s),service:n(c),value:n(l),constant:n(u),decorator:d}},S=C.$injector=m(C,function(e,t){throw ei.isString(t)&&y.push(t),zi("unpr","Unknown provider: {0}",y.join(" <- "))}),T={},I=m(T,function(e,t){var n=S.get(e+g,t);return O.invoke(n.$get,n,void 0,e)}),O=I;C["$injector"+g]={$get:h(I)};var A=p(e);return O=I.get("$injector"),O.strictDi=t,r(A,function(e){e&&O.invoke(e)}),O}function ot(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(w(e))e=e();else if(N(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=E(e)?e:C(e)?e.toString():n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=i(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&ze(function(){r.$evalAsync(s)})}),s}]}function at(e,t){return e||t?e?t?(ri(e)&&(e=e.join(" ")),ri(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function st(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Yi)return n}}function ct(e){E(e)&&(e=e.split(" "));var t=he();return r(e,function(e){e.length&&(t[e]=!0)}),t}function lt(e){return b(e)?e:{}}function ut(e,t,n,i){function o(e){try{e.apply(null,H(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){w=null,c(),l()}function c(){_=T(),_=v(_)?null:_,G(_,A)&&(_=A),A=_}function l(){(C!==u.url()||E!==_)&&(C=u.url(),E=_,r(I,function(e){e(u.url(),_)}))}var u=this,d=e.location,p=e.history,f=e.setTimeout,h=e.clearTimeout,g={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=o,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){0===y?e():b.push(e)};var _,E,C=d.href,S=t.find("base"),w=null,T=i.history?function(){try{return p.state}catch(e){}}:m;c(),E=_,u.url=function(t,n,r){if(v(r)&&(r=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var o=E===r;if(C===t&&(!i.history||o))return u;var s=C&&Vt(C)===Vt(t);return C=t,E=r,!i.history||s&&o?(s||(w=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(w=t)):(p[n?"replaceState":"pushState"](r,"",t),c(),E=_),w&&(w=t),u}return w||d.href.replace(/%27/g,"'")},u.state=function(){return _};var I=[],O=!1,A=null;u.onUrlChange=function(t){return O||(i.history&&zr(e).on("popstate",s),zr(e).on("hashchange",s),O=!0),I.push(t),t},u.$$applicationDestroyed=function(){zr(e).off("hashchange popstate",s)},u.$$checkUrlChange=l,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(e,t){var n;return y++,n=f(function(){delete g[n],o(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],h(e),o(m),!0):!1}}function dt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ut(e,r,t,n)}]}function pt(){this.$get=function(){function e(e,r){function i(e){e!==p&&(m?m===e&&(m=e.n):m=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=l({},r,{id:e}),c=he(),u=r&&r.capacity||Number.MAX_VALUE,d=he(),p=null,m=null;return n[e]={put:function(e,t){if(!v(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in c||a++,c[e]=t,a>u&&this.remove(m.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t===p&&(p=t.p),t===m&&(m=t.n),o(t.n,t.p),delete d[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=he(),a=0,d=he(),p=m=null},destroy:function(){c=null,s=null,d=null,delete n[e]},info:function(){return l({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function mt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function ht(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=he();return r(e,function(e,r){if(e in A)return void(o[r]=A[e]);var a=e.match(i);if(!a)throw to("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(A[e]=o[r])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(b(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),b(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw to("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function s(e){var t=e.charAt(0);if(!t||t!==Gr(t))throw to("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw to("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function c(e){var t=e.require||e.controller&&e.name;return!ri(t)&&b(t)&&r(t,function(e,n){var r=e.match(T),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}function u(e,t){if(e&&(!E(e)||!/[EACM]/.test(e)))throw to("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var d={},g="Directive",_=/^\s*directive:\s*([\w-]+)\s+(.*)$/,C=/(([\w-]+)(?::([^;]+))?;?)/,S=M("ngSrc,ngSrcset,src,srcset"),T=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,I=/^(on[a-z]+|formaction)$/,A=he();this.directive=function N(e,n){return ue(e,"name"),pe(e,"directive"),E(e)?(s(e),ue(n,"directiveFactory"),d.hasOwnProperty(e)||(d[e]=[],t.factory(e+g,["$injector","$exceptionHandler",function(t,n){var i=[];return r(d[e],function(r,o){try{var a=t.invoke(r);w(a)?a={compile:h(a)}:!a.compile&&a.link&&(a.compile=h(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=c(a),a.restrict=u(a.restrict,e),a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),d[e].push(n)):r(e,o(N)),this},this.component=function(e,t){function n(e){function n(t){return w(t)||ri(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:_t(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,w(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return y(e)?($=e,this):$};var D=!0;this.preAssignBindingsEnabled=function(e){return y(e)?(D=e,this):D};var R=10;this.onChangesTtl=function(e){return arguments.length?(R=e,this):R};var k=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(k=e,this):k};var P=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(P=e,this):P},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,c,u,h,A,N){function M(){try{if(!--Ae)throw Ce=void 0,to("infchng","{0} $onChanges() iterations reached. Aborting!\n",R);u.$apply(function(){for(var e=[],t=0,n=Ce.length;n>t;++t)try{Ce[t]()}catch(r){e.push(r)}if(Ce=void 0,e.length)throw e})}finally{Ae++}}function F(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function B(e,t,n){Te.innerHTML="<span "+t+">";var r=Te.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function V(e,t){try{e.addClass(t)}catch(n){}}function z(t,n,r,i,o){t instanceof zr||(t=zr(t));for(var a=/\S+/,s=0,c=t.length;c>s;s++){var l=t[s];l.nodeType===gi&&l.nodeValue.match(a)&&$e(l,t[s]=e.document.createElement("span"))}var u=Y(t,n,t,r,i,o);z.$$addScopeClass(t);var d=null;return function(e,n,r){ue(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=W(s));var c;if(c="html"!==d?zr(fe(d,zr("<div>").append(t).html())):n?Ni.clone.call(t):t,a)for(var l in a)c.data("$"+l+"Controller",a[l].instance);return z.$$addScopeInfo(c,e),n&&n(c,e),u&&u(e,c,c,i),c}}function W(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&Zr.call(t).match(/SVG/)?"svg":"html"}function Y(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,c,l,u,d,p,h;if(m){var g=n.length;for(h=new Array(g),l=0;l<f.length;l+=3)d=f[l],h[d]=n[d]}else h=n;for(l=0,u=f.length;u>l;)s=h[f[l++]],o=f[l++],a=f[l++],o?(o.scope?(c=e.$new(),z.$$addScopeInfo(zr(s),c)):c=e,p=o.transcludeOnThisElement?q(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?q(e,t):null,o(a,c,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var s,c,l,u,d,p,m,f=[],h=0;h<e.length;h++)s=new F,c=K(e[h],[],s,0===h?r:void 0,i),l=c.length?te(c,e[h],s,t,n,null,[],[],o):null,l&&l.scope&&z.$$addScopeClass(s.$$element),d=l&&l.terminal||!(u=e[h].childNodes)||!u.length?null:Y(u,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||d)&&(f.push(h,l,d),p=!0,m=m||l),o=null;return p?a:null}function q(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=he();for(var o in t.$$slots)t.$$slots[o]?i[o]=q(e,t.$$slots[o],n):i[o]=null;return r}function K(e,t,n,r,i){var o,a,s,c=e.nodeType,l=n.$attr;switch(c){case fi:a=L(e),oe(t,vt(a),"E",r,i);for(var u,d,p,m,f,h,g=e.attributes,v=0,y=g&&g.length;y>v;v++){var _=!1,S=!1;u=g[v],d=u.name,f=oi(u.value),
m=vt(d),h=Pe.test(m),h&&(d=d.replace(ro,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var w=m.match(Ne);w&&ae(w[1])&&(_=d,S=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=vt(d.toLowerCase()),l[p]=d,(h||!n.hasOwnProperty(p))&&(n[p]=f,We(e,p)&&(n[p]=!0)),ve(e,t,f,p,h),oe(t,p,"A",r,i,_,S)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Oe)break;if(s=e.className,b(s)&&(s=s.animVal),E(s)&&""!==s)for(;o=C.exec(s);)p=vt(o[2]),oe(t,p,"C",r,i)&&(n[p]=oi(o[3])),s=s.substr(o.index+o[0].length);break;case gi:if(11===Vr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===gi;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);me(t,e.nodeValue);break;case vi:if(!Ie)break;Z(e,t,n,r,i)}return t.sort(de),t}function Z(e,t,n,r,i){try{var o=_.exec(e.nodeValue);if(o){var a=vt(o[1]);oe(t,a,"M",r,i)&&(n[a]=oi(o[2]))}}catch(s){}}function Q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw to("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===fi&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return zr(r)}function X(e,t,n){return function(r,i,o,a,s){return i=Q(i[0],t,n),e(r,i,o,a,s)}}function ee(e,t,n,r,i,o){var a;return e?z(t,n,r,i,o):function(){return a||(a=z(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function te(e,t,n,o,a,s,c,u,d){function p(e,t,n,r){e&&(n&&(e=X(e,n,r)),e.require=f.require,e.directiveName=h,(T===f||f.$$isolateScope)&&(e=be(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=X(t,n,r)),t.require=f.require,t.directiveName=h,(T===f||f.$$isolateScope)&&(t=be(t,{isolateScope:!0})),u.push(t))}function m(e,o,a,s,d){function p(e,t,n,r){var i;if(O(e)||(r=n,n=t,t=e,e=void 0),R&&(i=_),n||(n=R?A.parent():A),!r)return d(e,t,i,n,U);var o=d.$$slots[r];if(o)return o(e,t,i,n,U);if(v(o))throw to("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,J(A))}var m,f,h,g,y,_,E,A,$,x;t===a?($=n,A=n.$$element):(A=zr(a),$=new F(A,n)),y=o,T?g=o.$new(!0):C&&(y=o.$parent),d&&(E=p,E.$$boundTransclude=d,E.isSlotFilled=function(e){return!!d.$$slots[e]}),S&&(_=re(A,$,E,S,g,o,T)),T&&(z.$$addScopeInfo(A,g,!0,!(I&&(I===T||I===T.$$originalDirective))),z.$$addScopeClass(A,!0),g.$$isolateBindings=T.$$isolateBindings,x=Ee(o,$,g,g.$$isolateBindings,T),x.removeWatches&&g.$on("$destroy",x.removeWatches));for(var k in _){var P=S[k],N=_[k],M=P.$$bindings.bindToController;if(D){M?N.bindingInfo=Ee(y,$,N.instance,M,P):N.bindingInfo={};var L=N();L!==N.instance&&(N.instance=L,A.data("$"+P.name+"Controller",L),N.bindingInfo.removeWatches&&N.bindingInfo.removeWatches(),N.bindingInfo=Ee(y,$,N.instance,M,P))}else N.instance=N(),A.data("$"+P.name+"Controller",N.instance),N.bindingInfo=Ee(y,$,N.instance,M,P)}for(r(S,function(e,t){var n=e.require;e.bindToController&&!ri(n)&&b(n)&&l(_[t].instance,ne(t,n,A,_))}),r(_,function(e){var t=e.instance;if(w(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){i(n)}if(w(t.$onInit))try{t.$onInit()}catch(n){i(n)}w(t.$doCheck)&&(y.$watch(function(){t.$doCheck()}),t.$doCheck()),w(t.$onDestroy)&&y.$on("$destroy",function(){t.$onDestroy()})}),m=0,f=c.length;f>m;m++)h=c[m],_e(h,h.isolateScope?g:o,A,$,h.require&&ne(h.directiveName,h.require,A,_),E);var U=o;for(T&&(T.template||null===T.templateUrl)&&(U=g),e&&e(U,a.childNodes,void 0,d),m=u.length-1;m>=0;m--)h=u[m],_e(h,h.isolateScope?g:o,A,$,h.require&&ne(h.directiveName,h.require,A,_),E);r(_,function(e){var t=e.instance;w(t.$postLink)&&t.$postLink()})}d=d||{};for(var f,h,g,y,_,E=-Number.MAX_VALUE,C=d.newScopeDirective,S=d.controllerDirectives,T=d.newIsolateScopeDirective,I=d.templateDirective,A=d.nonTlbTranscludeDirective,$=!1,x=!1,R=d.hasElementTranscludeDirective,k=n.$$element=zr(t),P=s,N=o,M=!1,U=!1,G=0,B=e.length;B>G;G++){f=e[G];var V=f.$$start,W=f.$$end;if(V&&(k=Q(t,V,W)),g=void 0,E>f.priority)break;if(_=f.scope,_&&(f.templateUrl||(b(_)?(pe("new/isolated scope",T||C,f,k),T=f):pe("new/isolated scope",T,f,k)),C=C||f),h=f.name,!M&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var Y,q=G+1;Y=e[q++];)if(Y.transclude&&!Y.$$tlb||Y.replace&&(Y.templateUrl||Y.template)){U=!0;break}M=!0}if(!f.templateUrl&&f.controller&&(S=S||he(),pe("'"+h+"' controller",S[h],f,k),S[h]=f),_=f.transclude)if($=!0,f.$$tlb||(pe("transclusion",A,f,k),A=f),"element"===_)R=!0,E=f.priority,g=k,k=n.$$element=zr(z.$$createComment(h,n[h])),t=k[0],ye(a,H(g),t),g[0].$$parentNode=g[0].parentNode,N=ee(U,g,o,E,P&&P.name,{nonTlbTranscludeDirective:A});else{var Z=he();if(g=zr(xe(t)).contents(),b(_)){g=[];var te=he(),oe=he();r(_,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,te[e]=t,Z[t]=null,oe[t]=n}),r(k.contents(),function(e){var t=te[vt(L(e))];t?(oe[t]=!0,Z[t]=Z[t]||[],Z[t].push(e)):g.push(e)}),r(oe,function(e,t){if(!e)throw to("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ae in Z)Z[ae]&&(Z[ae]=ee(U,Z[ae],o))}k.empty(),N=ee(U,g,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),N.$$slots=Z}if(f.template)if(x=!0,pe("template",I,f,k),I=f,_=w(f.template)?f.template(k,n):f.template,_=ke(_),f.replace){if(P=f,g=Se(_)?[]:bt(fe(f.templateNamespace,oi(_))),t=g[0],1!==g.length||t.nodeType!==fi)throw to("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"");ye(a,k,t);var ce={$attr:{}},ue=K(t,[],ce),de=e.splice(G+1,e.length-(G+1));(T||C)&&ie(ue,T,C),e=e.concat(ue).concat(de),se(n,ce),B=e.length}else k.html(_);if(f.templateUrl)x=!0,pe("template",I,f,k),I=f,f.replace&&(P=f),m=le(e.splice(G,e.length-G),k,n,a,$&&N,c,u,{controllerDirectives:S,newScopeDirective:C!==f&&C,newIsolateScopeDirective:T,templateDirective:I,nonTlbTranscludeDirective:A}),B=e.length;else if(f.compile)try{y=f.compile(k,n,N);var me=f.$$originalDirective||f;w(y)?p(null,j(me,y),V,W):y&&p(j(me,y.pre),j(me,y.post),V,W)}catch(ge){i(ge,J(k))}f.terminal&&(m.terminal=!0,E=Math.max(E,f.priority))}return m.scope=C&&C.scope===!0,m.transcludeOnThisElement=$,m.templateOnThisElement=x,m.transclude=N,d.hasElementTranscludeDirective=R,m}function ne(e,t,n,i){var o;if(E(t)){var a=t.match(T),s=t.substring(a[0].length),c=a[1]||a[3],l="?"===a[2];if("^^"===c?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var u="$"+s+"Controller";o=c?n.inheritedData(u):n.data(u)}if(!o&&!l)throw to("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(ri(t)){o=[];for(var d=0,p=t.length;p>d;d++)o[d]=ne(e,t[d],n,i)}else b(t)&&(o={},r(t,function(t,r){o[r]=ne(e,t,n,i)}));return o||null}function re(e,t,n,r,i,o,a){var s=he();for(var l in r){var u=r[l],d={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},p=u.controller;"@"===p&&(p=t[u.name]);var m=c(p,d,!0,u.controllerAs);s[u.name]=m,e.data("$"+u.name+"Controller",m.instance)}return s}function ie(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function oe(e,n,r,i,o,s,c){if(n===o)return null;var l=null;if(d.hasOwnProperty(n))for(var u,m=t.get(n+g),f=0,h=m.length;h>f;f++)if(u=m[f],(v(i)||i>u.priority)&&-1!==u.restrict.indexOf(r)){if(s&&(u=p(u,{$$start:s,$$end:c})),!u.$$bindings){var y=u.$$bindings=a(u,u.name);b(y.isolateScope)&&(u.$$isolateBindings=y.isolateScope)}e.push(u),l=u}return l}function ae(e){if(d.hasOwnProperty(e))for(var n,r=t.get(e+g),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function se(e,t){var n=t.$attr,i=e.$attr;r(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function le(e,t,n,i,a,s,c,l){var u,d,m=[],f=t[0],h=e.shift(),g=p(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=w(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,y=h.templateNamespace;return t.empty(),o(v).then(function(o){var p,_,E,C;if(o=ke(o),h.replace){if(E=Se(o)?[]:bt(fe(y,oi(o))),p=E[0],1!==E.length||p.nodeType!==fi)throw to("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);_={$attr:{}},ye(i,t,p);var S=K(p,[],_);b(h.scope)&&ie(S,!0),e=S.concat(e),se(n,_)}else p=f,t.html(o);for(e.unshift(g),u=te(e,p,n,a,t,h,s,c,l),r(i,function(e,n){e===p&&(i[n]=t[0])}),d=Y(t[0].childNodes,a);m.length;){var w=m.shift(),T=m.shift(),I=m.shift(),O=m.shift(),A=t[0];if(!w.$$destroyed){if(T!==f){var $=T.className;l.hasElementTranscludeDirective&&h.replace||(A=xe(p)),ye(I,zr(T),A),V(zr(A),$)}C=u.transcludeOnThisElement?q(w,u.transclude,O):O,u(d,w,A,i,C)}}m=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(m?m.push(t,n,r,o):(u.transcludeOnThisElement&&(o=q(t,u.transclude,i)),u(d,t,n,r,o)))}}function de(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw to("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,J(r))}function me(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&z.$$addBindingClass(t),function(e,t){var i=t.parent();n||z.$$addBindingClass(i),z.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function fe(t,n){switch(t=Gr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ge(e,t){if("srcdoc"===t)return h.HTML;var n=L(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return h.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t)return h.RESOURCE_URL}function ve(e,t,r,i,o){var a=ge(e,i),s=!o,c=S[i]||o,l=n(r,s,a,c);if(l){if("multiple"===i&&"select"===L(e))throw to("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=he());if(I.test(i))throw to("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=o[i];u!==r&&(l=u&&n(u,!0,a,c),r=u),l&&(o[i]=l(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(l,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function ye(t,n,r){var i,o,a=n[0],s=n.length,c=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]===a){t[i++]=r;for(var l=i,u=l+s-1,d=t.length;d>l;l++,u++)d>u?t[l]=t[u]:delete t[l];t.length-=s-1,t.context===a&&(t.context=r);break}c&&c.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;s>i;i++)p.appendChild(n[i]);for(zr.hasData(a)&&(zr.data(r,zr.data(a)),zr(a).off("$destroy")),zr.cleanData(p.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function be(e,t){return l(function(){return e.apply(null,arguments)},e,t)}function _e(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,J(n))}}function Ee(e,t,i,o,a){function c(t,n,r){!w(i.$onChanges)||n===r||n!==n&&r!==r||(Ce||(e.$$postDigest(M),Ce=[]),u||(u={},Ce.push(l)),u[t]&&(r=u[t].previousValue),u[t]=new gt(r,n))}function l(){i.$onChanges(u),u=void 0}var u,d=[],p={};return r(o,function(r,o){var l,u,f,h,g,v=r.attrName,y=r.optional,b=r.mode;switch(b){case"@":y||Fr.call(t,v)||(i[o]=t[v]=void 0),g=t.$observe(v,function(e){if(E(e)||x(e)){var t=i[o];c(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,l=t[v],E(l)?i[o]=n(l)(e):x(l)&&(i[o]=l),p[o]=new gt(no,i[o]),d.push(g);break;case"=":if(!Fr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;u=s(t[v]),h=u.literal?G:function(e,t){return e===t||e!==e&&t!==t},f=u.assign||function(){throw l=i[o]=u(e),to("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},l=i[o]=u(e);var _=function(t){return h(t,i[o])||(h(t,l)?f(e,t=i[o]):i[o]=t),l=t};_.$stateful=!0,g=r.collection?e.$watchCollection(t[v],_):e.$watch(s(t[v],_),null,u.literal),d.push(g);break;case"<":if(!Fr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;u=s(t[v]);var C=u.literal,S=i[o]=u(e);p[o]=new gt(no,i[o]),g=e.$watch(u,function(e,t){if(t===e){if(t===S||C&&G(t,S))return;t=S}c(o,e,t),i[o]=e},C),d.push(g);break;case"&":if(u=t.hasOwnProperty(v)?s(t[v]):m,u===m&&y)break;i[o]=function(t){return u(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;t>e;++e)d[e]()}}}var Ce,we=/^\w/,Te=e.document.createElement("div"),Ie=k,Oe=P,Ae=R;F.prototype={$normalize:vt,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=yt(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=yt(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,n,o){var a,s=this.$$element[0],c=We(s,e),l=Ye(e),u=e;if(c?(this.$$element.prop(e,t),o=c):l&&(this[l]=t,u=l),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=ce(e,"-"))),a=L(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===a&&"srcset"===e&&y(t)){for(var d="",p=oi(t),m=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(p)?m:/(,)/,h=p.split(f),g=Math.floor(h.length/2),b=0;g>b;b++){var _=2*b;d+=N(oi(h[_]),!0),d+=" "+oi(h[_+1])}var E=oi(h[2*b]).split(/\s/);d+=N(oi(E[0]),!0),2===E.length&&(d+=" "+oi(E[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):we.test(o)?this.$$element.attr(o,t):B(this.$$element[0],o,t));var C=this.$$observers;C&&r(C[u],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=he()),i=r[e]||(r[e]=[]);return i.push(t),u.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){U(i,t)}}};var De=n.startSymbol(),Re=n.endSymbol(),ke="{{"===De&&"}}"===Re?f:function(e){return e.replace(/\{\{/g,De).replace(/}}/g,Re)},Pe=/^ngAttr[A-Z]/,Ne=/^(.+)Start$/;return z.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];ri(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,z.$$addBindingClass=$?function(e){V(e,"ng-binding")}:m,z.$$addScopeInfo=$?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,z.$$addScopeClass=$?function(e,t){V(e,t?"ng-isolate-scope":"ng-scope")}:m,z.$$createComment=function(t,n){var r="";return $&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},z}]}function gt(e,t){this.previousValue=e,this.currentValue=t}function vt(e){return Ce(e.replace(ro,""))}function yt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function bt(e){e=zr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];(n.nodeType===vi||n.nodeType===gi&&""===n.nodeValue.trim())&&Kr.call(e,t,1)}return e}function _t(e,t){if(t&&E(t))return t;if(E(e)){var n=oo.exec(e);if(n)return n[3]}}function Et(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),b(t)?l(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!b(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,c){var u,d,p,m;if(s=s===!0,c&&E(c)&&(m=c),E(t)){if(d=t.match(oo),!d)throw io("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(p=d[1],m=m||d[3],t=e.hasOwnProperty(p)?e[p]:me(a.$scope,p,!0)||(n?me(i,p,!0):void 0),!t)throw io("ctrlreg","The controller with the name '{0}' is not registered.",p);de(t,p,!0)}if(s){var f=(ri(t)?t[t.length-1]:t).prototype;return u=Object.create(f||null),m&&o(a,m,u,p||t.name),l(function(){var e=r.invoke(t,u,a,p);return e!==u&&(b(e)||w(e))&&(u=e,m&&o(a,m,u,p||t.name)),u},{instance:u,identifier:m})}return u=r.instantiate(t,a,p),m&&o(a,m,u,p||t.name),u}}]}function Ct(){this.$get=["$window",function(e){return zr(e.document)}]}function St(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function wt(e){return b(e)?S(e)?e.toISOString():z(e):e}function Tt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(ri(e)?r(e,function(e){t.push(te(n)+"="+te(wt(e)))}):t.push(te(n)+"="+te(wt(e))))}),t.join("&")}}}function It(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(ri(e)?r(e,function(e,n){t(e,o+"["+(b(e)?n:"")+"]")}):b(e)&&!S(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(wt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Ot(e,t){if(E(e)){var n=e.replace(po,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(so)||At(n))&&(e=W(n))}}return e}function At(e){var t=e.match(lo);return t&&uo[t[0]].test(e)}function $t(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=he();return E(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Gr(oi(e.substr(0,n))),oi(e.substr(n+1)))}):b(e)&&r(e,function(e,n){t(Gr(n),oi(e))}),i}function Dt(e){var t;return function(n){if(t||(t=$t(e)),n){var r=t[Gr(n)];return void 0===r&&(r=null),r}return t}}function xt(e,t,n,i){return w(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function Rt(e){return e>=200&&300>e}function kt(){var e=this.defaults={transformResponse:[Ot],transformRequest:[function(e){return!b(e)||A(e)||D(e)||$(e)?e:z(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ve(co),put:ve(co),patch:ve(co)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return y(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return y(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,c,u,d,p){function m(n){function o(e,t){for(var n=0,r=t.length;r>n;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e,t){var n,i={};return r(e,function(e,r){w(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,o=e.headers,s=l({},t.headers);o=l({},o.common,o[Gr(t.method)]);e:for(n in o){r=Gr(n);for(i in s)if(Gr(i)===r)continue e;s[n]=o[n]}return a(s,ve(t))}function c(t){var n=t.headers,i=xt(t.data,Dt(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===Gr(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(u,u)}function u(e){var t=l({},e);return t.data=xt(e.data,e.headers,e.status,m.transformResponse),Rt(e.status)?t:d.reject(t)}if(!b(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!E(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var m=l({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);m.headers=s(n),m.method=Br(m.method),m.paramSerializer=E(m.paramSerializer)?p.get(m.paramSerializer):m.paramSerializer;var f=[],h=[],y=d.when(m);return r(S,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)}),y=o(y,f),y=y.then(c),y=o(y,h),i?(y.success=function(e){return de(e,"fn"),y.then(function(t){e(t.data,t.status,t.headers,m)}),y},y.error=function(e){return de(e,"fn"),y.then(null,function(t){e(t.data,t.status,t.headers,m)}),y}):(y.success=fo("success"),y.error=fo("error")),y}function f(e){r(arguments,function(e){m[e]=function(t,n){return m(l({},n||{},{method:e,url:t}))}})}function h(e){r(arguments,function(e){m[e]=function(t,n,r){return m(l({},r||{},{method:e,url:t,data:n}))}})}function g(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function c(e,t,r,i){function o(){l(t,e,r,i)}h&&(Rt(e)?h.put(T,[e,t,$t(r),i]):h.remove(T)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(e,n,r,i){n=n>=-1?n:0,(Rt(n)?E.resolve:E.reject)({data:e,status:n,headers:Dt(r),config:t,statusText:i})}function p(e){l(e.data,e.status,ve(e.headers()),e.statusText)}function f(){var e=m.pendingRequests.indexOf(t);-1!==e&&m.pendingRequests.splice(e,1)}var h,g,E=d.defer(),S=E.promise,w=t.headers,T=_(t.url,t.paramSerializer(t.params));if(m.pendingRequests.push(t),S.then(f,f),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(h=b(t.cache)?t.cache:b(e.cache)?e.cache:C),h&&(g=h.get(T),y(g)?R(g)?g.then(p,p):ri(g)?l(g[1],g[0],ve(g[2]),g[3]):l(g,200,{},"OK"):h.put(T,S)),v(g)){var I=Mn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;I&&(w[t.xsrfHeaderName||e.xsrfHeaderName]=I),a(t.method,T,i,c,w,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return S}function _(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}var C=c("$http");e.paramSerializer=E(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var S=[];return r(o,function(e){S.unshift(E(e)?p.get(e):p.invoke(e))}),m.pendingRequests=[],f("get","delete","head","jsonp"),h("post","put","patch"),m.defaults=e,m}]}function Pt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Nt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Mt(e,r,e.defer,t,n[0])}]}function Mt(e,t,n,i,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){wi(r,"load",a),wi(r,"error",a),o.body.removeChild(r),r=null;var s=-1,c="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},Si(r,"load",a),Si(r,"error",a),o.body.appendChild(r),a}return function(o,s,c,l,u,d,p,f,h,g){function b(){C&&C(),S&&S.abort()}function _(t,r,i,o,a){y(I)&&n.cancel(I),C=S=null,t(r,i,o,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Gr(o))var E=i.createCallback(s),C=a(s,E,function(e,t){var n=200===e&&i.getResponse(E);_(l,e,n,"",t),i.removeCallback(E)});else{var S=t(o,s);S.open(o,s,!0),r(u,function(e,t){y(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"===Nn(s).protocol?404:0),_(l,n,t,S.getAllResponseHeaders(),e)};var w=function(){_(l,-1,null,null,"")};if(S.onerror=w,S.onabort=w,S.ontimeout=w,r(h,function(e,t){S.addEventListener(t,e)}),r(g,function(e,t){S.upload.addEventListener(t,e)}),p&&(S.withCredentials=!0),f)try{S.responseType=f}catch(T){if("json"!==f)throw T}S.send(v(c)?null:c)}if(d>0)var I=n(b,d);else R(d)&&d.then(b)}}function Lt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(m,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=z(e)}return e}function c(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function u(o,u,m,f){function g(e){try{return e=R(e),f&&!y(e)?e:s(e)}catch(t){r(ho.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var b;if(!u){var _=a(o);b=h(_),b.exp=o,b.expressions=[],b.$$watchDelegate=c}return b}f=!!f;for(var E,C,S,T=0,I=[],O=[],A=o.length,$=[],D=[];A>T;){if(-1===(E=o.indexOf(e,T))||-1===(C=o.indexOf(t,E+d))){T!==A&&$.push(a(o.substring(T)));break}T!==E&&$.push(a(o.substring(T,E))),S=o.substring(E+d,C),I.push(S),O.push(n(S,g)),T=C+p,D.push($.length),$.push("")}if(m&&$.length>1&&ho.throwNoconcat(o),!u||I.length){var x=function(e){for(var t=0,n=I.length;n>t;t++){if(f&&v(e[t]))return;$[D[t]]=e[t]}return $.join("")},R=function(e){return m?i.getTrusted(m,e):i.valueOf(e)};return l(function(e){var t=0,n=I.length,i=new Array(n);try{for(;n>t;t++)i[t]=O[t](e);return x(i)}catch(a){r(ho.interr(o,a))}},{exp:o,expressions:I,$$watchDelegate:function(e,t){var n;return e.$watchGroup(O,function(r,i){var o=x(r);w(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var d=e.length,p=t.length,m=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Ut(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,c,l){function u(){d?o.apply(null,p):o(h)}var d=arguments.length>4,p=d?H(arguments,4):[],m=t.setInterval,f=t.clearInterval,h=0,g=y(l)&&!l,v=(g?r:n).defer(),b=v.promise;return c=y(c)?c:0,b.$$intervalId=m(function(){g?i.defer(u):e.$evalAsync(u),v.notify(h++),c>0&&h>=c&&(v.resolve(h),f(b.$$intervalId),delete a[b.$$intervalId]),g||e.$apply()},s),a[b.$$intervalId]=v,b}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Ft(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Gt(e,t){var n=Nn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||yo[n.protocol]||null}function Bt(e,t){if(_o.test(e))throw bo("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Nn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Q(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ht(e,t){return e.slice(0,t.length)===t}function jt(e,t){return Ht(t,e)?t.substr(e.length):void 0}function Vt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function zt(e){return e.replace(/(#.+)|#$/,"$1")}function Wt(e){return e.substr(0,Vt(e).lastIndexOf("/")+1)}function Yt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function qt(e,t,n){this.$$html5=!0,n=n||"",Gt(e,this),this.$$parse=function(e){var n=jt(t,e);if(!E(n))throw bo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Bt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return y(o=jt(e,r))?(a=o,s=n&&y(o=jt(n,o))?t+(jt("/",o)||o):e+a):y(o=jt(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Kt(e,t,n){Gt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ht(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=jt(e,r)||jt(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=jt(n,a),v(o)&&(o=a)),Bt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=X(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Vt(e)===Vt(t)?(this.$$parse(t),!0):!1}}function Jt(e,t,n){this.$$html5=!0,Kt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===Vt(r)?o=r:(a=jt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=X(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Zt(e){return function(){return this[e]}}function Qt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Xt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return x(e)?(t.enabled=e,this):b(e)?(x(e.enabled)&&(t.enabled=e.enabled),x(e.requireBase)&&(t.requireBase=e.requireBase),(x(e.rewriteLinks)||E(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u,d,p=r.baseHref(),m=r.url();if(t.enabled){if(!p&&t.requireBase)throw bo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Yt(m)+(p||"/"),u=i.history?qt:Jt}else d=Vt(m),u=Kt;var f=Wt(d);l=new u(d,f,"#"+e),l.$$parseLinkUrl(m,m),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=zr(e.target);"a"!==L(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!E(i)||!v(s.attr(i))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");b(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Nn(c.animVal).href),h.test(c)||!c||s.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),zt(l.absUrl())!==zt(m)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){return v(jt(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;e=zt(e),l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(g=!1,c(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=zt(r.url()),t=zt(l.absUrl()),o=r.state(),a=l.$$replace,u=e!==t||l.$$html5&&i.history&&o!==l.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(u&&s(t,a,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function en(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||m,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function tn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Co("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function nn(e){return e+""}function rn(e,t){if(e){if(e.constructor===e)throw Co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Co("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Co("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Co("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function on(e,t){if(e){if(e.constructor===e)throw Co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===No||e===Mo||e===Lo)throw Co("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function an(e,t){if(e&&(e===So||e===wo||e===To||e===Io||e===Oo||e===Ao||e===$o||e===Do||e===xo||e===Ro||e===ko||e===Po))throw Co("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",t);
}function sn(e,t){return"undefined"!=typeof e?e:t}function cn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ln(e,t){var n=e(t);return!n.$stateful}function un(e,t){var n,i,o;switch(e.type){case Ho.Program:n=!0,r(e.body,function(e){un(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Ho.Literal:e.constant=!0,e.toWatch=[];break;case Ho.UnaryExpression:un(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ho.BinaryExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ho.LogicalExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ho.ConditionalExpression:un(e.test,t),un(e.alternate,t),un(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ho.Identifier:e.constant=!1,e.toWatch=[e];break;case Ho.MemberExpression:un(e.object,t),e.computed&&un(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Ho.CallExpression:o=e.filter?ln(t,e.callee.name):!1,n=o,i=[],r(e.arguments,function(e){un(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=o?i:[e];break;case Ho.AssignmentExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ho.ArrayExpression:n=!0,i=[],r(e.elements,function(e){un(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case Ho.ObjectExpression:n=!0,i=[],r(e.properties,function(e){un(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case Ho.ThisExpression:e.constant=!1,e.toWatch=[];break;case Ho.LocalsExpression:e.constant=!1,e.toWatch=[]}}function dn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function pn(e){return e.type===Ho.Identifier||e.type===Ho.MemberExpression}function mn(e){return 1===e.body.length&&pn(e.body[0].expression)?{type:Ho.AssignmentExpression,left:e.body[0].expression,right:{type:Ho.NGValueParameter},operator:"="}:void 0}function fn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ho.Literal||e.body[0].expression.type===Ho.ArrayExpression||e.body[0].expression.type===Ho.ObjectExpression)}function hn(e){return e.constant}function gn(e,t){this.astBuilder=e,this.$filter=t}function vn(e,t){this.astBuilder=e,this.$filter=t}function yn(e){return"constructor"===e}function bn(e){return w(e.valueOf)?e.valueOf():Uo.call(e)}function _n(){var e,t,n=he(),i=he(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,l;switch(r=r||_,typeof e){case"string":e=e.trim(),l=e;var g=r?i:n;if(o=g[l],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var y=r?b:v,E=new Bo(y),C=new jo(E,a,y);o=C.parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?p:d:o.inputs&&(o.$$watchDelegate=u),r&&(o=c(o)),g[l]=o}return h(o,t);case"function":return h(e,t);default:return h(m,t)}}function c(e){function t(t,n,r,i){var o=_;_=!0;try{return e(t,n,r,i)}finally{_=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=c(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=c(e.inputs[n]);return t.inputs=e.inputs,t}function l(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=bn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=l;return a=a[0],e.$watch(function(e){var t=a(e);return l(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&bn(t)),o},t,n,i)}for(var c=[],u=[],d=0,p=a.length;p>d;d++)c[d]=l,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;i>n;n++){var s=a[n](e);(t||(t=!l(s,c[n])))&&(u[n]=s,c[n]=s&&bn(s))}return t&&(o=r(e,void 0,void 0,u)),o},t,n,i)}function d(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,w(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(o)&&i()})},n)}function p(e,t,n,i){function o(e){var t=!0;return r(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,w(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function f(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==p&&n!==d,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return y(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==u?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=u,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=si().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:w(e)&&e,isIdentifierContinue:w(t)&&t},b={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:w(e)&&e,isIdentifierContinue:w(t)&&t},_=!1;return s.$$runningExpensiveChecks=function(){return _},s}]}function En(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Sn(function(t){e.$evalAsync(t)},t)}]}function Cn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Sn(function(t){e.defer(t)},t)}]}function Sn(e,n){function i(){var e=new u;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e}function o(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;a>o;++o){r=i[o][0],t=i[o][e.status];try{w(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function c(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){s(t)}))}function u(){this.promise=new o}function d(e){var t=new u;return t.reject(e),t.promise}function p(e,t,n){var r=null;try{w(n)&&(r=n())}catch(i){return d(i)}return R(r)?r.then(function(){return t(e)},d):t(e)}function m(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)}function f(e){var t=new u,n=0,i=ri(e)?[]:{};return r(e,function(e,r){n++,m(e).then(function(e){i[r]=e,--n||t.resolve(i)},function(e){t.reject(e)})}),0===n&&t.resolve(i),t.promise}function h(e){var t=i();return r(e,function(e){m(e).then(t.resolve,t.reject)}),t.promise}function g(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!w(e))throw y("norslvr","Expected resolverFn, got '{0}'",e);var r=new u;return e(t,n),r.promise}var y=t("$q",TypeError);l(o.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,_,e)},function(t){return p(t,d,e)},t)}}),l(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(y("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){s||(s=!0,o.$$resolve(e))}function r(e){s||(s=!0,o.$$reject(e))}var i,o=this,s=!1;try{(b(e)||w(e))&&(i=e&&e.then),w(i)?(this.promise.$$state.status=-1,i.call(e,t,r,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(l){r(l),n(l)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(w(e)?e(t):t)}catch(s){n(s)}}})}});var _=m;return g.prototype=o.prototype,g.defer=i,g.reject=d,g.when=m,g.resolve=_,g.all=f,g.race=h,g}function wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Tn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),s=null,c=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,l,u){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Vr&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(T.$$phase)throw o("inprog","{0} already in progress",T.$$phase);T.$$phase=e}function g(){T.$$phase=null}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function _(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function C(){for(;A.length;)try{A.shift()()}catch(e){t(e)}c=null}function S(){null===c&&(c=u.defer(function(){T.$apply(C)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=l(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,c={fn:t,last:E,get:i,exp:r||e,eq:!!n};return s=null,w(t)||(c.fn=m),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(c),a.$$digestWatchIndex++,y(this,1),function(){var e=U(a,c);e>=0&&(y(o,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,c||(c=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,s,c;if(!v(o)){if(b(o))if(n(o)){a!==m&&(a=m,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var l=0;t>l;l++)c=a[l],s=o[l],i=c!==c&&s!==s,i||c===s||(d++,a[l]=s)}else{a!==f&&(a=f={},g=0,d++),t=0;for(r in o)Fr.call(o,r)&&(t++,s=o[r],c=a[r],r in a?(i=c!==c&&s!==s,i||c===s||(d++,a[r]=s)):(g++,a[r]=s,d++));if(g>t){d++;for(r in a)Fr.call(o,r)||(g--,delete a[r])}}else a!==o&&(a=o,d++);return d}}function i(){if(h?(h=!1,t(o,o,c)):t(o,s,c),u)if(b(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var r in o)Fr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,c=this,u=t.length>1,d=0,p=l(e,r),m=[],f={},h=!0,g=0;return this.$watch(p,i)},$digest:function(){var e,n,r,a,l,d,p,m,f,v,y,b=i,_=this,S=[];h("$digest"),u.$$checkUrlChange(),this===T&&null!==c&&(u.defer.cancel(c),C()),s=null;do{p=!1,f=_;for(var A=0;A<I.length;A++){try{y=I[A],y.scope.$eval(y.expression,y.locals)}catch(D){t(D)}s=null}I.length=0;e:do{if(d=f.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(l=e.get,(n=l(f))===(r=e.last)||(e.eq?G(n,r):ni(n)&&ni(r))){if(e===s){p=!1;break e}}else p=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,r===E?n:r,f),5>b&&(v=4-b,S[v]||(S[v]=[]),S[v].push({msg:w(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(D){t(D)}if(!(m=f.$$watchersCount&&f.$$childHead||f!==_&&f.$$nextSibling))for(;f!==_&&!(m=f.$$nextSibling);)f=f.$parent}while(f=m);if((p||I.length)&&!b--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,S)}while(p||I.length);for(g();$<O.length;)try{O[$++]()}catch(D){t(D)}O.length=$=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===T&&u.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)_(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){T.$$phase||I.length||u.defer(function(){I.length&&T.$digest()}),I.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){O.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{g()}}catch(n){t(n)}finally{try{T.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&A.push(t),e=l(e),S()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,_(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=B([l],arguments,1);do{for(r=s.$$listeners[e]||a,l.currentScope=s,i=0,o=r.length;o>i;i++)if(r[i])try{r[i].apply(null,u)}catch(d){t(d)}else r.splice(i,1),i--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,c,l,u=B([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],c=0,l=s.length;l>c;c++)if(s[c])try{s[c].apply(null,u)}catch(d){t(d)}else s.splice(c,1),c--,l--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var T=new f,I=T.$$asyncQueue=[],O=T.$$postDigestQueue=[],A=T.$$applyAsyncQueue=[],$=0;return T}]}function In(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function On(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw Vo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ai(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Vo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function An(e){var t=[];return y(e)&&r(e,function(e){t.push(On(e))}),t}function $n(){this.SCE_CONTEXTS=zo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=An(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=An(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Mn(t):!!e.exec(t.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw Vo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw Vo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===zo.RESOURCE_URL){if(i(t))return t;throw Vo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===zo.HTML)return l(t);throw Vo("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(e){throw Vo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var u=o(),d={};return d[zo.HTML]=o(u),d[zo.CSS]=o(u),d[zo.URL]=o(u),d[zo.JS]=o(u),d[zo.RESOURCE_URL]=o(d[zo.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function Dn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Vr)throw Vo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=ve(zo);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=f),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(zo,function(e,t){var n=Gr(t);i[Ce("parse_as_"+n)]=function(t){return o(e,t)},i[Ce("get_trusted_"+n)]=function(t){return a(e,t)},i[Ce("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function xn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!o&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Gr((e.navigator||{}).userAgent))||[])[1]),c=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,p=l.body&&l.body.style,m=!1,f=!1;if(p){for(var h in p)if(r=u.exec(h)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),m=!!("transition"in p||n+"Transition"in p),f=!!("animation"in p||n+"Animation"in p),!s||m&&f||(m=E(p.webkitTransition),f=E(p.webkitAnimation))}return{history:!(!a||4>s||c),hasEvent:function(e){if("input"===e&&11>=Vr)return!1;if(v(i[e])){var t=l.createElement("div");i[e]="on"+e in t}return i[e]},csp:si(),vendorPrefix:n,transitions:m,animations:f,android:s}}]}function Rn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function c(e){if(!s)throw Wo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,(!E(a)||v(t.get(a)))&&(a=i.getTrustedResourceUrl(a));var u=n.defaults&&n.defaults.transformResponse;return ri(u)?u=u.filter(function(e){return e!==Ot}):u===Ot&&(u=null),n.get(a,l({cache:t,transformResponse:u},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},c)}return o.totalPendingRequests=0,o}]}function kn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=ei.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+ai(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!==r.indexOf(t)&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function Pn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,c){w(o)||(c=s,s=o,o=m);var l,u=H(arguments,3),d=y(c)&&!c,p=(d?r:n).defer(),f=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),i(t)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=l,a[l]=p,f}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Nn(e){var t=e;return Vr&&(Yo.setAttribute("href",t),t=Yo.href),Yo.setAttribute("href",t),{href:Yo.href,protocol:Yo.protocol?Yo.protocol.replace(/:$/,""):"",host:Yo.host,search:Yo.search?Yo.search.replace(/^\?/,""):"",hash:Yo.hash?Yo.hash.replace(/^#/,""):"",hostname:Yo.hostname,port:Yo.port,pathname:"/"===Yo.pathname.charAt(0)?Yo.pathname:"/"+Yo.pathname}}function Mn(e){var t=E(e)?Nn(e):e;return t.protocol===qo.protocol&&t.host===qo.host}function Ln(){this.$get=h(e)}function Un(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,c,l=n.cookie||"";if(l!==i)for(i=l,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(c=t(o.substring(0,s)),v(r[c])&&(r[c]=t(o.substring(s+1))));return r}}function Fn(){this.$get=Un}function Gn(e){function t(i,o){if(b(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",zn),t("date",ar),t("filter",Bn),t("json",sr),t("limitTo",cr),t("lowercase",ta),t("number",Wn),t("orderBy",ur),t("uppercase",na)}function Bn(){return function(e,r,i,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,c=Vn(r);switch(c){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Hn(r,i,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Hn(e,t,n,r){var i,o=b(e)&&n in e;return t===!0?t=G:w(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(t)||b(e)&&!g(e)?!1:(e=Gr(""+e),t=Gr(""+t),-1!==e.indexOf(t))}),i=function(i){return o&&!b(i)?jn(i,e[n],t,n,!1):jn(i,e,t,n,r)}}function jn(e,t,n,r,i,o){var a=Vn(e),s=Vn(t);if("string"===s&&"!"===t.charAt(0))return!jn(e,t.substring(1),n,r,i);if(ri(e))return e.some(function(e){return jn(e,t,n,r,i)});switch(a){case"object":var c;if(i){for(c in e)if("$"!==c.charAt(0)&&jn(e[c],t,n,r,!0))return!0;return o?!1:jn(e,t,n,r,!1)}if("object"===s){for(c in t){var l=t[c];if(!w(l)&&!v(l)){var u=c===r,d=u?e:e[c];if(!jn(d,l,n,r,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Vn(e){return null===e?"null":typeof e}function zn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Kn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Kn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Yn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Jo))>-1&&(e=e.replace(Jo,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)===Zo;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Zo;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>Ko&&(t=t.splice(0,Ko-1),a=n-1,n=1),{d:t,e:a,i:n}}function qn(e,t,n,r){var i=e.d,o=i.length-e.i;t=v(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var c=a;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var l=1;a>l;l++)i[l]=0}if(s>=5)if(0>a-1){for(var u=0;u>a;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function Kn(e,t,n,r,i){if(!E(e)&&!C(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,c=Math.abs(e)+"",l="";if(a)l="â";else{o=Yn(c),qn(o,i,t.minFrac,t.maxFrac);var u=o.d,d=o.i,p=o.e,m=[];for(s=u.reduce(function(e,t){return e&&!t},!0);0>d;)u.unshift(0),d++;d>0?m=u.splice(d,u.length):(m=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),l=f.join(n),m.length&&(l+=r+m.join("")),p&&(l+="e+"+p)}return 0>e&&!s?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Jn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Zo+e;return n&&(e=e.substr(e.length-t)),i+e}function Zn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Jn(a,t,r,i)}}function Qn(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Br(a+e);return i[s][o]}}function Xn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Jn(Math[r>0?"floor":"ceil"](r/60),2)+Jn(Math.abs(r%60),2)}function er(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function tr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function nr(e){return function(t){var n=er(t.getFullYear()),r=tr(t),i=+r-+n,o=1+Math.round(i/6048e5);return Jn(o,e)}}function rr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ir(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function or(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ar(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(r,d(t[1]),d(t[2])-1,d(t[3]));var c=d(t[4]||0)-i,l=d(t[5]||0)-o,u=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,u,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,c="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,E(n)&&(n=ea.test(n)?d(n):t(n)),C(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;i;)s=Xo.exec(i),s?(l=B(l,s,1),i=l.pop()):(l.push(i),i=null);var u=n.getTimezoneOffset();return o&&(u=Y(o,u),n=K(n,o,!0)),r(l,function(t){a=Qo[t],c+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function sr(){return function(e,t){return v(t)&&(t=2),z(e,t)}}function cr(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):d(t),ni(t)?e:(C(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:d(r),r=0>r?Math.max(0,e.length+r):r,t>=0?lr(e,r,r+t):0===r?lr(e,t,e.length):lr(e,Math.max(0,r+t),r)):e)}}function lr(e,t,n){return E(e)?e.slice(t,n):qr.call(e,t,n)}function ur(e){function r(t){return t.map(function(t){var n=1,r=f;if(w(t))r=t;else if(E(t)&&(("+"===t.charAt(0)||"-"===t.charAt(0))&&(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return w(e.valueOf)&&(e=e.valueOf(),i(e))?e:g(e)&&(e=e.toString(),i(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(b(o)&&(o=e.index),b(a)&&(a=t.index)),o!==a&&(n=a>o?-1:1)}else n=i>r?-1:1;return n}return function(e,i,o,c){function l(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,r=d.length;r>n;n++){var i=m(e.predicateValues[n],t.predicateValues[n]);if(i)return i*d[n].descending*p}return m(e.tieBreaker,t.tieBreaker)*p}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);ri(i)||(i=[i]),0===i.length&&(i=["+"]);var d=r(i),p=o?-1:1,m=w(c)?c:s,f=Array.prototype.map.call(e,l);return f.sort(u),e=f.map(function(e){return e.value})}}function dr(e){return w(e)&&(e={link:e}),e.restrict=e.restrict||"AC",h(e)}function pr(e,t){e.$name=t}function mr(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=oa,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),U(s,e),e.$$parentForm=oa},Pr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(U(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,ja),i.addClass(e,Va),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,ja,Va+" "+aa),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,aa),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function fr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hr(e,t,n,r,i,o){gr(e,t,n,r,i,o),fr(r)}function gr(e,t,n,r,i,o){var a=Gr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,l()})}var c,l=function(e){if(c&&(o.defer.cancel(c),c=null),!s){var i=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=oi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var u=function(e,t,n){c||(c=o.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),_a[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(ba,function(e){if(!c){var t=this[Ur],n=t.badInput,r=t.typeMismatch;c=o.defer(function(){c=null,(t.badInput!==n||t.typeMismatch!==r)&&l(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function vr(e,t){if(S(e))return e;if(E(e)){ga.lastIndex=0;var n=ga.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,l=er(r),u=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+u,o,a,s,c);
}}return NaN}function yr(e,t){return function(n,i){var o,a;if(S(n))return n;if(E(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ua.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function br(e,t,n,r){return function(i,o,a,s,c,l,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)&&!S(e)?n(e)||void 0:e}_r(i,o,a,s),gr(i,o,a,s,c,l);var m,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,m);return f&&(r=K(r,f)),r}return void 0}),s.$formatters.push(function(e){if(e&&!S(e))throw Ja("datefmt","Expected `{0}` to be a date",e);return d(e)?(m=e,m&&f&&(m=K(m,f,!0)),u("date")(e,r,f)):(m=null,"")}),y(a.min)||a.ngMin){var h;s.$validators.min=function(e){return!d(e)||v(h)||n(e)>=h},a.$observe("min",function(e){h=p(e),s.$validate()})}if(y(a.max)||a.ngMax){var g;s.$validators.max=function(e){return!d(e)||v(g)||n(e)<=g},a.$observe("max",function(e){g=p(e),s.$validate()})}}}function _r(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=b(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(Ur)||{};return n.badInput||n.typeMismatch?void 0:e})}function Er(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:ma.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw Ja("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Cr(e){return y(e)&&!C(e)&&(e=parseFloat(e)),ni(e)?void 0:e}function Sr(e){return(0|e)===e}function wr(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(e>-1&&1>e){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function Tr(e,t,n){var r=Number(e);if(!Sr(r)||!Sr(t)||!Sr(n)){var i=Math.max(wr(r),wr(t),wr(n)),o=Math.pow(10,i);r*=o,t*=o,n*=o}return(r-t)%n===0}function Ir(e,t,n,r,i,o){_r(e,t,n,r),gr(e,t,n,r,i,o),Er(r);var a,s;(y(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){a=Cr(e),r.$validate()})),(y(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){s=Cr(e),r.$validate()}))}function Or(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){if(d=Cr(e),!ni(r.$modelValue))if(u){var n=t.val();d>n&&(n=d,t.val(n)),r.$setViewValue(n)}else r.$validate()}function c(e){if(p=Cr(e),!ni(r.$modelValue))if(u){var n=t.val();n>p&&(t.val(p),n=d>p?d:p),r.$setViewValue(n)}else r.$validate()}function l(e){m=Cr(e),ni(r.$modelValue)||(u&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}_r(e,t,n,r),Er(r),gr(e,t,n,r,i,o);var u=r.$$hasNativeValidators&&"range"===t[0].type,d=u?0:void 0,p=u?100:void 0,m=u?1:void 0,f=t[0].validity,h=y(n.min),g=y(n.max),b=y(n.step),_=r.$render;r.$render=u&&y(f.rangeUnderflow)&&y(f.rangeOverflow)?function(){_(),r.$setViewValue(t.val())}:_,h&&(r.$validators.min=u?function(){return!0}:function(e,t){return r.$isEmpty(t)||v(d)||t>=d},a("min",s)),g&&(r.$validators.max=u?function(){return!0}:function(e,t){return r.$isEmpty(t)||v(p)||p>=t},a("max",c)),b&&(r.$validators.step=u?function(){return!f.stepMismatch}:function(e,t){return r.$isEmpty(t)||v(m)||Tr(t,d||0,m)},a("step",l))}function Ar(e,t,n,r,i,o){gr(e,t,n,r,i,o),fr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||da.test(n)}}function $r(e,t,n,r,i,o){gr(e,t,n,r,i,o),fr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||pa.test(n)}}function Dr(e,t,n,r){v(n.name)&&t.attr("name",a());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function xr(e,t,n,r,i){var o;if(y(r)){if(o=e(r),!o.constant)throw Ja("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Rr(e,t,n,r,i,o,a,s){var c=xr(s,e,"ngTrueValue",n.ngTrueValue,!0),l=xr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return G(e,c)}),r.$parsers.push(function(e){return e?c:l})}function kr(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function o(e){var t=[];return ri(e)?(r(e,function(e){t=t.concat(o(e))}),t):E(e)?e.split(" "):b(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,c){function l(e){var t=d(e,1);c.$addClass(t)}function u(e){var t=d(e,-1);c.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||he(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function p(e,t){var r=i(t,e),o=i(e,t);r=d(r,1),o=d(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function m(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(f){if(!G(e,f)){var r=o(f);p(r,n)}}else l(n)}f=ri(e)?e.map(function(e){return ve(e)}):ve(e)}var f;c.$observe("class",function(t){m(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(e,n){var r=1&e;if(r!==(1&n)){var i=o(f);r===t?l(i):u(i)}}),a.$watch(c[e],m,!0)}}}]}function Pr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),x(t)?t?(u(a.$error,e,s),l(a.$$success,e,s)):(l(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),u(a.$$success,e,s)),a.$pending?(i(Ya,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(Ya,!1),a.$valid=Nr(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var c;c=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,c),a.$$parentForm.$setValidity(e,c,a)}function n(e,t,n){a[e]||(a[e]={}),l(a[e],t,n)}function r(e,t,n){a[e]&&u(a[e],t,n),Nr(a[e])&&(a[e]=void 0)}function i(e,t){t&&!c[e]?(d.addClass(s,e),c[e]=!0):!t&&c[e]&&(d.removeClass(s,e),c[e]=!1)}function o(e,t){e=e?"-"+ce(e,"-"):"",i(Ba+e,t===!0),i(Ha+e,t===!1)}var a=e.ctrl,s=e.$element,c={},l=e.set,u=e.unset,d=e.$animate;c[Ha]=!(c[Ba]=s.hasClass(Ba)),a.$setValidity=t}function Nr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Mr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Lr=/^\/(.+)\/([a-z]*)$/,Ur="validity",Fr=Object.prototype.hasOwnProperty,Gr=function(e){return E(e)?e.toLowerCase():e},Br=function(e){return E(e)?e.toUpperCase():e},Hr=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},jr=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Gr=Hr,Br=jr);var Vr,zr,Wr,Yr,qr=[].slice,Kr=[].splice,Jr=[].push,Zr=Object.prototype.toString,Qr=Object.getPrototypeOf,Xr=t("ng"),ei=e.angular||(e.angular={}),ti=0;Vr=e.document.documentMode;var ni=Number.isNaN||function(e){return e!==e};m.$inject=[],f.$inject=[];var ri=Array.isArray,ii=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,oi=function(e){return E(e)?e.trim():e},ai=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},si=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!y(si.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");si.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else si.rules={noUnsafeEval:t(),noInlineStyle:!1}}return si.rules},ci=function(){if(y(ci.name_))return ci.name_;var t,n,r,i,o=ui.length;for(n=0;o>n;++n)if(r=ui[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return ci.name_=i},li=/:/g,ui=["ng-","data-ng-","ng:","x-ng-"],di=re(e.document),pi=/[A-Z]/g,mi=!1,fi=1,hi=2,gi=3,vi=8,yi=9,bi=11,_i={full:"1.5.10",major:1,minor:5,dot:10,codeName:"asynchronous-synchronization"};De.expando="ng339";var Ei=De.cache={},Ci=1,Si=function(e,t,n){e.addEventListener(t,n,!1)},wi=function(e,t,n){e.removeEventListener(t,n,!1)};De._data=function(e){return this.cache[e[this.expando]]||{}};var Ti=/([:\-_]+(.))/g,Ii=/^moz([A-Z])/,Oi={mouseleave:"mouseout",mouseenter:"mouseover"},Ai=t("jqLite"),$i=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Di=/<|&#?\w+;/,xi=/<([\w:-]+)/,Ri=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ki={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ki.optgroup=ki.option,ki.tbody=ki.tfoot=ki.colgroup=ki.caption=ki.thead,ki.th=ki.td;var Pi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ni=De.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),De(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return zr(e>=0?this[e]:this[this.length+e])},length:0,push:Jr,sort:[].sort,splice:[].splice},Mi={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Mi[Gr(e)]=e});var Li={};r("input,select,option,textarea,button,form,details".split(","),function(e){Li[e]=!0});var Ui={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Me,removeData:Pe,hasData:Te,cleanData:Ie},function(e,t){De[t]=e}),r({data:Me,inheritedData:He,scope:function(e){return zr.data(e,"$scope")||He(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return zr.data(e,"$isolateScope")||zr.data(e,"$isolateScopeNoTemplate")},controller:Be,injector:function(e){return He(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Le,css:function(e,t,n){return t=Ce(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==gi&&r!==hi&&r!==vi){var i=Gr(t);if(Mi[i]){if(!y(n))return e[t]||(e.attributes.getNamedItem(t)||m).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===fi||n===gi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Re(e,!0),void(e.innerHTML=t))},empty:je},function(e,t){De.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==je&&v(2===e.length&&e!==Le&&e!==Be?t:n)){if(b(t)){for(r=0;o>r;r++)if(e===Me)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,c=0;s>c;c++){var l=e(this[c],t,n);a=a?a+l:l}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),r({removeData:Pe,on:function(e,t,n,r){if(y(r))throw Ai("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(we(e)){var i=Ne(e,!0),o=i.events,a=i.handle;a||(a=i.handle=qe(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length,l=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||Si(e,t,a)),s.push(n)};c--;)t=s[c],Oi[t]?(l(Oi[t],Je),l(t,void 0,!0)):l(t)}},off:ke,one:function(e,t,n){e=zr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Re(e),r(new De(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===fi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===fi||n===bi){t=new De(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===fi){var n=e.firstChild;r(new De(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){$e(e,zr(t).eq(0).clone()[0])},remove:Ve,detach:function(e){Ve(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new De(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Fe,removeClass:Ue,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!Le(e,t)),(r?Fe:Ue)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==bi?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:xe,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,c=Ne(e),u=c&&c.events,d=u&&u[s];d&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:e},t.type&&(i=l(i,t)),o=ve(d),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){De.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),y(i)&&(i=zr(i))):Ge(i,e(this[o],t,n,r));return y(i)?i:this}}),De.prototype.bind=De.prototype.on,De.prototype.unbind=De.prototype.off,Xe.prototype={put:function(e,t){this[Qe(e,this.nextUid)]=t},get:function(e){return this[Qe(e,this.nextUid)]},remove:function(e){var t=this[e=Qe(e,this.nextUid)];return delete this[e],t}};var Fi=[function(){this.$get=[function(){return Xe}]}],Gi=/^([^(]+?)=>/,Bi=/^[^(]*\(\s*([^)]*)\)/m,Hi=/,/,ji=/^\s*(_?)(\S+?)\1\s*$/,Vi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,zi=t("$injector");it.$$annotate=rt;var Wi=t("$animate"),Yi=1,qi="ng-animate",Ki=function(){this.$get=m},Ji=function(){var e=new Xe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=E(t)?t.split(" "):ri(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=ct(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Fe(e,o),a&&Ue(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var c=e.get(n)||{},l=o(c,r,!0),u=o(c,s,!1);(l||u)&&(e.put(n,c),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Zi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Wi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+qi+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Wi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',qi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=st(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&zr(r),i=i&&zr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",lt(o))},move:function(n,r,i,o){return r=r&&zr(r),i=i&&zr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",lt(o))},leave:function(t,n){return e.push(t,"leave",lt(n),function(){t.remove()})},addClass:function(t,n,r){return r=lt(r),r.addClass=at(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=lt(r),r.removeClass=at(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=lt(i),i.addClass=at(i.addClass,n),i.removeClass=at(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=lt(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=at(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Qi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Xi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,c=1,l=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===l?e():this._doneCallbacks.push(e)},progress:m,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=c,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==l&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=l)}},a}]},eo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||c.complete(),s=!0}),c}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,c=new n;return{start:i,end:i}}}]},to=t("$compile"),no=new ft;ht.$inject=["$provide","$$sanitizeUriProvider"],gt.prototype.isFirstChange=function(){return this.previousValue===no};var ro=/^((?:x|data)[:\-_])/i,io=t("$controller"),oo=/^(\S+)(\s+as\s+([\w$]+))?$/,ao=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof zr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},so="application/json",co={"Content-Type":so+";charset=utf-8"},lo=/^\[|^\{(?!\{)/,uo={"[":/]$/,"{":/}$/},po=/^\)]\}',?\n/,mo=t("$http"),fo=function(e){return function(){throw mo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},ho=ei.$interpolateMinErr=t("$interpolate");ho.throwNoconcat=function(e){throw ho("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},ho.interr=function(e,t){return ho("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var go=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){var i="_"+(n.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return r[o]=n[i]=a,o},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete n[t.id],delete r[e]}}}]},vo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,yo={http:80,https:443,ftp:21},bo=t("$location"),_o=/^\s*[\\/]{2,}/,Eo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Zt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=vo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Zt("$$protocol"),host:Zt("$$host"),port:Zt("$$port"),path:Qt("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||C(e))e=e.toString(),this.$$search=Q(e);else{if(!b(e))throw bo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Qt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Jt,Kt,qt],function(e){e.prototype=Object.create(Eo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==qt||!this.$$html5)throw bo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var Co=t("$parse"),So=[].constructor,wo=(!1).constructor,To=Function.constructor,Io=0..constructor,Oo={}.constructor,Ao="".constructor,$o=So.prototype,Do=wo.prototype,xo=To.prototype,Ro=Io.prototype,ko=Oo.prototype,Po=Ao.prototype,No=xo.call,Mo=xo.apply,Lo=xo.bind,Uo=ko.valueOf,Fo=he();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Fo[e]=!0});var Go={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Bo=function(e){this.options=e};Bo.prototype={constructor:Bo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Fo[t],o=Fo[n],a=Fo[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||"Â "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&56319>=n&&r>=56320&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Co("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Gr(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Go[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Ho=function(e,t){this.lexer=e,this.options=t};Ho.Program="Program",Ho.ExpressionStatement="ExpressionStatement",Ho.AssignmentExpression="AssignmentExpression",Ho.ConditionalExpression="ConditionalExpression",Ho.LogicalExpression="LogicalExpression",Ho.BinaryExpression="BinaryExpression",Ho.UnaryExpression="UnaryExpression",Ho.CallExpression="CallExpression",Ho.MemberExpression="MemberExpression",Ho.Identifier="Identifier",Ho.Literal="Literal",Ho.ArrayExpression="ArrayExpression",Ho.Property="Property",Ho.ObjectExpression="ObjectExpression",Ho.ThisExpression="ThisExpression",Ho.LocalsExpression="LocalsExpression",Ho.NGValueParameter="NGValueParameter",Ho.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ho.Program,body:e}},expressionStatement:function(){return{type:Ho.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!pn(e))throw Co("lval","Trying to assign a value to a non l-value");e={type:Ho.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ho.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ho.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ho.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ho.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ho.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ho.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ho.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ho.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ho.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Ho.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ho.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ho.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ho.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ho.Identifier,name:e.text}},constant:function(){return{type:Ho.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ho.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ho.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ho.ObjectExpression,properties:t}},throwError:function(e,t){throw Co("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Co("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Co("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{"this":{type:Ho.ThisExpression},$locals:{type:Ho.LocalsExpression}}},gn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},un(i,n.$filter);
var o,a="";if(this.stage="assign",o=mn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=dn(i.body);n.stage="inputs",r(c,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,tn,rn,on,nn,an,sn,cn,e);return this.state=this.stage=void 0,u.literal=fn(i),u.constant=hn(i),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,c,l,u,d,p=this;if(i=i||m,!a&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case Ho.Program:r(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){c=e}),n!==e.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case Ho.Literal:u=this.escape(e.value),this.assign(t,u),i(u);break;case Ho.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){c=e}),u=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,u),i(u);break;case Ho.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){c=e}),u="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,u),i(u);break;case Ho.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case Ho.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case Ho.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),tn(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||yn(e.name))&&p.addEnsureSafeObject(t),i(t);break;case Ho.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),e.computed?(c=p.nextId(),p.recurse(e.property,c),p.getStringValue(c),p.addEnsureSafeMemberName(c),o&&1!==o&&p.if_(p.not(p.computedMember(s,c)),p.lazyAssign(p.computedMember(s,c),"{}")),u=p.ensureSafeObject(p.computedMember(s,c)),p.assign(t,u),n&&(n.computed=!0,n.name=c)):(tn(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),u=p.nonComputedMember(s,e.property.name),(p.state.expensiveChecks||yn(e.property.name))&&(u=p.ensureSafeObject(u)),p.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!o);break;case Ho.CallExpression:t=t||this.nextId(),e.filter?(c=p.filter(e.callee.name),l=[],r(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),l.push(t)}),u=c+"("+l.join(",")+")",p.assign(t,u),i(t)):(c=p.nextId(),s={},l=[],p.recurse(e.callee,c,s,function(){p.if_(p.notNull(c),function(){p.addEnsureSafeFunction(c),r(e.arguments,function(e){p.recurse(e,p.nextId(),void 0,function(e){l.push(p.ensureSafeObject(e))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),u=p.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):u=c+"("+l.join(",")+")",u=p.ensureSafeObject(u),p.assign(t,u)},function(){p.assign(t,"undefined")}),i(t)}));break;case Ho.AssignmentExpression:c=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,c),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),u=p.member(s.context,s.name,s.computed)+e.operator+c,p.assign(t,u),i(t||u)})},1);break;case Ho.ArrayExpression:l=[],r(e.elements,function(e){p.recurse(e,p.nextId(),void 0,function(e){l.push(e)})}),u="["+l.join(",")+"]",this.assign(t,u),i(u);break;case Ho.ObjectExpression:l=[],d=!1,r(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===Ho.Identifier?e.key.name:""+e.key.value,c=p.nextId(),p.recurse(e.value,c),p.assign(p.member(t,s,e.computed),c)})):(r(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){l.push(p.escape(t.key.type===Ho.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+l.join(",")+"}",this.assign(t,u)),i(t||u);break;case Ho.ThisExpression:this.assign(t,"s"),i("s");break;case Ho.LocalsExpression:this.assign(t,"l"),i("l");break;case Ho.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(E(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Co("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},vn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,un(i,n.$filter);var o,a;(o=mn(i))&&(a=this.recurse(o));var s,c=dn(i.body);c&&(s=[],r(c,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];r(i.body,function(e){l.push(n.recurse(e.expression))});var u=0===i.body.length?m:1===i.body.length?l[0]:function(e,t){var n;return r(l,function(r){n=r(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=fn(i),u.constant=hn(i),u},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ho.Literal:return this.value(e.value,t);case Ho.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case Ho.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case Ho.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case Ho.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ho.Identifier:return tn(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||yn(e.name),t,n,s.expression);case Ho.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(tn(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case Ho.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],c=0;c<a.length;++c)s.push(a[c](e,n,r,i));var l=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:l}:l}:function(e,n,r,i){var c,l=o(e,n,r,i);if(null!=l.value){rn(l.context,s.expression),on(l.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(rn(a[d](e,n,r,i),s.expression));c=rn(l.value.apply(l.context,u),s.expression)}return t?{value:c}:c};case Ho.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var c=i(e,n,r,a),l=o(e,n,r,a);return rn(c.value,s.expression),an(c.context),c.context[c.name]=l,t?{value:l}:l};case Ho.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case Ho.ObjectExpression:return a=[],r(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Ho.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case Ho.ThisExpression:return function(e){return t?{value:e}:e};case Ho.LocalsExpression:return function(e,n){return t?{value:n}:n};case Ho.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=y(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=y(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=cn(s,c);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=(y(s)?s:0)-(y(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,c){var l=a&&e in a?a:o;r&&1!==r&&l&&!l[e]&&(l[e]={});var u=l?l[e]:void 0;return t&&rn(u,i),n?{context:l,name:e,value:u}:u}},computedMember:function(e,t,n,r,i){return function(o,a,s,c){var l,u,d=e(o,a,s,c);return null!=d&&(l=t(o,a,s,c),l=nn(l),tn(l,i),r&&1!==r&&(an(d),d&&!d[l]&&(d[l]={})),u=d[l],rn(u,i)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,c,l){var u=e(a,s,c,l);i&&1!==i&&(an(u),u&&!u[t]&&(u[t]={}));var d=null!=u?u[t]:void 0;return(n||yn(t))&&rn(d,o),r?{context:u,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var jo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Ho(e,n),this.astCompiler=n.csp?new vn(this.ast,t):new gn(this.ast,t)};jo.prototype={constructor:jo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Vo=t("$sce"),zo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wo=t("$compile"),Yo=e.document.createElement("a"),qo=Nn(e.location.href);Un.$inject=["$document"],Gn.$inject=["$provide"];var Ko=22,Jo=".",Zo="0";zn.$inject=["$locale"],Wn.$inject=["$locale"];var Qo={yyyy:Zn("FullYear",4,0,!1,!0),yy:Zn("FullYear",2,0,!0,!0),y:Zn("FullYear",1,0,!1,!0),MMMM:Qn("Month"),MMM:Qn("Month",!0),MM:Zn("Month",2,1),M:Zn("Month",1,1),LLLL:Qn("Month",!1,!0),dd:Zn("Date",2),d:Zn("Date",1),HH:Zn("Hours",2),H:Zn("Hours",1),hh:Zn("Hours",2,-12),h:Zn("Hours",1,-12),mm:Zn("Minutes",2),m:Zn("Minutes",1),ss:Zn("Seconds",2),s:Zn("Seconds",1),sss:Zn("Milliseconds",3),EEEE:Qn("Day"),EEE:Qn("Day",!0),a:rr,Z:Xn,ww:nr(2),w:nr(1),G:ir,GG:ir,GGG:ir,GGGG:or},Xo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ea=/^-?\d+$/;ar.$inject=["$locale"];var ta=h(Gr),na=h(Br);ur.$inject=["$parse"];var ra=h({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Zr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ia={};r(Mi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=vt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),ia[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Ui,function(e,t){ia[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Lr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=vt("ng-"+e);ia[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Zr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Vr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var oa={$addControl:m,$$renameControl:pr,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},aa="ng-submitted";mr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var sa=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||m}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:mr,compile:function(n,i){n.addClass(ja).addClass(Ba);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};Si(n[0],"submit",c),n.on("$destroy",function(){t(function(){wi(n[0],"submit",c)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var d=o?r(s.$name):m;o&&(d(e,s),i.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),l(s,oa)})}}}};return i}]},ca=sa(),la=sa(!0),ua=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,da=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,pa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ma=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,fa=/^(\d{4,})-(\d{2})-(\d{2})$/,ha=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ga=/^(\d{4,})-W(\d\d)$/,va=/^(\d{4,})-(\d\d)$/,ya=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ba="keydown wheel mousedown",_a=he();r("date,datetime-local,month,time,week".split(","),function(e){_a[e]=!0});var Ea={text:hr,date:br("date",fa,yr(fa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":br("datetimelocal",ha,yr(ha,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:br("time",ya,yr(ya,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:br("week",ga,vr,"yyyy-Www"),month:br("month",va,yr(va,["yyyy","MM"]),"yyyy-MM"),number:Ir,url:Ar,email:$r,radio:Dr,range:Or,checkbox:Rr,hidden:m,button:m,submit:m,reset:m,file:m},Ca=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){if(s[0]){var c=Gr(a.type);"range"!==c||a.hasOwnProperty("ngInputRange")||(c="text"),(Ea[c]||Ea.text)(i,o,a,s[0],t,e,n,r)}}}}}],Sa=/^(true|false|\d+)$/,wa=function(){return{restrict:"A",priority:100,compile:function(e,t){return Sa.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ta=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],Ia=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],Oa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Aa=h({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),$a=kr("",!0),Da=kr("Odd",0),xa=kr("Even",1),Ra=dr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),ka=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Pa={},Na={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=vt("ng-"+e);Pa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Na[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ma=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,l;n.$watch(i.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=fe(s.clone),e.leave(l).done(function(e){e!==!1&&(l=null)}),s=null))})}}}],La=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ei.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,c,l,u){var d,p,m,f=0,h=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),m&&(n.leave(m).done(function(e){e!==!1&&(p=null)}),p=m,m=null)};r.$watch(o,function(o){var c=function(e){e===!1||!y(s)||s&&!r.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();l.template=e;var s=u(t,function(e){h(),n.enter(e,null,i).done(c)});d=t,m=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===f&&(h(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(h(),l.template=null)})}}}}],Ua=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Zr.call(r[0]).match(/SVG/)?(r.empty(),void t(Oe(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Fa=dr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ga=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?oi(o):o,c=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?oi(e):e)}),t}};i.$parsers.push(c),i.$formatters.push(function(e){return ri(e)?e.join(o):void 0}),i.$isEmpty=function(e){return!e||!e.length}}}},Ba="ng-valid",Ha="ng-invalid",ja="ng-pristine",Va="ng-dirty",za="ng-untouched",Wa="ng-touched",Ya="ng-pending",qa="ng-empty",Ka="ng-not-empty",Ja=t("ngModel"),Za=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,c,l,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=oa;var d,p=o(n.ngModel),f=p.assign,h=p,g=f,b=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");h=function(e){var n=p(e);return w(n)&&(n=t(e)),n},g=function(e,t){w(p(e))?r(e,{$$$p:t}):f(e,t)}}else if(!p.assign)throw Ja("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(i))},this.$render=m,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){_.$isEmpty(e)?(a.removeClass(i,Ka),a.addClass(i,qa)):(a.removeClass(i,qa),a.addClass(i,Ka))};var E=0;Pr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,a.removeClass(i,Va),a.addClass(i,ja)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,a.removeClass(i,ja),a.addClass(i,Va),_.$$parentForm.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,a.setClass(i,za,Wa)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,a.setClass(i,Wa,za)},this.$rollbackViewValue=function(){s.cancel(b),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!ni(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,n=_.$valid,r=_.$modelValue,i=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,e,function(e){i||n===e||(_.$modelValue=e?t:void 0,_.$modelValue!==r&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=_.$$parserName||"parse";return v(d)?(s(e,null),!0):(d||(r(_.$validators,function(e,t){s(t,null)}),r(_.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function o(){var n=!0;return r(_.$validators,function(r,i){var o=r(e,t);n=n&&o,s(i,o)}),n?!0:(r(_.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],i=!0;r(_.$asyncValidators,function(r,o){var a=r(e,t);if(!R(a))throw Ja("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?l.all(n).then(function(){c(i)},m):c(!0)}function s(e,t){u===E&&_.$setValidity(e,t)}function c(e){u===E&&n(e)}E++;var u=E;return i()&&o()?void a():void c(!1)},this.$commitViewValue=function(){var e=_.$viewValue;s.cancel(b),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$updateEmptyClasses(e),_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==o&&_.$$writeModelToScope()}var n=_.$$lastCommittedViewValue,r=n;if(d=v(r)?void 0:!0)for(var i=0;i<_.$parsers.length;i++)if(r=_.$parsers[i](r),v(r)){d=!1;break}ni(_.$modelValue)&&(_.$modelValue=h(e));var o=_.$modelValue,a=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=r,a&&(_.$modelValue=r,t()),_.$$runValidators(r,_.$$lastCommittedViewValue,function(e){a||(_.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){g(e,_.$modelValue),r(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,(!_.$options||_.$options.updateOnDefault)&&_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=_.$options;i&&y(i.debounce)&&(n=i.debounce,C(n)?r=n:C(n[t])?r=n[t]:C(n["default"])&&(r=n["default"])),s.cancel(b),r?b=s(function(){_.$commitViewValue()},r):c.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=h(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,d=void 0;for(var n=_.$formatters,r=n.length,i=t;r--;)i=n[r](i);_.$viewValue!==i&&(_.$$updateEmptyClasses(i),_.$viewValue=_.$$lastCommittedViewValue=i,_.$render(),_.$$runValidators(_.$modelValue,_.$viewValue,m))}return t})}],Qa=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Za,priority:1,compile:function(t){return t.addClass(ja).addClass(za).addClass(Ba),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Xa=/(\s+|^)default(\s+|$)/,es=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=oi(this.$options.updateOn.replace(Xa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ts=dr({terminal:!0,priority:1e3}),ns=t("ngOptions"),rs=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,is=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!l&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(rs);if(!s)throw ns("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var c=s[5]||s[7],l=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=o(s[2]?s[1]:c),m=u&&o(u),f=m||p,h=d&&o(d),g=d?function(e,t){return h(r,t)}:function(e){return Qe(e)},v=function(e,t){return g(e,S(e,t))},y=o(s[2]||s[1]),b=o(s[3]||""),_=o(s[4]||""),E=o(s[8]),C={},S=l?function(e,t){return C[l]=t,C[c]=e,C}:function(e){return C[c]=e,C};return{trackBy:d,getTrackByValue:v,getWatchables:o(E,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var c=e===n?o:n[o],l=e[c],u=S(l,c),d=g(l,u);if(t.push(d),s[2]||s[1]){var p=y(r,u);t.push(p)}if(s[4]){var m=_(r,u);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},n=E(r)||[],o=a(n),s=o.length,c=0;s>c;c++){var l=n===o?c:o[c],u=n[l],p=S(u,l),m=f(r,p),h=g(m,p),C=y(r,p),w=b(r,p),T=_(r,p),I=new i(h,m,C,w,T);e.push(I),t[h]=I}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?F(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function u(e,t){var n=c.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=w&&f.readValue();if(w)for(var t=w.items.length-1;t>=0;t--){var r=w.items[t];Ve(y(r.group)?r.element.parentNode:r.element)}w=T.getOptions();var i={};if(E&&n.prepend(m),w.items.forEach(function(e){var t;y(e.group)?(t=i[e.group],t||(t=l.cloneNode(!1),I.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),u(e,t)):u(e,I)}),n[0].appendChild(I),h.$render(),!h.$isEmpty(e)){var o=f.readValue(),a=T.trackBy||g;(a?G(e,o):e===o)||(h.$setViewValue(o),h.$render())}}for(var m,f=s[0],h=s[1],g=o.multiple,v=0,b=n.children(),_=b.length;_>v;v++)if(""===b[v].value){m=b.eq(v);break}var E=!!m,C=!1,S=zr(c.cloneNode(!1));S.val("?");var w,T=a(o.ngOptions,n,e),I=i[0].createDocumentFragment(),O=function(){E||n.prepend(m),n.val(""),C&&(m.prop("selected",!0),m.attr("selected",!0))},A=function(){E?C&&m.removeAttr("selected"):m.remove()},$=function(){n.prepend(S),n.val("?"),S.prop("selected",!0),S.attr("selected",!0)},D=function(){S.remove()};g?(h.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){w.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=w.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=w.selectValueMap[e];n&&!n.disabled&&t.push(w.getViewValueFromOption(n))}),t},T.trackBy&&e.$watchCollection(function(){return ri(h.$viewValue)?h.$viewValue.map(function(e){return T.getTrackByValue(e)}):void 0},function(){h.$render()})):(f.writeValue=function(e){var t=w.selectValueMap[n.val()],r=w.getOptionFromViewValue(e);
t&&t.element.removeAttribute("selected"),r?(n[0].value!==r.selectValue&&(D(),A(),n[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):null===e||E?(D(),O()):(A(),$())},f.readValue=function(){var e=w.selectValueMap[n.val()];return e&&!e.disabled?(A(),D(),w.getViewValueFromOption(e)):null},T.trackBy&&e.$watch(function(){return T.getTrackByValue(h.$viewValue)},function(){h.$render()})),E?(m.remove(),t(m)(e),m[0].nodeType===vi?(C=!1,f.registerOption=function(e,t){""===t.val()&&(C=!0,m=t,m.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){m=void 0,C=!1}))}):(m.removeClass("ng-scope"),C=!0)):m=zr(c.cloneNode(!1)),n.empty(),p(),e.$watchCollection(T.getWatchables,p)}var c=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=m},post:s}}}],os=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function l(e){s.text(e||"")}var u,d=c.count,p=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,h=a.$eval(p)||{},g={},y=t.startSymbol(),b=t.endSymbol(),_=y+d+"-"+f+b,E=ei.noop;r(c,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+Gr(n[2]);h[r]=s.attr(c.$attr[t])}}),r(h,function(e,n){g[n]=t(e.replace(i,_))}),a.$watch(d,function(t){var r=parseFloat(t),i=ni(r);if(i||r in h||(r=e.pluralCat(r-f)),!(r===u||i&&ni(u))){E();var o=g[r];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),E=m,l()):E=a.$watch(o,l),u=r}})}}}],as=["$parse","$animate","$compile",function(e,i,o){var a="$$NG_REMOVED",s=t("ngRepeat"),c=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var p=d.ngRepeat,m=o.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var h=f[1],g=f[2],v=f[3],y=f[4];if(f=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var b=f[3]||f[1],_=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var E,C,S,w,T={$id:Qe};return y?E=e(y):(S=function(e,t){return Qe(t)},w=function(e){return e}),function(e,t,o,d,f){E&&(C=function(t,n,r){return _&&(T[_]=t),T[b]=n,T.$index=r,E(e,T)});var h=he();e.$watchCollection(g,function(o){var d,g,y,E,T,I,O,A,$,D,x,R,k=t[0],P=he();if(v&&(e[v]=o),n(o))$=o,A=C||S;else{A=C||w,$=[];for(var N in o)Fr.call(o,N)&&"$"!==N.charAt(0)&&$.push(N)}for(E=$.length,x=new Array(E),d=0;E>d;d++)if(T=o===$?d:$[d],I=o[T],O=A(T,I,d),h[O])D=h[O],delete h[O],P[O]=D,x[d]=D;else{if(P[O])throw r(x,function(e){e&&e.scope&&(h[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,O,I);x[d]={id:O,scope:void 0,clone:void 0},P[O]=!0}for(var M in h){if(D=h[M],R=fe(D.clone),i.leave(R),R[0].parentNode)for(d=0,g=R.length;g>d;d++)R[d][a]=!0;D.scope.$destroy()}for(d=0;E>d;d++)if(T=o===$?d:$[d],I=o[T],D=x[d],D.scope){y=k;do y=y.nextSibling;while(y&&y[a]);l(D)!==y&&i.move(fe(D.clone),null,k),k=u(D),c(D.scope,d,b,I,_,T,E)}else f(function(e,t){D.scope=t;var n=m.cloneNode(!1);e[e.length++]=n,i.enter(e,null,k),k=n,D.clone=e,P[D.id]=D,c(D.scope,d,b,I,_,T,E)});h=P})}}}}],ss="ng-hide",cs="ng-hide-animate",ls=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ss,{tempClasses:cs})})}}}],us=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ss,{tempClasses:cs})})}}}],ds=dr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ps=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,c=[],l=[],u=[],d=[],p=function(e,t){return function(n){n!==!1&&e.splice(t,1)}};n.$watch(s,function(n){for(var i,o;u.length;)e.cancel(u.pop());for(i=0,o=d.length;o>i;++i){var s=fe(l[i].clone);d[i].$destroy();var m=u[i]=e.leave(s);m.done(p(u,i))}l.length=0,d.length=0,(c=a.cases["!"+n]||a.cases["?"])&&r(c,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],ms=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});r(a,function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:o,element:t})})}}),fs=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),hs=t("ngTransclude"),gs=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!o)throw hs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],vs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],ys={$setViewValue:m,$render:m},bs=["$element","$scope",function(t,n){var r=this,i=new Xe;r.ngModelCtrl=ys,r.unknownOption=zr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Qe(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=m}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==vi){pe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Mr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){y(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],_s=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Xe(e);r(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,c=NaN;e.$watch(function(){c!==o.$viewValue||G(s,o.$viewValue)||(s=ve(o.$viewValue),o.$render()),c=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:bs,priority:1,link:{pre:e,post:t}}},Es=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return y(n.ngValue)?r=!0:y(n.value)?r=e(n.value,!0):(i=e(t.text(),!0),i||n.$set("value",t.text())),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Cs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ss=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(E(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,J(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(o)||o.test(t)}}}}},ws=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=ni(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(le(),_e(ei),ei.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void zr(e.document).ready(function(){ie(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t,n){if(!e)throw he("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(K(e)&&(e=e.join(" ")),K(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var r="";return e=K(e)?e:e&&ee(e)&&e.length?e.split(/\s+/):[],q(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof ne)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===L)return e;break;default:return ne(c(e))}return e.nodeType===L?ne(e):void 0}function c(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===L)return n}}function l(e,t,n){q(t,function(t){e.addClass(t,n)})}function u(e,t,n){q(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function p(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||re;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=re},e.$$prepared=!0}return e}function m(e,t){f(e,t),h(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function h(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=v(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=w(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var c=r.domOperation!==re?r.domOperation:null;return Y(r,i),c&&(r.domOperation=c),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){ee(e)&&(e=e.split(" "));var t={};return q(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),q(t,function(e,t){a[t]=i}),n=r(n),q(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return q(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]||e[n+F]):t===o&&(r="removeClass",a=e[n]||e[n+U]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof ne?e[0]:e}function b(e,t,n){var r="";t&&(r=o(t,G,!0)),n.addClass&&(r=w(r,o(n.addClass,U))),n.removeClass&&(r=w(r,o(n.removeClass,F))),r.length&&(n.preparationClasses=r,e.addClass(r))}function _(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function E(e,t){var n=t?"-"+t+"s":"";return S(e,[me,n]),[me,n]}function C(e,t){var n=t?"paused":"",r=N+le;return S(e,[r,n]),[r,n]}function S(e,t){var n=t[0],r=t[1];e.style[n]=r}function w(e,t){return e?t?e+" "+t:e:t}function T(e){return[pe,e+"s"]}function I(e,t){var n=t?de:me;return[n,e+"s"]}function O(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return q(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=A(n)),0===n&&(n=null),r[t]=n}}),r}function A(e){var t=0,n=e.split(/\s*,\s*/);return q(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function $(e){return 0===e||null!=e}function D(e,t){var n=k,r=e+"s";return t?n+=ie:r+=" linear all",[n,r]}function x(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function R(e,t,n){q(n,function(n){e[n]=J(e[n])?e[n]:t.style.getPropertyValue(n)})}var k,P,N,M,L=1,U="-add",F="-remove",G="ng-",B="-active",H="-prepare",j="ng-animate",V="$$ngAnimateChildren",z="";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(z="-webkit-",k="WebkitTransition",P="webkitTransitionEnd transitionend"):(k="transition",P="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(z="-webkit-",N="WebkitAnimation",M="webkitAnimationEnd animationend"):(N="animation",M="animationend");var W,Y,q,K,J,Z,Q,X,ee,te,ne,re,ie="Duration",oe="Property",ae="Delay",se="TimingFunction",ce="IterationCount",le="PlayState",ue=9999,de=N+ae,pe=N+ie,me=k+ae,fe=k+ie,he=t.$$minErr("ng"),ge=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],ve=["$interpolate",function(e){return{link:function(t,n,r){function i(e){e="on"===e||"true"===e,n.data(V,e)}var o=r.ngAnimateChildren;ee(o)&&0===o.length?n.data(V,!0):(i(e(o)(t)),r.$observe("ngAnimateChildren",i))}}}],ye="$$animateCss",be=1e3,_e=3,Ee=1.5,Ce={transitionDuration:fe,transitionDelay:me,transitionProperty:k+oe,animationDuration:pe,animationDelay:de,animationIterationCount:N+ce},Se={transitionDuration:fe,transitionDelay:me,animationDuration:pe,animationDelay:de},we=["$animateProvider",function(e){var t=x(),n=x();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,s,c,l,u,g,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++H);return i+"-"+e.getAttribute("class")+"-"+t}function _(n,r,i,o){var a=t.get(i);return a||(a=O(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function w(i,a,s,c){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var u=o(a,"-stagger");r.addClass(i,u),l=O(e,i,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(i,u),n.put(s,l)}return l||{}}function A(e){j.push(e),g.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),r=0;r<j.length;r++)j[r](e);j.length=0})}function x(e,t,n){var r=_(e,t,n,Ce),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var L=d(r),H=0,j=[];return function(e,n){function l(){g()}function d(){g(!0)}function g(t){if(!(J||Q&&Z)){J=!0,Z=!1,V.$$skipPreparationClasses||r.removeClass(e,Ce),r.removeClass(e,Te),C(Y,!1),E(Y,!1),q(le,function(e){Y.style[e[0]]=""}),L(e,V),m(e,V),Object.keys(z).length&&q(z,function(e,t){e?Y.style.setProperty(t,e):Y.style.removeProperty(t)}),V.onDone&&V.onDone(),me&&me.length&&e.off(me.join(" "),H);var n=e.data(ye);n&&(c.cancel(n[0].timer),e.removeData(ye)),X&&X.complete(!t)}}function _(e){Fe.blockTransition&&E(Y,e),Fe.blockKeyframeAnimation&&C(Y,!!e)}function O(){return X=new s({end:l,cancel:d}),A(re),g(),{$$willAnimate:!1,start:function(){return X},end:l}}function H(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(_e));Math.max(n-ce,0)>=ne&&r>=ie&&(Q=!0,g())}function j(){function t(){if(!J){if(_(!1),q(le,function(e){var t=e[0],n=e[1];Y.style[t]=n}),L(e,V),r.addClass(e,Te),Fe.recalculateTimingStyles){if(we=Y.className+" "+Ce,Ae=b(Y,we),Le=x(Y,we,Ae),Ue=Le.maxDelay,te=Math.max(Ue,0),ie=Le.maxDuration,0===ie)return void g();Fe.hasTransitions=Le.transitionDuration>0,Fe.hasAnimations=Le.animationDuration>0}if(Fe.applyAnimationDelay&&(Ue="boolean"!=typeof V.delay&&$(V.delay)?parseFloat(V.delay):Ue,te=Math.max(Ue,0),Le.animationDelay=Ue,Ge=I(Ue,!0),le.push(Ge),Y.style[Ge[0]]=Ge[1]),ne=te*be,ae=ie*be,V.easing){var t,i=V.easing;Fe.hasTransitions&&(t=k+se,le.push([t,i]),Y.style[t]=i),Fe.hasAnimations&&(t=N+se,le.push([t,i]),Y.style[t]=i)}Le.transitionDuration&&me.push(P),Le.animationDuration&&me.push(M),ce=Date.now();var o=ne+Ee*ae,a=ce+o,s=e.data(ye)||[],l=!0;if(s.length){var u=s[0];l=a>u.expectedEndTime,l?c.cancel(u.timer):s.push(g)}if(l){var d=c(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(g),e.data(ye,s)}me.length&&e.on(me.join(" "),H),V.to&&(V.cleanupStyles&&R(z,Y,Object.keys(V.to)),h(e,V))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!J){if(!Y.parentNode)return void g();var i=function(e){if(Q)Z&&e&&(Z=!1,g());else if(Z=!e,Le.animationDuration){var t=C(Y,Z);Z?le.push(t):a(le,t)}},o=Ne>0&&(Le.transitionDuration&&0===$e.transitionDuration||Le.animationDuration&&0===$e.animationDuration)&&Math.max($e.animationDelay,$e.transitionDelay);o?c(t,Math.floor(o*Ne*be),!1):t(),ee.resume=function(){i(!0)},ee.pause=function(){i(!1)}}}var V=n||{};V.$$prepared||(V=p(W(V)));var z={},Y=y(e);if(!Y||!Y.parentNode||!v.enabled())return O();var J,Z,Q,X,ee,te,ne,ie,ae,ce,le=[],de=e.attr("class"),pe=i(V),me=[];if(0===V.duration||!u.animations&&!u.transitions)return O();var fe=V.event&&K(V.event)?V.event.join(" "):V.event,he=fe&&V.structural,ge="",ve="";he?ge=o(fe,G,!0):fe&&(ge=fe),V.addClass&&(ve+=o(V.addClass,U)),V.removeClass&&(ve.length&&(ve+=" "),ve+=o(V.removeClass,F)),V.applyClassesEarly&&ve.length&&L(e,V);var Ce=[ge,ve].join(" ").trim(),we=de+" "+Ce,Te=o(Ce,B),Ie=pe.to&&Object.keys(pe.to).length>0,Oe=(V.keyframeStyle||"").length>0;if(!Oe&&!Ie&&!Ce)return O();var Ae,$e;if(V.stagger>0){var De=parseFloat(V.stagger);$e={transitionDelay:De,animationDelay:De,transitionDuration:0,animationDuration:0}}else Ae=b(Y,we),$e=w(Y,Ce,Ae,Se);V.$$skipPreparationClasses||r.addClass(e,Ce);var xe;if(V.transitionStyle){var Re=[k,V.transitionStyle];S(Y,Re),le.push(Re)}if(V.duration>=0){xe=Y.style[k].length>0;var ke=D(V.duration,xe);S(Y,ke),le.push(ke)}if(V.keyframeStyle){var Pe=[N,V.keyframeStyle];S(Y,Pe),le.push(Pe)}var Ne=$e?V.staggerIndex>=0?V.staggerIndex:t.count(Ae):0,Me=0===Ne;Me&&!V.skipBlocking&&E(Y,ue);var Le=x(Y,we,Ae),Ue=Le.maxDelay;te=Math.max(Ue,0),ie=Le.maxDuration;var Fe={};if(Fe.hasTransitions=Le.transitionDuration>0,Fe.hasAnimations=Le.animationDuration>0,Fe.hasTransitionAll=Fe.hasTransitions&&"all"===Le.transitionProperty,Fe.applyTransitionDuration=Ie&&(Fe.hasTransitions&&!Fe.hasTransitionAll||Fe.hasAnimations&&!Fe.hasTransitions),Fe.applyAnimationDuration=V.duration&&Fe.hasAnimations,Fe.applyTransitionDelay=$(V.delay)&&(Fe.applyTransitionDuration||Fe.hasTransitions),Fe.applyAnimationDelay=$(V.delay)&&Fe.hasAnimations,Fe.recalculateTimingStyles=ve.length>0,(Fe.applyTransitionDuration||Fe.applyAnimationDuration)&&(ie=V.duration?parseFloat(V.duration):ie,Fe.applyTransitionDuration&&(Fe.hasTransitions=!0,Le.transitionDuration=ie,xe=Y.style[k+oe].length>0,le.push(D(ie,xe))),Fe.applyAnimationDuration&&(Fe.hasAnimations=!0,Le.animationDuration=ie,le.push(T(ie)))),0===ie&&!Fe.recalculateTimingStyles)return O();if(null!=V.delay){var Ge;"boolean"!=typeof V.delay&&(Ge=parseFloat(V.delay),te=Math.max(Ge,0)),Fe.applyTransitionDelay&&le.push(I(Ge)),Fe.applyAnimationDelay&&le.push(I(Ge,!0))}return null==V.duration&&Le.transitionDuration>0&&(Fe.recalculateTimingStyles=Fe.recalculateTimingStyles||Me),ne=te*be,ae=ie*be,V.skipBlocking||(Fe.blockTransition=Le.transitionDuration>0,Fe.blockKeyframeAnimation=Le.animationDuration>0&&$e.animationDelay>0&&0===$e.animationDuration),V.from&&(V.cleanupStyles&&R(z,Y,Object.keys(V.from)),f(e,V)),Fe.blockTransition||Fe.blockKeyframeAnimation?_(ie):V.skipBlocking||E(Y,!1),{$$willAnimate:!0,end:l,start:function(){return J?void 0:(ee={end:l,cancel:d,resume:null,pause:null},X=new s(ee),A(j),X)}}}}]}],Te=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,c,l,u,d){function p(e){return e.replace(/\bng-\S+\b/g,"")}function m(e,t){return ee(e)&&(e=e.split(" ")),ee(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function f(t,a,c){function l(e){var t={},n=y(e).getBoundingClientRect();return q(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=v.scrollTop;break;case"left":r+=v.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function u(){var t=e(g,{addClass:i,delay:!0,from:l(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function f(){var t=p(d(c)),n=m(t,b),r=m(b,t),a=e(g,{to:l(c),addClass:o+" "+n,removeClass:i+" "+r,delay:!0});return a.$$willAnimate?a:null}function h(){g.remove(),a.removeClass(n),c.removeClass(n)}var g=ne(y(a).cloneNode(!0)),b=p(d(g));a.addClass(n),c.addClass(n),g.addClass(r),_.append(g);var E,C=u();if(!C&&(E=f(),!E))return h();var S=C||E;return{start:function(){function e(){n&&n.end()}var t,n=S.start();return n.done(function(){return n=null,!E&&(E=f())?(n=E.start(),n.done(function(){n=null,h(),t.complete()}),n):(h(),void t.complete())}),t=new s({end:e,cancel:e})}}}function h(e,t,n,r){var i=g(e,re),o=g(t,re),a=[];return q(r,function(e){var t=e.out,r=e["in"],i=f(n,t,r);i&&a.push(i)}),i||o||0!==a.length?{start:function(){function e(){q(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),q(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:void 0}function g(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=w(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!l.animations&&!l.transitions)return re;var v=d[0].body,b=y(c),_=ne(t(b)||v.contains(b)?b:v);return function(e){return e.from&&e.to?h(e.from,e.to,e.classes,e.anchors):g(e)}}]}],Ie=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=K(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=d(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function c(){f=!0,s(),m(e,a)}function l(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(Q(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Q(s))return s;return re}function u(e,t,r,i,o){var a=[];return q(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,c=function(e){a||(a=!0,(o||re)(e),i.complete(!e))};return i=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,r,function(e){var t=e===!1;c(t)}),i})}),a}function d(e,t,r,i,o){var a=u(e,t,r,i,o);if(0===a.length){var s,c;"beforeSetClass"===o?(s=u(e,"removeClass",r,i,"beforeRemoveClass"),c=u(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(e,"removeClass",r,i,"removeClass"),c=u(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&q(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){q(t,function(t){e?t.cancel():t.end()})}}}var f=!1;3===arguments.length&&X(r)&&(a=r,r=null),a=p(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var h,g,v=a.addClass,y=a.removeClass,b=i(r);if(b.length){var _,E;"leave"===t?(E="leave",_="afterLeave"):(E="before"+t.charAt(0).toUpperCase()+t.substr(1),_=t),"enter"!==t&&"move"!==t&&(h=d(e,t,a,b,E)),g=d(e,t,a,b,_)}if(h||g){var C;return{$$willAnimate:!0,end:function(){return C?C.end():(c(),C=new n,C.complete(!0)),C},start:function(){function e(e){c(e),C.complete(e)}function t(t){f||((r||re)(t),e(t))}if(C)return C;C=new n;var r,i=[];return h&&i.push(function(e){r=h(e)}),i.length?i.push(function(e){s(),e(!0)}):s(),g&&i.push(function(e){r=g(e)}),C.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(i,e),C}}}}}]}],Oe=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){q(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Ae="data-ng-animate",$e="$ngAnimatePin",De=["$animateProvider",function(t){function r(e){if(!e)return null;var t=e.split(f),n=Object.create(null);return q(t,function(e){n[e]=!0}),n}function i(e,t){if(e&&t){var n=r(t);return e.split(f).some(function(e){return n[e]})}}function o(e,t,n,r){return h[e].some(function(e){return e(t,n,r)})}function a(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var l=1,u=2,f=" ",h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(e,t,n){return!t.structural&&a(t)}),h.skip.push(function(e,t,n){return!t.structural&&!a(t)}),h.skip.push(function(e,t,n){return"leave"===n.event&&t.structural}),h.skip.push(function(e,t,n){return n.structural&&n.state===u&&!t.structural}),h.cancel.push(function(e,t,n){return n.structural&&t.structural}),h.cancel.push(function(e,t,n){return n.state===u&&t.structural}),h.cancel.push(function(e,t,n){if(n.structural)return!1;var r=t.addClass,o=t.removeClass,a=n.addClass,s=n.removeClass;return te(r)&&te(o)||te(a)&&te(s)?!1:i(r,s)||i(o,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,i,f,h,v,E,C,S,w,T){function I(){var e=!1;return function(t){e?t():i.$$postDigest(function(){e=!0,t()})}}function O(e,t){return g(e,t,{})}function A(e,t,n){var r=y(t),i=y(e),o=[],a=H[n];return a&&q(a,function(e){re.call(e.node,r)?o.push(e.callback):"leave"===n&&re.call(e.node,i)&&o.push(e.callback)}),o}function $(e,t,n){var r=c(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}function D(e,t){"close"!==e||t[0].parentNode||ie.off(t)}function x(e,t,n){function c(t,n,i,o){T(function(){var t=A(v,e,n);t.length?r(function(){q(t,function(t){t(e,i,o)}),D(i,e)}):D(i,e)}),t.progress(n,i,o)}function d(t){_(e,S),Q(e,S),m(e,S),S.domOperation(),w.complete(!t)}var f,v,S=W(n);e=s(e),e&&(f=y(e),v=e.parent()),S=p(S);var w=new C,T=I();if(K(S.addClass)&&(S.addClass=S.addClass.join(" ")),S.addClass&&!ee(S.addClass)&&(S.addClass=null),K(S.removeClass)&&(S.removeClass=S.removeClass.join(" ")),S.removeClass&&!ee(S.removeClass)&&(S.removeClass=null),S.from&&!X(S.from)&&(S.from=null),S.to&&!X(S.to)&&(S.to=null),!f)return d(),w;var $=[f.className,S.addClass,S.removeClass].join(" ");if(!z($))return d(),w;var x=["enter","move","leave"].indexOf(t)>=0,P=h[0].hidden,L=!G||P||F.get(f),B=!L&&U.get(f)||{},H=!!B.state;if(L||H&&B.state===l||(L=!N(e,v,t)),L)return P&&c(w,t,"start"),d(),P&&c(w,t,"close"),w;x&&R(e);var j={structural:x,element:e,event:t,addClass:S.addClass,removeClass:S.removeClass,close:d,options:S,runner:w};if(H){var V=o("skip",e,j,B);if(V)return B.state===u?(d(),w):(g(e,B,j),B.runner);var Y=o("cancel",e,j,B);if(Y)if(B.state===u)B.runner.end();else{if(!B.structural)return g(e,B,j),B.runner;B.close()}else{var J=o("join",e,j,B);if(J){if(B.state!==u)return b(e,x?t:null,S),t=j.event=B.event,S=g(e,B,j),B.runner;O(e,j)}}}else O(e,j);var Z=j.structural;if(Z||(Z="animate"===j.event&&Object.keys(j.options.to||{}).length>0||a(j)),!Z)return d(),k(e),w;var te=(B.counter||0)+1;return j.counter=te,M(e,l,j),i.$$postDigest(function(){var n=U.get(f),r=!n;n=n||{};var i=e.parent()||[],o=i.length>0&&("animate"===n.event||n.structural||a(n));if(r||n.counter!==te||!o)return r&&(Q(e,S),m(e,S)),(r||x&&n.event!==t)&&(S.domOperation(),w.end()),void(o||k(e));t=!n.structural&&a(n,!0)?"setClass":n.event,M(e,u);var s=E(e,t,n.options);w.setHost(s),c(w,t,"start",{}),s.done(function(n){d(!n);var r=U.get(f);r&&r.counter===te&&k(y(e)),c(w,t,"close",{})})}),w}function R(e){var t=y(e),n=t.querySelectorAll("["+Ae+"]");q(n,function(e){var t=parseInt(e.getAttribute(Ae),10),n=U.get(e);if(n)switch(t){case u:n.runner.end();case l:U.remove(e)}})}function k(e){var t=y(e);t.removeAttribute(Ae),U.remove(t)}function P(e,t){return y(e)===y(t)}function N(e,t,n){var r,i=ne(h[0].body),o=P(e,i)||"HTML"===e[0].nodeName,a=P(e,f),s=!1,c=F.get(y(e)),l=ne.data(e[0],$e);for(l&&(t=l),t=y(t);t&&(a||(a=P(t,f)),t.nodeType===L);){var u=U.get(t)||{};if(!s){var d=F.get(t);if(d===!0&&c!==!1){c=!0;break}d===!1&&(c=!1),s=u.structural}if(te(r)||r===!0){var p=ne.data(t,V);J(p)&&(r=p)}if(s&&r===!1)break;if(o||(o=P(t,i)),o&&a)break;t=a||!(l=ne.data(t,$e))?t.parentNode:y(l)}var m=(!s||r)&&c!==!0;return m&&a&&o}function M(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(Ae,t);var i=U.get(r),o=i?Y(i,n):n;U.put(r,o)}var U=new v,F=new v,G=null,B=i.$watch(function(){return 0===S.totalPendingRequests},function(e){e&&(B(),i.$$postDigest(function(){i.$$postDigest(function(){null===G&&(G=!0)})}))}),H=Object.create(null),j=t.classNameFilter(),z=j?function(e){return j.test(e)}:function(){return!0},Q=d(w),re=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ie={on:function(e,t,n){var r=c(t);H[e]=H[e]||[],H[e].push({node:r,callback:n}),ne(t).on("$destroy",function(){var i=U.get(r);i||ie.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||ee(arguments[0])){var r=H[e];r&&(H[e]=1===arguments.length?null:$(r,t,n))}else{t=arguments[0];for(var i in H)H[i]=$(H[i],t)}},pin:function(e,t){n(Z(e),"element","not an element"),n(Z(t),"parentElement","not an element"),e.data($e,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,x(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!G;else{var r=Z(e);if(r){var i=y(e);1===n?t=!F.get(i):F.put(i,!t)}else t=G=!!e}return t}};return ie}]}],xe=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function i(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,c,l,u,f){function h(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;o.put(n,e);for(var a;r;){if(a=o.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||i).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];0>=i&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new u;for(r=0;r<e.length;r++){var a=e[r];o.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(i)}var g=[],v=d(e);return function(u,d,b){function _(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return q(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function E(e){var t=[],n={};q(e,function(e,r){var i=e.element,a=y(i),s=e.event,c=["enter","move"].indexOf(s)>=0,l=e.structural?_(a):[];if(l.length){var u=c?"to":"from";q(l,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][u]={animationID:r,element:ne(e)}})}else t.push(e)});var r={},i={};return q(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(r[l]||(r[l]=!0,t.push(e[c])))}var u=e[a.animationID],d=e[s.animationID],p=a.animationID.toString();if(!i[p]){var m=i[p]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:C(u.classes,d.classes),from:u,to:d,anchors:[]};m.classes.length?t.push(m):(t.push(u),t.push(d))}i[p].anchors.push({out:a.element,"in":s.element})}),t}function C(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function S(e){for(var t=a.length-1;t>=0;t--){var n=a[t],r=c.get(n),i=r(e);if(i)return i}}function w(){u.addClass(j),x&&e.addClass(u,x),R&&(e.removeClass(u,R),R=null)}function T(e,t){function n(e){var n=i(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function I(){var e=i(u);!e||"leave"===d&&b.$$domOperationFired||e.end()}function O(t){u.off("$destroy",I),n(u),v(u,b),m(u,b),b.domOperation(),x&&e.removeClass(u,x),u.removeClass(j),$.complete(!t)}b=p(b);var A=["enter","move","leave"].indexOf(d)>=0,$=new l({end:function(){O()},cancel:function(){O(!0)}});if(!a.length)return O(),$;t(u,$);var D=r(u.attr("class"),r(b.addClass,b.removeClass)),x=b.tempClasses;x&&(D+=" "+x,b.tempClasses=null);var R;return A&&(R="ng-"+d+H,e.addClass(u,R)),g.push({element:u,classes:D,event:d,structural:A,options:b,beforeStart:w,close:O}),u.on("$destroy",I),g.length>1?$:(s.$$postDigest(function(){var e=[];q(g,function(t){i(t.element)?e.push(t):t.close()}),g.length=0;var t=E(e),n=[];q(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,r=e.anchors?e.from.element||e.to.element:e.element;if(i(r)){var o=S(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),T(e,a)}else n()}})}),f(h(n))}),$)}}]}],Re=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,o){var a,s;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){re=t.noop,W=t.copy,Y=t.extend,ne=t.element,q=t.forEach,K=t.isArray,ee=t.isString,X=t.isObject,te=t.isUndefined,J=t.isDefined,Q=t.isFunction,Z=t.isElement}).directive("ngAnimateSwap",Re).directive("ngAnimateChildren",ve).factory("$$rAFScheduler",ge).provider("$$animateQueue",De).provider("$$animation",xe).provider("$animateCss",we).provider("$$animateCssDriver",Te).provider("$$animateJs",Ie).provider("$$animateJsDriver",Oe)}(window,window.angular),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e){var t,n=/^(-?\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(t=e.match(n)){var i=new Date(0),o=0,a=0;return t[9]&&(o=r(t[9]+t[10]),a=r(t[9]+t[11])),i.setUTCFullYear(r(t[1]),r(t[2])-1,r(t[3])),i.setUTCHours(r(t[4]||0)-o,r(t[5]||0)-a,r(t[6]||0),r(t[7]||0)),i}return e}function r(e){return parseInt(e,10)}function i(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function o(e,n,r,i){function o(e,n,r,i){return t.isFunction(e)?e:function(){return t.isNumber(e)?[e,n,r,i]:[200,e,n,r]}}function c(e,o,a,c,l,u,g,v,y,b){function _(e){return t.isString(e)||t.isFunction(e)||e instanceof RegExp?e:t.toJson(e)}function E(t){function r(){var n=t.response(e,o,a,l,t.params(o));C.$$respHeaders=n[2],c(h(n[0]),h(n[1]),C.getAllResponseHeaders(),h(n[3]||""))}function s(){for(var e=0,t=m.length;t>e;e++)if(m[e]===r){m.splice(e,1),c(-1,void 0,"");break}}return!i&&u&&(u.then?u.then(s):n(s,u)),r}var C=new s,S=p[0],w=!1;if(C.$$events=y,C.upload.$$events=b,S&&S.match(e,o)){if(!S.matchData(a))throw new Error("Expected "+S+" with different data\nEXPECTED: "+_(S.data)+"\nGOT:      "+a);if(!S.matchHeaders(l))throw new Error("Expected "+S+" with different headers\nEXPECTED: "+_(S.headers)+"\nGOT:      "+_(l));if(p.shift(),S.response)return void m.push(E(S));w=!0}for(var T,I=-1;T=d[++I];)if(T.match(e,o,a,l||{})){if(T.response)(i?i.defer:f)(E(T));else{if(!T.passThrough)throw new Error("No response defined !");r(e,o,a,c,l,u,g,v,y,b)}return}throw w?new Error("No response defined !"):new Error("Unexpected request: "+e+" "+o+"\n"+(S?"Expected "+S:"No more request expected"))}function l(e){var n={regexp:e},r=n.keys=[];return e&&t.isString(e)?(e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([?*])?/g,function(e,t,n,i){var o="?"===i?i:null,a="*"===i?i:null;return r.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([/$*])/g,"\\$1"),n.regexp=new RegExp("^"+e,"i"),n):n}function u(e){t.forEach(["GET","DELETE","JSONP","HEAD"],function(t){c[e+t]=function(n,r,i){return c[e](t,n,void 0,r,i)}}),t.forEach(["PUT","POST","PATCH"],function(t){c[e+t]=function(n,r,i,o){return c[e](t,n,r,i,o)}})}var d=[],p=[],m=[],f=t.bind(m,m.push),h=t.copy;return c.when=function(e,t,n,r,s){var c=new a(e,t,n,r,s),l={respond:function(e,t,n,r){return c.passThrough=void 0,c.response=o(e,t,n,r),l}};return i&&(l.passThrough=function(){return c.response=void 0,c.passThrough=!0,l}),d.push(c),l},u("when"),c.whenRoute=function(e,t){var n=l(t);return c.when(e,n.regexp,void 0,void 0,n.keys)},c.expect=function(e,t,n,r,i){var s=new a(e,t,n,r,i),c={respond:function(e,t,n,r){return s.response=o(e,t,n,r),c}};return p.push(s),c},u("expect"),c.expectRoute=function(e,t){var n=l(t);return c.expect(e,n.regexp,void 0,void 0,n.keys)},c.flush=function(n,r,i){if(i!==!1&&e.$digest(),r=r||0,r>=m.length)throw new Error("No pending request to flush !");if(t.isDefined(n)&&null!==n)for(;n--;){var o=m.splice(r,1);if(!o.length)throw new Error("No more pending request to flush !");o[0]()}else for(;m.length>r;)m.splice(r,1)[0]();c.verifyNoOutstandingExpectation(i)},c.verifyNoOutstandingExpectation=function(t){if(t!==!1&&e.$digest(),p.length)throw new Error("Unsatisfied requests: "+p.join(", "))},c.verifyNoOutstandingRequest=function(){if(m.length)throw new Error("Unflushed requests: "+m.length)},c.resetExpectations=function(){p.length=0,m.length=0},c}function a(e,n,r,i,o){function a(e){var t=e.slice(e.indexOf("?")+1).split("&");return t.sort()}function s(e){return n.slice(0,n.indexOf("?"))===e.slice(0,e.indexOf("?"))&&a(n).join()===a(e).join()}this.data=r,this.headers=i,this.match=function(n,r,i,o){return e!==n?!1:this.matchUrl(r)?t.isDefined(i)&&!this.matchData(i)?!1:t.isDefined(o)&&!this.matchHeaders(o)?!1:!0:!1},this.matchUrl=function(e){return n?t.isFunction(n.test)?n.test(e):t.isFunction(n)?n(e):n===e||s(e):!0},this.matchHeaders=function(e){return t.isUndefined(i)?!0:t.isFunction(i)?i(e):t.equals(i,e)},this.matchData=function(e){return t.isUndefined(r)?!0:r&&t.isFunction(r.test)?r.test(e):r&&t.isFunction(r)?r(e):r&&!t.isString(r)?t.equals(t.fromJson(t.toJson(r)),t.fromJson(e)):r==e},this.toString=function(){return e+" "+n},this.params=function(e){function r(){var r={};if(!n||!t.isFunction(n.test)||!o||0===o.length)return r;var i=n.exec(e);if(!i)return r;for(var a=1,s=i.length;s>a;++a){var c=o[a-1],l=i[a];c&&l&&(r[c.name||c]=l)}return r}function i(){var n,r,i={},o=e.indexOf("?")>-1?e.substring(e.indexOf("?")+1):"";return t.forEach(o.split("&"),function(e){if(e&&(n=e.replace(/\+/g,"%20").split("="),r=a(n[0]),t.isDefined(r))){var o=t.isDefined(n[1])?a(n[1]):!0;hasOwnProperty.call(i,r)?t.isArray(i[r])?i[r].push(o):i[r]=[i[r],o]:i[r]=o}}),i}function a(e){try{return decodeURIComponent(e)}catch(t){}}return t.extend(i(),r())}}function s(){s.$$lastInstance=this,this.open=function(e,t,n){this.$$method=e,this.$$url=t,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(e){this.$$data=e},this.setRequestHeader=function(e,t){this.$$reqHeaders[e]=t},this.getResponseHeader=function(e){var n=this.$$respHeaders[e];return n?n:(e=t.lowercase(e),(n=this.$$respHeaders[e])?n:(n=void 0,t.forEach(this.$$respHeaders,function(r,i){n||t.lowercase(i)!==e||(n=r)}),n))},this.getAllResponseHeaders=function(){var e=[];return t.forEach(this.$$respHeaders,function(t,n){e.push(n+": "+t)}),e.join("\n")},this.abort=t.noop,this.$$events={},this.addEventListener=function(e,n){t.isUndefined(this.$$events[e])&&(this.$$events[e]=[]),this.$$events[e].push(n)},this.upload={$$events:{},addEventListener:this.addEventListener}}function c(e){return t.mock.$ControllerDecorator=["$delegate",function(n){return function(r,i,o,a){if(o&&"object"==typeof o){var s=e.preAssignBindingsEnabled(),c=n(r,i,!0,a);s&&t.extend(c.instance,o);var l=c();return s&&l===c.instance||t.extend(l,o),l}return n(r,i,o,a)}}],t.mock.$ControllerDecorator}t.mock={},t.mock.$BrowserProvider=function(){this.$get=function(){return new t.mock.$Browser}},t.mock.$Browser=function(){var e=this;this.isMock=!0,e.$$url="http://server/",e.$$lastUrl=e.$$url,e.pollFns=[],e.$$completeOutstandingRequest=t.noop,e.$$incOutstandingRequestCount=t.noop,e.onUrlChange=function(t){return e.pollFns.push(function(){(e.$$lastUrl!==e.$$url||e.$$state!==e.$$lastState)&&(e.$$lastUrl=e.$$url,e.$$lastState=e.$$state,t(e.$$url,e.$$state))}),t},e.$$applicationDestroyed=t.noop,e.$$checkUrlChange=t.noop,e.deferredFns=[],e.deferredNextId=0,e.defer=function(t,n){return n=n||0,e.deferredFns.push({time:e.defer.now+n,fn:t,id:e.deferredNextId}),e.deferredFns.sort(function(e,t){return e.time-t.time}),e.deferredNextId++},e.defer.now=0,e.defer.cancel=function(n){var r;return t.forEach(e.deferredFns,function(e,t){e.id===n&&(r=t)}),t.isDefined(r)?(e.deferredFns.splice(r,1),!0):!1},e.defer.flush=function(n){var r;if(t.isDefined(n))r=e.defer.now+n;else{if(!e.deferredFns.length)throw new Error("No deferred tasks to be flushed");r=e.deferredFns[e.deferredFns.length-1].time}for(;e.deferredFns.length&&e.deferredFns[0].time<=r;)e.defer.now=e.deferredFns[0].time,e.deferredFns.shift().fn();e.defer.now=r},e.$$baseHref="/",e.baseHref=function(){return this.$$baseHref}},t.mock.$Browser.prototype={poll:function(){t.forEach(this.pollFns,function(e){e()})},url:function(e,n,r){return t.isUndefined(r)&&(r=null),e?(this.$$url=e,this.$$state=t.copy(r),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(e){e()}},t.mock.$ExceptionHandlerProvider=function(){var e;this.mode=function(t){switch(t){case"log":case"rethrow":var n=[];e=function(e){if(1===arguments.length?n.push(e):n.push([].slice.call(arguments,0)),"rethrow"===t)throw e},e.errors=n;break;default:throw new Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return e},this.mode("rethrow")},t.mock.$LogProvider=function(){function e(e,t,n){return e.concat(Array.prototype.slice.call(t,n))}var n=!0;this.debugEnabled=function(e){return t.isDefined(e)?(n=e,this):n},this.$get=function(){var r={log:function(){r.log.logs.push(e([],arguments,0))},warn:function(){r.warn.logs.push(e([],arguments,0))},info:function(){r.info.logs.push(e([],arguments,0))},error:function(){r.error.logs.push(e([],arguments,0))},debug:function(){n&&r.debug.logs.push(e([],arguments,0))}};return r.reset=function(){r.log.logs=[],r.info.logs=[],r.warn.logs=[],r.error.logs=[],r.debug.logs=[]},r.assertEmpty=function(){var e=[];if(t.forEach(["error","warn","info","log","debug"],function(n){t.forEach(r[n].logs,function(r){t.forEach(r,function(t){e.push("MOCK $log ("+n+"): "+String(t)+"\n"+(t.stack||""))})})}),e.length)throw e.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),e.push(""),new Error(e.join("\n---------\n"))},r.reset(),r}},t.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(e,n,r,i){var o=[],a=0,s=0,c=function(c,l,u,d){function p(){if(v.notify(h++),u>0&&h>=u){var r;v.resolve(h),t.forEach(o,function(e,t){e.id===y.$$intervalId&&(r=t)}),t.isDefined(r)&&o.splice(r,1)}g?e.defer.flush():n.$apply()}var m=arguments.length>4,f=m?Array.prototype.slice.call(arguments,4):[],h=0,g=t.isDefined(d)&&!d,v=(g?i:r).defer(),y=v.promise;return u=t.isDefined(u)?u:0,y.then(null,null,m?function(){c.apply(null,f)}:c),y.$$intervalId=a,o.push({nextTime:s+l,delay:l,fn:p,id:a,deferred:v}),o.sort(function(e,t){return e.nextTime-t.nextTime}),a++,y};return c.cancel=function(e){if(!e)return!1;var n;return t.forEach(o,function(t,r){t.id===e.$$intervalId&&(n=r)}),t.isDefined(n)?(o[n].deferred.reject("canceled"),o.splice(n,1),!0):!1},c.flush=function(e){for(s+=e;o.length&&o[0].nextTime<=s;){var t=o[0];t.fn(),t.nextTime+=t.delay,o.sort(function(e,t){return e.nextTime-t.nextTime})}return e},c}]},t.mock.TzDate=function(e,r){var o=new Date(0);if(t.isString(r)){var a=r;if(o.origDate=n(r),r=o.origDate.getTime(),isNaN(r))throw{name:"Illegal Argument",message:"Arg '"+a+"' passed into TzDate constructor is not a valid date string"}}else o.origDate=new Date(r);var s=new Date(r).getTimezoneOffset();o.offsetDiff=60*s*1e3-1e3*e*60*60,o.date=new Date(r+o.offsetDiff),o.getTime=function(){return o.date.getTime()-o.offsetDiff},o.toLocaleDateString=function(){return o.date.toLocaleDateString()},o.getFullYear=function(){return o.date.getFullYear()},o.getMonth=function(){return o.date.getMonth()},o.getDate=function(){return o.date.getDate()},o.getHours=function(){return o.date.getHours()},o.getMinutes=function(){return o.date.getMinutes()},o.getSeconds=function(){return o.date.getSeconds()},o.getMilliseconds=function(){return o.date.getMilliseconds()},o.getTimezoneOffset=function(){return 60*e},o.getUTCFullYear=function(){return o.origDate.getUTCFullYear()},o.getUTCMonth=function(){return o.origDate.getUTCMonth()},o.getUTCDate=function(){return o.origDate.getUTCDate()},o.getUTCHours=function(){return o.origDate.getUTCHours()},o.getUTCMinutes=function(){return o.origDate.getUTCMinutes()},o.getUTCSeconds=function(){return o.origDate.getUTCSeconds()},o.getUTCMilliseconds=function(){return o.origDate.getUTCMilliseconds()},o.getDay=function(){return o.date.getDay()},o.toISOString&&(o.toISOString=function(){return i(o.origDate.getUTCFullYear(),4)+"-"+i(o.origDate.getUTCMonth()+1,2)+"-"+i(o.origDate.getUTCDate(),2)+"T"+i(o.origDate.getUTCHours(),2)+":"+i(o.origDate.getUTCMinutes(),2)+":"+i(o.origDate.getUTCSeconds(),2)+"."+i(o.origDate.getUTCMilliseconds(),3)+"Z"});var c=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return t.forEach(c,function(e){o[e]=function(){throw new Error("Method '"+e+"' is not implemented in the TzDate mock")}}),o},t.mock.TzDate.prototype=Date.prototype,t.mock.animate=t.module("ngAnimateMock",["ng"]).config(["$provide",function(e){e.factory("$$forceReflow",function(){function e(){e.totalReflows++}return e.totalReflows=0,e}),e.factory("$$animateAsyncRun",function(){var e=[],t=function(){return function(t){e.push(t)}};return t.flush=function(){if(0===e.length)return!1;for(var t=0;t<e.length;t++)e[t]();return e=[],!0},t}),e.decorator("$$animateJs",["$delegate",function(e){var t=[],n=function(){var n=e.apply(e,arguments);return n&&t.push(n),n};return n.$closeAndFlush=function(){t.forEach(function(e){e.end()}),t=[]},n}]),e.decorator("$animateCss",["$delegate",function(e){var t=[],n=function(n,r){var i=e(n,r);return t.push(i),i};return n.$closeAndFlush=function(){t.forEach(function(e){e.end()}),t=[]},n}]),e.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function(e,n,r,i,o,a,s,c,l){var u={queue:[],cancel:e.cancel,on:e.on,off:e.off,pin:e.pin,get reflows(){return s.totalReflows},enabled:e.enabled,closeAndFlush:function(){this.flush(!0),o.$closeAndFlush(),a.$closeAndFlush(),this.flush()},flush:function(e){l.$digest();var t,n=!1;do t=!1,i.queue.length&&(i.flush(),t=n=!0),c.flush()&&(t=n=!0);while(t);if(!n&&!e)throw new Error("No pending animations ready to be closed or flushed");l.$digest()}};return t.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){u[t]=function(){return u.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),e[t].apply(e,arguments)}}),u}])}]),t.mock.dump=function(e){function n(e){var i;return t.isElement(e)?(e=t.element(e),i=t.element("<div></div>"),t.forEach(e,function(e){i.append(t.element(e).clone())}),i=i.html()):t.isArray(e)?(i=[],t.forEach(e,function(e){i.push(n(e))}),i="[ "+i.join(", ")+" ]"):i=t.isObject(e)?t.isFunction(e.$eval)&&t.isFunction(e.$apply)?r(e):e instanceof Error?e.stack||""+e.name+": "+e.message:t.toJson(e,!0):String(e),i}function r(e,n){n=n||"  ";var i=[n+"Scope("+e.$id+"): {"];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&!o.match(/^(\$|this)/)&&i.push("  "+o+": "+t.toJson(e[o]));for(var a=e.$$childHead;a;)i.push(r(a,n+"  ")),a=a.$$nextSibling;return i.push("}"),i.join("\n"+n)}return n(e)},t.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",o]},t.mock.$TimeoutDecorator=["$delegate","$browser",function(e,n){function r(e){var n=[];return t.forEach(e,function(e){n.push("{id: "+e.id+", time: "+e.time+"}")}),n.join(", ")}return e.flush=function(e){n.defer.flush(e)},e.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+r(n.deferredFns))},e}],t.mock.$RAFDecorator=["$delegate",function(e){var t=function(e){var n=t.queue.length;return t.queue.push(e),function(){t.queue.splice(n,1)}};return t.queue=[],t.supported=e.supported,t.flush=function(){if(0===t.queue.length)throw new Error("No rAF callbacks present");for(var e=t.queue.length,n=0;e>n;n++)t.queue[n]();t.queue=t.queue.slice(n)},t}];var l;t.mock.$RootElementProvider=function(){this.$get=["$injector",function(e){return l=t.element("<div ng-app></div>").data("$injector",e)}]},t.mock.$ComponentControllerProvider=["$compileProvider",function(e){this.$get=["$controller","$injector","$rootScope",function(e,t,n){return function(r,i,o,a){var s=t.get(r+"Directive"),c=s.filter(function(e){return e.controller&&e.controllerAs&&"E"===e.restrict});if(0===c.length)throw new Error("No component found");if(c.length>1)throw new Error("Too many components found");var l=c[0];return i=i||{},i.$scope=i.$scope||n.$new(!0),e(l.controller,i,o,a||l.controllerAs)}}]}],t.module("ngMock",["ng"]).provider({$browser:t.mock.$BrowserProvider,$exceptionHandler:t.mock.$ExceptionHandlerProvider,$log:t.mock.$LogProvider,$interval:t.mock.$IntervalProvider,$httpBackend:t.mock.$HttpBackendProvider,$rootElement:t.mock.$RootElementProvider,$componentController:t.mock.$ComponentControllerProvider}).config(["$provide","$compileProvider",function(e,n){e.decorator("$timeout",t.mock.$TimeoutDecorator),e.decorator("$$rAF",t.mock.$RAFDecorator),e.decorator("$rootScope",t.mock.$RootScopeDecorator),e.decorator("$controller",c(n))}]),t.module("ngMockE2E",["ng"]).config(["$provide",function(e){e.value("$httpBackend",t.injector(["ng"]).get("$httpBackend")),e.decorator("$httpBackend",t.mock.e2e.$httpBackendDecorator)}]),t.mock.e2e={},t.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",o],t.mock.$RootScopeDecorator=["$delegate",function(e){function t(){for(var e,t=0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=1,n.push(e.$$childHead),e=e.$$nextSibling;return t}function n(){for(var e,t=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=e.$$watchers?e.$$watchers.length:0,n.push(e.$$childHead),e=e.$$nextSibling;return t}var r=Object.getPrototypeOf(e);return r.$countChildScopes=t,r.$countWatchers=n,e}],function(n){function r(){this.shared=!1,this.sharedError=null,this.cleanupAfterEach=function(){return!this.shared||this.sharedError}}if(n){var i=null,o=new r,a=[],c=function(){return!!i};t.mock.$$annotate=t.injector.$$annotate,t.injector.$$annotate=function(e){return"function"!=typeof e||e.$inject||a.push(e),t.mock.$$annotate.apply(this,arguments)};var u=e.module=t.mock.module=function(){function e(){if(i.$injector)throw new Error("Injector already created, can not register a module!");var e,r=i.$modules||(i.$modules=[]);t.forEach(n,function(n){e=t.isObject(n)&&!t.isArray(n)?["$provide",function(e){t.forEach(n,function(t,n){e.value(n,t)})}]:n,i.$providerInjector?i.$providerInjector.invoke(e):r.push(e)})}var n=Array.prototype.slice.call(arguments,0);return c()?e():e};u.$$beforeAllHook=e.before||e.beforeAll,u.$$afterAllHook=e.after||e.afterAll,u.$$currentSpec=function(e){return 0===arguments.length?e:void(i=e)},u.sharedInjector=function(){if(!u.$$beforeAllHook||!u.$$afterAllHook)throw Error("sharedInjector() cannot be used unless your test runner defines beforeAll/afterAll");var e=!1;u.$$beforeAllHook(function(){if(o.shared)throw o.sharedError=Error("sharedInjector() cannot be called inside a context that has already called sharedInjector()"),o.sharedError;e=!0,i=this,o.shared=!0}),u.$$afterAllHook(function(){e?(o=new r,u.$$cleanup()):o.sharedError=null})},u.$$beforeEach=function(){if(o.shared&&i&&i!==this){var e=i;i=this,t.forEach(["$injector","$modules","$providerInjector","$injectorStrict"],function(t){i[t]=e[t],e[t]=null})}else i=this,l=null,a=[]},u.$$afterEach=function(){o.cleanupAfterEach()&&u.$$cleanup()},u.$$cleanup=function(){var e=i.$injector;if(a.forEach(function(e){delete e.$inject}),t.forEach(i.$modules,function(e){e&&e.$$hashKey&&(e.$$hashKey=void 0)}),i.$injector=null,i.$modules=null,i.$providerInjector=null,i=null,e){var n=e.get("$rootElement"),r=n&&n[0],o=l?[l[0]]:[];!r||l&&r===l[0]||o.push(r),t.element.cleanData(o);var c=e.get("$rootScope");c&&c.$destroy&&c.$destroy()}t.forEach(t.element.fragments,function(e,n){delete t.element.fragments[n]}),s.$$lastInstance=null,t.forEach(t.callbacks,function(e,n){delete t.callbacks[n]}),t.callbacks.$$counter=0},(e.beforeEach||e.setup)(u.$$beforeEach),(e.afterEach||e.teardown)(u.$$afterEach);var d=function(e,t){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&t&&(this.stack=e.stack+"\n"+t.stack),e.stackArray&&(this.stackArray=e.stackArray)};d.prototype=Error.prototype,e.inject=t.mock.inject=function(){function e(){var e=i.$modules||[],o=!!i.$injectorStrict;e.unshift(["$injector",function(e){i.$providerInjector=e}]),e.unshift("ngMock"),e.unshift("ng");var a=i.$injector;a||(o&&t.forEach(e,function(e){"function"==typeof e&&t.injector.$$annotate(e)}),a=i.$injector=t.injector(e,o),i.$injectorStrict=o);for(var s=0,c=n.length;c>s;s++){i.$injectorStrict&&a.annotate(n[s]);try{a.invoke(n[s]||t.noop,this)}catch(l){if(l.stack&&r)throw new d(l,r);throw l}finally{r=null}}}var n=Array.prototype.slice.call(arguments,0),r=new Error("Declaration Location");if(!r.stack)try{throw r}catch(o){}return c()?e.call(i):e},t.mock.inject.strictDi=function(e){function t(){if(e!==i.$injectorStrict){if(i.$injector)throw new Error("Injector already created, can not modify strict annotations");i.$injectorStrict=e}}return e=arguments.length?!!e:!0,c()?t():t}}}(e.jasmine||e.mocha)}(window,window.angular),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}function r(e,r){if(!n(r))throw o("badmember",'Dotted member path "@{0}" is invalid.',r);for(var i=r.split("."),a=0,s=i.length;s>a&&t.isDefined(e);a++){var c=i[a];e=null!==e?e[c]:void 0}return e}function i(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var o=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,c,l){function u(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function p(e,t){this.template=e,this.defaults=g({},n.defaults,t),this.urlParams={}}function m(e,t,u,d){function C(e,n){var i={};return n=g({},t,n),h(n,function(t,n){_(t)&&(t=t(e)),i[n]=t&&t.charAt&&"@"===t.charAt(0)?r(e,t.substr(1)):t}),i}function S(e){return e.resource}function w(e){i(e||{},this)}var T=new p(e,d);return u=g({},n.defaults.actions,u),w.prototype.toJSON=function(){var e=g({},this);return delete e.$promise,delete e.$resolved,e},h(u,function(e,t){var n=/^(POST|PUT|PATCH)$/i.test(e.method),r=e.timeout,u=b(e.cancellable)?e.cancellable:T.defaults.cancellable;r&&!E(r)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,r=null),w[t]=function(s,d,p,m){var b,E,I,O={};switch(arguments.length){case 4:I=m,E=p;case 3:case 2:if(!_(d)){O=s,b=d,E=p;break}if(_(s)){E=s,I=d;break}E=d,I=p;case 1:_(s)?E=s:n?b=s:O=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A,$,D=this instanceof w,x=D?b:e.isArray?[]:new w(b),R={},k=e.interceptor&&e.interceptor.response||S,P=e.interceptor&&e.interceptor.responseError||void 0;h(e,function(e,t){switch(t){default:R[t]=v(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!D&&u&&(A=c.defer(),R.timeout=A.promise,r&&($=l(A.resolve,r))),n&&(R.data=b),T.setUrlParams(R,g({},C(b,e.params||{}),O),e.url);var N=a(R).then(function(n){var r=n.data;if(r){if(y(r)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",y(r)?"array":"object",R.method,R.url);if(e.isArray)x.length=0,h(r,function(e){"object"==typeof e?x.push(new w(e)):x.push(e)});else{var a=x.$promise;i(r,x),x.$promise=a}}return n.resource=x,n},function(e){return(I||f)(e),c.reject(e)});return N["finally"](function(){x.$resolved=!0,!D&&u&&(x.$cancelRequest=f,l.cancel($),A=$=R.timeout=null)}),N=N.then(function(e){var t=k(e);return(E||f)(t,e.headers,e.status,e.statusText),t},P),D?N:(x.$promise=N,x.$resolved=!1,u&&(x.$cancelRequest=A.resolve),x)},w.prototype["$"+t]=function(e,n,r){_(e)&&(r=n,n=e,e={});var i=w[t].call(this,e,this,n,r);return i.$promise||i}}),w.bind=function(n){var r=g({},t,n);return m(e,r,u,d)},w}var f=t.noop,h=t.forEach,g=t.extend,v=t.copy,y=t.isArray,b=t.isDefined,_=t.isFunction,E=t.isNumber;return p.prototype={setUrlParams:function(t,n,r){var i,a,s=this,c=r||s.template,l="",p=s.urlParams={};h(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(p[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return l=e,""}),n=n||{},h(s.urlParams,function(e,t){i=n.hasOwnProperty(t)?n[t]:s.defaults[t],b(i)&&null!==i?(a=e.isQueryParamValue?d(i,!0):u(i),c=c.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):c=c.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),t.url=l+c.replace(/\/\\\./,"/."),h(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},m}]})}(window,window.angular),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t){if(s(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(c(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function r(){function e(e,n){return t.extend(Object.create(e),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,r){var o="?"===r||"*?"===r?"?":null,a="*"===r||"*?"===r?"*":null;return i.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([/$*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}s=t.isArray,c=t.isObject;var i={};this.when=function(e,o){var a=n(o);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(a,e&&r(e,a)),e){var s="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";i[s]=t.extend({redirectTo:e},r(s,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,o,a,s,c,l){function d(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;a>o;++o){var s=n[o-1],c=i[o];s&&c&&(r[s.name]=c)}return r}function p(e){var r=E.current;y=g(),b=y&&r&&y.$$route===r.$$route&&t.equals(y.pathParams,r.pathParams)&&!y.reloadOnSearch&&!_,b||!r&&!y||n.$broadcast("$routeChangeStart",y,r).defaultPrevented&&e&&e.preventDefault()}function m(){var e=E.current,i=y;b?(e.params=i.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(i||e)&&(_=!1,E.current=i,i&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(v(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),a.when(i).then(f).then(function(r){i===E.current&&(i&&(i.locals=r,t.copy(i.params,o)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i===E.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function f(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,function(e,r){n[r]=t.isString(e)?s.get(e):s.invoke(e,null,null,r)});var r=h(e);return t.isDefined(r)&&(n.$template=r),a.all(n)}}function h(e){var n,r;return t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(r=e.templateUrl)&&(t.isFunction(r)&&(r=r(e.params)),t.isDefined(r)&&(e.loadedTemplateUrl=l.valueOf(r),n=c(r))),n}function g(){var n,o;return t.forEach(i,function(i,a){!o&&(n=d(r.path(),i))&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function v(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var y,b,_=!1,E={routes:i,reload:function(){_=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,_=!1}};n.$evalAsync(function(){p(e),e.defaultPrevented||m()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw u("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),r.path(v(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",p),n.$on("$locationChangeSuccess",m),E}]}function i(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,c){function l(){m&&(r.cancel(m),m=null),d&&(d.$destroy(),d=null),p&&(m=r.leave(p),m.done(function(e){e!==!1&&(m=null)}),p=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=i.$new(),m=e.current,g=c(u,function(e){r.enter(e,null,p||o).done(function(e){e===!1||!t.isDefined(f)||f&&!i.$eval(f)||n()}),l()});p=g,d=m.scope=u,d.$emit("$viewContentLoaded"),d.$eval(h)}else l()}var d,p,m,f=a.autoscroll,h=a.onload||"";i.$on("$routeChangeSuccess",u),u()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var c=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=c),i.data("$ngControllerController",c),i.children().data("$ngControllerController",c)}r[o.resolveAs||"$resolve"]=a,s(r)}}}var s,c,l=t.module("ngRoute",["ng"]).provider("$route",r),u=t.$$minErr("ngRoute");l.provider("$routeParams",i),l.directive("ngView",o),l.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),/**
 * @license AngularJS v1.5.10
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?c(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),y.innerHTML=t;var r=5;do{if(0===r)throw p("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&g(y),t=y.innerHTML,y.innerHTML=t}while(t!==y.innerHTML);for(var i=y.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),m(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),o=i.nextSibling,!o))for(;null==o&&(i=i.parentNode,i!==y);)o=i.nextSibling,1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=y.firstChild;)y.removeChild(i)}function m(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];t[i.name]=i.value}return t}function f(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=c(e),!n&&A[e]&&(n=e),n||$[e]!==!0||(r("<"),r(e),a(i,function(n,i){var o=c(i),a="img"===e&&"src"===o||"background"===o;k[o]!==!0||D[o]===!0&&!t(n,a)||(r(" "),r(i),r('="'),r(f(n)),r('"'))}),r(">"))},end:function(e){e=c(e),n||$[e]!==!0||E[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(f(e))}}}function g(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;i>r;r++){var o=n[r],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&g(s),t=t.nextSibling}}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&o($,O),function(t){var n=[];return u(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(v=e,this):v},i=t.bind,o=t.extend,a=t.forEach,s=t.isDefined,c=t.lowercase,l=t.noop,u=r,d=h;var y,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^#-~ |!])/g,E=n("area,br,col,hr,img,wbr"),C=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=n("rp,rt"),w=o({},S,C),T=o({},C,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),I=o({},S,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),O=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),$=o({},E,T,I,w),D=n("background,cite,href,longdesc,src,xlink:href"),x=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k=o({},D,R,x);!function(e){var t;if(!e.document||!e.document.implementation)throw p("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)y=r[0];else{var i=t.createElement("html");y=t.createElement("body"),i.appendChild(y),t.appendChild(i)}}(e)}function r(e){var t=[],n=d(t,l);return n.chars(e),t.join("")}var i,o,a,s,c,l,u,d,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,c=t.isObject,l=t.isString;return function(t,u,d){function p(e){e&&b.push(r(e))}function m(e,t){var n,r=v(e);b.push("<a ");for(n in r)b.push(n+'="'+r[n]+'" ');!a(u)||"target"in r||b.push('target="',u,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),b.push("</a>")}if(null==t||""===t)return t;if(!l(t))throw o("notstring","Expected string but received: {0}",t);for(var f,h,g,v=s(d)?d:c(d)?function(){return d}:function(){return{}},y=t,b=[];f=y.match(n);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),g=f.index,p(y.substr(0,g)),m(h,f[0].replace(i,"")),y=y.substring(g+f[0].length);return p(y),e(b.join(""))}}])}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 2.5.0 - 2017-01-28
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,o,a){function s(){v=!!("horizontal"in a),v?(y={width:""},b={width:"0"}):(y={height:""},b={height:"0"}),r.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(y)}function c(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function l(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(m(r)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:c(o[0])}).start()["finally"](u):e.addClass(o,"in",{css:{overflow:"hidden"},to:c(o[0])}).then(u)},angular.noop)}function u(){o.removeClass("collapsing").addClass("collapse").css(y),f(r)}function d(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(h(r)).then(function(){o.css(c(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:b}).start()["finally"](p):e.removeClass(o,"in",{to:b}).then(p)},angular.noop):p()}function p(){o.css(b),o.removeClass("collapsing").addClass("collapse"),g(r)}var m=n(a.expanding),f=n(a.expanded),h=n(a.collapsing),g=n(a.collapsed),v=!1,y={},b={};s(),r.$watch(a.uibCollapse,function(e){e?d():l()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){t.addClass("panel"),r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,r,i){t.$watch(function(){return i[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(n[0].querySelector(e()));r.html(""),r.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,r,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,i){var o=i[0],a=i[1],s=e(r.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!r.disabled){var e=n.hasClass(o.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){a.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),a.$render()})}}),r.uibUncheckable&&t.$watch(s,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],c=r[1];t.find("input").css({display:"none"}),c.$render=function(){t.toggleClass(s.activeClass,angular.equals(c.$modelValue,i()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){c.$setViewValue(t.hasClass(s.activeClass)?o():i()),c.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,r,i){function o(e){for(var t=0;t<h.length;t++)h[t].slide.active=t===e}function a(n,r,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(h[v].slide||{},{direction:a}),i.enabled(t)&&!e.$currentTransition&&h[r].element&&f.slides.length>1){h[r].element.data(g,n.direction);var s=f.getCurrentIndex();angular.isNumber(s)&&h[s].element&&h[s].element.data(g,n.direction),e.$currentTransition=!0,i.on("addClass",h[r].element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=n.index,v=n.index,o(r),u()}}function s(e){for(var t=0;t<h.length;t++)if(h[t].slide===e)return t}function c(){p&&(n.cancel(p),p=null)}function l(t){t.length||(e.$currentTransition=null)}function u(){c();var t=+e.interval;!isNaN(t)&&t>0&&(p=n(d,t))}function d(){var t=+e.interval;m&&!isNaN(t)&&t>0&&h.length?e.next():e.pause()}var p,m,f=this,h=f.slides=e.slides=[],g="uib-slideDirection",v=e.active,y=!1;t.addClass("carousel"),f.addSlide=function(t,n){h.push({slide:t,element:n}),h.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===h.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,o(v),f.select(h[s(t)]),1===h.length&&e.play())},f.getCurrentIndex=function(){for(var e=0;e<h.length;e++)if(h[e].slide.index===v)return e},f.next=e.next=function(){var t=(f.getCurrentIndex()+1)%h.length;return 0===t&&e.noWrap()?void e.pause():f.select(h[t],"next")},f.prev=e.prev=function(){var t=f.getCurrentIndex()-1<0?h.length-1:f.getCurrentIndex()-1;return e.noWrap()&&t===h.length-1?void e.pause():f.select(h[t],"prev")},f.removeSlide=function(t){var n=s(t);h.splice(n,1),h.length>0&&v===n?n>=h.length?(v=h.length-1,e.active=v,o(v),f.select(h[h.length-1])):(v=n,e.active=v,o(v),f.select(h[n])):v>n&&(v--,e.active=v),0===h.length&&(v=null,e.active=null)},f.select=e.select=function(t,n){var r=s(t.slide);void 0===n&&(n=r>f.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||a(t.slide,r,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===h.length-1&&e.noWrap()},e.pause=function(){e.noPause||(m=!1,c())},e.play=function(){m||(m=!0,u())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){y=!0,c()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",u),e.$watchCollection("slides",l),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<h.length;t++)if(h[t].slide.index===e){e=t;break}var n=h[e];n&&(o(e),f.select(h[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,r,i){n.addClass("item"),i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),c="next"===s?"left":"right",l=t.bind(this,r,c+" "+s,o);return r.addClass(s),e(r,{addClass:c}).start().done(l),function(){a=!0}}o()},beforeRemoveClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),c="next"===s?"left":"right",l=t.bind(this,r,c,o);return e(r,{addClass:c}).start().done(l),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,r,i){function o(e){return i(y,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var a=i;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(y,function(r){var i=e.indexOf(r.key);if(i>-1){e=e.split(""),n[i]="("+r.regex+")",e[i]="$";for(var o=i+1,a=i+r.key.length;a>o;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(t,"index")}}function s(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(c(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=l(e,n),r.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=l(e,i),r.push(t.parser),i=t.endIdx):(n=i,i++);return r}function c(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function l(e,t){for(var n=e.substr(t),r=0;r<y.length;r++)if(new RegExp("^"+y[r].key).test(n)){var i=y[r];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function u(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}function d(e){return parseInt(e,10)}function p(e,t){return e&&t?g(e,t):e}function m(e,t){return e&&t?g(e,t,!0):e}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function h(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=f(t,r);return h(e,n*(i-r))}var v,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var r=this.formatters[n];return r.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,r,i){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(b,"\\$&"),t.id!==v&&this.init(),this.parsers[r]||(this.parsers[r]=a(r,"apply"));var o=this.parsers[r],s=o.regex,c=o.map,l=n.match(s),d=!1;if(l&&l.length){var p,m;angular.isDate(i)&&!isNaN(i.getTime())?p={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,h=l.length;h>f;f++){var g=c[f-1];"Z"===g.matcher&&(d=!0),g.apply&&g.apply.call(p,l[f])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,_=d?Date.prototype.setUTCHours:Date.prototype.setHours;return u(p.year,p.month,p.date)&&(!angular.isDate(i)||isNaN(i.getTime())||d?(m=new Date(0),y.call(m,p.year,p.month,p.date),_.call(m,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(m=new Date(i),y.call(m,p.year,p.month,p.date),_.call(m,p.hours,p.minutes,p.seconds,p.milliseconds))),m}},this.toTimezone=p,this.fromTimezone=m,this.timezoneToOffset=f,this.addDateMinutes=h,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function o(e,t,n){c.push(e),l.push({scope:e,element:t}),f.forEach(function(t,n){a(t,e)}),e.$on("$destroy",s)}function a(t,r){var i=t.match(n),o=r.$eval(i[1]),a=i[2],s=u[t];if(!s){var c=function(t){var n=null;l.some(function(e){var r=e.scope.$eval(p);return r===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};u[t]=s={lastActivated:null,scope:r,watchFn:c,compareWithExp:a,watcher:r.$watch(a,c)}}s.watchFn(r.$eval(a))}function s(e){var t=e.targetScope,n=c.indexOf(t);if(c.splice(n,1),l.splice(n,1),c.length){var r=c[0];angular.forEach(u,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else u={}}var c=[],l=[],u={},d=i.uibIsClass.match(t),p=d[2],m=d[1],f=m.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,c,l,u,d){function p(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function m(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||c.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var r=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(c.ngModelOptions?c.ngModelOptions.timezone:null);n=t.$options.createChild(c.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:r})}return n}var f=this,h={$setViewValue:angular.noop},g={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:c.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):c[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:c[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(c.startingDay)?f.startingDay=c.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=d.fromTimezone(new Date(e),g.getOption("timezone")):(l&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(s(e,"medium"))):f[t]=c[t]?d.fromTimezone(new Date(c[t]),g.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=c[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(t){h=t,g=m(h),e.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(f.activeDate=d.fromTimezone(e,g.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=h.$modelValue?new Date(h.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(n,g.getOption("timezone")),h.$render=function(){f.render()}},this.render=function(){if(h.$viewValue){var e=new Date(h.$viewValue),t=!isNaN(e);t?this.activeDate=d.fromTimezone(e,g.getOption("timezone")):u||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=h.$viewValue?new Date(h.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),h.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=h.$viewValue?new Date(h.$viewValue):null;r=d.fromTimezone(r,g.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,g.getOption("timezone"));var o=this.compare(t,i),a={date:t,label:d.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:0>o,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=h.$viewValue?d.fromTimezone(new Date(h.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,g.getOption("timezone")),h.$setViewValue(n),h.$render()}else f.activeDate=t,p(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(p(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){f.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,r,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,c=new Date(o);s>0&&c.setDate(-s+1);for(var l=this.getDates(c,42),u=0;42>u;u++)l[u]=angular.extend(this.createDateObject(l[u],this.formatDay),{secondary:l[u].getMonth()!==r,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(l[d].date,this.formatDayHeader),full:n(l[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(l,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,m=e.rows.length,f=0;m>f;f++)e.weekNumbers.push(i(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,s=r(this.activeDate.getFullYear());o>a;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=r(this.activeDate.getFullYear()):"end"===e&&(n=r(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html";
},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,c=t.getComputedStyle(n);if(o&&a.test(c.overflow+c.overflowY+c.overflowX))return n;var l="absolute"===c.position,u=n.parentElement||s;if(u===s||"fixed"===c.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(l&&"static"!==d.position&&(l=!1),!l&&a.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=i!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),c=s.getBoundingClientRect();if(a.top=c.top+s.clientTop,a.left=c.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var l=t.getComputedStyle(s);a.top+=this.parseStyle(l.paddingTop),a.bottom-=this.parseStyle(l.paddingBottom),a.left+=this.parseStyle(l.paddingLeft),a.right-=this.parseStyle(l.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var c=i?this.offset(e):this.position(e),l={top:0,left:0,placement:""};if(r[2]){var u=this.viewportOffset(e,i),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&p.height>u.top&&p.height<=u.bottom?"bottom":"bottom"===r[0]&&p.height>u.bottom&&p.height<=u.top?"top":"left"===r[0]&&p.width>u.left&&p.width<=u.right?"right":"right"===r[0]&&p.width>u.right&&p.width<=u.left?"left":r[0],r[1]="top"===r[1]&&p.height-c.height>u.bottom&&p.height-c.height<=u.top?"bottom":"bottom"===r[1]&&p.height-c.height>u.top&&p.height-c.height<=u.bottom?"top":"left"===r[1]&&p.width-c.width>u.right&&p.width-c.width<=u.left?"right":"right"===r[1]&&p.width-c.width>u.left&&p.width-c.width<=u.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var m=c.width/2-a/2;u.left+m<0&&p.width-c.width<=u.right?r[1]="left":u.right+m<0&&p.width-c.width<=u.left&&(r[1]="right")}else{var f=c.height/2-p.height/2;u.top+f<0&&p.height-c.height<=u.bottom?r[1]="top":u.bottom+f<0&&p.height-c.height<=u.top&&(r[1]="bottom")}}switch(r[0]){case"top":l.top=c.top-s;break;case"bottom":l.top=c.top+c.height;break;case"left":l.left=c.left-a;break;case"right":l.left=c.left+c.width}switch(r[1]){case"top":l.top=c.top;break;case"bottom":l.top=c.top+c.height-s;break;case"left":l.left=c.left;break;case"right":l.left=c.left+c.width-a;break;case"center":o.vertical.test(r[0])?l.left=c.left+c.width/2-a/2:l.top=c.top+c.height/2-s/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],l},adjustTop:function(e,t,n,r){return-1!==e.indexOf("top")&&n!==r?{top:t.top-r+"px"}:void 0},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var c="border-"+n[0]+"-width",l=t.getComputedStyle(a)[c],u="border-";u+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(i?r:e)[u];switch(n[0]){case"top":s.bottom=i?"0":"-"+l;break;case"bottom":s.top=i?"0":"-"+l;break;case"left":s.right=i?"0":"-"+l;break;case"right":s.left=i?"0":"-"+l}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h){function g(t){var n=d.parse(t,S,e.date);if(isNaN(n))for(var r=0;r<N.length;r++)if(n=d.parse(t,N[r],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return d.toTimezone(t,k.getOption("timezone"))}return k.getOption("allowInvalid")?e:void 0}function y(e,t){var r=e||t;return n.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?!isNaN(g(r)):!1:!0):!0}function b(n){if(e.isOpen||!e.disabled){var r=P[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function _(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function E(){if(e.isOpen){var r=angular.element(P[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,o=l.positionElements(t,r,i,T);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}function C(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var S,w,T,I,O,A,$,D,x,R,k,P,N,M=!1,L=[];this.init=function(i){if(R=i,k=C(R),w=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,T=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,I=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,O=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,A=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,N=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(S=p.html5Types[n.type],M=!0):(S=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==S&&(S=n,R.$modelValue=null,!S))throw new Error("uibDatepickerPopup must have a date format specified.")})),!S)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");$=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),$.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":O}),D=angular.element($.children()[0]),D.attr("template-url",A),e.datepickerOptions||(e.datepickerOptions={}),M&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),D.attr("datepicker-options","datepickerOptions"),M?R.$formatters.push(function(t){return e.date=d.fromTimezone(t,k.getOption("timezone")),t}):(R.$$parserName="date",R.$validators.date=y,R.$parsers.unshift(v),R.$formatters.push(function(t){return R.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,k.getOption("timezone")),d.filter(e.date,S))})),R.$viewChangeListeners.push(function(){e.date=g(R.$viewValue)}),t.on("keydown",_),P=r($)(e),$.remove(),T?s.find("body").append(P):t.after(P),e.$on("$destroy",function(){for(e.isOpen===!0&&(c.$$phase||e.$apply(function(){e.isOpen=!1})),P.remove(),t.off("keydown",_),s.off("click",b),x&&x.off("scroll",E),angular.element(a).off("resize",E);L.length;)L.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,k.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(h&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var r=e.date?d.filter(e.date,S):null;t.val(r),R.$setViewValue(r),w&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):(t=d.fromTimezone(r,k.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&L.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:m(function(){E(),I&&e.$broadcast("uib:datepicker.focus"),s.on("click",b);var r=n.popupPlacement?n.popupPlacement:p.placement;T||l.parsePlacement(r)[2]?(x=x||angular.element(l.scrollParent(t)),x&&x.on("scroll",E)):x=null,angular.element(a).on("resize",E)},0,!1):(s.off("click",b),x&&x.off("scroll",E),angular.element(a).off("resize",E))}),e.$on("uib:datepicker.mode",function(){m(E,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var r=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n){var r=n.reduce(function(t,n){return n.scope===e?n:t},{});if(r)return 1===n.length}return!1},this.open=function(t,n,a){if(r||e.on("click",o),r&&r!==t&&(r.isOpen=!1),r=t,a){var s=i.get(a);if(s){var c=s.map(function(e){return e.scope});-1===c.indexOf(t)&&i.put(a,{scope:t})}else i.put(a,{scope:t})}},this.close=function(t,n,a){if(r===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),r=null),a){var s=i.get(a);if(s){var c=s.reduce(function(e,n){return n.scope===t?n:e},{});c&&i.remove(a,c)}}};var o=function(e){if(r&&r.isOpen&&!(e&&"disabled"===r.getAutoClose()||e&&3===e.which)){var n=r.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=r.getDropdownElement();e&&"outsideClick"===r.getAutoClose()&&i&&i[0].contains(e.target)||(r.focusToggleElement(),r.isOpen=!1,t.$$phase||r.$apply())}}};this.keybindFilter=function(e){if(r){var t=r.getDropdownElement(),n=r.getToggleElement(),i=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),r.focusToggleElement(),o()):r.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&r.isOpen&&(i||a)&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,c,l,u){function d(){t.append(f.dropdownMenu)}var p,m,f=this,h=e.$new(),g=i.appendToOpenClass,v=i.openClass,y=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,_=!1,E=c.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(m=r(n.isOpen),y=m.assign,e.$watch(m,function(e){h.isOpen=!!e})),_=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen,angular.isFunction(y)&&y(h,h.isOpen),h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return _},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",function(i,m){var _=null,C=!1;if(angular.isDefined(n.dropdownAppendTo)){var S=r(n.dropdownAppendTo)(h);S&&(_=angular.element(S))}if(angular.isDefined(n.dropdownAppendToBody)){var w=r(n.dropdownAppendToBody)(h);w!==!1&&(C=!0)}if(C&&!_&&(_=E),_&&f.dropdownMenu&&(i?(_.append(f.dropdownMenu),t.on("$destroy",d)):(t.off("$destroy",d),d())),_&&f.dropdownMenu){var T,I,O,A=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),$=0;if(T={top:A.top+"px",display:i?"block":"none"},I=f.dropdownMenu.hasClass("dropdown-menu-right"),I?(T.left="auto",O=s.scrollbarPadding(_),O.heightOverflow&&O.scrollbarWidth&&($=O.scrollbarWidth),T.right=window.innerWidth-$-(A.left+t.prop("offsetWidth"))+"px"):(T.left=A.left+"px",T.right="auto"),!C){var D=s.offset(_);T.top=A.top-D.top+"px",I?T.right=window.innerWidth-(A.left-D.left+t.prop("offsetWidth"))+"px":T.left=A.left-D.left+"px"}f.dropdownMenu.css(T)}var x=_?_:t,R=_?g:v,k=x.hasClass(R),P=o.isOnlyOpen(e,_);if(k===!i){var N;N=_?P?"removeClass":"addClass":i?"addClass":"removeClass",a[N](x,R).then(function(){angular.isDefined(i)&&i!==m&&b(e,{open:!!i})})}if(i)f.dropdownMenuTemplateUrl?u(f.dropdownMenuTemplateUrl).then(function(e){p=h.$new(),l(e.trim())(p,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,c.on("keydown",o.keybindFilter)})}):c.on("keydown",o.keybindFilter),h.focusToggleElement(),o.open(h,t,_);else{if(o.close(h,t,_),f.dropdownMenuTemplateUrl){p&&p.$destroy();var M=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(M),f.dropdownMenu=M}f.selectedOption=null}angular.isFunction(y)&&y(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,c){function l(e){var t="-";return e.replace(D,function(e,n){return(n?t:"")+e.toLowerCase()})}function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=S.keys(),n=0;n<t.length;n++)S.get(t[n]).value.backdrop&&(e=n);return e>-1&&I>e&&(e=I),e}function p(e,t){var n=S.get(e).value,r=n.appendTo;S.remove(e),O=S.top(),O&&(I=parseInt(O.value.modalDomEl.attr("index"),10)),h(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||C;w.remove(t,e);var i=w.hasKey(t);r.toggleClass(t,i),!i&&E&&E.heightOverflow&&E.scrollbarWidth&&(E.originalRight?r.css({paddingRight:E.originalRight+"px"}):r.css({paddingRight:""}),E=null),m(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():r.focus&&r.focus()}function m(e){var t;S.length()>0&&(t=S.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(b&&-1===d()){var e=_;h(b,_,function(){e=null}),b=void 0,_=void 0}}function h(t,n,r,i){function a(){a.done||(a.done=!0,e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()}),n.$destroy())}var s,c=null,l=function(){return s||(s=o.defer(),c=s.promise),function(){s.resolve()}};return n.$broadcast(T.NOW_CLOSING_EVENT,l),o.when(c).then(a)}function g(e){if(e.isDefaultPrevented())return e;var t=S.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){T.dismiss(t.key,"escape key press")}));break;case 9:var n=T.loadFocusElementList(t),r=!1;e.shiftKey?(T.isFocusInFirstItem(e,n)||T.isModalFocused(e,t))&&(r=T.focusLastFocusableElement(n)):T.isFocusInLastItem(e,n)&&(r=T.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+A+"]"),function(e){var t=parseInt(e.getAttribute(A),10),n=t-1;e.setAttribute(A,n),n||(e.removeAttribute(A),e.removeAttribute("aria-hidden"))})}var b,_,E,C="modal-open",S=s.createNew(),w=a.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},I=0,O=null,A="data-bootstrap-modal-aria-hidden-count",$="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",D=/[A-Z]/g;return i.$watch(d,function(e){_&&(_.index=e)}),n.on("keydown",g),i.$on("$destroy",function(){n.off("keydown",g)}),T.open=function(t,o){function a(e){function t(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}if(e&&"BODY"!==e[0].tagName)return t(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(A),10);n||(n=t?1:0),e.setAttribute(A,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,u=o.openedClass||C;m(!1),O=S.top(),S.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),w.put(u,t);var p=o.appendTo,f=d();f>=0&&!b&&(_=i.$new(!0),_.modalOptions=o,_.index=f,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),r(b)(_),e.enter(b,p),c.isScrollable(p)&&(E=c.scrollbarPadding(p),E.heightOverflow&&E.scrollbarWidth&&p.css({paddingRight:E.right+"px"})));var h;o.component?(h=document.createElement(l(o.component.name)),h=angular.element(h),h.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=o.content,I=O?parseInt(O.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:I,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),p.addClass(u),o.scope&&(o.scope.$$topModalIndex=I),e.enter(r(g)(o.scope),p),S.top().value.modalDomEl=g,S.top().value.modalOpener=s,a(g)},T.close=function(e,t){var n=S.get(e);return y(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),p(e,n.value.modalOpener),!0):!n},T.dismiss=function(e,t){var n=S.get(e);return y(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),p(e,n.value.modalOpener),!0):!n},T.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},T.getTop=function(){return S.top()},T.modalRendered=function(e){var t=S.get(e);t&&t.value.renderDeferred.resolve()},T.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},T.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},T.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},T.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},T.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},T.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll($);return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},T}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){function c(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var l={},u=null;return l.getPromiseChain=function(){return u},l.open=function(i){function l(){return g}var d=n.defer(),p=n.defer(),m=n.defer(),f=n.defer(),h={result:d.promise,opened:p.promise,closed:m.promise,rendered:f.promise,close:function(e){return s.close(h,e)},dismiss:function(e){return s.dismiss(h,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=i.component?n.when(a.resolve(i.resolve,{},null,null)):n.all([c(i),a.resolve(i.resolve,{},null,null)]);var v;return v=u=n.all([u]).then(l,l).then(function(e){function n(t,n,r,i){t.$scope=a,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=h:t.$uibModalInstance=h;var o=n?e[1]:e;angular.forEach(o,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var r=i.scope||t,a=r.$new();a.$close=h.close,a.$dismiss=h.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var c,l,u={scope:a,deferred:d,renderDeferred:f,closedDeferred:m,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},g={},v={};i.component?(n(g,!1,!0,!1),g.name=i.component,u.component=g):i.controller&&(n(v,!0,!1,!0),l=o(i.controller,v,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(c=l.instance,c.$close=a.$close,c.$dismiss=a.$dismiss,angular.extend(c,{$resolve:v.$scope.$resolve},r)),c=l(),angular.isFunction(c.$onInit)&&c.$onInit()),i.component||(u.content=e[0]),s.open(h,u),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){u===v&&(u=null)}),h},l}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,r){t.setNumPages=r.numPages?e(r.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},r.itemsPerPage?t._watchers.push(n.$parent.$watch(r.itemsPerPage,function(e){
t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,r){(angular.isDefined(e)||e!==r)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,r){r&&r.preventDefault();var i=!n.ngDisabled||!r;i&&n.page!==e&&e>0&&e<=n.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,r,i){n.addClass("pager");var o=i[0],a=i[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,r,i){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],r=1,i=t,a=angular.isDefined(c)&&t>c;a&&(l?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var s=r;i>=s;s++){var m=o(s,p(s),s===e);n.push(m)}if(a&&c>0&&(!l||u||d)){if(r>1){if(!d||r>3){var f=o(r-1,"...",!1);n.unshift(f)}if(d){if(3===r){var h=o(2,"2",!1);n.unshift(h)}var g=o(1,"1",!1);n.unshift(g)}}if(t>i){if(!d||t-2>i){var v=o(i+1,"...",!1);n.push(v)}if(d){if(i===t-2){var y=o(t-1,t-1,!1);n.push(y)}var b=o(t,t,!1);n.push(b)}}}return n}var s=this,c=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,l=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,u=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),r.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){c=parseInt(e,10),s.render()}));var m=this.render;this.render=function(){m(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,r,i){n.addClass("pagination");var o=i[0],a=i[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,c,l,u,d,p){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=p.createNew();return s.on("keyup",m),u.$on("$destroy",function(){s.off("keyup",m)}),function(i,u,p,m){function h(e){var t=(e||m.trigger||p).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}m=angular.extend({},t,r,m);var g=e(i),v=l.startSymbol(),y=l.endSymbol(),b="<div "+g+'-popup uib-title="'+v+"title"+y+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o(b);return function(e,t,r,o){function l(){B.isOpen?g():p()}function p(){(!G||e.$eval(r[u+"Enable"]))&&(_(),S(),B.popupDelay?k||(k=a(v,B.popupDelay,!1)):v())}function g(){y(),B.popupCloseDelay?P||(P=a(b,B.popupCloseDelay,!1)):b()}function v(){return y(),_(),B.content?(E(),void B.$evalAsync(function(){B.isOpen=!0,w(!0),W()})):angular.noop}function y(){k&&(a.cancel(k),k=null),N&&(a.cancel(N),N=null)}function b(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,w(!1),B.animation?R||(R=a(C,150,!1)):C())})}function _(){P&&(a.cancel(P),P=null),R&&(a.cancel(R),R=null)}function E(){D||(x=B.$new(),D=n(x,function(e){U?s.find("body").append(e):t.after(e)}),f.add(B,{close:b}),T())}function C(){y(),_(),I(),D&&(D.remove(),D=null,M&&a.cancel(M)),f.remove(B),x&&(x.$destroy(),x=null)}function S(){B.title=r[u+"Title"],V?B.content=V(e):B.content=r[i],B.popupClass=r[u+"Class"],B.placement=angular.isDefined(r[u+"Placement"])?r[u+"Placement"]:m.placement;var t=c.parsePlacement(B.placement);L=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[u+"PopupDelay"],10),o=parseInt(r[u+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?m.popupDelay:n,B.popupCloseDelay=isNaN(o)?m.popupCloseDelay:o}function w(t){j&&angular.isFunction(j.assign)&&j.assign(e,t)}function T(){z.length=0,V?(z.push(e.$watch(V,function(e){B.content=e,!e&&B.isOpen&&b()})),z.push(x.$watch(function(){H||(H=!0,x.$$postDigest(function(){H=!1,B&&B.isOpen&&W()}))}))):z.push(r.$observe(i,function(e){B.content=e,!e&&B.isOpen?b():W()})),z.push(r.$observe(u+"Title",function(e){B.title=e,B.isOpen&&W()})),z.push(r.$observe(u+"Placement",function(e){B.placement=e?e:m.placement,B.isOpen&&W()}))}function I(){z.length&&(angular.forEach(z,function(e){e()}),z.length=0)}function O(e){B&&B.isOpen&&D&&(t[0].contains(e.target)||D[0].contains(e.target)||g())}function A(e){27===e.which&&g()}function $(){var n=[],i=[],o=e.$eval(r[u+"Trigger"]);Y(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),i.push(o[e])}),F={show:n,hide:i}):F=h(o),"none"!==F.show&&F.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",l),s.on("click",O)):e===F.hide[n]?t.on(e,l):e&&(t.on(e,p),t.on(F.hide[n],g)),t.on("keypress",A)})}var D,x,R,k,P,N,M,L,U=angular.isDefined(m.appendToBody)?m.appendToBody:!1,F=h(void 0),G=angular.isDefined(r[u+"Enable"]),B=e.$new(!0),H=!1,j=angular.isDefined(r[u+"IsOpen"])?d(r[u+"IsOpen"]):!1,V=m.useContentExp?d(r[i]):!1,z=[],W=function(){D&&D.html()&&(N||(N=a(function(){var e=c.positionElements(t,D,B.placement,U),n=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),r=U?c.offset(t):c.position(t);D.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");D.hasClass(i[0])||(D.removeClass(L.split("-")[0]),D.addClass(i[0])),D.hasClass(m.placementClassPrefix+e.placement)||(D.removeClass(m.placementClassPrefix+L),D.addClass(m.placementClassPrefix+e.placement)),M=a(function(){var e=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),t=c.adjustTop(i,r,n,e);t&&D.css(t),M=null},0,!1),D.hasClass("uib-position-measure")?(c.positionArrow(D,e.placement),D.removeClass("uib-position-measure")):L!==e.placement&&c.positionArrow(D,e.placement),L=e.placement,N=null},0,!1)))};B.origScope=e,B.isOpen=!1,B.contentExp=function(){return B.content},r.$observe("disabled",function(e){e&&y(),e&&B.isOpen&&b()}),j&&e.$watch(j,function(e){B&&!e===B.isOpen&&l()});var Y=function(){F.show.forEach(function(e){"outsideClick"===e?t.off("click",l):(t.off(e,p),t.off(e,l)),t.off("keypress",A)}),F.hide.forEach(function(e){"outsideClick"===e?s.off("click",O):t.off(e,g)})};$();var q=e.$eval(r[u+"Animation"]);B.animation=angular.isDefined(q)?!!q:m.animation;var K,J=u+"AppendToBody";K=J in r&&void 0===r[J]?!0:e.$eval(r[J]),U=angular.isDefined(K)?K:U,e.$on("$destroy",function(){Y(),C(),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,c,l,u=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){c&&(c.remove(),c=null),s&&(s.$destroy(),s=null),l&&(e.leave(l).then(function(){c=null}),c=l,l=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=u.$new(),c=r,m=n(c)(i,function(t){p(),e.enter(t,o)});s=i,l=m,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop},i=this;this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&r.$viewValue===t?0:t;r.$setViewValue(n),r.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}var n,r=this;r.tabs=[],r.select=function(e,o){if(!i){var a=t(n),s=r.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var c=r.tabs[e];c?(c.tab.onSelect({$event:o}),c.tab.active=!0,r.active=c.index,n=c.index):!c&&angular.isDefined(n)&&(r.active=null,n=null)}},r.addTab=function(e){if(r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===r.active||!angular.isDefined(r.active)&&1===r.tabs.length){var n=t(e.index);r.select(n)}},r.removeTab=function(e){for(var t,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===e){t=n;break}if(r.tabs[t].index===r.active){var i=t===r.tabs.length-1?t-1:t+1%r.tabs.length;r.select(i)}r.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&r.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,r,i,o){t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),angular.isUndefined(r.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(r.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===t){n=r;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,a){function s(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===w[1]&&(t+=12)),t):void 0}function c(){var t=+e.minutes,n=t>=0&&60>t;return n&&""!==e.minutes?t:void 0}function l(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function u(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){p(),S.$setViewValue(new Date(E)),m(e)}function p(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),_&&_.$setValidity("seconds",!0),S.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function m(t){if(S.$modelValue){var n=E.getHours(),r=E.getMinutes(),i=E.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n,!T),"m"!==t&&(e.minutes=u(r)),e.meridian=E.getHours()<12?w[0]:w[1],"s"!==t&&(e.seconds=u(i)),e.meridian=E.getHours()<12?w[0]:w[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=w[0]}function f(e){E=g(E,e),d()}function h(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var y,b,_,E=new Date,C=[],S={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,T=angular.isDefined(n.padHours)?e.$parent.$eval(n.padHours):!0;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){S=t,S.$render=this.render,S.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),o=r.eq(1),s=r.eq(2);y=i.controller("ngModel"),b=o.controller("ngModel"),_=s.controller("ngModel");var c=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;c&&this.setupMousewheelEvents(i,o,s);var l=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(i,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o,s)};var I=a.hourStep;n.hourStep&&C.push(e.$parent.$watch(r(n.hourStep),function(e){I=+e}));var O=a.minuteStep;n.minuteStep&&C.push(e.$parent.$watch(r(n.minuteStep),function(e){O=+e}));var A;C.push(e.$parent.$watch(r(n.min),function(e){var t=new Date(e);A=isNaN(t)?void 0:t}));var $;C.push(e.$parent.$watch(r(n.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}));var D=!1;n.ngDisabled&&C.push(e.$parent.$watch(r(n.ngDisabled),function(e){D=e})),e.noIncrementHours=function(){var e=h(E,60*I);return D||e>$||E>e&&A>e},e.noDecrementHours=function(){var e=h(E,60*-I);return D||A>e||e>E&&e>$},e.noIncrementMinutes=function(){var e=h(E,O);return D||e>$||E>e&&A>e},e.noDecrementMinutes=function(){var e=h(E,-O);return D||A>e||e>E&&e>$},e.noIncrementSeconds=function(){var e=g(E,x);return D||e>$||E>e&&A>e},e.noDecrementSeconds=function(){var e=g(E,-x);return D||A>e||e>E&&e>$},e.noToggleMeridian=function(){return E.getHours()<12?D||h(E,720)>$:D||h(E,-720)<A};var x=a.secondStep;n.secondStep&&C.push(e.$parent.$watch(r(n.secondStep),function(e){x=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&C.push(e.$parent.$watch(r(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&C.push(e.$parent.$watch(r(n.showMeridian),function(t){if(e.showMeridian=!!t,S.$error.time){var n=s(),r=c();angular.isDefined(n)&&angular.isDefined(r)&&(E.setHours(n),d())}else m()})),this.setupMousewheelEvents=function(t,n,r){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){D||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){D||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),r.on("mousewheel wheel",function(t){D||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,r){t.on("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),r.on("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,r){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,r){S.$setViewValue(null),S.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(r)&&(e.invalidSeconds=r,_&&_.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=c();S.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(E.setHours(e),E.setMinutes(t),A>E||E>$?i(!0):d("h")):i(!0)},t.on("blur",function(t){S.$setTouched(),v()?p():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours,!T)})}),e.updateMinutes=function(){var e=c(),t=s();S.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(E.setHours(t),E.setMinutes(e),A>E||E>$?i(void 0,!0):d("m")):i(void 0,!0)},n.on("blur",function(t){S.$setTouched(),v()?p():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})}),e.updateSeconds=function(){var e=l();S.$setDirty(),angular.isDefined(e)?(E.setSeconds(e),d("s")):i(void 0,void 0,!0)},r.on("blur",function(t){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=u(e.seconds)})})},this.render=function(){var t=S.$viewValue;isNaN(t)?(S.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(E=t),A>E||E>$?(S.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),m())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*I*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-I*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*O)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-O)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(x)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-x)},e.toggleMeridian=function(){var t=c(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(E.getHours()<12?60:-60)):e.meridian=e.meridian===w[0]?w[1]:w[0])},e.blur=function(){S.$setTouched()},e.$on("$destroy",function(){for(;C.length;)C.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,c,l,u,d,p){function m(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),Q()}function f(){B.position=x?d.offset(t):d.position(t),B.position.top+=t.prop("offsetHeight")}function h(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,v,y=[9,13,27,38,40],b=200,_=e.$eval(n.typeaheadMinLength);_||0===_||(_=1),e.$watch(n.typeaheadMinLength,function(e){_=e||0===e?e:1});var E=e.$eval(n.typeaheadWaitMs)||0,C=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){C=e!==!1});var S,w,T=i(n.typeaheadLoading).assign||angular.noop,I=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},O=i(n.typeaheadOnSelect),A=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,$=i(n.typeaheadNoResults).assign||angular.noop,D=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,x=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,R=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,k=e.$eval(n.typeaheadFocusFirst)!==!1,P=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,N=i(n.typeaheadIsOpen).assign||angular.noop,M=e.$eval(n.typeaheadShowHint)||!1,L=i(n.ngModel),U=i(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(L(e))&&v.getOption("getterSetter")?U(t,{$$$p:n}):L.assign(t,n)},G=p.parse(n.uibTypeahead),B=e.$new(),H=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",H);var j="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":j});var V,z;M&&(V=angular.element("<div></div>"),V.css("position","relative"),t.after(V),z=t.clone(),z.attr("placeholder",""),z.attr("tabindex","-1"),z.val(""),z.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),z.attr("id")&&z.removeAttr("id"),V.append(z),z.after(t));var W=angular.element("<div uib-typeahead-popup></div>");W.attr({id:j,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&W.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&W.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var Y=function(){M&&z.val("")},q=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1),Y()},K=function(e){return j+"-option-"+e};B.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",K(e))});var J=function(e,t){return B.matches.length>t&&e?e.toUpperCase()===B.matches[t].label.toUpperCase():!1},Z=function(n,r){var i={$viewValue:n};T(e,!0),$(e,!1),o.when(G.source(e,i)).then(function(o){var a=n===g.$viewValue;if(a&&S)if(o&&o.length>0){B.activeIdx=k?0:-1,$(e,!1),B.matches.length=0;for(var s=0;s<o.length;s++)i[G.itemName]=o[s],B.matches.push({id:K(s),label:G.viewMapper(B,i),model:o[s]});if(B.query=n,f(),t.attr("aria-expanded",!0),P&&1===B.matches.length&&J(n,0)&&(angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?u(function(){B.select(0,r)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(0,r)),M){var c=B.matches[0].label;angular.isString(n)&&n.length>0&&c.slice(0,n.length).toUpperCase()===n.toUpperCase()?z.val(n+c.slice(n.length)):z.val("")}}else q(),$(e,!0);a&&T(e,!1)},function(){q(),T(e,!1),$(e,!0)})};x&&(angular.element(c).on("resize",m),s.find("body").on("scroll",m));var Q=u(function(){B.matches.length&&f(),B.moveInProgress=!1},b);B.moveInProgress=!1,B.query=void 0;var X,ee=function(e){X=a(function(){Z(e)},E)},te=function(){X&&a.cancel(X)};q(),B.assignIsOpen=function(t){N(e,t)},B.select=function(r,i){var o,s,c={};w=!0,c[G.itemName]=s=B.matches[r].model,o=G.modelMapper(e,c),F(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),O(e,{$item:s,$model:o,$label:G.viewMapper(e,c),$event:i}),q(),B.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==B.matches.length&&-1!==y.indexOf(t.which)){var n=I(e,{$event:t});if(-1===B.activeIdx&&n||9===t.which&&t.shiftKey)return q(),void B.$digest();t.preventDefault();var r;switch(t.which){case 27:t.stopPropagation(),q(),e.$digest();break;case 38:B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest(),r=W[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;case 40:B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest(),r=W[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],
r.parentNode.scrollTop=r.offsetTop;break;default:n&&B.$apply(function(){angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?u(function(){B.select(B.activeIdx,t)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(B.activeIdx,t)})}}}),t.on("focus",function(e){S=!0,0!==_||g.$viewValue||a(function(){Z(g.$viewValue,e)},0)}),t.on("blur",function(e){A&&B.matches.length&&-1!==B.activeIdx&&!w&&(w=!0,B.$apply(function(){angular.isObject(B.debounceUpdate)&&angular.isNumber(B.debounceUpdate.blur)?u(function(){B.select(B.activeIdx,e)},B.debounceUpdate.blur):B.select(B.activeIdx,e)})),!C&&g.$error.editable&&(g.$setViewValue(),B.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),S=!1,w=!1});var ne=function(n){t[0]!==n.target&&3!==n.which&&0!==B.matches.length&&(q(),l.$$phase||e.$digest())};s.on("click",ne),e.$on("$destroy",function(){s.off("click",ne),(x||R)&&re.remove(),x&&(angular.element(c).off("resize",m),s.find("body").off("scroll",m)),W.remove(),M&&V.remove()});var re=r(W)(B);x?s.find("body").append(re):R?angular.element(R).eq(0).append(re):t.after(re),this.init=function(t){g=t,v=h(g),B.debounceUpdate=i(v.getOption("debounce"))(e),g.$parsers.unshift(function(t){return S=!0,0===_||t&&t.length>=_?E>0?(te(),ee(t)):Z(t):(T(e,!1),te(),q()),C?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,r,i={};return C||g.$setValidity("editable",!0),D?(i.$model=t,D(e,i)):(i[G.itemName]=t,n=G.viewMapper(e,i),i[G.itemName]=void 0,r=G.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i["default"]):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var t=null;return t=e("debug"),this.$get=function(){return t},this.debug=t,this});var r=function(e,t){return function(){return e.apply(t,arguments)}},i=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(e){var t,n,o,a,s,c,l,u,d,p,m,f;for(m=e.debug,o={},a=["debug","info","warn","error","log"],t={},d=u=0,p=a.length;p>u;d=++u)f=a[d],t[f]=d;return c=function(e,t,n){return e>=t?n():void 0},s=function(e){var t,n,r;if(t=!1,!e)return t;for(n=0,r=a.length;r>n&&(f=a[n],t=null!=e[f]&&"function"==typeof e[f],t);n++);return t},l=function(e,t){var n,r,i,s;for(null==o[e]&&(o[e]=m(e)),n=o[e],s={},r=0,i=a.length;i>r;r++)f=a[r],s[f]="debug"===f?n:t[f];return s},n=function(){function e(e){var n,o,l,u,d;if(this.$log=e,this.spawn=r(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,d={},n=function(e){return function(n){return d[n]=function(){var r;return r=1<=arguments.length?i.call(arguments,0):[],e.doLog?c(t[n],e.currentLevel,function(){var t;return(t=e.$log)[n].apply(t,r)}):void 0},e[n]=d[n]}}(this),o=0,l=a.length;l>o;o++)u=a[o],n(u);this.LEVELS=t,this.currentLevel=t.error}return e.prototype.spawn=function(t){if("string"==typeof t){if(!s(this.$log))throw"@$log is invalid";if(!m)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return l(t,this.$log)}return new e(t||this.$log)},e}(),this.decorator=["$log",function(e){var r;return r=new n(e),r.currentLevel=t.debug,r}],this.$get=["$log",function(e){return new n(e)}],this}])},{debug:2}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),
!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":3}],3:[function(e,t,n){function r(){return n.colors[u++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(l||t);e.diff=o,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=i.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=c,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var l,u=0},{ms:4}],4:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,u,"day")||a(e,l,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,c=60*s,l=60*c,u=24*l,d=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}]},{},[1]),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function i(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function o(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function c(e,t){return!!e.length&&v(e,t,0)>-1}function l(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function p(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function m(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function f(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function h(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function g(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function v(e,t,n){if(t!==t)return N(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function y(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function b(e,t){var n=e?e.length:0;return n?C(e,t)/n:_e}function _(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function E(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function C(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==W&&(n=n===W?o:n+o)}return n}function S(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function w(e,t){return u(t,function(t){return[t,e[t]]})}function T(e){return function(t){return e(t)}}function I(e,t){return u(t,function(t){return e[t]})}function O(e,t){return e.has(t)}function A(e,t){for(var n=-1,r=e.length;++n<r&&v(t,e[n],0)>-1;);return n}function $(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function D(e){return e&&e.Object===Object?e:null}function x(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function R(e){return Sn[e]}function k(e){return wn[e]}function P(e){return"\\"+On[e]}function N(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function M(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function L(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function F(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===Z)&&(e[n]=Z,o[i++]=n)}return o}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function H(e){if(!e||!vn.test(e))return e.length;for(var t=hn.lastIndex=0;hn.test(e);)t++;return t}function j(e){return e.match(hn)}function V(e){return Tn[e]}function z(D){function $t(e){if(hs(e)&&!od(e)&&!(e instanceof Rt)){if(e instanceof xt)return e;if(bl.call(e,"__wrapped__"))return so(e)}return new xt(e)}function Dt(){}function xt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=W}function Rt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function kt(){var e=new Rt(this.__wrapped__);return e.__actions__=ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ei(this.__views__),e}function Pt(){if(this.__filtered__){var e=new Rt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Nt(){var e=this.__wrapped__.value(),t=this.__dir__,n=od(e),r=0>t,i=n?e.length:0,o=Fi(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,d=u.length,p=0,m=Vl(c,this.__takeCount__);if(!n||q>i||i==c&&m==c)return Nr(e,this.__actions__);var f=[];e:for(;c--&&m>p;){l+=t;for(var h=-1,g=e[l];++h<d;){var v=u[h],y=v.iteratee,b=v.type,_=y(g);if(b==he)g=_;else if(!_){if(b==fe)continue e;break e}}f[p++]=g}return f}function Mt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lt(){this.__data__=tu?tu(null):{}}function Ut(e){return this.has(e)&&delete this.__data__[e]}function Ft(e){var t=this.__data__;if(tu){var n=t[e];return n===J?W:n}return bl.call(t,e)?t[e]:W}function Gt(e){var t=this.__data__;return tu?t[e]!==W:bl.call(t,e)}function Bt(e,t){var n=this.__data__;return n[e]=tu&&t===W?J:t,this}function Ht(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jt(){this.__data__=[]}function Vt(e){var t=this.__data__,n=hn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Ml.call(t,n,1),!0}function zt(e){var t=this.__data__,n=hn(t,e);return 0>n?W:t[n][1]}function Wt(e){return hn(this.__data__,e)>-1}function Yt(e,t){var n=this.__data__,r=hn(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kt(){this.__data__={hash:new Mt,map:new(Zl||Ht),string:new Mt}}function Jt(e){return ki(this,e)["delete"](e)}function Zt(e){return ki(this,e).get(e)}function Qt(e){return ki(this,e).has(e)}function Xt(e,t){return ki(this,e).set(e,t),this}function en(e){var t=-1,n=e?e.length:0;for(this.__data__=new qt;++t<n;)this.add(e[t])}function tn(e){return this.__data__.set(e,J),this}function nn(e){return this.__data__.has(e)}function rn(e){this.__data__=new Ht(e)}function on(){this.__data__=new Ht}function an(e){return this.__data__["delete"](e)}function sn(e){return this.__data__.get(e)}function cn(e){return this.__data__.has(e)}function ln(e,t){var n=this.__data__;return n instanceof Ht&&n.__data__.length==q&&(n=this.__data__=new qt(n.__data__)),n.set(e,t),this}function un(e,t,n,r){return e===W||Qa(e,gl[n])&&!bl.call(r,n)?t:e}function dn(e,t,n){(n!==W&&!Qa(e[t],n)||"number"==typeof t&&n===W&&!(t in e))&&(e[t]=n)}function pn(e,t,n){var r=e[t];bl.call(e,t)&&Qa(r,n)&&(n!==W||t in e)||(e[t]=n)}function hn(e,t){for(var n=e.length;n--;)if(Qa(e[n][0],t))return n;return-1}function Sn(e,t,n,r){return mu(e,function(e,i,o){t(r,e,n(e),o)}),r}function wn(e,t){return e&&ti(t,ec(t),e)}function Tn(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?W:Zs(e,t[n]);return o}function In(e,t,n){return e===e&&(n!==W&&(e=n>=e?e:n),t!==W&&(e=e>=t?e:t)),e}function On(e,t,n,r,o,a,s){var c;if(r&&(c=a?r(e,o,a,s):r(e)),c!==W)return c;if(!fs(e))return e;var l=od(e);if(l){if(c=Bi(e),!t)return ei(e,c)}else{var u=Ui(e),d=u==$e||u==De;if(ad(e))return Hr(e,t);if(u==ke||u==we||d&&!a){if(M(e))return a?e:{};if(c=Hi(d?{}:e),!t)return ni(e,wn(c,e))}else{if(!Cn[u])return a?e:{};c=ji(e,u,On,t)}}s||(s=new rn);var p=s.get(e);if(p)return p;if(s.set(e,c),!l)var m=n?Ai(e):ec(e);return i(m||e,function(i,o){m&&(o=i,i=e[o]),pn(c,o,On(i,t,n,r,o,e,s))}),c}function Dn(e){var t=ec(e),n=t.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=t[i],a=e[o],s=r[o];if(s===W&&!(o in Object(r))||!a(s))return!1}return!0}}function xn(e){return fs(e)?kl(e):{}}function kn(e,t,n){if("function"!=typeof e)throw new fl(K);return Nl(function(){e.apply(W,n)},t)}function Pn(e,t,n,r){var i=-1,o=c,a=!0,s=e.length,d=[],p=t.length;if(!s)return d;n&&(t=u(t,T(n))),r?(o=l,a=!1):t.length>=q&&(o=O,a=!1,t=new en(t));e:for(;++i<s;){var m=e[i],f=n?n(m):m;if(m=r||0!==m?m:0,a&&f===f){for(var h=p;h--;)if(t[h]===f)continue e;d.push(m)}else o(t,f,r)||d.push(m)}return d}function Nn(e,t){var n=!0;return mu(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Mn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===W?a===a&&!$s(a):n(a,s)))var s=a,c=o}return c}function Fn(e,t,n,r){var i=e.length;for(n=Ms(n),0>n&&(n=-n>i?0:i+n),r=r===W||r>i?i:Ms(r),0>r&&(r+=i),r=n>r?0:Ls(r);r>n;)e[n++]=t;return e}function Gn(e,t){var n=[];return mu(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Bn(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=zi),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Bn(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function Hn(e,t){return e&&hu(e,t,ec)}function jn(e,t){return e&&gu(e,t,ec)}function Vn(e,t){return s(t,function(t){return ds(e[t])})}function zn(e,t){t=Ki(t,e)?[t]:Gr(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[oo(t[n++])];return n&&n==r?e:W}function Wn(e,t,n){var r=t(e);return od(e)?r:d(r,n(e))}function Yn(e,t){return e>t}function qn(e,t){return bl.call(e,t)||"object"==typeof e&&t in e&&null===Mi(e)}function Kn(e,t){return t in Object(e)}function Jn(e,t,n){return e>=Vl(t,n)&&e<jl(t,n)}function Zn(e,t,n){for(var r=n?l:c,i=e[0].length,o=e.length,a=o,s=Array(o),d=1/0,p=[];a--;){var m=e[a];a&&t&&(m=u(m,T(t))),d=Vl(m.length,d),s[a]=!n&&(t||i>=120&&m.length>=120)?new en(a&&m):W}m=e[0];var f=-1,h=s[0];e:for(;++f<i&&p.length<d;){var g=m[f],v=t?t(g):g;if(g=n||0!==g?g:0,!(h?O(h,v):r(p,v,n))){for(a=o;--a;){var y=s[a];if(!(y?O(y,v):r(e[a],v,n)))continue e}h&&h.push(v),p.push(g)}}return p}function Qn(e,t,n,r){return Hn(e,function(e,i,o){t(r,n(e),i,o)}),r}function Xn(e,t,r){Ki(t,e)||(t=Gr(t),e=ro(e,t),t=Oo(t));var i=null==e?e:e[oo(t)];return null==i?W:n(i,e,r)}function er(e,t,n,r,i){return e===t?!0:null==e||null==t||!fs(e)&&!hs(t)?e!==e&&t!==t:tr(e,t,er,n,r,i)}function tr(e,t,n,r,i,o){var a=od(e),s=od(t),c=Te,l=Te;a||(c=Ui(e),c=c==we?ke:c),s||(l=Ui(t),l=l==we?ke:l);var u=c==ke&&!M(e),d=l==ke&&!M(t),p=c==l;if(p&&!u)return o||(o=new rn),a||Ds(e)?Ti(e,t,n,r,i,o):Ii(e,t,c,n,r,i,o);if(!(i&le)){var m=u&&bl.call(e,"__wrapped__"),f=d&&bl.call(t,"__wrapped__");if(m||f){var h=m?e.value():e,g=f?t.value():t;return o||(o=new rn),n(h,g,r,i,o)}}return p?(o||(o=new rn),Oi(e,t,n,r,i,o)):!1}function nr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var c=s[0],l=e[c],u=s[1];if(a&&s[2]){if(l===W&&!(c in e))return!1}else{var d=new rn;if(r)var p=r(l,u,c,e,t,d);if(!(p===W?er(u,l,r,ce|le,d):p))return!1}}return!0}function rr(e){return"function"==typeof e?e:null==e?jc:"object"==typeof e?od(e)?lr(e[0],e[1]):cr(e):Zc(e)}function ir(e){return Hl(Object(e))}function or(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ar(e,t){return t>e}function sr(e,t){var n=-1,r=ts(e)?Array(e.length):[];return mu(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function cr(e){var t=Pi(e);return 1==t.length&&t[0][2]?eo(t[0][0],t[0][1]):function(n){return n===e||nr(n,e,t)}}function lr(e,t){return Ki(e)&&Xi(t)?eo(oo(e),t):function(n){var r=Zs(n,e);return r===W&&r===t?Xs(n,e):er(t,r,W,ce|le)}}function ur(e,t,n,r,o){if(e!==t){if(!od(t)&&!Ds(t))var a=tc(t);i(a||t,function(i,s){if(a&&(s=i,i=t[s]),fs(i))o||(o=new rn),dr(e,t,s,n,ur,r,o);else{var c=r?r(e[s],i,s+"",e,t,o):W;c===W&&(c=i),dn(e,s,c)}})}}function dr(e,t,n,r,i,o,a){var s=e[n],c=t[n],l=a.get(c);if(l)return void dn(e,n,l);var u=o?o(s,c,n+"",e,t,a):W,d=u===W;d&&(u=c,od(c)||Ds(c)?od(s)?u=s:ns(s)?u=ei(s):(d=!1,u=On(c,!0)):ws(c)||Xa(c)?Xa(s)?u=Fs(s):!fs(s)||r&&ds(s)?(d=!1,u=On(c,!0)):u=s:d=!1),a.set(c,u),d&&i(u,c,r,o,a),a["delete"](c),dn(e,n,u)}function pr(e,t){var n=e.length;if(n)return t+=0>t?n:0,Yi(t,n)?e[t]:W}function mr(e,t,n){var r=-1;t=u(t.length?t:[jc],T(Ri()));var i=sr(e,function(e,n,i){var o=u(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return E(i,function(e,t){return Zr(e,t,n)})}function fr(e,t){return e=Object(e),p(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function hr(e,t){for(var n=-1,r=$i(e),i=r.length,o={};++n<i;){var a=r[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function gr(e){return function(t){return null==t?W:t[e]}}function vr(e){return function(t){return zn(t,e)}}function yr(e,t,n,r){var i=r?y:v,o=-1,a=t.length,s=e;for(n&&(s=u(e,T(n)));++o<a;)for(var c=0,l=t[o],d=n?n(l):l;(c=i(s,d,c,r))>-1;)s!==e&&Ml.call(s,c,1),Ml.call(e,c,1);return e}function br(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(Yi(i))Ml.call(e,i,1);else if(Ki(i,e))delete e[oo(i)];else{var a=Gr(i),s=ro(e,a);null!=s&&delete s[oo(Oo(a))]}}}return e}function _r(e,t){return e+Ul(Wl()*(t-e+1))}function Er(e,t,n,r){for(var i=-1,o=jl(Ll((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function Cr(e,t){var n="";if(!e||1>t||t>ye)return n;do t%2&&(n+=e),t=Ul(t/2),t&&(e+=e);while(t);return n}function Sr(e,t,n,r){t=Ki(t,e)?[t]:Gr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=oo(t[i]);if(fs(s)){var l=n;if(i!=a){var u=s[c];l=r?r(u,c,s):W,l===W&&(l=null==u?Yi(t[i+1])?[]:{}:u)}pn(s,c,l)}s=s[c]}return e}function wr(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Tr(e,t){var n;return mu(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Ir(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Se>=i){for(;i>r;){var o=r+i>>>1,a=e[o];null!==a&&!$s(a)&&(n?t>=a:t>a)?r=o+1:i=o}return i}return Or(e,t,jc,n)}function Or(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,c=$s(t),l=t===W;o>i;){var u=Ul((i+o)/2),d=n(e[u]),p=d!==W,m=null===d,f=d===d,h=$s(d);if(a)var g=r||f;else g=l?f&&(r||p):s?f&&p&&(r||!m):c?f&&p&&!m&&(r||!h):m||h?!1:r?t>=d:t>d;g?i=u+1:o=u}return Vl(o,Ce)}function Ar(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Qa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function $r(e){return"number"==typeof e?e:$s(e)?_e:+e}function Dr(e){if("string"==typeof e)return e;if($s(e))return pu?pu.call(e):"";var t=e+"";return"0"==t&&1/e==-ve?"-0":t}function xr(e,t,n){var r=-1,i=c,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=l;else if(o>=q){var d=t?null:yu(e);if(d)return G(d);a=!1,i=O,u=new en}else u=t?[]:s;e:for(;++r<o;){var p=e[r],m=t?t(p):p;if(p=n||0!==p?p:0,a&&m===m){for(var f=u.length;f--;)if(u[f]===m)continue e;t&&u.push(m),s.push(p)}else i(u,m,n)||(u!==s&&u.push(m),s.push(p))}return s}function Rr(e,t){t=Ki(t,e)?[t]:Gr(t),e=ro(e,t);var n=oo(Oo(t));return!(null!=e&&qn(e,n))||delete e[n]}function kr(e,t,n,r){return Sr(e,t,n(zn(e,t)),r)}function Pr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?wr(e,r?0:o,r?o+1:i):wr(e,r?o+1:0,r?i:o)}function Nr(e,t){var n=e;return n instanceof Rt&&(n=n.value()),p(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function Mr(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?d(Pn(o,e[r],t,n),Pn(e[r],o,t,n)):e[r];return o&&o.length?xr(o,t,n):[]}function Lr(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=o>r?t[r]:W;n(a,e[r],s)}return a}function Ur(e){return ns(e)?e:[]}function Fr(e){return"function"==typeof e?e:jc}function Gr(e){return od(e)?e:Su(e)}function Br(e,t,n){var r=e.length;return n=n===W?r:n,!t&&n>=r?e:wr(e,t,n)}function Hr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function jr(e){var t=new e.constructor(e.byteLength);return new Al(t).set(new Al(e)),t}function Vr(e,t){var n=t?jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function zr(t,n,r){var i=n?r(U(t),!0):U(t);return p(i,e,new t.constructor)}function Wr(e){var t=new e.constructor(e.source,bt.exec(e));return t.lastIndex=e.lastIndex,t}function Yr(e,n,r){var i=n?r(G(e),!0):G(e);return p(i,t,new e.constructor)}function qr(e){return du?Object(du.call(e)):{}}function Kr(e,t){var n=t?jr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Jr(e,t){if(e!==t){var n=e!==W,r=null===e,i=e===e,o=$s(e),a=t!==W,s=null===t,c=t===t,l=$s(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&t>e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function Zr(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=Jr(i[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*("desc"==l?-1:1)}}return e.index-t.index}function Qr(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,l=jl(o-a,0),u=Array(c+l),d=!r;++s<c;)u[s]=t[s];for(;++i<a;)(d||o>i)&&(u[n[i]]=e[i]);for(;l--;)u[s++]=e[i++];return u}function Xr(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,l=t.length,u=jl(o-s,0),d=Array(u+l),p=!r;++i<u;)d[i]=e[i];for(var m=i;++c<l;)d[m+c]=t[c];for(;++a<s;)(p||o>i)&&(d[m+n[a]]=e[i++]);return d}function ei(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ti(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):e[a];pn(n,a,s)}return n}function ni(e,t){return ti(e,Li(e),t)}function ri(e,t){return function(n,i){var o=od(n)?r:Sn,a=t?t():{};return o(n,e,Ri(i),a)}}function ii(e){return Ha(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:W,a=i>2?n[2]:W;for(o=e.length>3&&"function"==typeof o?(i--,o):W,a&&qi(n[0],n[1],a)&&(o=3>i?W:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function oi(e,t){return function(n,r){if(null==n)return n;if(!ts(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function ai(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(n(o[c],c,o)===!1)break}return t}}function si(e,t,n){function r(){var t=this&&this!==Ln&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&Q,o=ui(e);return r}function ci(e){return function(t){t=Bs(t);var n=vn.test(t)?j(t):W,r=n?n[0]:t.charAt(0),i=n?Br(n,1).join(""):t.slice(1);return r[e]()+i}}function li(e){return function(t){return p(Fc(bc(t).replace(mn,"")),e,"")}}function ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return fs(r)?r:n}}function di(e,t,r){function i(){for(var a=arguments.length,s=Array(a),c=a,l=xi(i);c--;)s[c]=arguments[c];var u=3>a&&s[0]!==l&&s[a-1]!==l?[]:F(s,l);if(a-=u.length,r>a)return Ei(e,t,mi,i.placeholder,W,s,u,W,W,r-a);var d=this&&this!==Ln&&this instanceof i?o:e;return n(d,this,s)}var o=ui(e);return i}function pi(e){return Ha(function(t){t=Bn(t,1);var n=t.length,r=n,i=xt.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new fl(K);if(i&&!a&&"wrapper"==Di(o))var a=new xt([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=Di(o),c="wrapper"==s?bu(o):W;a=c&&Zi(c[0])&&c[1]==(oe|te|re|ae)&&!c[4].length&&1==c[9]?a[Di(c[0])].apply(a,c[3]):1==o.length&&Zi(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&od(r)&&r.length>=q)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function mi(e,t,n,r,i,o,a,s,c,l){function u(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(f)var _=xi(u),E=x(y,_);if(r&&(y=Qr(y,r,i,f)),o&&(y=Xr(y,o,a,f)),v-=E,f&&l>v){var C=F(y,_);return Ei(e,t,mi,u.placeholder,n,y,C,s,c,l-v)}var S=p?n:this,w=m?S[e]:e;return v=y.length,s?y=io(y,s):h&&v>1&&y.reverse(),d&&v>c&&(y.length=c),this&&this!==Ln&&this instanceof u&&(w=g||ui(w)),w.apply(S,y)}var d=t&oe,p=t&Q,m=t&X,f=t&(te|ne),h=t&se,g=m?W:ui(e);return u}function fi(e,t){return function(n,r){return Qn(n,e,t(r),{})}}function hi(e){return function(t,n){var r;if(t===W&&n===W)return 0;if(t!==W&&(r=t),n!==W){if(r===W)return n;"string"==typeof t||"string"==typeof n?(t=Dr(t),n=Dr(n)):(t=$r(t),n=$r(n)),r=e(t,n)}return r}}function gi(e){return Ha(function(t){return t=1==t.length&&od(t[0])?u(t[0],T(Ri())):u(Bn(t,1,Wi),T(Ri())),Ha(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function vi(e,t){t=t===W?" ":Dr(t);var n=t.length;if(2>n)return n?Cr(t,e):t;var r=Cr(t,Ll(e/H(t)));return vn.test(t)?Br(j(r),0,e).join(""):r.slice(0,e)}function yi(e,t,r,i){function o(){for(var t=-1,c=arguments.length,l=-1,u=i.length,d=Array(u+c),p=this&&this!==Ln&&this instanceof o?s:e;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++t];return n(p,a?r:this,d)}var a=t&Q,s=ui(e);return o}function bi(e){return function(t,n,r){return r&&"number"!=typeof r&&qi(t,n,r)&&(n=r=W),t=Us(t),t=t===t?t:0,n===W?(n=t,t=0):n=Us(n)||0,r=r===W?n>t?1:-1:Us(r)||0,Er(t,n,r,e)}}function _i(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=Us(t),n=Us(n)),e(t,n)}}function Ei(e,t,n,r,i,o,a,s,c,l){var u=t&te,d=u?a:W,p=u?W:a,m=u?o:W,f=u?W:o;t|=u?re:ie,t&=~(u?ie:re),t&ee||(t&=~(Q|X));var h=[e,t,i,m,d,f,p,s,c,l],g=n.apply(W,h);return Zi(e)&&Cu(g,h),g.placeholder=r,g}function Ci(e){var t=pl[e];return function(e,n){if(e=Us(e),n=Ms(n)){var r=(Bs(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Bs(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Si(e){return function(t){var n=Ui(t);return n==xe?U(t):n==Me?B(t):w(t,e(t))}}function wi(e,t,n,r,i,o,a,s){var c=t&X;if(!c&&"function"!=typeof e)throw new fl(K);var l=r?r.length:0;if(l||(t&=~(re|ie),r=i=W),a=a===W?a:jl(Ms(a),0),s=s===W?s:Ms(s),l-=i?i.length:0,t&ie){var u=r,d=i;r=i=W}var p=c?W:bu(e),m=[e,t,n,r,i,u,d,o,a,s];if(p&&to(m,p),e=m[0],t=m[1],n=m[2],r=m[3],i=m[4],s=m[9]=null==m[9]?c?0:e.length:jl(m[9]-l,0),!s&&t&(te|ne)&&(t&=~(te|ne)),t&&t!=Q)f=t==te||t==ne?di(e,t,s):t!=re&&t!=(Q|re)||i.length?mi.apply(W,m):yi(e,t,n,r);else var f=si(e,t,n);var h=p?vu:Cu;return h(f,m)}function Ti(e,t,n,r,i,o){var a=i&le,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e);if(l)return l==t;var u=-1,d=!0,p=i&ce?new en:W;for(o.set(e,t);++u<s;){var m=e[u],h=t[u];if(r)var g=a?r(h,m,u,t,e,o):r(m,h,u,e,t,o);if(g!==W){if(g)continue;d=!1;break}if(p){if(!f(t,function(e,t){return p.has(t)||m!==e&&!n(m,e,r,i,o)?void 0:p.add(t)})){d=!1;break}}else if(m!==h&&!n(m,h,r,i,o)){d=!1;break}}return o["delete"](e),d}function Ii(e,t,n,r,i,o,a){switch(n){case He:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Be:return e.byteLength==t.byteLength&&r(new Al(e),new Al(t))?!0:!1;case Ie:case Oe:return+e==+t;case Ae:return e.name==t.name&&e.message==t.message;case Re:return e!=+e?t!=+t:e==+t;case Ne:case Le:return e==t+"";case xe:var s=U;case Me:var c=o&le;if(s||(s=G),e.size!=t.size&&!c)return!1;var l=a.get(e);return l?l==t:(o|=ce,a.set(e,t),Ti(s(e),s(t),r,i,o,a));case Ue:if(du)return du.call(e)==du.call(t)}return!1}function Oi(e,t,n,r,i,o){var a=i&le,s=ec(e),c=s.length,l=ec(t),u=l.length;if(c!=u&&!a)return!1;for(var d=c;d--;){var p=s[d];if(!(a?p in t:qn(t,p)))return!1}var m=o.get(e);if(m)return m==t;var f=!0;o.set(e,t);for(var h=a;++d<c;){p=s[d];var g=e[p],v=t[p];if(r)var y=a?r(v,g,p,t,e,o):r(g,v,p,e,t,o);if(!(y===W?g===v||n(g,v,r,i,o):y)){f=!1;break}h||(h="constructor"==p)}if(f&&!h){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o["delete"](e),f}function Ai(e){return Wn(e,ec,Li)}function $i(e){return Wn(e,tc,Eu)}function Di(e){for(var t=e.name+"",n=iu[t],r=bl.call(iu,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function xi(e){var t=bl.call($t,"placeholder")?$t:e;return t.placeholder}function Ri(){var e=$t.iteratee||Vc;return e=e===Vc?rr:e,arguments.length?e(arguments[0],arguments[1]):e}function ki(e,t){var n=e.__data__;return Ji(t)?n["string"==typeof t?"string":"hash"]:n.map}function Pi(e){for(var t=Sd(e),n=t.length;n--;)t[n][2]=Xi(t[n][1]);return t}function Ni(e,t){var n=e[t];return _s(n)?n:W}function Mi(e){return Fl(Object(e))}function Li(e){return xl(Object(e))}function Ui(e){return Cl.call(e)}function Fi(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vl(t,e+a);break;case"takeRight":e=jl(e,t-a)}}return{start:e,end:t}}function Gi(e,t,n){t=Ki(t,e)?[t]:Gr(t);for(var r,i=-1,o=t.length;++i<o;){var a=oo(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&ms(o)&&Yi(a,o)&&(od(e)||As(e)||Xa(e))}function Bi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&bl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Hi(e){return"function"!=typeof e.constructor||Qi(e)?{}:xn(Mi(e))}function ji(e,t,n,r){var i=e.constructor;switch(t){case Be:return jr(e);case Ie:case Oe:return new i(+e);case He:return Vr(e,r);case je:case Ve:case ze:case We:case Ye:case qe:case Ke:case Je:case Ze:return Kr(e,r);case xe:return zr(e,r,n);case Re:case Le:return new i(e);case Ne:return Wr(e);case Me:return Yr(e,r,n);case Ue:return qr(e)}}function Vi(e){var t=e?e.length:W;return ms(t)&&(od(e)||As(e)||Xa(e))?S(t,String):null}function zi(e){return od(e)||Xa(e)}function Wi(e){return od(e)&&!(2==e.length&&!ds(e[0]))}function Yi(e,t){return t=null==t?ye:t,!!t&&("number"==typeof e||Tt.test(e))&&e>-1&&e%1==0&&t>e}function qi(e,t,n){if(!fs(n))return!1;var r=typeof t;return("number"==r?ts(n)&&Yi(t,n.length):"string"==r&&t in n)?Qa(n[t],e):!1}function Ki(e,t){if(od(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||$s(e)?!0:lt.test(e)||!ct.test(e)||null!=t&&e in Object(t)}function Ji(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Zi(e){var t=Di(e),n=$t[t];if("function"!=typeof n||!(t in Rt.prototype))return!1;if(e===n)return!0;var r=bu(n);return!!r&&e===r[0]}function Qi(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||gl;return e===n}function Xi(e){return e===e&&!fs(e)}function eo(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==W||e in Object(n))}}function to(e,t){var n=e[1],r=t[1],i=n|r,o=(Q|X|oe)>i,a=r==oe&&n==te||r==oe&&n==ae&&e[7].length<=t[8]||r==(oe|ae)&&t[7].length<=t[8]&&n==te;if(!o&&!a)return e;r&Q&&(e[2]=t[2],i|=n&Q?0:ee);var s=t[3];if(s){var c=e[3];e[3]=c?Qr(c,s,t[4]):s,e[4]=c?F(e[3],Z):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?Xr(c,s,t[6]):s,e[6]=c?F(e[5],Z):t[6]),s=t[7],s&&(e[7]=s),r&oe&&(e[8]=null==e[8]?t[8]:Vl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function no(e,t,n,r,i,o){return fs(e)&&fs(t)&&ur(e,t,W,no,o.set(t,e)),e}function ro(e,t){return 1==t.length?e:zn(e,wr(t,0,-1))}function io(e,t){for(var n=e.length,r=Vl(t.length,n),i=ei(e);r--;){var o=t[r];e[r]=Yi(o,n)?i[o]:W}return e}function oo(e){if("string"==typeof e||$s(e))return e;var t=e+"";return"0"==t&&1/e==-ve?"-0":t}function ao(e){if(null!=e){try{return yl.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function so(e){if(e instanceof Rt)return e.clone();var t=new xt(e.__wrapped__,e.__chain__);return t.__actions__=ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function co(e,t,n){t=(n?qi(e,t,n):t===W)?1:jl(Ms(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,o=0,a=Array(Ll(r/t));r>i;)a[o++]=wr(e,i,i+=t);return a}function lo(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function uo(){for(var e=arguments.length,t=Array(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?d(od(n)?ei(n):[n],Bn(t,1)):[]}function po(e,t,n){var r=e?e.length:0;return r?(t=n||t===W?1:Ms(t),wr(e,0>t?0:t,r)):[]}function mo(e,t,n){var r=e?e.length:0;return r?(t=n||t===W?1:Ms(t),t=r-t,wr(e,0,0>t?0:t)):[]}function fo(e,t){return e&&e.length?Pr(e,Ri(t,3),!0,!0):[]}function ho(e,t){return e&&e.length?Pr(e,Ri(t,3),!0):[]}function go(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&qi(e,t,n)&&(n=0,r=i),Fn(e,t,n,r)):[]}function vo(e,t){return e&&e.length?g(e,Ri(t,3)):-1}function yo(e,t){return e&&e.length?g(e,Ri(t,3),!0):-1}function bo(e){var t=e?e.length:0;return t?Bn(e,1):[]}function _o(e){var t=e?e.length:0;return t?Bn(e,ve):[]}function Eo(e,t){var n=e?e.length:0;return n?(t=t===W?1:Ms(t),Bn(e,t)):[]}function Co(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function So(e){return e&&e.length?e[0]:W}function wo(e,t,n){var r=e?e.length:0;return r?(n=Ms(n),0>n&&(n=jl(r+n,0)),v(e,t,n)):-1}function To(e){return mo(e,1)}function Io(e,t){return e?Bl.call(e,t):""}function Oo(e){var t=e?e.length:0;return t?e[t-1]:W}function Ao(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==W&&(i=Ms(n),i=(0>i?jl(r+i,0):Vl(i,r-1))+1),t!==t)return N(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function $o(e,t){return e&&e.length?pr(e,Ms(t)):W}function Do(e,t){return e&&e.length&&t&&t.length?yr(e,t):e;
}function xo(e,t,n){return e&&e.length&&t&&t.length?yr(e,t,Ri(n)):e}function Ro(e,t,n){return e&&e.length&&t&&t.length?yr(e,t,W,n):e}function ko(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ri(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return br(e,i),n}function Po(e){return e?ql.call(e):e}function No(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&qi(e,t,n)?(t=0,n=r):(t=null==t?0:Ms(t),n=n===W?r:Ms(n)),wr(e,t,n)):[]}function Mo(e,t){return Ir(e,t)}function Lo(e,t,n){return Or(e,t,Ri(n))}function Uo(e,t){var n=e?e.length:0;if(n){var r=Ir(e,t);if(n>r&&Qa(e[r],t))return r}return-1}function Fo(e,t){return Ir(e,t,!0)}function Go(e,t,n){return Or(e,t,Ri(n),!0)}function Bo(e,t){var n=e?e.length:0;if(n){var r=Ir(e,t,!0)-1;if(Qa(e[r],t))return r}return-1}function Ho(e){return e&&e.length?Ar(e):[]}function jo(e,t){return e&&e.length?Ar(e,Ri(t)):[]}function Vo(e){return po(e,1)}function zo(e,t,n){return e&&e.length?(t=n||t===W?1:Ms(t),wr(e,0,0>t?0:t)):[]}function Wo(e,t,n){var r=e?e.length:0;return r?(t=n||t===W?1:Ms(t),t=r-t,wr(e,0>t?0:t,r)):[]}function Yo(e,t){return e&&e.length?Pr(e,Ri(t,3),!1,!0):[]}function qo(e,t){return e&&e.length?Pr(e,Ri(t,3)):[]}function Ko(e){return e&&e.length?xr(e):[]}function Jo(e,t){return e&&e.length?xr(e,Ri(t)):[]}function Zo(e,t){return e&&e.length?xr(e,W,t):[]}function Qo(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){return ns(e)?(t=jl(e.length,t),!0):void 0}),S(t,function(t){return u(e,gr(t))})}function Xo(e,t){if(!e||!e.length)return[];var r=Qo(e);return null==t?r:u(r,function(e){return n(t,W,e)})}function ea(e,t){return Lr(e||[],t||[],pn)}function ta(e,t){return Lr(e||[],t||[],Sr)}function na(e){var t=$t(e);return t.__chain__=!0,t}function ra(e,t){return t(e),e}function ia(e,t){return t(e)}function oa(){return na(this)}function aa(){return new xt(this.value(),this.__chain__)}function sa(){this.__values__===W&&(this.__values__=Ps(this.value()));var e=this.__index__>=this.__values__.length,t=e?W:this.__values__[this.__index__++];return{done:e,value:t}}function ca(){return this}function la(e){for(var t,n=this;n instanceof Dt;){var r=so(n);r.__index__=0,r.__values__=W,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function ua(){var e=this.__wrapped__;if(e instanceof Rt){var t=e;return this.__actions__.length&&(t=new Rt(this)),t=t.reverse(),t.__actions__.push({func:ia,args:[Po],thisArg:W}),new xt(t,this.__chain__)}return this.thru(Po)}function da(){return Nr(this.__wrapped__,this.__actions__)}function pa(e,t,n){var r=od(e)?a:Nn;return n&&qi(e,t,n)&&(t=W),r(e,Ri(t,3))}function ma(e,t){var n=od(e)?s:Gn;return n(e,Ri(t,3))}function fa(e,t){if(t=Ri(t,3),od(e)){var n=g(e,t);return n>-1?e[n]:W}return h(e,t,mu)}function ha(e,t){if(t=Ri(t,3),od(e)){var n=g(e,t,!0);return n>-1?e[n]:W}return h(e,t,fu)}function ga(e,t){return Bn(Ca(e,t),1)}function va(e,t){return Bn(Ca(e,t),ve)}function ya(e,t,n){return n=n===W?1:Ms(n),Bn(Ca(e,t),n)}function ba(e,t){var n=od(e)?i:mu;return n(e,Ri(t,3))}function _a(e,t){var n=od(e)?o:fu;return n(e,Ri(t,3))}function Ea(e,t,n,r){e=ts(e)?e:mc(e),n=n&&!r?Ms(n):0;var i=e.length;return 0>n&&(n=jl(i+n,0)),As(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&v(e,t,n)>-1}function Ca(e,t){var n=od(e)?u:sr;return n(e,Ri(t,3))}function Sa(e,t,n,r){return null==e?[]:(od(t)||(t=null==t?[]:[t]),n=r?W:n,od(n)||(n=null==n?[]:[n]),mr(e,t,n))}function wa(e,t,n){var r=od(e)?p:_,i=arguments.length<3;return r(e,Ri(t,4),n,i,mu)}function Ta(e,t,n){var r=od(e)?m:_,i=arguments.length<3;return r(e,Ri(t,4),n,i,fu)}function Ia(e,t){var n=od(e)?s:Gn;return t=Ri(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function Oa(e){var t=ts(e)?e:mc(e),n=t.length;return n>0?t[_r(0,n-1)]:W}function Aa(e,t,n){var r=-1,i=Ps(e),o=i.length,a=o-1;for(t=(n?qi(e,t,n):t===W)?1:In(Ms(t),0,o);++r<t;){var s=_r(r,a),c=i[s];i[s]=i[r],i[r]=c}return i.length=t,i}function $a(e){return Aa(e,Ee)}function Da(e){if(null==e)return 0;if(ts(e)){var t=e.length;return t&&As(e)?H(e):t}if(hs(e)){var n=Ui(e);if(n==xe||n==Me)return e.size}return ec(e).length}function xa(e,t,n){var r=od(e)?f:Tr;return n&&qi(e,t,n)&&(t=W),r(e,Ri(t,3))}function Ra(e,t){if("function"!=typeof t)throw new fl(K);return e=Ms(e),function(){return--e<1?t.apply(this,arguments):void 0}}function ka(e,t,n){return t=n?W:t,t=e&&null==t?e.length:t,wi(e,oe,W,W,W,W,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new fl(K);return e=Ms(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=W),n}}function Na(e,t,n){t=n?W:t;var r=wi(e,te,W,W,W,W,W,t);return r.placeholder=Na.placeholder,r}function Ma(e,t,n){t=n?W:t;var r=wi(e,ne,W,W,W,W,W,t);return r.placeholder=Ma.placeholder,r}function La(e,t,n){function r(t){var n=p,r=m;return p=m=W,y=t,h=e.apply(r,n)}function i(e){return y=e,g=Nl(s,t),b?r(e):h}function o(e){var n=e-v,r=e-y,i=t-n;return _?Vl(i,f-r):i}function a(e){var n=e-v,r=e-y;return!v||n>=t||0>n||_&&r>=f}function s(){var e=qu();return a(e)?c(e):void(g=Nl(s,o(e)))}function c(e){return $l(g),g=W,E&&p?r(e):(p=m=W,h)}function l(){g!==W&&$l(g),v=y=0,p=m=g=W}function u(){return g===W?h:c(qu())}function d(){var e=qu(),n=a(e);if(p=arguments,m=this,v=e,n){if(g===W)return i(v);if(_)return $l(g),g=Nl(s,t),r(v)}return g===W&&(g=Nl(s,t)),h}var p,m,f,h,g,v=0,y=0,b=!1,_=!1,E=!0;if("function"!=typeof e)throw new fl(K);return t=Us(t)||0,fs(n)&&(b=!!n.leading,_="maxWait"in n,f=_?jl(Us(n.maxWait)||0,t):f,E="trailing"in n?!!n.trailing:E),d.cancel=l,d.flush=u,d}function Ua(e){return wi(e,se)}function Fa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new fl(K);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Fa.Cache||qt),n}function Ga(e){if("function"!=typeof e)throw new fl(K);return function(){return!e.apply(this,arguments)}}function Ba(e){return Pa(2,e)}function Ha(e,t){if("function"!=typeof e)throw new fl(K);return t=jl(t===W?e.length-1:Ms(t),0),function(){for(var r=arguments,i=-1,o=jl(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function ja(e,t){if("function"!=typeof e)throw new fl(K);return t=t===W?0:jl(Ms(t),0),Ha(function(r){var i=r[t],o=Br(r,0,t);return i&&d(o,i),n(e,this,o)})}function Va(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new fl(K);return fs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),La(e,t,{leading:r,maxWait:t,trailing:i})}function za(e){return ka(e,1)}function Wa(e,t){return t=null==t?jc:t,ed(t,e)}function Ya(){if(!arguments.length)return[];var e=arguments[0];return od(e)?e:[e]}function qa(e){return On(e,!1,!0)}function Ka(e,t){return On(e,!1,!0,t)}function Ja(e){return On(e,!0,!0)}function Za(e,t){return On(e,!0,!0,t)}function Qa(e,t){return e===t||e!==e&&t!==t}function Xa(e){return ns(e)&&bl.call(e,"callee")&&(!Pl.call(e,"callee")||Cl.call(e)==we)}function es(e){return hs(e)&&Cl.call(e)==Be}function ts(e){return null!=e&&ms(_u(e))&&!ds(e)}function ns(e){return hs(e)&&ts(e)}function rs(e){return e===!0||e===!1||hs(e)&&Cl.call(e)==Ie}function is(e){return hs(e)&&Cl.call(e)==Oe}function os(e){return!!e&&1===e.nodeType&&hs(e)&&!ws(e)}function as(e){if(ts(e)&&(od(e)||As(e)||ds(e.splice)||Xa(e)||ad(e)))return!e.length;if(hs(e)){var t=Ui(e);if(t==xe||t==Me)return!e.size}for(var n in e)if(bl.call(e,n))return!1;return!(ru&&ec(e).length)}function ss(e,t){return er(e,t)}function cs(e,t,n){n="function"==typeof n?n:W;var r=n?n(e,t):W;return r===W?er(e,t,n):!!r}function ls(e){return hs(e)?Cl.call(e)==Ae||"string"==typeof e.message&&"string"==typeof e.name:!1}function us(e){return"number"==typeof e&&Gl(e)}function ds(e){var t=fs(e)?Cl.call(e):"";return t==$e||t==De}function ps(e){return"number"==typeof e&&e==Ms(e)}function ms(e){return"number"==typeof e&&e>-1&&e%1==0&&ye>=e}function fs(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function hs(e){return!!e&&"object"==typeof e}function gs(e){return hs(e)&&Ui(e)==xe}function vs(e,t){return e===t||nr(e,t,Pi(t))}function ys(e,t,n){return n="function"==typeof n?n:W,nr(e,t,Pi(t),n)}function bs(e){return Ss(e)&&e!=+e}function _s(e){if(!fs(e))return!1;var t=ds(e)||M(e)?wl:St;return t.test(ao(e))}function Es(e){return null===e}function Cs(e){return null==e}function Ss(e){return"number"==typeof e||hs(e)&&Cl.call(e)==Re}function ws(e){if(!hs(e)||Cl.call(e)!=ke||M(e))return!1;var t=Mi(e);if(null===t)return!0;var n=bl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&yl.call(n)==El}function Ts(e){return fs(e)&&Cl.call(e)==Ne}function Is(e){return ps(e)&&e>=-ye&&ye>=e}function Os(e){return hs(e)&&Ui(e)==Me}function As(e){return"string"==typeof e||!od(e)&&hs(e)&&Cl.call(e)==Le}function $s(e){return"symbol"==typeof e||hs(e)&&Cl.call(e)==Ue}function Ds(e){return hs(e)&&ms(e.length)&&!!En[Cl.call(e)]}function xs(e){return e===W}function Rs(e){return hs(e)&&Ui(e)==Fe}function ks(e){return hs(e)&&Cl.call(e)==Ge}function Ps(e){if(!e)return[];if(ts(e))return As(e)?j(e):ei(e);if(Rl&&e[Rl])return L(e[Rl]());var t=Ui(e),n=t==xe?U:t==Me?G:mc;return n(e)}function Ns(e){if(!e)return 0===e?e:0;if(e=Us(e),e===ve||e===-ve){var t=0>e?-1:1;return t*be}return e===e?e:0}function Ms(e){var t=Ns(e),n=t%1;return t===t?n?t-n:t:0}function Ls(e){return e?In(Ms(e),0,Ee):0}function Us(e){if("number"==typeof e)return e;if($s(e))return _e;if(fs(e)){var t=ds(e.valueOf)?e.valueOf():e;e=fs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mt,"");var n=Ct.test(e);return n||wt.test(e)?$n(e.slice(2),n?2:8):Et.test(e)?_e:+e}function Fs(e){return ti(e,tc(e))}function Gs(e){return In(Ms(e),-ye,ye)}function Bs(e){return null==e?"":Dr(e)}function Hs(e,t){var n=xn(e);return t?wn(n,t):n}function js(e,t){return h(e,Ri(t,3),Hn,!0)}function Vs(e,t){return h(e,Ri(t,3),jn,!0)}function zs(e,t){return null==e?e:hu(e,Ri(t,3),tc)}function Ws(e,t){return null==e?e:gu(e,Ri(t,3),tc)}function Ys(e,t){return e&&Hn(e,Ri(t,3))}function qs(e,t){return e&&jn(e,Ri(t,3))}function Ks(e){return null==e?[]:Vn(e,ec(e))}function Js(e){return null==e?[]:Vn(e,tc(e))}function Zs(e,t,n){var r=null==e?W:zn(e,t);return r===W?n:r}function Qs(e,t){return null!=e&&Gi(e,t,qn)}function Xs(e,t){return null!=e&&Gi(e,t,Kn)}function ec(e){var t=Qi(e);if(!t&&!ts(e))return ir(e);var n=Vi(e),r=!!n,i=n||[],o=i.length;for(var a in e)!qn(e,a)||r&&("length"==a||Yi(a,o))||t&&"constructor"==a||i.push(a);return i}function tc(e){for(var t=-1,n=Qi(e),r=or(e),i=r.length,o=Vi(e),a=!!o,s=o||[],c=s.length;++t<i;){var l=r[t];a&&("length"==l||Yi(l,c))||"constructor"==l&&(n||!bl.call(e,l))||s.push(l)}return s}function nc(e,t){var n={};return t=Ri(t,3),Hn(e,function(e,r,i){n[t(e,r,i)]=e}),n}function rc(e,t){var n={};return t=Ri(t,3),Hn(e,function(e,r,i){n[r]=t(e,r,i)}),n}function ic(e,t){return t=Ri(t),hr(e,function(e,n){return!t(e,n)})}function oc(e,t){return null==e?{}:hr(e,Ri(t))}function ac(e,t,n){t=Ki(t,e)?[t]:Gr(t);var r=-1,i=t.length;for(i||(e=W,i=1);++r<i;){var o=null==e?W:e[oo(t[r])];o===W&&(r=i,o=n),e=ds(o)?o.call(e):o}return e}function sc(e,t,n){return null==e?e:Sr(e,t,n)}function cc(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:Sr(e,t,n,r)}function lc(e,t,n){var r=od(e)||Ds(e);if(t=Ri(t,4),null==n)if(r||fs(e)){var o=e.constructor;n=r?od(e)?new o:[]:ds(o)?xn(Mi(e)):{}}else n={};return(r?i:Hn)(e,function(e,r,i){return t(n,e,r,i)}),n}function uc(e,t){return null==e?!0:Rr(e,t)}function dc(e,t,n){return null==e?e:kr(e,t,Fr(n))}function pc(e,t,n,r){return r="function"==typeof r?r:W,null==e?e:kr(e,t,Fr(n),r)}function mc(e){return e?I(e,ec(e)):[]}function fc(e){return null==e?[]:I(e,tc(e))}function hc(e,t,n){return n===W&&(n=t,t=W),n!==W&&(n=Us(n),n=n===n?n:0),t!==W&&(t=Us(t),t=t===t?t:0),In(Us(e),t,n)}function gc(e,t,n){return t=Us(t)||0,n===W?(n=t,t=0):n=Us(n)||0,e=Us(e),Jn(e,t,n)}function vc(e,t,n){if(n&&"boolean"!=typeof n&&qi(e,t,n)&&(t=n=W),n===W&&("boolean"==typeof t?(n=t,t=W):"boolean"==typeof e&&(n=e,e=W)),e===W&&t===W?(e=0,t=1):(e=Us(e)||0,t===W?(t=e,e=0):t=Us(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Wl();return Vl(e+i*(t-e+An("1e-"+((i+"").length-1))),t)}return _r(e,t)}function yc(e){return Rd(Bs(e).toLowerCase())}function bc(e){return e=Bs(e),e&&e.replace(It,R).replace(fn,"")}function _c(e,t,n){e=Bs(e),t=Dr(t);var r=e.length;return n=n===W?r:In(Ms(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Ec(e){return e=Bs(e),e&&it.test(e)?e.replace(nt,k):e}function Cc(e){return e=Bs(e),e&&pt.test(e)?e.replace(dt,"\\$&"):e}function Sc(e,t,n){e=Bs(e),t=Ms(t);var r=t?H(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return vi(Ul(i),n)+e+vi(Ll(i),n)}function wc(e,t,n){e=Bs(e),t=Ms(t);var r=t?H(e):0;return t&&t>r?e+vi(t-r,n):e}function Tc(e,t,n){e=Bs(e),t=Ms(t);var r=t?H(e):0;return t&&t>r?vi(t-r,n)+e:e}function Ic(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Bs(e).replace(mt,""),zl(e,t||(_t.test(e)?16:10))}function Oc(e,t,n){return t=(n?qi(e,t,n):t===W)?1:Ms(t),Cr(Bs(e),t)}function Ac(){var e=arguments,t=Bs(e[0]);return e.length<3?t:Yl.call(t,e[1],e[2])}function $c(e,t,n){return n&&"number"!=typeof n&&qi(e,t,n)&&(t=n=W),(n=n===W?Ee:n>>>0)?(e=Bs(e),e&&("string"==typeof t||null!=t&&!Ts(t))&&(t=Dr(t),""==t&&vn.test(e))?Br(j(e),0,n):Kl.call(e,t,n)):[]}function Dc(e,t,n){return e=Bs(e),n=In(Ms(n),0,e.length),e.lastIndexOf(Dr(t),n)==n}function xc(e,t,n){var r=$t.templateSettings;n&&qi(e,t,n)&&(t=W),e=Bs(e),t=dd({},t,r,un);var i,o,a=dd({},t.imports,r.imports,un),s=ec(a),c=I(a,s),l=0,u=t.interpolate||Ot,d="__p += '",p=ml((t.escape||Ot).source+"|"+u.source+"|"+(u===st?yt:Ot).source+"|"+(t.evaluate||Ot).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++_n+"]")+"\n";e.replace(p,function(t,n,r,a,s,c){return r||(r=a),d+=e.slice(l,c).replace(At,P),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),d+="';\n";var f=t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(Qe,""):d).replace(Xe,"$1").replace(et,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=kd(function(){return Function(s,m+"return "+d).apply(W,c)});if(h.source=d,ls(h))throw h;return h}function Rc(e){return Bs(e).toLowerCase()}function kc(e){return Bs(e).toUpperCase()}function Pc(e,t,n){if(e=Bs(e),e&&(n||t===W))return e.replace(mt,"");if(!e||!(t=Dr(t)))return e;var r=j(e),i=j(t),o=A(r,i),a=$(r,i)+1;return Br(r,o,a).join("")}function Nc(e,t,n){if(e=Bs(e),e&&(n||t===W))return e.replace(ht,"");if(!e||!(t=Dr(t)))return e;var r=j(e),i=$(r,j(t))+1;return Br(r,0,i).join("")}function Mc(e,t,n){if(e=Bs(e),e&&(n||t===W))return e.replace(ft,"");if(!e||!(t=Dr(t)))return e;var r=j(e),i=A(r,j(t));return Br(r,i).join("")}function Lc(e,t){var n=ue,r=de;if(fs(t)){var i="separator"in t?t.separator:i;n="length"in t?Ms(t.length):n,r="omission"in t?Dr(t.omission):r}e=Bs(e);var o=e.length;if(vn.test(e)){var a=j(e);o=a.length}if(n>=o)return e;var s=n-H(r);if(1>s)return r;var c=a?Br(a,0,s).join(""):e.slice(0,s);if(i===W)return c+r;if(a&&(s+=c.length-s),Ts(i)){if(e.slice(s).search(i)){var l,u=c;for(i.global||(i=ml(i.source,Bs(bt.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var d=l.index;c=c.slice(0,d===W?s:d)}}else if(e.indexOf(Dr(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function Uc(e){return e=Bs(e),e&&rt.test(e)?e.replace(tt,V):e}function Fc(e,t,n){return e=Bs(e),t=n?W:t,t===W&&(t=yn.test(e)?gn:gt),e.match(t)||[]}function Gc(e){var t=e?e.length:0,r=Ri();return e=t?u(e,function(e){if("function"!=typeof e[1])throw new fl(K);return[r(e[0]),e[1]]}):[],Ha(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function Bc(e){return Dn(On(e,!0))}function Hc(e){return function(){return e}}function jc(e){return e}function Vc(e){return rr("function"==typeof e?e:On(e,!0))}function zc(e){return cr(On(e,!0))}function Wc(e,t){return lr(e,On(t,!0))}function Yc(e,t,n){var r=ec(t),o=Vn(t,r);null!=n||fs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Vn(t,ec(t)));var a=!(fs(n)&&"chain"in n&&!n.chain),s=ds(e);return i(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function qc(){return Ln._===this&&(Ln._=Sl),this}function Kc(){}function Jc(e){return e=Ms(e),Ha(function(t){return pr(t,e)})}function Zc(e){return Ki(e)?gr(oo(e)):vr(e)}function Qc(e){return function(t){return null==e?W:zn(e,t)}}function Xc(e,t){if(e=Ms(e),1>e||e>ye)return[];var n=Ee,r=Vl(e,Ee);t=Ri(t),e-=Ee;for(var i=S(r,t);++n<e;)t(n);return i}function el(e){return od(e)?u(e,oo):$s(e)?[e]:ei(Su(e))}function tl(e){var t=++_l;return Bs(e)+t}function nl(e){return e&&e.length?Mn(e,jc,Yn):W}function rl(e,t){return e&&e.length?Mn(e,Ri(t),Yn):W}function il(e){return b(e,jc)}function ol(e,t){return b(e,Ri(t))}function al(e){return e&&e.length?Mn(e,jc,ar):W}function sl(e,t){return e&&e.length?Mn(e,Ri(t),ar):W}function cl(e){return e&&e.length?C(e,jc):0}function ll(e,t){return e&&e.length?C(e,Ri(t)):0}D=D?Un.defaults({},D,Un.pick(Ln,bn)):Ln;var ul=D.Date,dl=D.Error,pl=D.Math,ml=D.RegExp,fl=D.TypeError,hl=D.Array.prototype,gl=D.Object.prototype,vl=D.String.prototype,yl=D.Function.prototype.toString,bl=gl.hasOwnProperty,_l=0,El=yl.call(Object),Cl=gl.toString,Sl=Ln._,wl=ml("^"+yl.call(bl).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tl=Rn?D.Buffer:W,Il=D.Reflect,Ol=D.Symbol,Al=D.Uint8Array,$l=D.clearTimeout,Dl=Il?Il.enumerate:W,xl=Object.getOwnPropertySymbols,Rl="symbol"==typeof(Rl=Ol&&Ol.iterator)?Rl:W,kl=Object.create,Pl=gl.propertyIsEnumerable,Nl=D.setTimeout,Ml=hl.splice,Ll=pl.ceil,Ul=pl.floor,Fl=Object.getPrototypeOf,Gl=D.isFinite,Bl=hl.join,Hl=Object.keys,jl=pl.max,Vl=pl.min,zl=D.parseInt,Wl=pl.random,Yl=vl.replace,ql=hl.reverse,Kl=vl.split,Jl=Ni(D,"DataView"),Zl=Ni(D,"Map"),Ql=Ni(D,"Promise"),Xl=Ni(D,"Set"),eu=Ni(D,"WeakMap"),tu=Ni(Object,"create"),nu=eu&&new eu,ru=!Pl.call({valueOf:1},"valueOf"),iu={},ou=ao(Jl),au=ao(Zl),su=ao(Ql),cu=ao(Xl),lu=ao(eu),uu=Ol?Ol.prototype:W,du=uu?uu.valueOf:W,pu=uu?uu.toString:W;$t.templateSettings={escape:ot,evaluate:at,interpolate:st,variable:"",imports:{_:$t}},$t.prototype=Dt.prototype,$t.prototype.constructor=$t,xt.prototype=xn(Dt.prototype),xt.prototype.constructor=xt,Rt.prototype=xn(Dt.prototype),Rt.prototype.constructor=Rt,Mt.prototype.clear=Lt,Mt.prototype["delete"]=Ut,Mt.prototype.get=Ft,Mt.prototype.has=Gt,Mt.prototype.set=Bt,Ht.prototype.clear=jt,Ht.prototype["delete"]=Vt,Ht.prototype.get=zt,Ht.prototype.has=Wt,Ht.prototype.set=Yt,qt.prototype.clear=Kt,qt.prototype["delete"]=Jt,qt.prototype.get=Zt,qt.prototype.has=Qt,qt.prototype.set=Xt,en.prototype.add=en.prototype.push=tn,en.prototype.has=nn,rn.prototype.clear=on,rn.prototype["delete"]=an,rn.prototype.get=sn,rn.prototype.has=cn,rn.prototype.set=ln;var mu=oi(Hn),fu=oi(jn,!0),hu=ai(),gu=ai(!0);Dl&&!Pl.call({valueOf:1},"valueOf")&&(or=function(e){return L(Dl(e))});var vu=nu?function(e,t){return nu.set(e,t),e}:jc,yu=Xl&&1/G(new Xl([,-0]))[1]==ve?function(e){return new Xl(e)}:Kc,bu=nu?function(e){return nu.get(e)}:Kc,_u=gr("length");xl||(Li=function(){return[]});var Eu=xl?function(e){for(var t=[];e;)d(t,Li(e)),e=Mi(e);return t}:Li;(Jl&&Ui(new Jl(new ArrayBuffer(1)))!=He||Zl&&Ui(new Zl)!=xe||Ql&&Ui(Ql.resolve())!=Pe||Xl&&Ui(new Xl)!=Me||eu&&Ui(new eu)!=Fe)&&(Ui=function(e){var t=Cl.call(e),n=t==ke?e.constructor:W,r=n?ao(n):W;if(r)switch(r){case ou:return He;case au:return xe;case su:return Pe;case cu:return Me;case lu:return Fe}return t});var Cu=function(){var e=0,t=0;return function(n,r){var i=qu(),o=me-(i-t);if(t=i,o>0){if(++e>=pe)return n}else e=0;return vu(n,r)}}(),Su=Fa(function(e){var t=[];return Bs(e).replace(ut,function(e,n,r,i){t.push(r?i.replace(vt,"$1"):n||e)}),t}),wu=Ha(function(e,t){return ns(e)?Pn(e,Bn(t,1,ns,!0)):[]}),Tu=Ha(function(e,t){var n=Oo(t);return ns(n)&&(n=W),ns(e)?Pn(e,Bn(t,1,ns,!0),Ri(n)):[]}),Iu=Ha(function(e,t){var n=Oo(t);return ns(n)&&(n=W),ns(e)?Pn(e,Bn(t,1,ns,!0),W,n):[]}),Ou=Ha(function(e){var t=u(e,Ur);return t.length&&t[0]===e[0]?Zn(t):[]}),Au=Ha(function(e){var t=Oo(e),n=u(e,Ur);return t===Oo(n)?t=W:n.pop(),n.length&&n[0]===e[0]?Zn(n,Ri(t)):[]}),$u=Ha(function(e){var t=Oo(e),n=u(e,Ur);return t===Oo(n)?t=W:n.pop(),n.length&&n[0]===e[0]?Zn(n,W,t):[]}),Du=Ha(Do),xu=Ha(function(e,t){t=Bn(t,1);var n=e?e.length:0,r=Tn(e,t);return br(e,u(t,function(e){return Yi(e,n)?+e:e}).sort(Jr)),r}),Ru=Ha(function(e){return xr(Bn(e,1,ns,!0))}),ku=Ha(function(e){var t=Oo(e);return ns(t)&&(t=W),xr(Bn(e,1,ns,!0),Ri(t))}),Pu=Ha(function(e){var t=Oo(e);return ns(t)&&(t=W),xr(Bn(e,1,ns,!0),W,t)}),Nu=Ha(function(e,t){return ns(e)?Pn(e,t):[]}),Mu=Ha(function(e){return Mr(s(e,ns))}),Lu=Ha(function(e){var t=Oo(e);return ns(t)&&(t=W),Mr(s(e,ns),Ri(t))}),Uu=Ha(function(e){var t=Oo(e);return ns(t)&&(t=W),Mr(s(e,ns),W,t)}),Fu=Ha(Qo),Gu=Ha(function(e){var t=e.length,n=t>1?e[t-1]:W;return n="function"==typeof n?(e.pop(),n):W,Xo(e,n)}),Bu=Ha(function(e){e=Bn(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Tn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Rt&&Yi(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ia,args:[i],thisArg:W}),new xt(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(W),e})):this.thru(i)}),Hu=ri(function(e,t,n){bl.call(e,n)?++e[n]:e[n]=1}),ju=ri(function(e,t,n){bl.call(e,n)?e[n].push(t):e[n]=[t]}),Vu=Ha(function(e,t,r){var i=-1,o="function"==typeof t,a=Ki(t),s=ts(e)?Array(e.length):[];return mu(e,function(e){var c=o?t:a&&null!=e?e[t]:W;s[++i]=c?n(c,e,r):Xn(e,t,r)}),s}),zu=ri(function(e,t,n){e[n]=t}),Wu=ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Yu=Ha(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qi(e,t[0],t[1])?t=[]:n>2&&qi(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&od(t[0])?t[0]:Bn(t,1,Wi),mr(e,t,[])}),qu=ul.now,Ku=Ha(function(e,t,n){var r=Q;if(n.length){var i=F(n,xi(Ku));r|=re}return wi(e,r,t,n,i)}),Ju=Ha(function(e,t,n){var r=Q|X;if(n.length){var i=F(n,xi(Ju));r|=re}return wi(t,r,e,n,i)}),Zu=Ha(function(e,t){return kn(e,1,t)}),Qu=Ha(function(e,t,n){return kn(e,Us(t)||0,n)});Fa.Cache=qt;var Xu=Ha(function(e,t){t=1==t.length&&od(t[0])?u(t[0],T(Ri())):u(Bn(t,1,Wi),T(Ri()));var r=t.length;return Ha(function(i){for(var o=-1,a=Vl(i.length,r);++o<a;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),ed=Ha(function(e,t){var n=F(t,xi(ed));return wi(e,re,W,t,n)}),td=Ha(function(e,t){var n=F(t,xi(td));return wi(e,ie,W,t,n)}),nd=Ha(function(e,t){return wi(e,ae,W,W,W,Bn(t,1))}),rd=_i(Yn),id=_i(function(e,t){return e>=t}),od=Array.isArray,ad=Tl?function(e){return e instanceof Tl}:Hc(!1),sd=_i(ar),cd=_i(function(e,t){return t>=e}),ld=ii(function(e,t){if(ru||Qi(t)||ts(t))return void ti(t,ec(t),e);for(var n in t)bl.call(t,n)&&pn(e,n,t[n])}),ud=ii(function(e,t){if(ru||Qi(t)||ts(t))return void ti(t,tc(t),e);for(var n in t)pn(e,n,t[n])}),dd=ii(function(e,t,n,r){ti(t,tc(t),e,r)}),pd=ii(function(e,t,n,r){ti(t,ec(t),e,r)}),md=Ha(function(e,t){return Tn(e,Bn(t,1))}),fd=Ha(function(e){return e.push(W,un),n(dd,W,e)}),hd=Ha(function(e){return e.push(W,no),n(_d,W,e)}),gd=fi(function(e,t,n){e[t]=n},Hc(jc)),vd=fi(function(e,t,n){bl.call(e,t)?e[t].push(n):e[t]=[n]},Ri),yd=Ha(Xn),bd=ii(function(e,t,n){ur(e,t,n)}),_d=ii(function(e,t,n,r){ur(e,t,n,r)}),Ed=Ha(function(e,t){return null==e?{}:(t=u(Bn(t,1),oo),fr(e,Pn($i(e),t)))}),Cd=Ha(function(e,t){return null==e?{}:fr(e,u(Bn(t,1),oo))}),Sd=Si(ec),wd=Si(tc),Td=li(function(e,t,n){return t=t.toLowerCase(),e+(n?yc(t):t)}),Id=li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Od=li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ad=ci("toLowerCase"),$d=li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Dd=li(function(e,t,n){return e+(n?" ":"")+Rd(t)}),xd=li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Rd=ci("toUpperCase"),kd=Ha(function(e,t){try{return n(e,W,t)}catch(r){return ls(r)?r:new dl(r)}}),Pd=Ha(function(e,t){return i(Bn(t,1),function(t){t=oo(t),e[t]=Ku(e[t],e)}),e}),Nd=pi(),Md=pi(!0),Ld=Ha(function(e,t){return function(n){return Xn(n,e,t)}}),Ud=Ha(function(e,t){return function(n){return Xn(e,n,t)}}),Fd=gi(u),Gd=gi(a),Bd=gi(f),Hd=bi(),jd=bi(!0),Vd=hi(function(e,t){return e+t}),zd=Ci("ceil"),Wd=hi(function(e,t){return e/t}),Yd=Ci("floor"),qd=hi(function(e,t){return e*t}),Kd=Ci("round"),Jd=hi(function(e,t){return e-t});return $t.after=Ra,$t.ary=ka,$t.assign=ld,$t.assignIn=ud,$t.assignInWith=dd,$t.assignWith=pd,$t.at=md,$t.before=Pa,$t.bind=Ku,$t.bindAll=Pd,$t.bindKey=Ju,$t.castArray=Ya,$t.chain=na,$t.chunk=co,$t.compact=lo,$t.concat=uo,$t.cond=Gc,$t.conforms=Bc,$t.constant=Hc,$t.countBy=Hu,$t.create=Hs,$t.curry=Na,$t.curryRight=Ma,$t.debounce=La,$t.defaults=fd,$t.defaultsDeep=hd,$t.defer=Zu,$t.delay=Qu,$t.difference=wu,$t.differenceBy=Tu,$t.differenceWith=Iu,$t.drop=po,$t.dropRight=mo,$t.dropRightWhile=fo,$t.dropWhile=ho,$t.fill=go,$t.filter=ma,$t.flatMap=ga,$t.flatMapDeep=va,$t.flatMapDepth=ya,$t.flatten=bo,$t.flattenDeep=_o,$t.flattenDepth=Eo,$t.flip=Ua,$t.flow=Nd,$t.flowRight=Md,$t.fromPairs=Co,$t.functions=Ks,$t.functionsIn=Js,$t.groupBy=ju,$t.initial=To,$t.intersection=Ou,$t.intersectionBy=Au,$t.intersectionWith=$u,$t.invert=gd,$t.invertBy=vd,$t.invokeMap=Vu,$t.iteratee=Vc,$t.keyBy=zu,$t.keys=ec,$t.keysIn=tc,$t.map=Ca,$t.mapKeys=nc,$t.mapValues=rc,$t.matches=zc,$t.matchesProperty=Wc,$t.memoize=Fa,$t.merge=bd,$t.mergeWith=_d,$t.method=Ld,$t.methodOf=Ud,$t.mixin=Yc,$t.negate=Ga,$t.nthArg=Jc,$t.omit=Ed,$t.omitBy=ic,$t.once=Ba,$t.orderBy=Sa,$t.over=Fd,$t.overArgs=Xu,$t.overEvery=Gd,$t.overSome=Bd,$t.partial=ed,$t.partialRight=td,$t.partition=Wu,$t.pick=Cd,$t.pickBy=oc,$t.property=Zc,$t.propertyOf=Qc,$t.pull=Du,$t.pullAll=Do,$t.pullAllBy=xo,$t.pullAllWith=Ro,$t.pullAt=xu,$t.range=Hd,$t.rangeRight=jd,$t.rearg=nd,$t.reject=Ia,$t.remove=ko,$t.rest=Ha,$t.reverse=Po,$t.sampleSize=Aa,$t.set=sc,$t.setWith=cc,$t.shuffle=$a,$t.slice=No,$t.sortBy=Yu,$t.sortedUniq=Ho,$t.sortedUniqBy=jo,$t.split=$c,$t.spread=ja,$t.tail=Vo,$t.take=zo,$t.takeRight=Wo,$t.takeRightWhile=Yo,$t.takeWhile=qo,$t.tap=ra,$t.throttle=Va,$t.thru=ia,$t.toArray=Ps,$t.toPairs=Sd,$t.toPairsIn=wd,$t.toPath=el,$t.toPlainObject=Fs,$t.transform=lc,$t.unary=za,$t.union=Ru,$t.unionBy=ku,$t.unionWith=Pu,$t.uniq=Ko,$t.uniqBy=Jo,$t.uniqWith=Zo,$t.unset=uc,$t.unzip=Qo,$t.unzipWith=Xo,$t.update=dc,$t.updateWith=pc,$t.values=mc,$t.valuesIn=fc,$t.without=Nu,$t.words=Fc,$t.wrap=Wa,$t.xor=Mu,$t.xorBy=Lu,$t.xorWith=Uu,$t.zip=Fu,$t.zipObject=ea,$t.zipObjectDeep=ta,$t.zipWith=Gu,$t.entries=Sd,$t.entriesIn=wd,$t.extend=ud,$t.extendWith=dd,Yc($t,$t),$t.add=Vd,$t.attempt=kd,$t.camelCase=Td,$t.capitalize=yc,$t.ceil=zd,$t.clamp=hc,$t.clone=qa,$t.cloneDeep=Ja,$t.cloneDeepWith=Za,$t.cloneWith=Ka,$t.deburr=bc,$t.divide=Wd,$t.endsWith=_c,$t.eq=Qa,$t.escape=Ec,$t.escapeRegExp=Cc,$t.every=pa,$t.find=fa,$t.findIndex=vo,$t.findKey=js,$t.findLast=ha,$t.findLastIndex=yo,$t.findLastKey=Vs,$t.floor=Yd,$t.forEach=ba,$t.forEachRight=_a,$t.forIn=zs,$t.forInRight=Ws,$t.forOwn=Ys,$t.forOwnRight=qs,$t.get=Zs,$t.gt=rd,$t.gte=id,$t.has=Qs,$t.hasIn=Xs,$t.head=So,$t.identity=jc,$t.includes=Ea,$t.indexOf=wo,$t.inRange=gc,$t.invoke=yd,$t.isArguments=Xa,$t.isArray=od,$t.isArrayBuffer=es,$t.isArrayLike=ts,$t.isArrayLikeObject=ns,$t.isBoolean=rs,$t.isBuffer=ad,$t.isDate=is,$t.isElement=os,$t.isEmpty=as,$t.isEqual=ss,$t.isEqualWith=cs,$t.isError=ls,$t.isFinite=us,$t.isFunction=ds,$t.isInteger=ps,$t.isLength=ms,$t.isMap=gs,$t.isMatch=vs,$t.isMatchWith=ys,$t.isNaN=bs,$t.isNative=_s,$t.isNil=Cs,$t.isNull=Es,$t.isNumber=Ss,$t.isObject=fs,$t.isObjectLike=hs,$t.isPlainObject=ws,$t.isRegExp=Ts,$t.isSafeInteger=Is,$t.isSet=Os,$t.isString=As,$t.isSymbol=$s,$t.isTypedArray=Ds,$t.isUndefined=xs,$t.isWeakMap=Rs,$t.isWeakSet=ks,$t.join=Io,$t.kebabCase=Id,$t.last=Oo,$t.lastIndexOf=Ao,$t.lowerCase=Od,$t.lowerFirst=Ad,$t.lt=sd,$t.lte=cd,$t.max=nl,$t.maxBy=rl,$t.mean=il,$t.meanBy=ol,$t.min=al,$t.minBy=sl,$t.multiply=qd,$t.nth=$o,$t.noConflict=qc,$t.noop=Kc,$t.now=qu,$t.pad=Sc,$t.padEnd=wc,$t.padStart=Tc,$t.parseInt=Ic,$t.random=vc,$t.reduce=wa,$t.reduceRight=Ta,$t.repeat=Oc,$t.replace=Ac,$t.result=ac,$t.round=Kd,$t.runInContext=z,$t.sample=Oa,$t.size=Da,$t.snakeCase=$d,$t.some=xa,$t.sortedIndex=Mo,$t.sortedIndexBy=Lo,$t.sortedIndexOf=Uo,$t.sortedLastIndex=Fo,$t.sortedLastIndexBy=Go,$t.sortedLastIndexOf=Bo,$t.startCase=Dd,$t.startsWith=Dc,$t.subtract=Jd,$t.sum=cl,$t.sumBy=ll,$t.template=xc,$t.times=Xc,$t.toFinite=Ns,$t.toInteger=Ms,$t.toLength=Ls,$t.toLower=Rc,$t.toNumber=Us,$t.toSafeInteger=Gs,$t.toString=Bs,$t.toUpper=kc,$t.trim=Pc,$t.trimEnd=Nc,$t.trimStart=Mc,$t.truncate=Lc,$t.unescape=Uc,$t.uniqueId=tl,$t.upperCase=xd,$t.upperFirst=Rd,$t.each=ba,$t.eachRight=_a,$t.first=So,Yc($t,function(){var e={};return Hn($t,function(t,n){bl.call($t.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),$t.VERSION=Y,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){$t[e].placeholder=$t}),i(["drop","take"],function(e,t){Rt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Rt(this);n=n===W?1:jl(Ms(n),0);var i=this.clone();return r?i.__takeCount__=Vl(n,i.__takeCount__):i.__views__.push({size:Vl(n,Ee),type:e+(i.__dir__<0?"Right":"")}),i},Rt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==fe||n==ge;Rt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ri(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");Rt.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Rt.prototype[e]=function(){return this.__filtered__?new Rt(this):this[n](1)}}),Rt.prototype.compact=function(){return this.filter(jc)},Rt.prototype.find=function(e){return this.filter(e).head()},Rt.prototype.findLast=function(e){return this.reverse().find(e)},Rt.prototype.invokeMap=Ha(function(e,t){return"function"==typeof e?new Rt(this):this.map(function(n){return Xn(n,e,t)})}),Rt.prototype.reject=function(e){return e=Ri(e,3),this.filter(function(t){return!e(t)})},Rt.prototype.slice=function(e,t){e=Ms(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Rt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==W&&(t=Ms(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Rt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rt.prototype.toArray=function(){return this.take(Ee)},Hn(Rt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$t[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&($t.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Rt,c=a[0],l=s||od(t),u=function(e){var t=i.apply($t,d([e],a));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var p=this.__chain__,m=!!this.__actions__.length,f=o&&!p,h=s&&!m;if(!o&&l){t=h?t:new Rt(this);var g=e.apply(t,a);return g.__actions__.push({func:ia,args:[u],thisArg:W}),new xt(g,p)}return f&&h?e.apply(this,a):(g=this.thru(u),f?r?g.value()[0]:g.value():g)})}),i(["pop","push","shift","sort","splice","unshift"],function(e){var t=hl[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$t.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(od(i)?i:[],e)}return this[n](function(n){return t.apply(od(n)?n:[],e)})}}),Hn(Rt.prototype,function(e,t){var n=$t[t];if(n){var r=n.name+"",i=iu[r]||(iu[r]=[]);i.push({name:t,func:n})}}),iu[mi(W,X).name]=[{name:"wrapper",
func:W}],Rt.prototype.clone=kt,Rt.prototype.reverse=Pt,Rt.prototype.value=Nt,$t.prototype.at=Bu,$t.prototype.chain=oa,$t.prototype.commit=aa,$t.prototype.next=sa,$t.prototype.plant=la,$t.prototype.reverse=ua,$t.prototype.toJSON=$t.prototype.valueOf=$t.prototype.value=da,Rl&&($t.prototype[Rl]=ca),$t}var W,Y="4.12.0",q=200,K="Expected a function",J="__lodash_hash_undefined__",Z="__lodash_placeholder__",Q=1,X=2,ee=4,te=8,ne=16,re=32,ie=64,oe=128,ae=256,se=512,ce=1,le=2,ue=30,de="...",pe=150,me=16,fe=1,he=2,ge=3,ve=1/0,ye=9007199254740991,be=1.7976931348623157e308,_e=NaN,Ee=4294967295,Ce=Ee-1,Se=Ee>>>1,we="[object Arguments]",Te="[object Array]",Ie="[object Boolean]",Oe="[object Date]",Ae="[object Error]",$e="[object Function]",De="[object GeneratorFunction]",xe="[object Map]",Re="[object Number]",ke="[object Object]",Pe="[object Promise]",Ne="[object RegExp]",Me="[object Set]",Le="[object String]",Ue="[object Symbol]",Fe="[object WeakMap]",Ge="[object WeakSet]",Be="[object ArrayBuffer]",He="[object DataView]",je="[object Float32Array]",Ve="[object Float64Array]",ze="[object Int8Array]",We="[object Int16Array]",Ye="[object Int32Array]",qe="[object Uint8Array]",Ke="[object Uint8ClampedArray]",Je="[object Uint16Array]",Ze="[object Uint32Array]",Qe=/\b__p \+= '';/g,Xe=/\b(__p \+=) '' \+/g,et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39|#96);/g,nt=/[&<>"'`]/g,rt=RegExp(tt.source),it=RegExp(nt.source),ot=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,st=/<%=([\s\S]+?)%>/g,ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,dt=/[\\^$.*+?()[\]{}|]/g,pt=RegExp(dt.source),mt=/^\s+|\s+$/g,ft=/^\s+/,ht=/\s+$/,gt=/[a-zA-Z0-9]+/g,vt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,_t=/^0x/i,Et=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,St=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,It=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ot=/($^)/,At=/['\n\r\u2028\u2029\\]/g,$t="\\ud800-\\udfff",Dt="\\u0300-\\u036f\\ufe20-\\ufe23",xt="\\u20d0-\\u20f0",Rt="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="\\xac\\xb1\\xd7\\xf7",Nt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mt="\\u2000-\\u206f",Lt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",Ft="\\ufe0e\\ufe0f",Gt=Pt+Nt+Mt+Lt,Bt="['â]",Ht="["+$t+"]",jt="["+Gt+"]",Vt="["+Dt+xt+"]",zt="\\d+",Wt="["+Rt+"]",Yt="["+kt+"]",qt="[^"+$t+Gt+zt+Rt+kt+Ut+"]",Kt="\\ud83c[\\udffb-\\udfff]",Jt="(?:"+Vt+"|"+Kt+")",Zt="[^"+$t+"]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+Ut+"]",tn="\\u200d",nn="(?:"+Yt+"|"+qt+")",rn="(?:"+en+"|"+qt+")",on="(?:"+Bt+"(?:d|ll|m|re|s|t|ve))?",an="(?:"+Bt+"(?:D|LL|M|RE|S|T|VE))?",sn=Jt+"?",cn="["+Ft+"]?",ln="(?:"+tn+"(?:"+[Zt,Qt,Xt].join("|")+")"+cn+sn+")*",un=cn+sn+ln,dn="(?:"+[Wt,Qt,Xt].join("|")+")"+un,pn="(?:"+[Zt+Vt+"?",Vt,Qt,Xt,Ht].join("|")+")",mn=RegExp(Bt,"g"),fn=RegExp(Vt,"g"),hn=RegExp(Kt+"(?="+Kt+")|"+pn+un,"g"),gn=RegExp([en+"?"+Yt+"+"+on+"(?="+[jt,en,"$"].join("|")+")",rn+"+"+an+"(?="+[jt,en+nn,"$"].join("|")+")",en+"?"+nn+"+"+on,en+"+"+an,zt,dn].join("|"),"g"),vn=RegExp("["+tn+$t+Dt+xt+Ft+"]"),yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_n=-1,En={};En[je]=En[Ve]=En[ze]=En[We]=En[Ye]=En[qe]=En[Ke]=En[Je]=En[Ze]=!0,En[we]=En[Te]=En[Be]=En[Ie]=En[He]=En[Oe]=En[Ae]=En[$e]=En[xe]=En[Re]=En[ke]=En[Ne]=En[Me]=En[Le]=En[Fe]=!1;var Cn={};Cn[we]=Cn[Te]=Cn[Be]=Cn[He]=Cn[Ie]=Cn[Oe]=Cn[je]=Cn[Ve]=Cn[ze]=Cn[We]=Cn[Ye]=Cn[xe]=Cn[Re]=Cn[ke]=Cn[Ne]=Cn[Me]=Cn[Le]=Cn[Ue]=Cn[qe]=Cn[Ke]=Cn[Je]=Cn[Ze]=!0,Cn[Ae]=Cn[$e]=Cn[Fe]=!1;var Sn={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss"},wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},In={"function":!0,object:!0},On={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,$n=parseInt,Dn=In[typeof exports]&&exports&&!exports.nodeType?exports:W,xn=In[typeof module]&&module&&!module.nodeType?module:W,Rn=xn&&xn.exports===Dn?Dn:W,kn=D(Dn&&xn&&"object"==typeof global&&global),Pn=D(In[typeof self]&&self),Nn=D(In[typeof window]&&window),Mn=D(In[typeof this]&&this),Ln=kn||Nn!==(Mn&&Mn.window)&&Nn||Pn||Mn||Function("return this")(),Un=z();(Nn||Pn||{})._=Un,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Un}):Dn&&xn?(Rn&&((xn.exports=Un)._=Un),Dn._=Un):Ln._=Un}.call(this),function(e,t,n){"use strict";/*
!
The MIT License

Copyright (c) 2010-2013 Google, Inc. http://angularjs.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

angular-google-maps
https://github.com/angular-ui/angular-google-maps

@authors
Nicolas Laplante - https://plus.google.com/108189012221374960701
Nicholas McCready - https://twitter.com/nmccready
 */
(function(){t.module("uiGmapgoogle-maps.providers",["nemLogging"]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,r){var i,o,a,s,c;return s=void 0,c=void 0,i=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,n,o,a;return t=["transport","isGoogleMapsForWork","china","preventLoad"],e.isGoogleMapsForWork&&t.push("key"),n=_.map(_.omit(e,t),function(e,t){return t+"="+e}),s&&(a=document.getElementById(s),a.parentNode.removeChild(a)),n=n.join("&"),o=document.createElement("script"),o.id=s="ui_gmap_map_load_"+r.generate(),o.type="text/javascript",o.src=i(e)+n,document.body.appendChild(o)},a=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var r,i;return r=n.defer(),a()?(r.resolve(e.google.maps),r.promise):(i=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[i]=function(){e[i]=null,r.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE&&!t.preventLoad?document.addEventListener("online",function(){return a()?void 0:o(t)}):t.preventLoad||o(t),c=t,c.randomizedFunctionName=i,r.promise)},manualLoad:function(){var t;return t=c,a()?e[t.randomizedFunctionName]?e[t.randomizedFunctionName]():void 0:o(t)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(e){return{load:function(){e.manualLoad()}}}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function i(t){this.getOrigCloseBoxImg_=n(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=n(this.getCloseBoxDiv_,this);var r;r=new e.InfoBox(t),_.extend(this,r),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return r(i,t),i.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},i.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},i.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},i}(e.InfoBox),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!_.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var e,t,n,r,i,o,a,s;return o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,i=/\\(\\)?/g,n=function(e){var t,n,r;return n=e.missingName,r=e.swapName,t=e.isProto,null==_[n]&&(_[n]=_[r],t)?_.prototype[n]=_[r]:void 0},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(e){return n(e)}),null==_.get&&(a=function(e){return _.isObject(e)?e:Object(e)},t=function(e){return null===e?"":e+""},s=function(e){var n;return _.isArray(e)?e:(n=[],t(e).replace(o,function(e,t,r,o){n.push(r?o.replace(i,"$1"):t||e)}),n)},e=function(e,t,n){var r,i;if(null!==e){void 0!==n&&n in a(e)&&(t=[n]),r=0,i=t.length;for(;!_.isUndefined(e)&&i>r;)e=e[t[r++]];return r&&r===i?e:void 0}},r=function(t,n,r){var i;return i=null===t?void 0:e(t,s(n),n+""),void 0===i?r:i},_.get=r),this.intersectionObjects=function(e,t,n){var r;return null==n&&(n=void 0),r=_.map(e,function(e){return _.find(t,function(t){return null!=n?n(e,t):_.isEqual(e,t)})}),_.filter(r,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,n){return null==n&&(n=void 0),null===e?!1:_.some(e,function(e){return null!=n?n(e,t):_.isEqual(e,t)})},this.differenceObjects=function(e,t,n){return null==n&&(n=void 0),_.filter(e,function(e){return function(r){return!e.containsObject(t,r,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,n,r){var i,o;if(null==e)return-1;if(i=0,o=e.length,r){if("number"!=typeof r)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>r?Math.max(0,o+r):r}for(;o>i;){if(null!=n){if(n(e[i],t))return i}else if(_.isEqual(e[i],t))return i;i++}return-1},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,n,r,i,o,a){var s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S,w,T,I,O;return I=n.promiseTypes,y=n.isInProgress,T=n.promiseStatus,s=n.ExposedPromise,l=n.SniffedPromise,b=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&r.debug("promiseType: "+n.promiseType+", state: "+T(n.$$state.status)),n.cancelCb=t,n},f=function(e,t){return e.promiseType===I.create&&t.promiseType!==I["delete"]&&t.promiseType!==I.init?(r.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},w=function(e,t,n){var i;return t.promiseType===I["delete"]&&n.promiseType!==I["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&y(n)&&(r.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),i=e.peek(),null!=i&&y(i))?i.hasOwnProperty("cancelCb")&&_.isFunction(i.cancelCb)?(r.debug("promiseType: "+i.promiseType+", CANCELING FIRST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe")):r.warn("first promise was not cancelable"):void 0},c=function(e,t,n){var r,i;if(e.existingPieces){if(r=_.last(e.existingPieces._content),f(t,r))return;return w(e.existingPieces,t,r),i=s(r["finally"](function(){return b(t,n)})),i.cancelCb=n,i.promiseType=t.promiseType,e.existingPieces.enqueue(i),r["finally"](function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(b(t,n))},C=function(e,t,n,i,o){var a;return null==n&&(n=""),a=function(e){return r.debug(e+": "+e),null!=i&&_.isFunction(i)?i(e):void 0},c(e,l(o,t),a)},p=80,g={value:null},O=function(e,t,n){var r,i;try{return e.apply(t,n)}catch(i){return r=i,g.value=r,g}},E=function(e,t,n,i){var o,a;return a=O(e,t,i),a===g&&(o="error within chunking iterator: "+g.value,r.error(o),n.reject(o)),"cancel safe"===a?!1:!0},u=function(e,t,n){var r,i;return r=e===t,i=t[n],r?i:e[i]},d=["length","forEach","map"],v=function(e,n,r,i){var o,a,s;if(t.isArray(e))o=e;else if(n)o=n;else{o=[];for(a in e)s=e[a],e.hasOwnProperty(a)&&!_.includes(d,a)&&o.push(a)}return null==i&&(i=r),t.isArray(o)&&!(null!=o?o.length:void 0)&&i!==r?r():i(o,n)},m=function(n,r,i,o,a,s,c,l){return v(n,l,function(l,d){var p,f,h,g;for(p=r&&r<l.length?r:l.length,f=c,h=!0;h&&p--&&f<(l?l.length:f+1);)g=u(n,l,f),h=t.isFunction(g)?!0:E(o,void 0,s,[g,f]),++f;if(l){if(!(h&&f<l.length))return s.resolve();if(c=f,r)return null!=a&&_.isFunction(a)&&E(a,void 0,s,[]),e(function(){return m(n,r,i,o,a,s,c,d)},i,!1)}})},h=function(e,t,i,o,a,s,c){var l,u,d;return null==i&&(i=p),null==a&&(a=0),null==s&&(s=1),d=void 0,u=n.defer(),d=u.promise,s?v(e,c,function(){return u.resolve(),d},function(n,r){return m(e,i,s,t,o,u,a,r),d}):(l="pause (delay) must be set from _async!",r.error(l),u.reject(l),d)},S=function(e,t,r,i,o,a,s){var c;return c=[],v(e,s,function(){return n.resolve(c)},function(n,s){return h(e,function(e){return c.push(t(e))},r,i,o,a,s).then(function(){return c})})},{each:h,map:S,managePromiseQueue:C,promiseLock:C,defaultChunkSize:p,getArrayAndKeys:v,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(a.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this[r]=o);return null!=(i=t.extended)&&i.apply(this),this},t.include=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this.prototype[r]=o);return null!=(i=t.included)&&i.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(e){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n,r){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(e){var n,r;return r=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},n=function(e,t){return r(e)?e:r(t)?t:void 0},{setEvents:function(e,r,i,o){var a;return a=n(r,i),null!=a?_.compact(_.map(a.events,function(n,s){var c;return o&&(c=_(o).includes(s)),a.events.hasOwnProperty(s)&&t.isFunction(a.events[s])&&!c?google.maps.event.addListener(e,s,function(){return r.$evalAsync||(r.$evalAsync=function(){}),r.$evalAsync(n.apply(r,[e,s,i,arguments]))}):void 0})):void 0},removeEvents:function(e){var t,n;if(e)for(t in e)n=e[t],n&&e.hasOwnProperty(t)&&google.maps.event.removeListener(n)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger",function(e){return{fit:function(e,t){var n,r,i,o,a;if(t&&(null!=e?e.length:void 0)){n=new google.maps.LatLngBounds,r=!1;for(i in e)o=e[i],o&&(r||(r=!0),a=_.isFunction(o.getPosition)?o.getPosition():o),n.extend(a);if(r)return t.fitBounds(n)}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,n){var r,i,o,a,s,c;return i=function(e,t,n){return e===t||-1!==n.indexOf(e)},r=function(e){return i(e,!1,["false","FALSE",0,"n","N","no","NO"])},a=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},s=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},o=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},c=function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(r,i,a,s){var c;return null!=a&&null!=s&&null!=n?(c=t.extend({},s,{content:this.buildContent(i,s,a),position:null!=s.position?s.position:t.isObject(r)?r.getPosition():o(i.coords)}),null!=r&&null==(null!=c?c.pixelOffset:void 0)&&(null==c.boxClass||(c.pixelOffset={height:0,width:-2})),c):s?s:(e.error("infoWindow defaults not defined"),a?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,r){var i,o;return null!=t.content?o=t.content:null!=n?(r=r.replace(/^\s+|\s+$/g,""),i=""===r?"":n(r)(e),i.length>0&&(o=i[0])):o=r,o},defaultDelay:50,isTrue:function(e){return i(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:r,isFalsy:function(e){return i(e,!1,[void 0,null])||r(e)},getCoords:o,validateCoords:c,equalCoords:function(e,t){return a(e)===a(t)&&s(e)===s(t)},validatePath:function(e){var n,r,i,o;if(r=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;r<e.length;){if(!(t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)||"function"==typeof e[r].lat&&"function"==typeof e[r].lng))return!1;r++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;n=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},o),i=e.coordinates[o.index],n=i[0],n.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;n=e.coordinates}for(;r<n.length;){if(2!==n[r].length)return!1;r++}return!0},convertPathPoints:function(e){var n,r,i,o,a;if(r=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;r<e.length;)t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)?i=new google.maps.LatLng(e[r].latitude,e[r].longitude):"function"==typeof e[r].lat&&"function"==typeof e[r].lng&&(i=e[r]),o.push(i),r++;else for("Polygon"===e.type?n=e.coordinates[0]:"MultiPolygon"===e.type?(a={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},a),n=e.coordinates[a.index][0]):"LineString"===e.type&&(n=e.coordinates);r<n.length;)o.push(new google.maps.LatLng(n[r][1],n[r][0])),r++;return o},getPath:function(e,t){var n;return null!=t&&_.isString(t)?(n=e,_.each(t.split("."),function(e){return n?n=n[e]:void 0}),n):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,r,i,o;return r=0,o=[],i=function(){return e.all(o)},n=function(e,o,a){return t(function(){return 0>=a?void e.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(r!==o?n(e,o,a-1):e.resolve(i()))},100)},{spawn:function(){var t;return t=e.defer(),o.push(t.promise),r+=1,{instance:r,deferred:t}},promises:i,instances:function(){return r},promise:function(t,r){var i;return null==t&&(t=1),null==r&&(r=50),i=e.defer(),n(i,t,r),i.promise},reset:function(){r=0,o.length=0},decrement:function(){r>0&&(r-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,r){this.scope=e,this.element=t,this.attrs=n,this.ctrls=r}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(e){return e.spawn()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(r,i){return function(r){function o(t,n){this.scope=t,this["interface"]=null!=n?n:{scopeKeys:[]},this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return n(o,r),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),i.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var n,r,o,a,s,c;if(o=this["interface"].scopeKeys.indexOf("coords")>=0,(o&&null!=this.scope.coords||!o)&&(s=this.scope),null==s)throw"No scope set!";return o&&(n=this.scopeOrModelVal("coords",s,e),r=this.scopeOrModelVal("coords",s,t),a=i.equalCoords(n,r),!a)?a:(c=_.without(this["interface"].scopeKeys,"coords"),a=_.every(c,function(n){return function(r){return n.scopeOrModelVal(s[r],s,e)===n.scopeOrModelVal(s[r],s,t)}}(this)))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){return this.modelOrKey(e,t=n),e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?i.getPath(e,t):e:void 0},o.prototype.getProp=function(e,t,n){return this.scopeOrModelVal(e,t,n)},o.prototype.getChanges=function(e,t,n){var r,i,o;n&&(t=_.pick(t,n),e=_.pick(e,n)),i={},o={},r={};for(o in e)t&&t[o]===e[o]||(_.isArray(e[o])?i[o]=e[o]:_.isObject(e[o])?(r=this.getChanges(e[o],t?t[o]:null),_.isEmpty(r)||(i[o]=r)):i[o]=e[o]);return i},o.prototype.scopeOrModelVal=function(e,t,n,r){var i,o,a,s;return null==r&&(r=!1),i=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},s=_.get(t,e),_.isFunction(s)?i(!0,s(n),r):_.isObject(s)?i(!0,s,r):_.isString(s)?(o=s,a=o?"self"===o?n:_.get(n,o):_.get(n,e),_.isFunction(a)?i(!1,a(),r):i(!1,a,r)):i(!0,s,r)},o.prototype.setChildScope=function(e,t,n){var r,i,o,a;for(i in e)o=e[i],r=this.scopeOrModelVal(o,t,n,!0),null!=(null!=r?r.value:void 0)&&(a=r.value,a!==t[o]&&(t[o]=a));return t.model=n},o.prototype.onDestroy=function(e){},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},o.prototype.modelsLength=function(e){var n,r;return null==e&&(e=void 0),n=0,r=e?e:this.scope.models,null==r?n:n=t.isArray(r)||null!=r.length?r.length:Object.keys(r).length},o}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,r){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,r.promiseTypes.init,null,null,function(){return r.resolve()}),!0):!1},figureOutState:function(t,n,r,i,o){var a,s,c,l,u;return a=[],c={},l=[],u=[],n.models.forEach(function(o){var s;return null==o[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(c[o[t]]={},null==r.get(o[t])?a.push(o):(s=r.get(o[t]),i(o,s.clonedModel,n)?void 0:u.push({model:o,child:s})))}),s=r.values(),s.forEach(function(n){var r;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(r=n.model[t],null==c[r]?l.push(n):void 0)}),{adds:a,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,n){var r,i,o,a,s,c,l,u,d,p,m;return d={create:"create",update:"update","delete":"delete",init:"init"},u={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},m=function(){var e;return e={},e[""+u.IN_PROGRESS]="in-progress",e[""+u.RESOLVED]="resolved",e[""+u.REJECTED]="rejected",e}(),a=function(e){return e.$$state?e.$$state.status===u.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},s=function(e){return e.$$state?e.$$state.status===u.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},l=function(e){return m[e]||"done w error"},r=function(t){var n,r,i;return n=e.defer(),r=e.all([t,n.promise]),i=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),i.notify(e)}),r.then(function(e){return i.resolve(e[0]||e[1])},function(e){return i.reject(e)}),i.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},i.promise.notify=function(e){return null==e&&(e="cancel safe"),i.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(i.promise.promiseType=t.promiseType),i.promise},i=function(e,t){return{promise:e,promiseType:t}},o=function(){return e.defer()},p=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},c=function(r){var i;return _.isFunction(r)?(i=e.defer(),t(function(){var e;return e=r(),i.resolve(e)}),i.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:c,resolve:p,promiseTypes:d,isInProgress:a,isResolved:s,promiseStatus:l,ExposedPromise:r,SniffedPromise:i}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},t.prototype.valuesOrKeys=function(e){var t,n;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(n=[],t=[],_.each(this.dict,function(e,r){return n.push(e),t.push(r)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return _.each(this.dict,function(t,n){return e(t)})},t.prototype.map=function(e){return _.map(this.dict,function(t,n){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(e){var t;return t=function(e){return this.setIfChange=function(t){return function(n,r){return _.isEqual(r,n)?void 0:e(t,n)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,r,i,o){var a;return a=function(){function a(t,r,o,s){null==r&&(r={}),this.opt_options=null!=o?o:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=a.type,this.clusterer=new NgMapMarkerClusterer(t,r,this.opt_options),this.propMapGMarkers=new i,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="ClustererMarkerManager",a.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},a.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},a.prototype.update=function(e){return this.remove(e),this.add(e)},a.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},a.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},a.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},a.prototype.draw=function(){return this.clusterer.repaint()},a.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},a.prototype.attachEvents=function(e,r){var i,o,a;if(this.listeners=[],t.isDefined(e)&&null!=e&&t.isObject(e)){a=[];for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(r+": Attaching event: "+o+" to clusterer"),a.push(this.listeners.push(google.maps.event.addListener(this.clusterer,o,e[o])))):a.push(void 0);return a}},a.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},a.prototype.destroy=function(){return this.clearEvents(),this.clear()},a.prototype.fit=function(){return r.fit(this.getGMarkers(),this.clusterer.getMap())},a.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var e,n;return e=[],n=[],{createMapInstance:function(r,i){var o;return o=null,0===e.length?(o=new google.maps.Map(r,i),n.push(o)):(o=e.pop(),t.element(r).append(o.getDiv()),o.setOptions(i),n.push(o)),o},recycleMapInstance:function(t){var r;if(r=n.indexOf(t),0>r)throw new Error("Expected map instance to be a previously used instance");return n.splice(r,1),e.push(t)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,r){var i;return i=function(){function i(n,o,a){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.destroy=e(this.destroy,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=i.type,this.gMap=n,this.gMarkers=new r,this.$log=t,this.$log.info(this)}return i.type="MarkerManager",i.prototype.add=function(e,n){var r,i;if(null==n&&(n=!0),null==e.key)throw i="gMarker.key undefined and it is REQUIRED!!",t.error(i),i;return r=this.gMarkers.get(e.key),r?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},i.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},i.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},i.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},i.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},i.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},i.prototype.destroy=function(){return this.clear()},i.prototype.clear=function(){
return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new r},i.prototype.handleOptDraw=function(e,t,n){return t===!0?(n?e.setMap(this.gMap):e.setMap(null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},i.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},i.prototype.getGMarkers=function(){return this.gMarkers.values()},i}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(n,r,i,o){var a;return a=function(){function a(t,r,s,c,l){null==r&&(r={}),this.opt_options=null!=s?s:{},this.opt_events=c,this.scope=l,this.checkSync=e(this.checkSync,this),this.isSpiderfied=e(this.isSpiderfied,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=a.type,this.markerSpiderfier=new o(t,this.opt_options),this.propMapGMarkers=new i,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="SpiderfierMarkerManager",a.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},a.prototype.add=function(e){return e.setMap(this.markerSpiderfier.map),this.checkKey(e),this.markerSpiderfier.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},a.prototype.update=function(e){return this.remove(e),this.add(e)},a.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},a.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(e.setMap(null),this.markerSpiderfier.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},a.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},a.prototype.draw=function(){},a.prototype.clear=function(){return this.removeMany(this.getGMarkers())},a.prototype.attachEvents=function(e,r){return t.isDefined(e)&&null!=e&&t.isObject(e)?_.each(e,function(i){return function(o,a){return e.hasOwnProperty(a)&&t.isFunction(e[a])?(n.info(r+": Attaching event: "+a+" to markerSpiderfier"),i.markerSpiderfier.addListener(a,function(){return"spiderfy"===a||"unspiderfy"===a?i.scope.$evalAsync(e[a].apply(e,arguments)):i.scope.$evalAsync(e[a].apply(e,[arguments[0],a,arguments[0].model,arguments]))})):void 0}}(this)):void 0},a.prototype.clearEvents=function(e,r){var i,o;if(t.isDefined(e)&&null!=e&&t.isObject(e))for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])&&(n.info(r+": Clearing event: "+o+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(o))},a.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},a.prototype.fit=function(){return r.fit(this.getGMarkers(),this.markerSpiderfier.map)},a.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},a.prototype.isSpiderfied=function(){return _.find(this.getGMarkers(),function(e){return null!=(null!=e?e._omsData:void 0)})},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,r;return n=function(t,n,r){return google.maps.event.addListener(t,n,function(){return r.apply(this,arguments),e(function(){},!0)})},r=function(e,r,i){var o;return i?n(e,r,i):(o=[],t.forEach(r,function(t,r){return o.push(n(e,r,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,r,i,o){var a,s,c,l,u,d,p,m,f;return l=!1,m=r.$eval(i),r["static"]||(u={set_at:function(e){var t;if(!l&&(t=n.getAt(e)))return t.lng&&t.lat?(m[e].latitude=t.lat(),m[e].longitude=t.lng()):m[e]=t},insert_at:function(e){var t;if(!l&&(t=n.getAt(e)))return t.lng&&t.lat?m.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):m.splice(e,0,t)},remove_at:function(e){return l?void 0:m.splice(e,1)}},"Polygon"===m.type?a=m.coordinates[0]:"LineString"===m.type&&(a=m.coordinates),s={set_at:function(e){var t;if(!l&&(t=n.getAt(e),t&&t.lng&&t.lat))return a[e][1]=t.lat(),a[e][0]=t.lng()},insert_at:function(e){var t;if(!l&&(t=n.getAt(e),t&&t.lng&&t.lat))return a.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return l?void 0:a.splice(e,1)}},p=e(n,t.isUndefined(m.type)?u:s)),d=function(e){var t,r,i,a,s,c,u,d;if(l=!0,c=n,t=!1,e){for(r=0,u=c.getLength(),a=e.length,i=Math.min(u,a),s=void 0;i>r;)d=c.getAt(r),s=e[r],"function"==typeof s.equals?s.equals(d)||(c.setAt(r,s),t=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(c.setAt(r,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),r++;for(;a>r;)s=e[r],"function"==typeof s.lat&&"function"==typeof s.lng?c.push(s):c.push(new google.maps.LatLng(s.latitude,s.longitude)),t=!0,r++;for(;u>r;)c.pop(),t=!0,r++}return l=!1,t?o(c):void 0},c=function(e){var t,r,i,a,s,c,u,d,p;if(l=!0,u=n,r=!1,e){for("Polygon"===m.type?t=e.coordinates[0]:"LineString"===m.type&&(t=e.coordinates),i=0,d=u.getLength(),s=t.length,a=Math.min(d,s),c=void 0;a>i;)p=u.getAt(i),c=t[i],(p.lat()!==c[1]||p.lng()!==c[0])&&(u.setAt(i,new google.maps.LatLng(c[1],c[0])),r=!0),i++;for(;s>i;)c=t[i],u.push(new google.maps.LatLng(c[1],c[0])),r=!0,i++;for(;d>i;)u.pop(),r=!0,i++}return l=!1,r?o(u):void 0},r["static"]||(f=t.isUndefined(m.type)?r.$watchCollection(i,d):r.$watch(i,c,!0)),function(){return p&&(p(),p=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,n,r;return e=["length","forEach","map"],t=[],n=function(t){return t.forEach=function(n){return _.each(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(n),r=function(t){return t.map=function(n){return _.map(_.omit(t,e),function(e){return _.isFunction(e)?void 0:n(e)})},t},t.push(r),{slapMap:r,slapForEach:n,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(r,i,o){var a;return a=function(r){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,r){var o,a,s;return null==e&&(e={}),null==r&&(r={}),this.scope?this.gMap?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=t.extend(e,this.DEFAULTS,{map:this.gMap,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(r,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(r,i){var s;return s=n?n[i]:e.scopeOrModelVal(i,e.scope,o),t.isUndefined(s)?a[i]=r:a[i]=o[i]}}(this)),a["static"]&&(a.editable=!1),a):void i.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void i.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var r;return r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.buildOpts=function(e,n,i){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),r.__super__.buildOpts.call(this,e,n,i)},r}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,r){return n.__super__.buildOpts.call(this,{center:e,radius:t},r)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,n){return _.extend(n,{createOptions:function(e,r,i,o){var a;return null==i&&(i={}),a=t.extend({},i,{position:null!=i.position?i.position:n.getCoords(e),visible:null!=i.visible?i.visible:n.validateCoords(e)}),(null!=i.icon||null!=r)&&(a=t.extend(a,{icon:null!=i.icon?i.icon:r})),null!=o&&(a.map=o),a},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(r,i,o,a,s){return function(r,i){var c;return c=function(r){function c(n){var r,a,c;this.scope=n.scope,this.attrs=n.attrs,this.gMap=n.gMap,this.defaults=n.defaults,this.model=n.model,a=n.gObjectChangeCb,this.isScopeModel=null!=(c=n.isScopeModel)?c:!1,this.clean=e(this.clean,this),this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return _.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},r=function(e){return function(){var n;if(!e.isDragging)return e.pathPoints=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),e.pathPoints.length>0&&(e.gObject=i(e.buildOpts(e.pathPoints,n))),e.gObject?(o(e.gObject.getPath(),e.scope,"path",function(t){return e.pathPoints=t,null!=a?a():void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?s.setEvents(e.gObject,e.scope,e.model):s.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?s.setEvents(e.gObject,{events:e.internalEvents},e.model):s.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this),r(),this.scope.$watch("path",function(e){return function(t,n){return _.isEqual(t,n)&&e.gObject?void 0:r()}}(this),!0),!this.scope["static"]&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var r;return t!==n&&(t=!e.isFalse(t)),null!=(r=e.gObject)?r.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return n(c,r),c.include(a),c.prototype.clean=function(){var e;return s.removeEvents(this.listeners),s.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},c}(r)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var n,r;return n=function(e,t,n){var r,i;return i=new google.maps.Polyline({map:e,clickable:!1}),r=google.maps.event.addListener(e,"mousemove",function(e){return i.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(o){var a;return google.maps.event.removeListener(r),a=i.getPath(),i.setMap(null),t.push(new google.maps.Polygon({map:e,path:a})),i=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},r=function(r,i){var o,a;return this.map=r,o=function(t){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),t.map.setOptions(n)}}(this),a=function(e){return function(){var t,n;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(n=e.deferred)&&n.resolve(),_.defer(function(){return e.map.setOptions(_.extend(t,i.options))})}}(this),this.engage=function(r){return function(i){return r.polys=i,r.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(r.map.getDiv(),"mousedown",function(e){return n(r.map,r.polys,a)}),r.deferred.promise}}(this),this}}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(i,o,a,s,c,l,u,d,p){var m;return m=function(i){function m(e){this.internalEvents=n(this.internalEvents,this),this.setLabelOptions=n(this.setLabelOptions,this),this.setOptions=n(this.setOptions,this),this.setIcon=n(this.setIcon,this),this.setCoords=n(this.setCoords,this),this.isNotValid=n(this.isNotValid,this),this.maybeSetScopeValue=n(this.maybeSetScopeValue,this),this.createMarker=n(this.createMarker,this),this.setMyScope=n(this.setMyScope,this),this.updateModel=n(this.updateModel,this),this.handleModelChanges=n(this.handleModelChanges,this),this.destroy=n(this.destroy,this);var t,r,i,o,s,l,u;u=e.scope,this.model=e.model,this.keys=e.keys,this.gMap=e.gMap,this.defaults=null!=(r=e.defaults)?r:{},this.doClick=e.doClick,this.gManager=e.gManager,this.doDrawSelf=null!=(i=e.doDrawSelf)?i:!0,this.trackModel=null!=(o=e.trackModel)?o:!0,this.needRedraw=null!=(s=e.needRedraw)?s:!1,this.isScopeModel=null!=(l=e.isScopeModel)?l:!1,this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.deferred=p.defer(),_.each(this.keys,function(e){return function(t,n){var r;return r=e.keys[n],null!=r&&!_.isFunction(r)&&_.isString(r)?e[n+"Key"]=r:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),m.__super__.constructor.call(this,u),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(t=new c(function(e){return function(t){return _.isFunction(t)&&(t="all"),e.firstTime?void 0:e.setMyScope(t,u)}}(this),!1),_.each(this.keys,function(e,n){return u.$watch(n,t.sic(n),!0)})),this.scope.$on("$destroy",function(e){return function(){return f(e)}}(this)),this.createMarker(this.model),a.info(this)}var f;return r(m,i),m.include(o),m.include(s),m.include(l),f=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},m.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},m.prototype.handleModelChanges=function(e,t){var n,r,i;return n=this.getChanges(e,t,u.keys),this.firstTime?void 0:(r=0,i=_.keys(n).length,_.each(n,function(n){return function(o,a){var s;return r+=1,s=i===r,n.setMyScope(a,e,t,!1,!0,s),n.needRedraw=!0}}(this)))},m.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=_.clone(e,!0)),this.setMyScope("all",e,this.model)},m.prototype.renderGMarker=function(t,n){var r,i,o;if(null==t&&(t=!0),r=this.getProp("coords",this.scope,this.model),null!=(null!=(o=this.gManager)?o.isSpiderfied:void 0)&&(i=this.gManager.isSpiderfied()),null!=r){if(!this.validateCoords(r))return void a.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),t&&this.gObject&&this.gManager.add(this.gObject),i)return this.gManager.markerSpiderfier.spiderListener(this.gObject,e.event)}else if(t&&this.gObject)return this.gManager.remove(this.gObject)},m.prototype.setMyScope=function(e,t,n,r,i){var o;switch(null==n&&(n=void 0),null==r&&(r=!1),null==i&&(i=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,i),o=!0),e){case"all":return _.each(this.keys,function(e){return function(o,a){return e.setMyScope(a,t,n,r,i)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:i});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:i});case"options":if(!o)return this.createMarker(t,n,r,i)}},m.prototype.createMarker=function(e,t,n,r){return null==t&&(t=void 0),null==n&&(n=!1),null==r&&(r=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:r}),this.firstTime=!1},m.prototype.maybeSetScopeValue=function(e){var t,n,r;return n=e.gSetter,t=null!=(r=e.doDraw)?r:!0,null!=n&&n(this.scope,t),this.doDrawSelf&&t?this.gManager.draw():void 0},m.prototype.isNotValid=function(e,t){var n,r;return null==t&&(t=!0),r=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||r},m.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),n=t.getCoords(r),i=t.gObject.getPosition(),null==i||null==n||n.lng()!==i.lng()||n.lat()!==i.lat()?(t.gObject.setPosition(n),t.gObject.setVisible(t.validateCoords(r))):void 0}}(this))},m.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return i=t.gObject.getIcon(),r=t.getProp("icon",e,t.model),i!==r?(t.gObject.setIcon(r),n=t.getProp("coords",e,t.model),t.gObject.setPosition(t.getCoords(n)),t.gObject.setVisible(t.validateCoords(n))):void 0}}(this))},m.prototype.setOptions=function(e,t){var n;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),i=t.getProp("icon",e,t.model),n=t.getProp("options",e,t.model),t.opts=t.createOptions(r,i,n),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&null!=t.gObject&&(t.gManager.remove(t.gObject),t.gObject=void 0),null!=t.gObject&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.isLabel(t.opts)?t.gObject=new MarkerWithLabel(t.setLabelOptions(t.opts)):t.opts.content?(t.gObject=new RichMarker(t.opts),t.gObject.getIcon=t.gObject.getContent,t.gObject.setIcon=t.gObject.setContent):t.gObject=new google.maps.Marker(t.opts),_.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),null!=t.id?t.gObject.key=t.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==d.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===d.type||(a.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},m.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},m.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,r,i){var o,a,s;return a=e.trackModel?e.scope.model:e.model,s=e.setCoordsFromEvent(e.modelOrKey(a,e.coordsKey),e.gObject.getPosition()),a=e.setVal(r,e.coordsKey,s),o=e.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(t,n,a,i),e.scope.$apply()}}(this),click:function(e){return function(n,r,i,o){var a;return a=e.getProp("click",e.scope,e.model),e.doClick&&t.isFunction(a)?e.scope.$evalAsync(a(n,r,e.model,o)):void 0}}(this)}},m}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polygon(e)},i=new t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polyline(e)},i=t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(i,o,a,s,c,l,u,d){var p;return p=function(i){function p(e){this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this);var t,r,i,o,s;this.model=null!=(r=e.model)?r:{},this.scope=e.scope,this.opts=e.opts,this.isIconVisibleOnClick=e.isIconVisibleOnClick,this.gMap=e.gMap,this.markerScope=e.markerScope,this.element=e.element,this.needToManualDestroy=null!=(i=e.needToManualDestroy)?i:!1,this.markerIsVisibleAfterWindowClose=null!=(o=e.markerIsVisibleAfterWindowClose)?o:!0,this.isScopeModel=null!=(s=e.isScopeModel)?s:!1,this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),t=this.getGmarker(),null!=t&&t.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),a.info(this)}return r(p,i),p.include(o),p.include(d),p.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},p.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},p.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},p.prototype.createGWin=function(t){var n,r,i,o,a;return null==t&&(t=!1),i=this.getGmarker(),r={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),r=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:r,this.opts=this.createWindowOptions(i,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?this.gObject=new e.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return u.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return i&&(i.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&_.delay(function(){return i.setVisible(!1),i.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(a=o.options)?a.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},p.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var r;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(r=e.getCoords(t),e.doShow(),e.gObject.setPosition(r),e.opts)return e.opts.position=r}}}(this),!0)},p.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},p.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},p.prototype.showWindow=function(){var e,n,r;if(null!=this.gObject)return r=null,n=function(e){return function(){var t,n,r;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(r=e.gObject.getPosition()),n&&(r=n.getPosition()),!r)return;if(e.gObject.open(e.gMap,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?c.get(this.scope.templateUrl,{cache:l}).then(function(e){return function(i){var o;return r=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(r.parameter=e.scope.templateParameter),o=s(i.data)(r),e.gObject.setContent(o[0]),n()}}(this)):this.scope.template?(r=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(r.parameter=this.scope.templateParameter),e=s(this.scope.template)(r),this.gObject.setContent(e[0]),n()):n(),this.scope.$on("destroy",function(){return r.$destroy()})},p.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},p.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},p.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},p.prototype.destroy=function(e){var t;return null==e&&(e=!1),
this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},p.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=_.clone(e,!0)),_.extend(this.model,this.clonedModel||e)},p}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(r,i,o,a,s,c,l,u){return function(r,d,p){var m;return m=function(o){function m(t,n,o,a,c){this.element=n,this.attrs=o,this.gMap=a,this.defaults=c,this.maybeFit=e(this.maybeFit,this),this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),m.__super__.constructor.call(this,t),this["interface"]=r,this.$log=i,this.plurals=new s,_.each(r.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(m,o),m.include(a),m.prototype.watchModels=function(e){return e.$watch("models",function(t){return function(n,r){return n!==r?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this),!0)},m.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},m.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},m.prototype.onDestroy=function(){return m.__super__.onDestroy.call(this,this.scope),c.promiseLock(this,l.promiseTypes["delete"],void 0,void 0,function(e){return function(){return c.each(e.plurals.values(),function(e){return e.destroy(!0)},c.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},m.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},m.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+p+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},m.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},m.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,c.promiseLock(this,l.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return c.map(e.models,function(e){var r;return r=t.createChild(e,t.gMap),n&&(i.debug("createNew should fall through safely"),r.isEnabled=!1),r.pathPoints.getArray()},c.chunkSizeFrom(e.chunk)).then(function(e){return t.maybeFit(e),t.firstTime=!1})}}(this)))},m.prototype.pieceMeal=function(e,t){var n,r;return null==t&&(t=!0),e.$$destroyed?void 0:(n=null,r=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?c.promiseLock(this,l.promiseTypes.update,"pieceMeal",function(e){return n=e},function(t){return function(){return l.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(i){return r=i,r.updates.length&&c.each(r.updates,function(e){return _.extend(e.child.scope,e.model),e.child.model=e.model}),c.each(r.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),n):void 0},c.chunkSizeFrom(e.chunk))}).then(function(){return c.each(r.adds,function(e){return n&&i.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),n},c.chunkSizeFrom(e.chunk)).then(function(){return t.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},m.prototype.createChild=function(e,t){var n,i;return i=this.scope.$new(!1),this.setChildScope(r.scopeKeys,i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),i["static"]=this.scope["static"],n=new d({isScopeModel:!0,scope:i,attrs:this.attrs,gMap:t,defaults:this.defaults,model:e,gObjectChangeCb:function(e){return function(){return e.maybeFit()}}(this)}),null==e[this.idKey]?void this.$log.error(p+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},m.prototype.maybeFit=function(e){return null==e&&(e=this.plurals.map(function(e){return e.pathPoints})),this.scope.fit?(e=_.flatten(e),u.fit(e,this.gMap)):void 0},m}(o)}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,r,i,o,a){var s,c;return c=function(e,t){return e.settingFromDirective=!0,t(),r(function(){return e.settingFromDirective=!1})},s=function(r){function a(e,r,o,a,s){var l,u,d;this.attrs=o,this.gMap=a,this.DEFAULTS=s,this.scope=e,d=null,l=function(e){return function(){return d=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),u=new google.maps.Circle(this.buildOpts(i.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(n,r){return e.settingFromDirective?void 0:!_.isEqual(n,r)||n!==r||(null!=n&&null!=r?n.coordinates!==r.coordinates:0)?u.setOptions(t.buildOpts(i.getCoords(e.center),e.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return u}),l(),this.listeners=this.setEvents(u,e,e,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(u,"radius_changed",function(){var n,r;return n=u.getRadius(),n!==d?(d=n,r=function(){return c(e,function(){var t,r;return n!==e.radius&&(e.radius=n),(null!=(t=e.events)?t.radius_changed:void 0)&&_.isFunction(null!=(r=e.events)?r.radius_changed:void 0)?e.events.radius_changed(u,"radius_changed",e,arguments):void 0})},t.mock?r():e.$evalAsync(function(){return r()})):void 0})),this.listeners.push(google.maps.event.addListener(u,"center_changed",function(){return e.$evalAsync(function(){return c(e,function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=u.getCenter().lat(),e.center.coordinates[0]=u.getCenter().lng()):(e.center.latitude=u.getCenter().lat(),e.center.longitude=u.getCenter().lng())})})})),e.$on("$destroy",function(){return l(),u.setMap(null)}),n.info(this)}return e(a,r),a.include(i),a.include(o),a}(a)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,n,r,i){var o;return o=function(t){function n(e,t,n,r){var i,o;this.scope=e,this.attrs=n,this.map=r,i=new google.maps.drawing.DrawingManager(this.scope.options),i.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return i}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(e){return null!=i?i.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(i,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=o&&e.removeEvents(o),o=e.setEvents(i,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=o&&e.removeEvents(o),i.setMap(null),i=null}}(this))}return e(n,t),n.include(i),n}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(r,i){var o;return o=function(r){function o(n,r,a,s){if(this.scope=n,this.element=r,this.attrs=a,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=i,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return n(o,r),o.prototype.DEFAULTS={},o.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(e,t,n){return null==n&&(n=!0),t.$watch(e,function(n){return function(r,i){return _.isEqual(r,i)?void 0:n.onWatch(e,t,r,i)}}(this),n)},o.prototype.onWatch=function(e,t,n,r){},o}(r)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,r){var i;return i=function(t){function i(e,t,n,o,a,s,c,l){i.__super__.constructor.call(this,e),this.$log=r,this.$timeout=a,this.$compile=s,this.$http=c,this.$templateCache=l,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(i,t),i.include(n),i.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(r,i,o){var a;return a=function(r){function o(n,r,o,a,s,c){return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=c?c:i,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.gObject.setMap(e.gMap):e.gObject.setMap(null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n&&e.doShow?e.gObject.setOptions(t):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(o,r),o.prototype.createGoogleLayer=function(){var e;return null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(r,i){var o;return o=function(r){function o(n,r,o,a,s){return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.$log=null!=s?s:i,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watchCollection("options",function(e){return function(t,n){var r,i;return!_.isEqual(t,n)&&(i=["tileSize","maxZoom","minZoom","name","alt"],r=_.some(i,function(e){return!n||!t||!_.isEqual(t[e],n[e])}))?e.refreshMapType():void 0}}(this)),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,n){return _.isEqual(t,n)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return n(o,r),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,r){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(r))}}(this))},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(r,i,o,a,s,c,l,u,d,p,m,f,h){var g,v;return v=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},g=function(r){function u(t,n,r,i){this.maybeExecMappedEvent=e(this.maybeExecMappedEvent,this),this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.bindToTypeEvents=e(this.bindToTypeEvents,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this),u.__super__.constructor.call(this,t,n,r,i),this["interface"]=d,v(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,n){if(!_.isEqual(t,n)||!e.modelsRendered){if(0===t.length&&0===n.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,n)}}}(this),!this.isTrue(r.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(u,r),u.include(m),u.include(i),u.prototype.onWatch=function(e,t,n,r){return"idKey"===e&&n!==r&&(this.idKey=n),this.doRebuildAll||"doCluster"===e||"type"===e?this.rebuildAll(t):this.pieceMeal(t)},u.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),u.__super__.validateScope.call(this,e)||n},u.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},u.prototype.bindToTypeEvents=function(e,n){var r,i;return null==n&&(n=["click","mouseout","mouseover"]),i=this,this.origTypeEvents?t.extend(e,this.origTypeEvents):(this.origTypeEvents={},_.each(n,function(t){return function(n){return t.origTypeEvents[n]=null!=e?e[n]:void 0}}(this))),r={},_.each(n,function(e){return r[e]=function(t){return i.maybeExecMappedEvent(t,e)}}),t.extend(e,r)},u.prototype.createAllNew=function(e){var t,n,r,i;return null!=this.gManager&&(this.gManager instanceof h&&(t=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),r=e.typeEvents||e.clusterEvents,i=e.typeOptions||e.clusterOptions,e.doCluster||"cluster"===e.type?(null!=r&&this.bindToTypeEvents(r),this.gManager=new c(this.map,void 0,i,r)):"spider"===e.type?(null!=r&&this.bindToTypeEvents(r,["spiderfy","unspiderfy"]),this.gManager=new h(this.map,void 0,i,r,this.scope),t&&this.gManager.spiderfy()):this.gManager=new l(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,s.promiseLock(this,p.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return s.each(e.models,function(r){return t.newChildMarker(r,e),n},s.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},s.chunkSizeFrom(e.chunk))}}(this)))},u.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},u.prototype.pieceMeal=function(e){var t,n;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?s.promiseLock(this,p.promiseTypes.update,"pieceMeal",function(e){return t=e},function(r){return function(){return p.promise(function(){return r.figureOutState(r.idKey,e,r.scope.plurals,r.modelKeyComparison)}).then(function(i){return n=i,s.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),r.scope.plurals.remove(e.id),t):void 0},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(n.adds,function(n){return r.newChildMarker(n,e),t},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(n.updates,function(e){return r.updateChild(e.child,e.model),t},s.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=r.scope.plurals,e.fit&&r.gManager.fit(),r.gManager.draw()),r.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e))},u.prototype.newChildMarker=function(e,t){var n,r,i;if(!e)throw"model undefined";return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),r=t.$new(!1),r.events=t.events,i={},d.scopeKeys.forEach(function(e){return i[e]=t[e]}),n=new a({scope:r,model:e,keys:i,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(e[this.idKey],n),n)},u.prototype.onDestroy=function(e){return u.__super__.onDestroy.call(this,e),s.promiseLock(this,p.promiseTypes["delete"],void 0,void 0,function(e){return function(){return s.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},s.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.destroy(),e.plurals.removeAll(),e.plurals!==e.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),e.scope.pluralsUpdate.updateCtr+=1})}}(this))},u.prototype.maybeExecMappedEvent=function(e,t){var n,r;if(!this.scope.$$destroyed)return r=this.scope.typeEvents||this.scope.clusterEvents,_.isFunction(null!=r?r[t]:void 0)&&(n=this.mapTypeToPlurals(e),this.origTypeEvents[t])?this.origTypeEvents[t](n.group,n.mapped):void 0},u.prototype.mapTypeToPlurals=function(e){var t,n,r;return _.isArray(e)?t=e:_.isFunction(e.getMarkers)&&(t=e.getMarkers()),null==t?void f.error("Unable to map event as we cannot find the array group to map"):(n=(null!=(r=this.scope.plurals.values())?r.length:void 0)?t.map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)):[],{cluster:e,mapped:n,group:e})},u.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},u}(r)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,r){return t(r,n,e)}])})}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,n,r,i){var o;return o=function(i){function o(e,n,r,i,o){var a,s,c,l,u,d,p,m,f,h,g;this.scope=e,this.attrs=r,this.gMap=i,this.DEFAULTS=o,a=void 0,l=!1,f=[],m=void 0,u=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.gMap,a):void 0}}(this),c=function(e){return function(){var n,r,i;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(r=e.scope.bounds)?r.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(a=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(a))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?a=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(i=e.scope)?i.bounds:void 0)):void 0}}(this),c(),d=new google.maps.Rectangle(this.buildOpts(a)),t.info("gObject (rectangle) created: "+d),h=!1,g=function(e){return function(){var t,n,r;return t=d.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),h?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:r.lat(),longitude:r.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),p=function(e){return function(){return u(),e.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return l=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return l=!1,g()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){return l?void 0:g()}))}}(this),s=function(e){return function(){return e.removeEvents(f),null!=m&&e.removeEvents(m),d.setMap(null)}}(this),null!=a&&p(),this.scope.$watch("bounds",function(e,t){var n;if(!(_.isEqual(e,t)&&null!=a||l))return h=!0,null==e?void s():(null==a?n=!0:u(),c(),d.setBounds(a),h=!1,n&&null!=a?p():void 0)},!0),this.setMyOptions=function(e){return function(t,n){return _.isEqual(t,n)||null==a||null==t?void 0:d.setOptions(e.buildOpts(a))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(m=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,n){return _.isEqual(t,n)?void 0:(null!=m&&e.removeEvents(m),m=e.setEvents(d,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return s()}),t.info(this)}return e(o,i),o.include(n),o.include(r),o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(r,i,o){var a;return a=function(r){function a(n,r,o,a,s,c,l){var u;return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=c,this.$log=null!=l?l:i,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,u=t.element("<div></div>"),u.append(this.template),this.input=u.find("input")[0],void this.init())}return n(a,r),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n,r){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(e){return function(){return null!=e.attrs.parentdiv?e.addToParentDiv():void 0}}(this)),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){var e;return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),(null!=(e=this.parentDiv)?e.length:void 0)?this.parentDiv.append(this.input):void 0},a.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(r,i,o,a,s,c,l,u,d,p,m,f,h,g,v){var y;return y=function(r){function y(t,n,r,i,a,c){this.gMap=a,this.markersScope=c,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),y.__super__.constructor.call(this,t,n,r,i,u,d,p,m),this["interface"]=g,this.plurals=new o,_.each(g.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new s(t,n,r,i),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return n(y,r),y.include(i),y.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},y.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(n,r){var i;return!_.isEqual(n,r)||t.firstWatchModels?(t.firstWatchModels=!1,
t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(i=0===t.plurals.length,null!=t.existingPieces?_.last(t.existingPieces._content).then(function(){return t.createChildScopes(i)}):t.createChildScopes(i))):void 0}}(this),!0)},y.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},y.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},y.prototype.onDestroy=function(e){return y.__super__.onDestroy.call(this,this.scope),c.promiseLock(this,h.promiseTypes["delete"],void 0,void 0,function(e){return function(){return c.each(e.plurals.values(),function(e){return e.destroy(!0)},c.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},y.prototype.watchOurScope=function(e){return _.each(g.scopeKeys,function(t){return function(n){var r;return r=n+"Key",t[r]="function"==typeof e[n]?e[n]():e[n]}}(this))},y.prototype.createChildScopes=function(e){var n,r,i;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(r=this.markersScope)?r.plurals:void 0)&&void 0!==(null!=(i=this.markersScope)?i.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},y.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},y.prototype.createAllNew=function(e,t,n,r){var i;return null==n&&(n="models"),null==r&&(r=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(i=null,c.promiseLock(this,h.promiseTypes.create,"createAllNew",function(e){return i=e},function(r){return function(){return c.each(e.models,function(o){var a,s;return a=t&&null!=(s=r.getItem(e,n,o[r.idKey]))?s.gObject:void 0,i||(!a&&r.markersScope&&l.error("Unable to get gMarker from markersScope!"),r.createWindow(o,a,r.gMap)),i},c.chunkSizeFrom(e.chunk)).then(function(){return r.firstTime=!1})}}(this)))},y.prototype.pieceMeal=function(e,t,n,r){var i,o;return null==n&&(n="models"),null==r&&(r=!0),e.$$destroyed?void 0:(i=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?c.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(e){return i=e},function(t){return function(){return h.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,c.each(o.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),i):void 0},c.chunkSizeFrom(e.chunk))}).then(function(){return c.each(o.adds,function(r){var o,a;if(o=null!=(a=t.getItem(e,n,r[t.idKey]))?a.gObject:void 0,!o)throw"Gmarker undefined";return t.createWindow(r,o,t.gMap),i})}).then(function(){return c.each(o.updates,function(e){return t.updateChild(e.child,e.model),i},c.chunkSizeFrom(e.chunk))})}}(this)):(l.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},y.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},y.prototype.createWindow=function(e,t,n){var r,i,o,s,c,l;return i=this.linked.scope.$new(!1),this.setChildScope(i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},s=this.createWindowOptions(t,i,o.html(),this.DEFAULTS),r=new a({model:e,scope:i,opts:s,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:n,markerScope:null!=(c=this.markersScope)&&null!=(l=c.plurals.get(e[this.idKey]))?l.scope:void 0,element:o,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],r),r)},y.prototype.setChildScope=function(e,t){return _.each(g.scopeKeys,function(n){return function(r){var i,o;return i=r+"Key",o="self"===n[i]?t:t[n[i]],o!==e[r]?e[r]=o:void 0}}(this)),e.model=t},y.prototype.interpolateContent=function(e,t){var n,r,i,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(e),i={},s=this.contentKeys,r=0,a=s.length;a>r;r++)o=s[r],i[o]=t[o];return n(i)}},y.prototype.modelKeyComparison=function(e,t){var n,r;if(r=null!=this.scope.coords?this.scope:this.parentScope,null==r)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(e,r.coords),this.evalModelHandle(t,r.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,r[i])===n.evalModelHandle(t,r[i])}}(this)):n},y}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(r,i,o,a,s,c){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this)}return n(u,l),u.prototype.link=function(e,n,l,u){return c.then(function(n){return function(c){var l,d;return t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property"):(l=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,d=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",c.ControlPosition[d]?r.mapPromise(e,u).then(function(r){var c,u;return c=void 0,u=t.element("<div></div>"),i.get(e.template,{cache:o}).success(function(n){var r,i;return i=e.$new(),u.append(n),t.isDefined(e.controller)&&(r=s(e.controller,{$scope:i}),u.children().data("$ngControllerController",r)),c=a(u.children())(i),l?c[0].index=l:void 0}).error(function(e){return n.$log.error("mapControl: template could not be found")}).then(function(){return r.controls[google.maps.ControlPosition[d]].push(c[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},u}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,n){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,n))}],link:function(n,r,i,o){return e.mapPromise(n,o).then(function(e){var r,i,o;return r=function(t){return e.enableKeyDragZoom(t)},i=new t(function(e,t){return t?r({key:t}):r()}),o=new t(function(e,t){return t?r(t):void 0}),n.$watch("keyboardkey",i.sic("keyboardkey")),i.sic(n.keyboardkey),n.$watch("options",o.sic("options")),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,r,i,o,a){var s;return s=function(r){function s(){return this.link=e(this.link,this),s.__super__.constructor.apply(this,arguments)}return n(s,r),s.include(i),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope={polygons:"=",draw:"="},s.prototype.link=function(e,n,r,i){return this.mapPromise(e,i).then(function(n){return function(n){var r,s;return e.polygons?_.isArray(e.polygons)?(r=new o(n,i.getScope()),s=void 0,e.draw=function(){return"function"==typeof s&&s(),r.engage(e.polygons).then(function(){var t;return t=!0,s=e.$watchCollection("polygons",function(e,n){var r;return t||e===n?void(t=!1):(r=a.differenceObjects(n,e),r.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},s}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(i,t),i.extend(r),i.prototype.link=function(e,t,n,r){throw new Exception("Not implemented!!")},i}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,n){var r;return r=function(t){function r(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return e(r,t),r.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},r.scopeKeys=_.keys(r.scope),r.keys=r.scopeKeys,r.extend(n),r}(t)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r,i){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(i),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=r,o}(n)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r,i){var o;return o=function(n){function o(){}return e(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(t),o.extend(i),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=r,o}(n)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},i.scopeKeys=_.keys(i.scope),i.include(n),i.extend(r),i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(r,i,o,a,s,c,l,u,d,p,m,f,h,g){var v,y,b;return v=void 0,b=[m,d,p],y=function(i){function s(){this.link=e(this.link,this);var t;t=function(e){var t,n;return n=void 0,e.$on("$destroy",function(){return l.decrement()}),t=c.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return b.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n=_.extend(this,t)},this.controller=["$scope",t]}return n(s,i),s.include(a),s.prototype.restrict="EMA",s.prototype.transclude=!0,s.prototype.replace=!1,s.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',s.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},s.prototype.link=function(e,n,i){var a,s;return a=[],e.$on("$destroy",function(){return h.removeEvents(a),"true"===i.recycleMapInstance&&e.map?(g.recycleMapInstance(e.map),e.map=null):void 0}),e.idleAndZoomChanged=!1,null==e.center?void(s=e.$watch("center",function(t){return function(){return e.center?(s(),t.link(e,n,i)):void 0}}(this))):f.then(function(s){return function(c){var d,p,m,f,y,b,E,C,S,w,T,I,O,A,$,D,x;if(v={mapTypeId:c.MapTypeId.ROADMAP},A=l.spawn(),I=function(){return A.deferred.resolve({instance:A.instance,map:d})},!s.validateCoords(e.center))return void o.error("angular-google-maps: could not find a valid center property");if(!t.isDefined(e.zoom))return void o.error("angular-google-maps: map zoom property not set");if(y=t.element(n),y.addClass("angular-google-map"),w={options:{}},i.options&&(w.options=e.options),i.styles&&(w.styles=e.styles),i.type&&($=i.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty($)?w.mapTypeId=google.maps.MapTypeId[i.type.toUpperCase()]:o.error("angular-google-maps: invalid map type '"+i.type+"'")),C=t.extend({},v,w,{center:s.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),d="true"===i.recycleMapInstance?g.createMapInstance(y.find("div")[1],C):new google.maps.Map(y.find("div")[1],C),d.uiGmap_id=u.generate(),f=!1,a.push(google.maps.event.addListenerOnce(d,"idle",function(){return e.deferred.resolve(d),I()})),m=i.events&&null!=(null!=(T=e.events)?T.blacklist:void 0)?e.events.blacklist:[],_.isString(m)&&(m=[m]),S=function(t,n,r){return _.includes(m,t)?void 0:(r&&r(),a.push(google.maps.event.addListener(d,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:n()})))},_.includes(m,"all")||(S("dragstart",function(){return f=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),S("dragend",function(){return f=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=f:void 0})}),D=function(n,r){if(null==n&&(n=d.center),null==r&&(r=e),!_.includes(m,"center"))if(t.isDefined(r.center.type)){if(r.center.coordinates[1]!==n.lat()&&(r.center.coordinates[1]=n.lat()),r.center.coordinates[0]!==n.lng())return r.center.coordinates[0]=n.lng()}else if(r.center.latitude!==n.lat()&&(r.center.latitude=n.lat()),r.center.longitude!==n.lng())return r.center.longitude=n.lng()},O=!1,S("idle",function(){var t,n,r;return t=d.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),O=!0,e.$evalAsync(function(t){return D(),_.isUndefined(t.bounds)||_.includes(m,"bounds")||(t.bounds.northeast={latitude:n.lat(),longitude:n.lng()},t.bounds.southwest={latitude:r.lat(),longitude:r.lng()}),_.includes(m,"zoom")||(t.zoom=d.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),O=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){E=function(t){return function(){return e.events[t].apply(e,[d,t,arguments])}},p=[];for(b in e.events)e.events.hasOwnProperty(b)&&t.isFunction(e.events[b])&&p.push(google.maps.event.addListener(d,b,E(b)));a.concat(p)}return d.getOptions=function(){return C},e.map=d,null!=i.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,r;if(null!=d)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(r=n.event)?r.trigger:void 0)&&null!=d&&google.maps.event.trigger(d,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=s.getCoords(e),s.isTrue(i.pan)?d.panTo(t):d.setCenter(t)):void 0},e.control.getGMap=function(){return d},e.control.getMapOptions=function(){return C},e.control.getCustomEventListeners=function(){return p},e.control.removeEvents=function(e){return h.removeEvents(e)}),e.$watch("center",function(t,n){var r;if(t!==n&&!O&&(r=s.getCoords(e.center),r.lat()!==d.center.lat()||r.lng()!==d.center.lng()))return f?void 0:(s.validateCoords(t)||o.error("Invalid center for newValue: "+JSON.stringify(t)),s.isTrue(i.pan)&&e.zoom===d.zoom?d.panTo(r):d.setCenter(r))},!0),x=null,e.$watch("zoom",function(t,n){var i,o;if(null!=t&&!_.isEqual(t,n)&&(null!=d?d.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!O)return null!=x&&r.cancel(x),x=r(function(){return d.setZoom(t)},(null!=(i=e.eventOpts)&&null!=(o=i.debounce)?o.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,r,i,a,s,c,l;if(e!==t)return null==(null!=e&&null!=(i=e.northeast)?i.latitude:void 0)||null==(null!=e&&null!=(a=e.northeast)?a.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(c=e.southwest)?c.longitude:void 0)?void o.error("Invalid map bounds for new value: "+JSON.stringify(e)):(r=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),l=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(l,r),d.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,n){return _.isEqual(e,n)?void 0:("options"===t?w.options=e:w.options[t]=e,null!=d?d.setOptions(w):void 0)},!0)})}}(this))},s}(s)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,n,r,i){var o;return o=function(o){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',i.info(this)}return e(a,o),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Marker",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,i,o,a){var s;return s=t.mapPromise(e,a),s.then(function(i){var o,a,s;return o=new r(i),a=_.object(t.keys,t.keys),s=new n({scope:e,model:e,keys:a,gMap:i,doClick:!0,gManager:o,doDrawSelf:!1,trackModel:!1}),s.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=o.getGMarkers:void 0}),e.$on("$destroy",function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null})},a}(t)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,n,r,i,o){var a;return a=function(i){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),o.info(this)}return e(a,i),a.prototype.controller=["$scope","$element",function(e,n){return e.ctrlType="Markers",_.extend(this,t.handle(e,n))}],a.prototype.link=function(e,i,o,a){var s,c;return s=void 0,c=function(){return e.deferred.resolve()},t.mapPromise(e,a).then(function(t){var l;return l=a.getScope(),l.$watch("idleAndZoomChanged",function(){return _.defer(s.gManager.draw)}),s=new r(e,i,o,t),n.link(e,s),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=s.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return s.plurals}),_.last(s.existingPieces._content).then(function(){return c()})})},a}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==!0},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(t,r,i){var o;return o=function(r){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.link=function(e,n,r,o){var a,s;return a=[],s=t.mapPromise(e,o),null!=e.control&&(e.control.getInstance=this,e.control.polygons=a,e.control.promise=s),s.then(function(t){return function(n){return a.push(new i({scope:e,attrs:r,gMap:n,defaults:t.DEFAULTS}))}}(this))},o}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(r,i,o,a){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polygons: no valid path attribute found"),e.models||i.$log.warn("polygons: no models found to create from"),a.link(e,new o(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(r,i,o){var a;return a=function(i){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.prototype.link=function(e,n,i,a){return r.mapPromise(e,a).then(function(n){return function(r){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new o({scope:e,attrs:i,gMap:r,defaults:n.DEFAULTS})}}(this))},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(r,i,o,a){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polylines: no valid path attribute found"),e.models||i.$log.warn("polylines: no models found to create from"),a.link(e,new o(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,n,r){return _.extend(n,{link:function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return new r(e,t,n,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(r,i,o,a,s){var c;return c=function(c){function l(){this.link=e(this.link,this),l.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(l,c),l.include(i),l.prototype.link=function(e,n,i,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=r.mapPromise(e,o[0]),this.mapPromise.then(function(r){return function(o){var c;return c=!0,t.isDefined(i.isiconvisibleonclick)&&(c=e.isIconVisibleOnClick),a?s.deferred.promise.then(function(t){return r.init(e,n,c,o,s)}):void r.init(e,n,c,o)}}(this))},l.prototype.init=function(e,t,n,r,i){var s,c,l,u,d;return c=null!=e.options?e.options:{},u=null!=e&&this.validateCoords(e.coords),null!=(null!=i?i.getGMarker:void 0)&&(l=i.getGMarker()),d=u?this.createWindowOptions(l,e,t.html(),c):c,null!=r&&(s=new o({scope:e,opts:d,isIconVisibleOnClick:n,gMap:r,markerScope:i,element:t}),this.childWindows.push(s),e.$on("$destroy",function(e){return function(){return e.childWindows=a.withoutObjects(e.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0},l}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,r,i,o,a){var s;return s=function(t){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',r.extend(this),a.debug(this)}return n(s,t),s.prototype.link=function(e,t,n,r){var i,a,s;return i=r[0].getScope(),a=r.length>1&&null!=r[1]?r[1]:void 0,s=null!=a?a.getScope():void 0,i.deferred.promise.then(function(i){return function(a){var c,l;return c=(null!=s&&null!=(l=s.deferred)?l.promise:void 0)||o.resolve(),c.then(function(){var o,c;return o=null!=(c=i.parentModel)?c.existingPieces:void 0,o?o.then(function(){return i.init(e,t,n,r,a,s)}):i.init(e,t,n,r,a,s)})}}(this))},s.prototype.init=function(e,t,n,o,a,s){var c;return c=new i(e,t,n,o,a,s),r.link(e,c),null!=e.control?(e.control.getGWindows=function(){return c.plurals.map(function(e){return e.gObject})},e.control.getChildWindows=function(){return c.plurals}):void 0},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){
return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,r,i){return new i(e,t,n,r)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,r,i,o){return new o(e,t,n,r,i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return function(i){return null!=e.onCreated?new r(e,t,n,i,e.onCreated):new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return function(i){return new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,r,i,o,a,s){var c;return new(c=function(){function c(){this.link=e(this.link,this),this.$log=r,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return c.prototype.require="ngModel",c.prototype.link=function(e,r,c,l){return n.then(function(n){return function(u){return null==e.template&&(a.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),e.template="uigmap-searchbox-default.tpl.html"),o.get(e.template,{cache:a}).success(function(o){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):l.getScope().deferred.promise.then(function(a){var l;return l=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",u.ControlPosition[l]?new i(e,r,c,a,l,s(o)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},c}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(r,i){var o,a,s;return o=function(t,n){return e[t](i,"ng-hide").then(function(){return n()})},a=function(t,n){return e[t](i,"ng-hide",n)},s=function(e,r){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?a(e,r):o(e,r)},r.$watch("uiGmapShow",function(e){return e&&s("removeClass",r.uiGmapAfterShow),e?void 0:s("addClass",r.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,n,r,i){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s,c){return e.then(function(e){return function(e){var c,l,u,d,p,m,f,h,g,v;return h=void 0,v=void 0,u=!1,m=void 0,f=null,g=null,c=function(){return i.removeEvents(m),null!=h&&(h.unbind("position"),h.setVisible(!1)),null!=v?(null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0):void 0},p=function(e,n){var r;return r=google.maps.geometry.spherical.computeHeading(e,n),u=!0,a.radius=a.radius||50,g=t.extend({heading:r,zoom:1,pitch:0},a.povoptions||{}),f=f=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:g,visible:!0},a.options||{}),u=!1},l=function(){var e;return a.focalcoord?a.radius?(c(),null==v&&(v=new google.maps.StreetViewService),a.events&&(m=i.setEvents(v,a,a)),e=r.getCoords(a.focalcoord),v.getPanoramaByLocation(e,a.radius,function(t,n){var r,i,o;return null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(v,"image_status_changed",a,n),"OK"===n?(i=t.location.latLng,p(i,e),r=s[0],h=new google.maps.StreetViewPanorama(r,f)):void 0})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return g},a.control.getGObject=function(){return v},a.control.getGPano=function(){return h}),a.$watch("options",function(e,t){return e===t||e===f||u?void 0:l()}),d=!0,a.$watch("focalcoord",function(e,t){return e===t&&!d||null==e?void 0:(d=!1,l())}),a.$on("$destroy",function(){return c()})}}(this))}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){/*
 Version: core-1.0
 The MIT License: Copyright (c) 2012 LiosK.
*/
function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?NaN:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):NaN},e._ha=function(e,t){for(var n=e.toString(16),r=t-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){+function(){/**
 * @name InfoBox
 * @version 1.1.13 [March 19, 2014]
 * @author Gary Little (inspired by proof-of-concept code from Pamela Fox of Google)
 * @copyright Copyright 2010 Gary Little [gary at luxcentral.com]
 * @fileoverview InfoBox extends the Google Maps JavaScript API V3 <tt>OverlayView</tt> class.
 *  <p>
 *  An InfoBox behaves like a <tt>google.maps.InfoWindow</tt>, but it supports several
 *  additional properties for advanced styling. An InfoBox can also be used as a map label.
 *  <p>
 *  An InfoBox also fires the same events as a <tt>google.maps.InfoWindow</tt>.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&("undefined"==typeof e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}/**
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(e,t){e.getMarkerClusterer().extend(r,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function i(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new r(this,e.getStyles())}function o(e,t,r){this.extend(o,google.maps.OverlayView),t=t||[],r=r||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=r.gridSize||60,this.minClusterSize_=r.minimumClusterSize||2,this.maxZoom_=r.maxZoom||null,this.styles_=r.styles||[],this.title_=r.title||"",this.zoomOnClick_=!0,r.zoomOnClick!==n&&(this.zoomOnClick_=r.zoomOnClick),this.averageCenter_=!1,r.averageCenter!==n&&(this.averageCenter_=r.averageCenter),this.ignoreHidden_=!1,r.ignoreHidden!==n&&(this.ignoreHidden_=r.ignoreHidden),this.enableRetinaIcons_=!1,r.enableRetinaIcons!==n&&(this.enableRetinaIcons_=r.enableRetinaIcons),this.imagePath_=r.imagePath||o.IMAGE_PATH,this.imageExtension_=r.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=r.imageSizes||o.IMAGE_SIZES,this.calculator_=r.calculator||o.CALCULATOR,this.batchSize_=r.batchSize||o.BATCH_SIZE,this.batchSizeIE_=r.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}/**
 * @name MarkerWithLabel for V3
 * @version 1.1.10 [April 8, 2014]
 * @author Gary Little (inspired by code from Marc Ridey of Google).
 * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]
 * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3
 *  <code>google.maps.Marker</code> class.
 *  <p>
 *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,
 *  if the marker is draggable, so too will be the label. In addition, a marker with a label
 *  responds to all mouse events in the same manner as a regular marker. It also fires mouse
 *  events and "property changed" events just as a regular marker would. Version 1.1 adds
 *  support for the raiseOnDrag feature introduced in API V3.3.
 *  <p>
 *  If you drag a marker by its label, you can cancel the drag and return the marker to its
 *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker
 *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function c(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}/**
 * @license
 * Copyright 2013 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==n&&(e.visible=!0),e.shadow==n&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==n&&(e.anchor=u.BOTTOM),this.setValues(t)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,n,r=this,i=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),r.enableEventPropagation_||i(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],i));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,n,r=0,i=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var o=t.getDiv(),a=o.offsetWidth,s=o.offsetHeight,c=this.pixelOffset_.width,l=this.pixelOffset_.height,u=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,m=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-c+p?r=f.x+c-p:f.x+u+c+p>a&&(r=f.x+u+c+p-a),this.alignBottom_?f.y<-l+m+d?i=f.y+l-m-d:f.y+l+m>s&&(i=f.y+l+m-s):f.y<-l+m?i=f.y+l-m:f.y+d+l+m>s&&(i=f.y+d+l+m-s),0!==r||0!==i){t.getCenter();t.panBy(r,i)}}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},t.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){function t(e,t){var n=this,r=new google.maps.OverlayView;r.onAdd=function(){n.init_(e,t)},r.draw=function(){},r.onRemove=function(){},r.setMap(e),this.prjov_=r}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},r=function(e){var t,r={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return r.top=parseInt(t.borderTopWidth,10)||0,r.bottom=parseInt(t.borderBottomWidth,10)||0,r.left=parseInt(t.borderLeftWidth,10)||0,r.right=parseInt(t.borderRightWidth,10)||0,r}else if(document.documentElement.currentStyle&&e.currentStyle)return r.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,r.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,r.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,r.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,r;return r.top=parseInt(e.style["border-top-width"],10)||0,r.bottom=parseInt(e.style["border-bottom-width"],10)||0,r.left=parseInt(e.style["border-left-width"],10)||0,r.right=parseInt(e.style["border-right-width"],10)||0,r},i={x:0,y:0},o=function(e){i.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,i.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(t){var n=0,r=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,r=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+i.x,r=t.clientY+i.y),{left:n,top:r}},s=function(t){for(var n=t.offsetLeft,r=t.offsetTop,i=t.offsetParent;null!==i;){i!==document.body&&i!==document.documentElement&&(n-=i.scrollLeft,r-=i.scrollTop);var o=i,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&e.getComputedStyle){var c=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(c&&"string"==typeof c){var l=c.split(",");a+=parseInt(l[4],10)||0,s+=parseInt(l[5],10)||0}}n+=a,r+=s,i=i.offsetParent}return{left:n,top:r}},c=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},l=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var i,a=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=r(this.map_.getDiv()),this.veilDiv_=[],i=0;4>i;i++)this.veilDiv_[i]=document.createElement("div"),this.veilDiv_[i].onselectstart=function(){return!1},c(this.veilDiv_[i].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),c(this.veilDiv_[i].style,n.paneStyle),c(this.veilDiv_[i].style,n.veilStyle),c(this.veilDiv_[i].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[i].style.MozUserSelect="none"),l(this.veilDiv_[i]),"transparent"===this.veilDiv_[i].style.backgroundColor&&(this.veilDiv_[i].style.backgroundColor="white",l(this.veilDiv_[i],0)),this.map_.getDiv().appendChild(this.veilDiv_[i]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),c(this.boxDiv_.style,{border:"4px solid #736AFF"}),c(this.boxDiv_.style,n.boxStyle),c(this.boxDiv_.style,{position:"absolute",display:"none"}),l(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=r(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){a.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){a.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){a.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){a.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){a.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,r=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){r.hotKeyDown_=!r.hotKeyDown_,r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on,r.activatedByControl_=!0,google.maps.event.trigger(r,"activate")):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off,google.maps.event.trigger(r,"deactivate")),r.onMouseMove_(e)},t.onmouseover=function(){r.buttonDiv_.firstChild.style.left=-(1*r.visualSize_.width)+"px"},t.onmouseout=function(){r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off)},t.ondragstart=function(){return!1},c(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,r=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,i=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=r+"px",this.veilDiv_[3].style.top=r+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(r+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=a(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(e){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=a(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,r-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),c=Math.max(0,i-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+i+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+i)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=c+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+i),new google.maps.Point(t+r,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var r=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(r+=this.borderWidths_.left,i+=this.borderWidths_.top);var c=this.prjov_.getProjection(),l=c.fromContainerPixelToLatLng(new google.maps.Point(r,i+a)),u=c.fromContainerPixelToLatLng(new google.maps.Point(r+o,i)),d=new google.maps.LatLngBounds(l,u);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=c.fromLatLngToContainerPixel(l),m=c.fromLatLngToContainerPixel(u);s&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,m.x-=this.borderWidths_.left,m.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=m.y+"px",this.boxDiv_.style.width=Math.abs(m.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(m.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(e){var t,n,r,i,o,a,s,c,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,n=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),a=this.prjov_.getProjection(),s=a.fromContainerPixelToLatLng(new google.maps.Point(n,r+o)),c=a.fromContainerPixelToLatLng(new google.maps.Point(n+i,r)),l=new google.maps.LatLngBounds(s,c)),t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),r.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(r){if(e=!1,!t){var i,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),i=n.cluster_.getBounds(),a.getMap().fitBounds(i),setTimeout(function(){a.getMap().fitBounds(i),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},r.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},r.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},r.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},r.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},r.prototype.setCenter=function(e){this.center_=e},r.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},r.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},i.prototype.getSize=function(){return this.markers_.length},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getCenter=function(){return this.center_},i.prototype.getMap=function(){return this.map_},i.prototype.getMarkerClusterer=function(){return this.markerClusterer_},i.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},i.prototype.addMarker=function(e){var t,n,r;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),null!==r&&this.map_.getZoom()>r)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},i.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},i.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},i.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()},i.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},o.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},o.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},o.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(e){this.gridSize_=e},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(e){this.maxZoom_=e},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(e){this.styles_=e},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(e){this.title_=e},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(e){this.averageCenter_=e},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(e){this.imageExtension_=e},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(e){this.imagePath_=e},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(e){this.imageSizes_=e},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(e){this.calculator_=e},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(e){this.clusterClass_=e},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},o.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},o.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},o.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},o.prototype.removeMarkers=function(e,t){var n,r,i=!1;for(n=0;n<e.length;n++)r=this.removeMarker_(e[n]),i=i||r;return!t&&i&&this.repaint(),i},o.prototype.removeMarker_=function(e){var t,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){n=t;break}return-1===n?!1:(e.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},o.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_,i.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(r);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(i),s=t.fromDivPixelToLatLng(o);return e.extend(a),e.extend(s),e},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(e,t){var n=6371,r=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=n*a;return s},o.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},o.prototype.addToClosestCluster_=function(e){var t,n,r,o,a=4e4,s=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],o=r.getCenter(),o&&(n=this.distanceBetweenPoints_(o,e.getPosition()),a>n&&(a=n,s=r));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(r=new i(this),r.addMarker(e),this.clusters_.push(r))},o.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},o.CALCULATOR=function(e,t){for(var n=0,r="",i=e.length.toString(),o=i;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,t),{text:i,index:n,title:r}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],a(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return"undefined"==typeof s.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,n,r,i,o,a,c=this,l=!1,u=!1,d=20,p="url("+this.handCursorURL_+")",m=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},f=function(){c.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(c.marker_.getDraggable()||c.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(c.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!c.marker_.getDraggable()&&!c.marker_.getClickable()||u||(this.style.cursor=c.marker_.getCursor(),google.maps.event.trigger(c.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){u=!1,c.marker_.getDraggable()&&(l=!0,this.style.cursor=p),(c.marker_.getDraggable()||c.marker_.getClickable())&&(google.maps.event.trigger(c.marker_,"mousedown",e),m(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(l&&(l=!1,c.eventDiv_.style.cursor="pointer",google.maps.event.trigger(c.marker_,"mouseup",t)),u){if(i){n=c.getProjection().fromLatLngToDivPixel(c.marker_.getPosition()),n.y+=d,c.marker_.setPosition(c.getProjection().fromDivPixelToLatLng(n));try{c.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}c.crossDiv_.style.display="none",c.marker_.setZIndex(e),r=!0,u=!1,t.latLng=c.marker_.getPosition(),google.maps.event.trigger(c.marker_,"dragend",t)}}),google.maps.event.addListener(c.marker_.getMap(),"mousemove",function(r){var s;l&&(u?(r.latLng=new google.maps.LatLng(r.latLng.lat()-t,r.latLng.lng()-n),s=c.getProjection().fromLatLngToDivPixel(r.latLng),i&&(c.crossDiv_.style.left=s.x+"px",c.crossDiv_.style.top=s.y+"px",c.crossDiv_.style.display="",s.y-=d),c.marker_.setPosition(c.getProjection().fromDivPixelToLatLng(s)),i&&(c.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(c.marker_,"drag",r)):(t=r.latLng.lat()-c.marker_.getPosition().lat(),n=r.latLng.lng()-c.marker_.getPosition().lng(),e=c.marker_.getZIndex(),o=c.marker_.getPosition(),a=c.marker_.getMap().getCenter(),i=c.marker_.get("raiseOnDrag"),u=!0,c.marker_.setZIndex(1e6),r.latLng=c.marker_.getPosition(),google.maps.event.trigger(c.marker_,"dragstart",r)))}),google.maps.event.addDomListener(document,"keydown",function(e){u&&27===e.keyCode&&(i=!1,c.marker_.setPosition(o),c.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(c.marker_.getDraggable()||c.marker_.getClickable())&&(r?r=!1:(google.maps.event.trigger(c.marker_,"click",e),m(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(c.marker_.getDraggable()||c.marker_.getClickable())&&(google.maps.event.trigger(c.marker_,"dblclick",e),m(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(e){u||(i=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(e){u||i&&(c.setPosition(d),c.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(e){u||i&&c.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){c.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){c.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){c.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){c.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){c.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){c.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){
c.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){c.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){c.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(c,google.maps.Marker),c.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},l.prototype=new google.maps.OverlayView,e.RichMarker=l,l.prototype.getVisible=function(){return this.get("visible")},l.prototype.getVisible=l.prototype.getVisible,l.prototype.setVisible=function(e){this.set("visible",e)},l.prototype.setVisible=l.prototype.setVisible,l.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},l.prototype.visible_changed=l.prototype.visible_changed,l.prototype.setFlat=function(e){this.set("flat",!!e)},l.prototype.setFlat=l.prototype.setFlat,l.prototype.getFlat=function(){return this.get("flat")},l.prototype.getFlat=l.prototype.getFlat,l.prototype.getWidth=function(){return this.get("width")},l.prototype.getWidth=l.prototype.getWidth,l.prototype.getHeight=function(){return this.get("height")},l.prototype.getHeight=l.prototype.getHeight,l.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},l.prototype.setShadow=l.prototype.setShadow,l.prototype.getShadow=function(){return this.get("shadow")},l.prototype.getShadow=l.prototype.getShadow,l.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},l.prototype.flat_changed=l.prototype.flat_changed,l.prototype.setZIndex=function(e){this.set("zIndex",e)},l.prototype.setZIndex=l.prototype.setZIndex,l.prototype.getZIndex=function(){return this.get("zIndex")},l.prototype.getZIndex=l.prototype.getZIndex,l.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},l.prototype.zIndex_changed=l.prototype.zIndex_changed,l.prototype.getDraggable=function(){return this.get("draggable")},l.prototype.getDraggable=l.prototype.getDraggable,l.prototype.setDraggable=function(e){this.set("draggable",!!e)},l.prototype.setDraggable=l.prototype.setDraggable,l.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},l.prototype.draggable_changed=l.prototype.draggable_changed,l.prototype.getPosition=function(){return this.get("position")},l.prototype.getPosition=l.prototype.getPosition,l.prototype.setPosition=function(e){this.set("position",e)},l.prototype.setPosition=l.prototype.setPosition,l.prototype.position_changed=function(){this.draw()},l.prototype.position_changed=l.prototype.position_changed,l.prototype.getAnchor=function(){return this.get("anchor")},l.prototype.getAnchor=l.prototype.getAnchor,l.prototype.setAnchor=function(e){this.set("anchor",e)},l.prototype.setAnchor=l.prototype.setAnchor,l.prototype.anchor_changed=function(){this.draw()},l.prototype.anchor_changed=l.prototype.anchor_changed,l.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},l.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},l.prototype.setContent=function(e){this.set("content",e)},l.prototype.setContent=l.prototype.setContent,l.prototype.getContent=function(){return this.get("content")},l.prototype.getContent=l.prototype.getContent,l.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,r=this.markerContent_.getElementsByTagName("IMG"),i=0;t=r[i];i++)google.maps.event.addDomListener(t,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},l.prototype.content_changed=l.prototype.content_changed,l.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):(("dragging"==e||"dragready"==e)&&(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},l.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},l.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},l.prototype.drag=function(e){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();var t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var r=parseInt(this.markerWrapper_.style.left,10)-t,i=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=r+"px",this.markerWrapper_.style.top=i+"px";var o=this.getOffset_(),a=new google.maps.Point(r-o.width,i-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},l.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},l.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},l.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},l.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},l.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var n=this.markerContent_.offsetWidth,r=this.markerContent_.offsetHeight;switch(e){case u.TOP_LEFT:break;case u.TOP:t.width=-n/2;break;case u.TOP_RIGHT:t.width=-n;break;case u.LEFT:t.height=-r/2;break;case u.MIDDLE:t.width=-n/2,t.height=-r/2;break;case u.RIGHT:t.width=-n,t.height=-r/2;break;case u.BOTTOM_LEFT:t.height=-r;break;case u.BOTTOM:t.width=-n/2,t.height=-r;break;case u.BOTTOM_RIGHT:t.width=-n,t.height=-r}return t},l.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(t){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(t){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(t){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},l.prototype.onAdd=l.prototype.onAdd,l.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),n=e.fromLatLngToDivPixel(t),r=this.getOffset_();this.markerWrapper_.style.top=n.y+r.height+"px",this.markerWrapper_.style.left=n.x+r.width+"px";var i=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),i!=this.get("height")&&this.set("height",i)}}},l.prototype.draw=l.prototype.draw,l.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},l.prototype.onRemove=l.prototype.onRemove;var u={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=u,e.InfoBox=t,e.Cluster=i,e.ClusterIcon=r,e.MarkerClusterer=o,e.MarkerLabel_=s,e.MarkerWithLabel=c,e.RichMarker=l}()})}}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,r){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:r(1).Graph,Queue:r(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e,t){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,r,i,o,a;if(r=this._nodes[e]){o=r._outEdges;for(i in o)n.call(o,i)&&this.removeEdge(e,i);a=r._inEdges;for(t in a)n.call(a,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],r}},e.prototype.addEdge=function(e,t,n){var r,i,o;return null==n&&(n=1),!this.getEdge(e,t)&&(i=this._nodes[e],o=this._nodes[t],i&&o)?(r={weight:n},i._outEdges[t]=r,o._inEdges[e]=r,this.edgeSize++,r):void 0},e.prototype.getEdge=function(e,t){var n,r;return n=this._nodes[e],r=this._nodes[t],n&&r?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,r,i;return r=this._nodes[e],i=this._nodes[t],(n=this.getEdge(e,t))?(delete r._outEdges[t],delete i._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,r,i,o;i=this._nodes[e],r=[],o=null!=i?i._inEdges:void 0;for(t in o)n.call(o,t)&&r.push(this.getEdge(t,e));return r},e.prototype.getOutEdgesOf=function(e){var t,r,i,o;t=this._nodes[e],r=[],o=null!=t?t._outEdges:void 0;for(i in o)n.call(o,i)&&r.push(this.getEdge(e,i));return r},e.prototype.getAllEdgesOf=function(e){var t,n,r,i,o,a,s;if(n=this.getInEdgesOf(e),r=this.getOutEdgesOf(e),0===n.length)return r;for(i=this.getEdge(e,e),t=o=0,a=n.length;a>=0?a>o:o>a;t=a>=0?++o:--o)if(n[t]===i){s=[n[n.length-1],n[t]],n[t]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(r)},e.prototype.forEachNode=function(e){var t,r,i;i=this._nodes;for(t in i)n.call(i,t)&&(r=i[t],e(r,t))},e.prototype.forEachEdge=function(e){var t,r,i,o,a,s;a=this._nodes;for(r in a)if(n.call(a,r)){i=a[r],s=i._outEdges;for(o in s)n.call(s,o)&&(t=s[o],e(t))}},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i;t=function(){function e(e){var t,n,r,i,o,a;for(null==e&&(e=[]),this._data=[void 0],r=0,o=e.length;o>r;r++)n=e[r],null!=n&&this._data.push(n);if(this._data.length>1)for(t=i=2,a=this._data.length;a>=2?a>i:i>a;t=a>=2?++i:--i)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[r(e)]&&e>1;)n=[this._data[r(e)],this._data[e]],this._data[e]=n[0],this._data[r(e)]=n[1],e=r(e)},e.prototype._downHeap=function(){var e,t,r;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[i(e)]<this._data[t]&&(t=i(e)),this._data[t]<this._data[e]);)r=[this._data[e],this._data[t]],this._data[t]=r[0],this._data[e]=r[1],e=t},e}(),r=function(e){return e>>1},n=function(e){return e<<1},i=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,r,i,o;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=r=1;e>=r;n=r+=1)t=t.next;else for(t=this.tail,n=i=1,o=this.size-e-1;o>=i;n=i+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,r,i,o,a;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(r={value:e},t=this._adjust(t),0===this.size?this.head=r:0===t?(i=[r,this.head,r],this.head.prev=i[0],r.next=i[1],this.head=i[2]):(n=this.at(t-1),o=[n.next,r,r,n],r.next=o[0],null!=(a=n.next)?a.prev=o[1]:void 0,n.next=o[2],r.prev=o[3]),t===this.size&&(this.tail=r),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,r;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(r=t.next)&&(r.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,r;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),r=t;n&&n.value!==e;)n=n.next,r++;return r===this.size?-1:r},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,r;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)o.call(t,n)&&(r=t[n],this.set(n,r))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,a;return null==t&&(t=!1),a=r(e),i(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):a+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype["delete"]=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],i(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,r;r=this._content;for(t in r)o.call(r,t)&&(n=r[t],e(n[1],n[0]))},e}(),i=function(e){var t,n,i,o,a;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],i=r(e),o=0,a=t.length;a>o;o++)if(n=t[o],i===n)return!1;return!0},r=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i,o,a,s,c,l,u,d,p,m,f,h;n=0,r=1,i=2,s=3,o=1,t=2,a=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root,this.size=0,n=0,r=e.length;r>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var a,d,p,m;if(null!=e){if(this.size++,p={value:e,_color:o},this._root){if(d=c(this._root,function(t){return e===t.value?n:e<t.value?t._left?r:(p._parent=t,t._left=p,s):t._right?i:(p._parent=t,t._right=p,s)}),null!=d)return}else this._root=p;for(a=p;;){if(a===this._root){a._color=t;break}if(a._parent._color===t)break;{if((null!=(m=h(a))?m._color:void 0)!==o){!u(a)&&u(a._parent)?(this._rotateLeft(a._parent),a=a._left):u(a)&&!u(a._parent)&&(this._rotateRight(a._parent),a=a._right),a._parent._color=t,l(a)._color=o,u(a)?this._rotateRight(l(a)):this._rotateLeft(l(a));break}a._parent._color=t,h(a)._color=t,l(a)._color=o,a=l(a)}}return e}},e.prototype.has=function(e){var t;return t=c(this._root,function(t){return e===t.value?n:e<t.value?r:i}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=m(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=c(this._root,function(t){return e===t.value?n:e<t.value?r:i}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=m(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var r,i,a,s,c,l,p,h,g,v;if(n._left&&n._right&&(i=m(n._right),n.value=i.value,n=i),i=n._left||n._right,i||(i={color:t,_right:void 0,_left:void 0,isLeaf:!0}),i._parent=n._parent,null!=(a=n._parent)&&(a[d(n)]=i),n._color===t)if(i._color===o)i._color=t,i._parent||(this._root=i);else for(;;){if(!i._parent){i.isLeaf?this._root=void 0:this._root=i;break}if(r=f(i),(null!=r?r._color:void 0)===o&&(i._parent._color=o,r._color=t,u(i)?this._rotateLeft(i._parent):this._rotateRight(i._parent)),r=f(i),i._parent._color!==t||r&&(r._color!==t||r._left&&r._left._color!==t||r._right&&r._right._color!==t)){if(!(i._parent._color!==o||r&&(r._color!==t||r._left&&(null!=(s=r._left)?s._color:void 0)!==t||r._right&&(null!=(c=r._right)?c._color:void 0)!==t))){null!=r&&(r._color=o),i._parent._color=t;break}if((null!=r?r._color:void 0)===t){!u(i)||r._right&&r._right._color!==t||(null!=(l=r._left)?l._color:void 0)!==o?u(i)||r._left&&r._left._color!==t||(null!=(h=r._right)?h._color:void 0)!==o||(r._color=o,null!=(g=r._right)&&(g._color=t),this._rotateLeft(r)):(r._color=o,null!=(p=r._left)&&(p._color=t),this._rotateRight(r));break}r=f(i),r._color=i._parent._color,u(i)?(r._right._color=t,this._rotateRight(i._parent)):(r._left._color=t,this._rotateLeft(i._parent))}else null!=r&&(r._color=o),i.isLeaf&&(i._parent[d(i)]=void 0),i=i._parent}return i.isLeaf&&null!=(v=i._parent)?v[d(i)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),u=function(e){return e===e._parent._left},d=function(e){return u(e)?"_left":"_right"},c=function(e,t){var o,a,c;for(a=e,c=void 0;a;){if(o=t(a),o===n){c=a;break}if(o===r)a=a._left;else if(o===i)a=a._right;else if(o===s)break}return c},m=function(e){return c(e,function(e){return e._left?r:n})},p=function(e){return c(e,function(e){return e._right?i:n})},l=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},h=function(e){return l(e)?u(e._parent)?l(e)._right:l(e)._left:void 0},f=function(e){return u(e)?e._parent._right:e._parent._left},e.exports=a}).call(this)},function(e,t,n){(function(){var t,r,i,o,a={}.hasOwnProperty;t=n(6),i="end",r=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root={},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,r,o;if(null!=e){for(this.size++,t=this._root,r=0,o=e.length;o>r;r++)n=e[r],null==t[n]&&(t[n]={}),t=t[n];return t[i]=!0,e}},e.prototype.has=function(e){var t,n,r,o;if(null==e)return!1;for(t=this._root,r=0,o=e.length;o>r;r++){if(n=e[r],null==t[n])return!1;t=t[n]}return t[i]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,r,i,o;if(null==e)return"";for(t=this._root,r="",i=0,o=e.length;o>i&&(n=e[i],null!=t[n]);i++)r+=n,t=t[n];return r},e.prototype.wordsWithPrefix=function(e){var n,r,o,s,c,l,u,d,p,m;if(null==e)return[];for(null!=e||(e=""),u=[],r=this._root,d=0,p=e.length;p>d;d++)if(o=e[d],r=r[o],null==r)return[];for(c=new t,c.enqueue([r,""]);0!==c.size;){m=c.dequeue(),s=m[0],n=m[1],s[i]&&u.push(e+n);for(o in s)a.call(s,o)&&(l=s[o],c.enqueue([l,n+o]))}return u},e.prototype.remove=function(e){var t,n,r,a,s,c,l,u;if(null!=e){for(t=this._root,a=[],s=0,l=e.length;l>s;s++){if(r=e[s],null==t[r])return;t=t[r],a.push([r,t])}if(t[i]){if(this.size--,delete t[i],o(t,1))return e;for(n=c=u=a.length-1;(1>=u?1>=c:c>=1)&&!o(a[n][1],1);n=1>=u?++c:--c)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],e}}},e}(),o=function(e,t){var n,r;if(0===t)return!0;r=0;for(n in e)if(a.call(e,n)&&(r++,r>=t))return!0;return!1},e.exports=r}).call(this)}]),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(t){var n=this;return+function(){/** @preserve OverlappingMarkerSpiderfier
https://github.com/jawj/OverlappingMarkerSpiderfier
Copyright (c) 2011 - 2013 George MacKerron
Released under the MIT licence: http://opensource.org/licenses/mit-license
Note: The Google Maps API v3 must be included *before* this code
 */
var t={}.hasOwnProperty,n=[].slice;this.OverlappingMarkerSpiderfier=function(){function r(e,n){var r,o,a,s,c,l;this.map=e,null==n&&(n={});for(o in n)t.call(n,o)&&(l=n[o],this[o]=l);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},c=["click","zoom_changed","maptypeid_changed"],a=0,s=c.length;s>a;a++)r=c[a],i.addListener(this.map,r,function(e){return function(){return e.unspiderfy()}}(this))}var i,o,a,s,c,l,u,d,p,m,f;for(d=r.prototype,p=[r,d],a=0,l=p.length;l>a;a++)f=p[a],f.VERSION="0.3.3";return o=void 0,i=void 0,u=void 0,m=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=m/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},c=d.legColors.usual,s=d.legColors.highlighted,r.initializeGoogleMaps=function(e){return o=e.maps,i=o.event,u=o.MapTypeId,c[u.HYBRID]=c[u.SATELLITE]="#fff",s[u.HYBRID]=s[u.SATELLITE]="#f00",c[u.TERRAIN]=c[u.ROADMAP]="#444",s[u.TERRAIN]=s[u.ROADMAP]="#f00",this.ProjHelper=function(e){return this.setMap(e)},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(e){var t;return null!=e._oms?this:(e._oms=!0,t=[i.addListener(e,this.event,function(t){return function(n){return t.spiderListener(e,n)}}(this))],this.markersWontHide||t.push(i.addListener(e,"visible_changed",function(t){return function(){return t.markerChangeListener(e,!1)}}(this))),this.markersWontMove||t.push(i.addListener(e,"position_changed",function(t){return function(){return t.markerChangeListener(e,!0)}}(this))),this.markerListenerRefs.push(t),this.markers.push(e),this)},d.markerChangeListener=function(e,t){return null==e._omsData||!t&&e.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(t?e:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(e){var t,n,r,o,a;if(null!=e._omsData&&this.unspiderfy(),t=this.arrIndexOf(this.markers,e),0>t)return this;for(a=this.markerListenerRefs.splice(t,1)[0],n=0,r=a.length;r>n;n++)o=a[n],i.removeListener(o);return delete e._oms,this.markers.splice(t,1),this},d.clearMarkers=function(){var e,t,n,r,o,a,s,c,l;for(this.unspiderfy(),l=this.markers,e=t=0,n=l.length;n>t;e=++t){for(s=l[e],a=this.markerListenerRefs[e],c=0,r=a.length;r>c;c++)o=a[c],i.removeListener(o);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(e,t){var n;return(null!=(n=this.listeners)[e]?n[e]:n[e]=[]).push(t),this},d.removeListener=function(e,t){var n;return n=this.arrIndexOf(this.listeners[e],t),0>n||this.listeners[e].splice(n,1),this},d.clearListeners=function(e){return this.listeners[e]=[],this},d.trigger=function(){var e,t,r,i,o,a,s,c;for(t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],s=null!=(a=this.listeners[t])?a:[],c=[],i=0,o=s.length;o>i;i++)r=s[i],c.push(r.apply(null,e));return c},d.generatePtsCircle=function(e,t){var n,r,i,a,s,c,l,u;for(i=this.circleFootSeparation*(2+e),c=i/m,r=m/e,u=[],a=s=0,l=e;l>=0?l>s:s>l;a=l>=0?++s:--s)n=this.circleStartAngle+a*r,u.push(new o.Point(t.x+c*Math.cos(n),t.y+c*Math.sin(n)));return u},d.generatePtsSpiral=function(e,t){var n,r,i,a,s,c,l;for(a=this.spiralLengthStart,n=0,l=[],r=i=0,c=e;c>=0?c>i:i>c;r=c>=0?++i:--i)n+=this.spiralFootSeparation/a+5e-4*r,s=new o.Point(t.x+a*Math.cos(n),t.y+a*Math.sin(n)),a+=m*this.spiralLengthFactor/n,l.push(s);return l},d.spiderListener=function(t,n){var r,i,o,a,s,c,l,u,p,m,f,h,g;if(u=null!=t._omsData,u&&this.keepSpiderfied||("mouseover"===this.event?(r=this,i=function(){return r.unspiderfy()},e.clearTimeout(d.timeout),d.timeout=setTimeout(i,3e3)):this.unspiderfy()),u||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",t,n);for(m=[],f=[],p=this.nearbyDistance,h=p*p,l=this.llToPt(t.position),g=this.markers,o=0,a=g.length;a>o;o++)s=g[o],null!=s.map&&s.getVisible()&&(c=this.llToPt(s.position),this.ptDistanceSq(c,l)<h?m.push({marker:s,markerPt:c}):f.push(s));return 1===m.length?this.trigger("click",t,n):this.spiderfy(m,f)},d.markersNearMarker=function(e,t){var n,r,i,o,a,s,c,l,u,d,p;if(null==t&&(t=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(c=this.nearbyDistance,l=c*c,a=this.llToPt(e.position),s=[],u=this.markers,n=0,r=u.length;r>n&&(i=u[n],!(i!==e&&null!=i.map&&i.getVisible()&&(o=this.llToPt(null!=(d=null!=(p=i._omsData)?p.usualPosition:void 0)?d:i.position),this.ptDistanceSq(o,a)<l&&(s.push(i),t))));n++);return s},d.markersNearAnyOtherMarker=function(){var e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,_;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,h=f*f,p=function(){var e,t,n,r,i,o;for(n=this.markers,o=[],e=0,t=n.length;t>e;e++)s=n[e],o.push({pt:this.llToPt(null!=(r=null!=(i=s._omsData)?i.usualPosition:void 0)?r:s.position),willSpiderfy:!1});return o}.call(this),v=this.markers,t=r=0,i=v.length;i>r;t=++r)if(c=v[t],null!=c.map&&c.getVisible()&&(l=p[t],!l.willSpiderfy))for(y=this.markers,n=m=0,o=y.length;o>m;n=++m)if(u=y[n],n!==t&&null!=u.map&&u.getVisible()&&(d=p[n],(!(t>n)||d.willSpiderfy)&&this.ptDistanceSq(l.pt,d.pt)<h)){l.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,_=[],e=g=0,a=b.length;a>g;e=++g)s=b[e],p[e].willSpiderfy&&_.push(s);return _},d.makeHighlightListenerFuncs=function(e){return{highlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})}}(this),unhighlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}(this)}},d.spiderfy=function(e,t){var n,r,a,s,c,l,u,d,p,m,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,m=e.length,n=this.ptAverage(function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)d=e[t],r.push(d.markerPt);return r}()),s=m>=this.circleSpiralSwitchover?this.generatePtsSpiral(m,n).reverse():this.generatePtsCircle(m,n),f=function(){var t,n,d;for(d=[],t=0,n=s.length;n>t;t++)a=s[t],r=this.ptToLl(a),p=this.minExtract(e,function(e){return function(t){return e.ptDistanceSq(t.markerPt,a)}}(this)),u=p.marker,l=new o.Polyline({map:this.map,path:[u.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),u._omsData={usualPosition:u.position,leg:l},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(c=this.makeHighlightListenerFuncs(u),u._omsData.hightlightListeners={highlight:i.addListener(u,"mouseover",c.highlight),unhighlight:i.addListener(u,"mouseout",c.unhighlight)}),u.setPosition(r),u.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),d.push(u);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,t))},d.unspiderfy=function(e){var t,n,r,o,a,s,c;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,c=[],a=[],s=this.markers,t=0,n=s.length;n>t;t++)o=s[t],null!=o._omsData?(o._omsData.leg.setMap(null),o!==e&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),r=o._omsData.hightlightListeners,null!=r&&(i.removeListener(r.highlight),i.removeListener(r.unhighlight)),delete o._omsData,c.push(o)):a.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",c,a),this},d.ptDistanceSq=function(e,t){var n,r;return n=e.x-t.x,r=e.y-t.y,n*n+r*r},d.ptAverage=function(e){var t,n,r,i,a,s;for(a=s=0,t=0,n=e.length;n>t;t++)i=e[t],a+=i.x,s+=i.y;return r=e.length,new o.Point(a/r,s/r)},d.llToPt=function(e){return this.projHelper.getProjection().fromLatLngToDivPixel(e)},d.ptToLl=function(e){return this.projHelper.getProjection().fromDivPixelToLatLng(e)},d.minExtract=function(e,t){var n,r,i,o,a,s,c;for(i=a=0,s=e.length;s>a;i=++a)o=e[i],c=t(o),("undefined"==typeof n||null===n||r>c)&&(r=c,n=i);return e.splice(n,1)[0]},d.arrIndexOf=function(e,t){var n,r,i,o;if(null!=e.indexOf)return e.indexOf(t);for(n=r=0,i=e.length;i>r;n=++r)if(o=e[n],o===t)return n;return-1},r}()}.apply(n),t.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(e.google)}),this.OverlappingMarkerSpiderfier}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,n){return{init:_.once(function(){(function(){var r={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function r(e){r.__super__.constructor.call(this,e),this.markers_=new n}return i(r,e),r.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var r=this.markers_.get(e.key);if(r.getPosition().lat()==e.getPosition().lat()&&r.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},r.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},r.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},r}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,r,i){t.__super__.constructor.call(this,e,r,i),this.markers_=new n}return i(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;a>t;t++)n=s[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,r,i,o=4e4,a=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],i=r.getCenter(),i&&(n=this.distanceBetweenPoints_(i,e.getPosition()),o>n&&(o=n,a=r));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(r=new NgMapCluster(this),r.addMarker(e),this.clusters_.push(r))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,n){if(t===n)return!0;if("object"==typeof t&&"object"==typeof n){if(Array.isArray(t)!==Array.isArray(n))return!1;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else{var i;for(i in t)if(void 0===n[i]&&void 0!==t[i])return!1;for(i in n)if(void 0===t[i]&&void 0!==n[i])return!1;for(i in t)if(!e(t[i],n[i]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,n){function r(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return n=t(n||""),e=t(e||""),n&&e?(n.protocol||e.protocol)+(n.protocol||n.authority?n.authority:e.authority)+r(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+n.pathname:e.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||e.search)+n.hash:null}function r(e){return e.split("#")[0]}function i(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=n(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)i(e[r],t);else{"string"==typeof e.$ref&&(e.$ref=n(t,e.$ref));for(var o in e)"enum"!==o&&i(e[o],t)}}function o(e,t,n,r,i){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=n||"",this.schemaPath=r||"",this.subErrors=i||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}function a(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function s(e){var t=new c,o=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(m[e]||(e=e.split("-")[0]),m[e]?(o=e,e):!1):o},addLanguage:function(e,t){var n;for(n in l)t[n]&&!t[l[n]]&&(t[l[n]]=t[n]);var r=e.split("-")[0];if(m[r]){m[e]=Object.create(m[r]);for(n in t)"undefined"==typeof m[r][n]&&(m[r][n]=t[n]),m[e][n]=t[n]}else m[e]=t,m[r]=t;return this},freshApi:function(e){var t=s();return e&&t.language(e),t},validate:function(e,n,r,i){var a=new c(t,!1,m[o],r,i);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n);var s=a.validateAll(e,n,null,null,"");return!s&&i&&(s=a.banUnknownProperties()),this.error=s,this.missing=a.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,n,r,i){var a=new c(t,!0,m[o],r,i);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n),a.validateAll(e,n,null,null,""),i&&a.banUnknownProperties();var s={};return s.errors=a.errors,s.missing=a.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof l[e])throw new Error("Error already defined: "+e+" as "+l[e]);if("undefined"!=typeof u[t])throw new Error("Error code already used: "+u[t]+" as "+t);l[e]=t,u[t]=e,p[e]=p[t]=n;for(var r in m){var i=m[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:i,resolveUrl:n,getDocumentUri:r,errorCodes:l};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var s=0;r>s;s++)e.call(i,n[s])&&o.push(n[s]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var c=function(e,t,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,n,r,i){var a=this.errorMessages[e]||p[e];if("string"!=typeof a)return new o(e,"Unknown error code "+e+": "+JSON.stringify(t),n,r,i);var s=a.replace(/\{([^{}]*)\}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e});return new o(e,s,n,r,i)},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},c.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(l.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(l.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,t);if("/"!==o.charAt(0))return void 0;for(var a=o.split("/").slice(1),s=0;s<a.length;s++){var c=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[c]){n=void 0;break}n=n[c]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},c.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&a(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var n in e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var i=r(e[n]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=r(e)+"#")&&(e=r(e)),this.schemas[e]=t,delete this.missingMap[e],i(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},c.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,n,r,i){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof o)return this.errors.push(t),t;var s,c=this.errors.length,l=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var d=e[this.validatedSchemasKey].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(e[this.validationErrorsKey][d]),null}if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),-1!==s)){var p=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==p)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][p]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][l]=t,this.scannedFrozenValidationErrors[s][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(m){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var f=this.errors.length,h=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(a){for(;this.scanned.length;){var g=this.scanned.pop();delete g[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(h||f!==this.errors.length)for(;n&&n.length||r&&r.length;){var v=n&&n.length?""+n.pop():null,y=r&&r.length?""+r.pop():null;h&&(h=h.prefixWith(v,y)),this.prefixErrors(f,v,y)}return null!==l?this.scannedFrozenValidationErrors[s][l]=this.errors.slice(c):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(c)),this.handleError(h)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(l.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(l.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},c.prototype.validateDefinedKeywords=function(e,t){for(var n in this.definedKeywords)for(var r=this.definedKeywords[n],i=0;i<r.length;i++){var o=r[i],a=o(e,t[n],t);if("string"==typeof a||"number"==typeof a)return this.createError(l.KEYWORD_CUSTOM,{key:n,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var s=a.code||l.KEYWORD_CUSTOM;if("string"==typeof s){if(!l[s])throw new Error("Undefined error code (use defineError): "+s);s=l[s]}var c="object"==typeof a.message?a.message:{key:n,message:a.message||"?"},u=a.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(s,c,a.dataPath||null,u)}}return null},c.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))?r.prefixWith(null,"type"):(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&e%1===0)return null}return this.createError(l.INVALID_TYPE,{type:n,expected:r.join("/")})},c.prototype.validateEnum=function(t,n){if(void 0===n["enum"])return null;for(var r=0;r<n["enum"].length;r++){var i=n["enum"][r];if(e(t,i))return null}return this.createError(l.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},c.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||null},c.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;return void 0===n?null:"number"==typeof e&&e%n!==0?this.createError(l.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n}):null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(l.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(l.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(l.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(l.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},c.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(l.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(l.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var n=new RegExp(t.pattern);return n.test(e)?null:this.createError(l.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},c.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},c.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(l.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(l.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},c.prototype.validateArrayUniqueItems=function(t,n){if(n.uniqueItems)for(var r=0;r<t.length;r++)for(var i=r+1;i<t.length;i++)if(e(t[r],t[i])){var o=this.createError(l.ARRAY_UNIQUE,{match1:r,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(l.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null},c.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(l.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(l.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(l.OBJECT_REQUIRED,{key:r}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(i))return i}}return null},c.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(a=!0,r=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return r;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var c=new RegExp(s);if(c.test(i)&&(a=!0,r=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],o)))return r}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(l.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),
this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(r=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(void 0===e[s]&&(r=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+a).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,o,[],["dependencies",i],n))return r}return null},c.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},c.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(r=this.validateAll(e,o,[],["allOf",i],n))return r}return null},c.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,o=[],a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,c=0;c<t.anyOf.length;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[c],d=this.errors.length,p=this.validateAll(e,u,[],["anyOf",c],n);if(null===p&&d===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var m in this.knownPropertyPaths)i[m]=!0,delete r[m];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0);s=!1;continue}return null}p&&o.push(p.prefixWith(null,""+c).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),s?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(l.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},c.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,o=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var c=0;c<t.oneOf.length;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[c],d=this.errors.length,p=this.validateAll(e,u,[],["oneOf",c],n);if(null===p&&d===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,s),this.createError(l.ONE_OF_MULTIPLE,{index1:o,index2:c},"","/oneOf");if(o=c,this.trackUnknownProperties){for(var m in this.knownPropertyPaths)i[m]=!0,delete r[m];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0)}}else p&&a.push(p.prefixWith(null,""+c).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(l.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},c.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===a&&0===s.length?this.createError(l.NOT_PASSED,{},"","/not"):null};var l={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},u={};for(var d in l)u[l[d]]=d;var p={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name="ValidationError",o.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var m={},f=s();return f.addLanguage("en-gb",p),f.tv4=f,f}),!function(e){var t={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,n,r,i,o=0,a=[];o<e.length;)if(t=e.indexOf(".",o),n=e.indexOf("[",o),-1===t&&-1===n)a.push(e.slice(o,e.length)),o=e.length;else if(-1===n||-1!==t&&n>t)a.push(e.slice(o,t)),o=t+1;else if(n>o&&(a.push(e.slice(o,n)),o=n),r=e.slice(n+1,n+2),'"'!==r&&"'"!==r)i=e.indexOf("]",n),-1===i&&(i=e.length),a.push(e.slice(o+1,i)),o="."===e.slice(i+1,i+2)?i+2:i+1;else{for(i=e.indexOf(r+"]",n),-1===i&&(i=e.length);"\\"===e.slice(i-1,i)&&n<e.length;)n++,i=e.indexOf(r+"]",n);a.push(e.slice(o+2,i).replace(new RegExp("\\"+r,"g"),r)),o="."===e.slice(i+2,i+3)?i+3:i+2}return a},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,n){return t.stringify(Array.isArray(e)?e:t.parse(e),n)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=t.parse,this.stringify=t.stringify,this.normalize=t.normalize,this.$get=function(){return t}})}};"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.ObjectPath=t:window.ObjectPath=t}(),function(e,t){"function"==typeof define&&define.amd?define(["angular","objectpath","tv4"],t):"object"==typeof exports?module.exports=t(require("angular"),require("objectpath"),require("tv4")):e.schemaForm=t(e.angular,e.objectpath,e.tv4)}(this,function(e,t,n){var r=[];try{e.module("ngSanitize"),r.push("ngSanitize")}catch(i){}try{e.module("ui.sortable"),r.push("ui.sortable")}catch(i){}try{e.module("angularSpectrumColorpicker"),r.push("angularSpectrumColorpicker")}catch(i){}var o=e.module("schemaForm",r);return e.module("schemaForm").provider("sfPath",[function(){var n=window.ObjectPath||t,r={parse:n.parse};1===e.version.major&&e.version.minor<3?r.stringify=function(e){return Array.isArray(e)?e.join("."):e.toString()}:r.stringify=n.stringify,r.normalize=function(e,t){return r.stringify(Array.isArray(e)?e:r.parse(e),t)},this.parse=r.parse,this.stringify=r.stringify,this.normalize=r.normalize,this.$get=function(){return r}}]),e.module("schemaForm").provider("sfBuilder",["sfPathProvider",function(t){var n=/[A-Z]/g,r=function(e,t){return t=t||"_",e.replace(n,function(e,n){return(n?t:"")+e.toLowerCase()})},i=0,o={sfField:function(e){e.fieldFrag.firstChild.setAttribute("sf-field",i),e.lookup["f"+i]=e.form,i++},ngModel:function(e){if(e.form.key){var n=e.form.key;e.state.keyRedaction&&(n=n.slice(e.state.keyRedaction));var r;if(e.state.modelValue)r=e.state.modelValue;else{var i=t.stringify(n).replace(/"/g,"&quot;");r=e.state.modelName||"model",i&&(r+=("["!==i[0]?".":"")+i)}for(var o=e.fieldFrag.querySelectorAll("[sf-field-model]"),a=0;a<o.length;a++){var s=o[a],c=s.getAttribute("sf-field-model");if(c&&""!==c)if("replaceAll"===c)for(var l=s.attributes,u=0;u<l.length;u++)l[u].value&&-1!==l[u].value.indexOf("$$value")&&(l[u].value=l[u].value.replace(/\$\$value\$\$/g,r));else{var d=s.getAttribute(c);d&&d.indexOf("$$value$$")?s.setAttribute(c,d.replace(/\$\$value\$\$/g,r)):s.setAttribute(c,r)}else s.setAttribute("ng-model",r)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r.getAttribute("sf-field-transclude")||"items",o=e.form[i];if(o){var a=e.build(o,e.path+"."+i,e.state);r.appendChild(a)}}},condition:function(e){if(e.form.condition){var n="evalExpr("+e.path+'.condition, { model: model, "arrayIndex": $index})';if(e.form.key){var r=t.stringify(e.form.key);n="evalExpr("+e.path+'.condition,{ model: model, "arrayIndex": $index, "modelValue": model'+("["===r[0]?"":".")+r+"})"}for(var i=e.fieldFrag.children||e.fieldFrag.childNodes,o=0;o<i.length;o++){var a=i[o],s=a.getAttribute("ng-if");a.setAttribute("ng-if",s?"("+s+") || ("+n+")":n)}}},array:function(n){var r=n.fieldFrag.querySelector("[schema-form-array-items]");if(r){if(state=e.copy(n.state),state.keyRedaction=state.keyRedaction||0,state.keyRedaction+=n.form.key.length+1,n.form.schema&&n.form.schema.items&&n.form.schema.items.type&&-1===n.form.schema.items.type.indexOf("object")&&-1===n.form.schema.items.type.indexOf("array")){t.stringify(n.form.key).replace(/"/g,"&quot;")+"[$index]";state.modelValue="modelArray[$index]"}else state.modelName="item";state.arrayCompatFlag=!0;var i=n.build(n.form.items,n.path+".items",state);r.appendChild(i)}}};this.builders=o;var a=[o.sfField,o.ngModel,o.ngModelOptions,o.condition];this.stdBuilders=a,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,n){var i=function(e,t){if(e.key){var r=t[n.stringify(e.key)];if(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}}},s=function(e,t,n,o,a,c,l){c=c||{},l=l||Object.create(null),a=a||"schemaForm.form";var u=document.createDocumentFragment();return e.reduce(function(e,u,d){if(!u.type)return e;var p=t[u.type]||t["default"];if(p.replace){var m;c.arrayCompatFlag=!1;var f=document.createElement("div"),h=n(u,p)||n(u,t["default"]);for(f.innerHTML=h,m=document.createDocumentFragment();f.childNodes.length>0;)m.appendChild(f.childNodes[0]);var g={fieldFrag:m,form:u,lookup:l,state:c,path:a+"["+d+"]",build:function(e,r,i){return s(e,t,n,o,r,i,l)}},v=u.builder||p.builder;"function"==typeof v?v(g):v.forEach(function(e){e(g)}),(i(u,o)||e).appendChild(m)}else{var y=document.createElement(r(t.__name,"-"));c.arrayCompatFlag?y.setAttribute("form","copyWithIndex($index)"):y.setAttribute("form",a+"["+d+"]"),(i(u,o)||e).appendChild(y)}return e},u),u};return{build:function(t,n,r,i){return s(t,n,function(t,n){return"template"===t.type?t.template:e.get(n.template)},r,void 0,void 0,i)},builder:o,stdBuilders:a,internalBuild:s}}]}]),e.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(t,n){var r="",i={},o=function(e,t){"sfDecorator"===e&&(e=r);var n=i[e];return n[t.type]?n[t.type].template:n["default"].template},a=function(r){t.directive(r,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,i,a,s,c,l,u,d,p){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(t,m,f,h){t.$on("schemaFormPropagateNgModelController",function(e,n){e.stopPropagation(),e.preventDefault(),t.ngModel=n}),t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){var n={};return e.forEach(t,function(e){n[e]=!0}),n},t.checkboxValuesToList=function(t){var n=[];return e.forEach(t,function(e,t){e&&n.push(t)}),n},t.buttonClick=function(n,r){e.isFunction(r.onClick)?r.onClick(n,r):e.isString(r.onClick)&&(h?h.evalInParentScope(r.onClick,{$event:n,form:r}):t.$eval(r.onClick,{$event:n,form:r}))},t.evalExpr=function(e,n){return h?h.evalInParentScope(e,n):t.$eval(e,n)},t.evalInScope=function(e,n){return e?t.$eval(e,n):void 0},t.interp=function(e,t){return e&&c(e)(t)},t.hasSuccess=function(){return t.ngModel?t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)):!1},t.hasError=function(){return t.ngModel?t.ngModel.$invalid&&!t.ngModel.$pristine:!1},t.errorMessage=function(e){return u.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var g=t.$watch(f.form,function(c){if(c){c.ngModelOptions=c.ngModelOptions||{},t.form=c;var u;if("template"===c.type&&c.template)u=l.when(c.template);else{var f="template"===c.type?c.templateUrl:o(r,c);u=a.get(f,{cache:s}).then(function(e){return e.data})}u.then(function(r){if(c.key){var o=c.key?n.stringify(c.key).replace(/"/g,"&quot;"):"";r=r.replace(/\$\$value\$\$/g,"model"+("["!==o[0]?".":"")+o)}if(m.html(r),c.condition){var a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';c.key&&(a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model'+d.stringify(c.key)+"})"),e.forEach(m.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+a+")":a)})}i(m.contents())(t)}),c.key&&(t.$on("schemaForm.error."+c.key.join("."),function(e,n,r,i){(r===!0||r===!1)&&(i=r,r=void 0),t.ngModel&&n&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),r&&(c.validationMessage||(c.validationMessage={}),c.validationMessage[n]=r),t.ngModel.$setValidity(n,i===!0),i===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=c.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(c.key&&"retain"!==e){var n=t.model;if(c.key.length>1&&(n=p(c.key.slice(0,c.key.length-1),n)),void 0===n)return;var r=c.schema&&c.schema.type||"";"empty"===e&&-1!==r.indexOf("string")?n[c.key.slice(-1)]="":"empty"===e&&-1!==r.indexOf("object")?n[c.key.slice(-1)]={}:"empty"===e&&-1!==r.indexOf("array")?n[c.key.slice(-1)]=[]:"null"===e?n[c.key.slice(-1)]=null:delete n[c.key.slice(-1)]}}})),g()}})}}}])},s=function(n,r,i){i=e.isDefined(i)?i:!1,t.directive("sf"+e.uppercase(n[0])+n.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:i,template:'<sf-decorator form="form"></sf-decorator>',link:function(t,r,i){var o={items:"c",titleMap:"c",schema:"c"},a={type:n},s=!0;e.forEach(i,function(n,r){if("$"!==r[0]&&0!==r.indexOf("ng")&&"sfField"!==r){var c=function(n){e.isDefined(n)&&n!==a[r]&&(a[r]=n,s&&a.type&&(a.key||e.isUndefined(i.key))&&(t.form=a,s=!1))};"model"===r?t.$watch(n,function(e){e&&t.model!==e&&(t.model=e)}):"c"===o[r]?t.$watchCollection(n,c):i.$observe(r,c)}})}}})};this.createDecorator=function(t,n){i[t]={__name:t},e.forEach(n,function(e,n){i[t][n]={template:e,replace:!1,builder:[]}}),i[r]||(r=t),a(t)},this.defineDecorator=function(t,n){i[t]={__name:t},e.forEach(n,function(n,r){n.builder=n.builder||[],n.replace=e.isDefined(n.replace)?n.replace:!0,i[t][r]=n}),i[r]||(r=t),a(t)},this.createDirective=s,this.createDirectives=function(t){e.forEach(t,function(e,t){s(t,e)})},this.decorator=function(e){return e=e||r,i[e]},this.addMapping=function(e,t,n,r,o){i[e]&&(i[e][t]={template:n,builder:r,replace:!!o})},this.defineAddOn=function(e,t,n,r){i[e]&&(i[e][t]={template:n,builder:r,replace:!0})},this.$get=function(){return{decorator:function(e){return i[e]||i[r]},defaultDecorator:r}},a("sfDecorator")}]),e.module("schemaForm").provider("sfErrorMessage",function(){var t={"default":"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};t.number=t[105],t.required=t[302],t.min=t[101],t.max=t[103],t.maxlength=t[201],t.minlength=t[200],t.pattern=t[202],this.setDefaultMessages=function(e){t=e},this.getDefaultMessages=function(){return t},this.setDefaultMessage=function(e,n){t[e]=n},this.$get=["$interpolate",function(n){var r={};return r.defaultMessages=t,r.interpolate=function(r,i,o,a,s){s=s||{};var c=a.validationMessage||{};0===r.indexOf("tv4-")&&(r=r.substring(4));var l=c["default"]||s["default"]||"";[c,s,t].some(function(t){return e.isString(t)||e.isFunction(t)?(l=t,!0):t&&t[r]?(l=t[r],!0):void 0});var u={error:r,value:i,viewValue:o,form:a,schema:a.schema,title:a.title||a.schema&&a.schema.title};return e.isFunction(l)?l(u):n(l)(u)},r}]}),e.module("schemaForm").provider("schemaForm",["sfPathProvider",function(t){var n=function(e){if(Array.isArray(e)&&2==e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},r=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t},i=function(t,n){if(!e.isArray(t)){var r=[];return n?e.forEach(n,function(e,n){r.push({name:t[e],value:e})}):e.forEach(t,function(e,t){r.push({name:e,value:t})}),r}return t},o=function(t,r,i){var o=h[n(r.type)];if(o)for(var a,s=0;s<o.length;s++)if(a=o[s](t,r,i))return a.schema["x-schema-form"]&&e.isObject(a.schema["x-schema-form"])&&(a=e.extend(a,a.schema["x-schema-form"])),a},a=function(t,n,r){r=r||{};var o=r.global&&r.global.formDefaults?e.copy(r.global.formDefaults):{};return r.global&&r.global.supressPropertyTitles===!0?o.title=n.title:o.title=n.title||t,n.description&&(o.description=n.description),(r.required===!0||n.required===!0)&&(o.required=!0),n.maxLength&&(o.maxlength=n.maxLength),n.minLength&&(o.minlength=n.minLength),(n.readOnly||n.readonly)&&(o.readonly=!0),n.minimum&&(o.minimum=n.minimum+(n.exclusiveMinimum?1:0)),n.maximum&&(o.maximum=n.maximum-(n.exclusiveMaximum?1:0)),n.validationMessage&&(o.validationMessage=n.validationMessage),n.enumNames&&(o.titleMap=i(n.enumNames,n["enum"])),o.schema=n,o.ngModelOptions=o.ngModelOptions||{},o},s=function(e,r,i){if("string"===n(r.type)&&!r["enum"]){var o=a(e,r,i);return o.key=i.path,o.type="text",i.lookup[t.stringify(i.path)]=o,o}},c=function(e,r,i){if("number"===n(r.type)){var o=a(e,r,i);return o.key=i.path,o.type="number",i.lookup[t.stringify(i.path)]=o,o}},l=function(e,r,i){if("integer"===n(r.type)){var o=a(e,r,i);return o.key=i.path,o.type="number",i.lookup[t.stringify(i.path)]=o,o}},u=function(e,r,i){if("boolean"===n(r.type)){var o=a(e,r,i);return o.key=i.path,o.type="checkbox",i.lookup[t.stringify(i.path)]=o,o}},d=function(e,i,o){if("string"===n(i.type)&&i["enum"]){var s=a(e,i,o);return s.key=o.path,s.type="select",s.titleMap||(s.titleMap=r(i["enum"])),o.lookup[t.stringify(o.path)]=s,s}},p=function(e,i,o){if("array"===n(i.type)&&i.items&&i.items["enum"]){var s=a(e,i,o);return s.key=o.path,s.type="checkboxes",s.titleMap||(s.titleMap=r(i.items["enum"])),o.lookup[t.stringify(o.path)]=s,s}},m=function(r,i,s){if("object"===n(i.type)){var c=a(r,i,s);return c.type="fieldset",c.items=[],s.lookup[t.stringify(s.path)]=c,e.forEach(i.properties,function(e,n){var r=s.path.slice();if(r.push(n),s.ignore[t.stringify(r)]!==!0){var a=i.required&&-1!==i.required.indexOf(n),l=o(n,e,{path:r,required:a||!1,lookup:s.lookup,ignore:s.ignore,global:s.global});l&&c.items.push(l)}}),c}},f=function(e,r,i){if("array"===n(r.type)){var s=a(e,r,i);s.type="array",s.key=i.path,i.lookup[t.stringify(i.path)]=s;var c=r.required&&-1!==r.required.indexOf(i.path[i.path.length-1]),l=i.path.slice();return l.push(""),s.items=[o(e,r.items,{path:l,required:c||!1,lookup:i.lookup,ignore:i.ignore,global:i.global})],s}},h={string:[d,s],object:[m],number:[c],integer:[l],"boolean":[u],array:[p,f]},g=function(e){return e};this.defaults=h,this.stdFormObj=a,this.defaultFormDefinition=o,this.postProcess=function(e){g=e},this.appendRule=function(e,t){h[e]||(h[e]=[]),h[e].push(t)},this.prependRule=function(e,t){h[e]||(h[e]=[]),h[e].unshift(t)},this.createStandardForm=a,this.$get=function(){var r={};return r.merge=function(n,o,a,s,c,l){o=o||["*"],s=s||{},c=c||n.readonly||n.readOnly;var u=r.defaults(n,a,s),d=o.indexOf("*");-1!==d&&(o=o.slice(0,d).concat(u.form).concat(o.slice(d+1)));var p=u.lookup;return g(o.map(function(o){if("string"==typeof o&&(o={key:o}),o.key&&"string"==typeof o.key&&(o.key=t.parse(o.key)),o.titleMap&&(o.titleMap=i(o.titleMap)),o.itemForm){o.items=[];var u=t.stringify(o.key),d=p[u];e.forEach(d.items,function(t){var n=e.copy(o.itemForm);n.key=t.key,o.items.push(n)})}if(o.key){var m=t.stringify(o.key);if(p[m]){var f=p[m];e.forEach(f,function(e,t){void 0===o[t]&&(o[t]=f[t])})}}return c===!0&&(o.readonly=!0),o.items&&(o.items=r.merge(n,o.items,a,s,o.readonly,l)),o.tabs&&e.forEach(o.tabs,function(e){e.items=r.merge(n,e.items,a,s,o.readonly,l)}),"checkbox"===o.type&&e.isUndefined(o.schema["default"])&&(o.schema["default"]=!1),l&&"template"===o.type&&!o.template&&o.templateUrl&&l.push(o),o}))},r.defaults=function(t,r,i){var a=[],s={};if(r=r||{},i=i||{},"object"!==n(t.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return e.forEach(t.properties,function(e,n){if(r[n]!==!0){var c=t.required&&-1!==t.required.indexOf(n),l=o(n,e,{path:[n],lookup:s,ignore:r,required:c,global:i});l&&a.push(l)}}),{form:a,lookup:s}},r.traverseSchema=function(t,n,r,i){i=e.isDefined(i)?i:!0,r=r||[];var o=function(t,n,r){if(n(t,r),e.forEach(t.properties,function(e,t){var i=r.slice();i.push(t),o(e,n,i)}),!i&&t.items){var a=r.slice();a.push(""),o(t.items,n,a)}};o(t,n,r||[])},r.traverseForm=function(t,n){n(t),e.forEach(t.items,function(e){r.traverseForm(e,n)}),t.tabs&&e.forEach(t.tabs,function(t){e.forEach(t.items,function(e){r.traverseForm(e,n)})})},r}}]),e.module("schemaForm").factory("sfSelect",["sfPath",function(e){var t=/^\d+$/;return function(n,r,i){r||(r=this);var o="string"==typeof n?e.parse(n):n;if("undefined"!=typeof i&&1===o.length)return r[o[0]]=i,r;"undefined"!=typeof i&&"undefined"==typeof r[o[0]]&&(r[o[0]]=o.length>2&&t.test(o[1])?[]:{});for(var a=r[o[0]],s=1;s<o.length;s++){if(""===o[s])return void 0;if("undefined"!=typeof i){if(s===o.length-1)return a[o[s]]=i,i;var c=a[o[s]];("undefined"==typeof c||null===c)&&(c=t.test(o[s+1])?[]:{},a[o[s]]=c),a=c}else a&&(a=a[o[s]])}return a}}]),e.module("schemaForm").factory("sfValidator",[function(){var t={};return t.validate=function(t,r){if(!t)return{valid:!0};var i=t.schema;if(!i)return{valid:!0};""===r&&(r=void 0),"number"===t.type&&null===r&&(r=void 0);var o={type:"object",properties:{}},a=t.key[t.key.length-1];o.properties[a]=i,t.required&&(o.required=[a]);var s={};return e.isDefined(r)&&(s[a]=r),n.validateResult(s,o)},t}]),e.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(t,n,r,i){var o=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}};return{restrict:"A",scope:!0,require:"?ngModel",link:function(a,s,c,l){var u={};a.validateArray=e.noop,l&&a.$emit("schemaFormPropagateNgModelController",l);var d=a.$watch(c.sfArray,function(s){if(s){var c=t(s.key,a.model),p=i.normalize(s.key);if(a.$watch("model"+("["!==p[0]?".":"")+p,function(e){c=a.modelArray=e}),e.isUndefined(c)&&(c=[],t(s.key,a.model,c)),a.modelArray=c,s.items){var m=s.items[0];s.items.length>1&&(m={type:"section",items:s.items.map(function(t){return t.ngModelOptions=s.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=s.readonly),t})})}if(a.copyWithIndex=function(t){if(!u[t]&&m){var r=e.copy(m);r.arrayIndex=t,n.traverseForm(r,o(t)),u[t]=r}return u[t]},a.appendToArray=function(){var r=c.length,i=a.copyWithIndex(r);if(n.traverseForm(i,function(n){if(n.key){var r;e.isDefined(n["default"])&&(r=n["default"]),e.isDefined(n.schema)&&e.isDefined(n.schema["default"])&&(r=n.schema["default"]),e.isDefined(r)&&t(n.key,a.model,r)}}),r===c.length){var o,l=t("schema.items.type",s);"object"===l?o={}:"array"===l&&(o=[]),c.push(o)}return a.validateArray(),c},a.deleteFromArray=function(e){return c.splice(e,1),a.validateArray(),l&&l.$setDirty&&l.$setDirty(),c},s.titleMap||s.startEmpty===!0||0!==c.length||a.appendToArray(),s.titleMap&&s.titleMap.length>0){a.titleMapValues=[];var f=function(e){a.titleMapValues=[],e=e||[],s.titleMap.forEach(function(t){a.titleMapValues.push(-1!==e.indexOf(t.value))})};f(a.modelArray),a.$watchCollection("modelArray",f),a.$watchCollection("titleMapValues",function(e,t){if(e&&e!==t){for(var n=a.modelArray;n.length>0;)n.pop();s.titleMap.forEach(function(t,r){e[r]&&n.push(t.value)}),a.validateArray()}})}if(l){var h;a.validateArray=function(){var e=r.validate(s,a.modelArray.length>0?a.modelArray:void 0);Object.keys(l.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){l.$setValidity(e,!0)}),e.valid!==!1||!e.error||""!==e.error.dataPath&&e.error.dataPath!=="/"+s.key[s.key.length-1]||(l.$setViewValue(a.modelArray),h=e.error,l.$setValidity("tv4-"+e.error.code,!1))},a.$on("schemaFormValidate",a.validateArray),a.hasSuccess=function(){return a.options&&a.options.pristine&&a.options.pristine.success===!1?l.$valid&&!l.$pristine&&!l.$isEmpty(l.$modelValue):l.$valid&&(!l.$pristine||!l.$isEmpty(l.$modelValue))},a.hasError=function(){return a.options&&a.options.pristine&&a.options.pristine.errors===!1?l.$invalid&&!l.$pristine:l.$invalid},a.schemaError=function(){return h}}d()}})}}}]),e.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(t,n,r,i){var o=t.$eval(r.sfChanged);o&&o.onChange&&i.$viewChangeListeners.push(function(){e.isFunction(o.onChange)?o.onChange(i.$modelValue,o):t.evalExpr(o.onChange,{modelValue:i.$modelValue,form:o})})}}}),e.module("schemaForm").directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(t,n,r,i,o,a,s,c,l){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"^sfSchema",link:{pre:function(e,t,n,r){e.$on("schemaFormPropagateNgModelController",function(t,n){t.stopPropagation(),t.preventDefault(),e.ngModel=n}),e.form=r.lookup["f"+n.sfField]},post:function(t,n,r,i){t.showTitle=function(){return t.form&&t.form.notitle!==!0&&t.form.title},t.listToCheckboxValues=function(t){var n={};return e.forEach(t,function(e){n[e]=!0}),n},t.checkboxValuesToList=function(t){var n=[];return e.forEach(t,function(e,t){e&&n.push(t)}),n},t.buttonClick=function(n,r){e.isFunction(r.onClick)?r.onClick(n,r):e.isString(r.onClick)&&(i?i.evalInParentScope(r.onClick,{$event:n,form:r}):t.$eval(r.onClick,{$event:n,form:r}))},t.evalExpr=function(e,n){return i?i.evalInParentScope(e,n):t.$eval(e,n)},t.evalInScope=function(e,n){return e?t.$eval(e,n):void 0},t.interp=function(e,t){return e&&o(e)(t)},t.hasSuccess=function(){return t.ngModel?t.options&&t.options.pristine&&t.options.pristine.success===!1?t.ngModel.$valid&&!t.ngModel.$pristine&&!t.ngModel.$isEmpty(t.ngModel.$modelValue):t.ngModel.$valid&&(!t.ngModel.$pristine||!t.ngModel.$isEmpty(t.ngModel.$modelValue)):!1},t.hasError=function(){return t.ngModel?t.options&&t.options.pristine&&t.options.pristine.errors===!1?t.ngModel.$invalid&&!t.ngModel.$pristine:t.ngModel.$invalid:!1},t.errorMessage=function(e){return s.interpolate(e&&e.code+""||"default",t.ngModel&&t.ngModel.$modelValue||"",t.ngModel&&t.ngModel.$viewValue||"",t.form,t.options&&t.options.validationMessage)};var a=t.form;a.key&&(t.$on("schemaForm.error."+a.key.join("."),function(e,n,r,i){(r===!0||r===!1)&&(i=r,r=void 0),t.ngModel&&n&&(t.ngModel.$setDirty?t.ngModel.$setDirty():(t.ngModel.$dirty=!0,t.ngModel.$pristine=!1),r&&(a.validationMessage||(a.validationMessage={}),a.validationMessage[n]=r),t.ngModel.$setValidity(n,i===!0),i===!0&&(t.ngModel.$validate(),t.$broadcast("schemaFormValidate")))}),t.$on("$destroy",function(){if(!t.externalDestructionInProgress){var e=a.destroyStrategy||t.options&&t.options.destroyStrategy||"remove";if(a.key&&"retain"!==e){var n=t.model;if(a.key.length>1&&(n=l(a.key.slice(0,a.key.length-1),n)),void 0===n)return;var r=a.schema&&a.schema.type||"";"empty"===e&&-1!==r.indexOf("string")?n[a.key.slice(-1)]="":"empty"===e&&-1!==r.indexOf("object")?n[a.key.slice(-1)]={}:"empty"===e&&-1!==r.indexOf("array")?n[a.key.slice(-1)]=[]:"null"===e?n[a.key.slice(-1)]=null:delete n[a.key.slice(-1)]}}}))}}}}]),e.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(t,n){var r=t.has("$sanitize")?t.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(t,i,o){var a="";o.sfMessage&&t.$watch(o.sfMessage,function(e){e&&(a=r(e),l(!!t.ngModel))});var s,c=function(e){e!==s&&(i.html(e),s=e)},l=function(r){if(r)if(t.hasError()){var i=[];e.forEach(t.ngModel&&t.ngModel.$error,function(e,t){e&&i.push(t)}),i=i.filter(function(e){return"schemaForm"!==e});var o=i[0];c(o?n.interpolate(o,t.ngModel.$modelValue,t.ngModel.$viewValue,t.form,t.options&&t.options.validationMessage):a)}else c(a);else c(a)};l();var u=t.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){
return l(!0),e}),e.$formatters.push(function(e){return l(!0),e}),u())});t.$watchCollection("ngModel.$error",function(){l(!!t.ngModel)})}}}]),e.module("schemaForm").directive("sfNewArray",["sfSelect","sfPath","schemaForm",function(t,n,r){return{scope:!1,link:function(i,o,a){i.min=0,i.modelArray=i.$eval(a.sfNewArray);var s=function(){i.modelArray=i.$eval(a.sfNewArray),(!(i.ngModel&&i.ngModel.$pristine&&i.firstDigest)||i.options&&i.options.validateOnRender===!0)&&i.validateField&&i.validateField()},c=function(){i.form&&i.form.onChange&&(e.isFunction(i.form.onChange)?i.form.onChange(i.modelArray,i.form):i.evalExpr(i.form.onChange,{modelValue:i.modelArray,form:i.form}))},l=function(){var e=i.modelArray;if(!e){var r=n.parse(a.sfNewArray);e=[],t(r,i,e),i.modelArray=e}return e},u=i.$watch("form",function(e){if(e){if(e.titleMap||e.startEmpty===!0||i.modelArray&&0!==i.modelArray.length||i.appendToArray(),i.form&&i.form.schema&&i.form.schema.uniqueItems===!0?(i.$watch(a.sfNewArray,s,!0),i.$watch([a.sfNewArray,a.sfNewArray+".length"],c)):i.$watchGroup?i.$watchGroup([a.sfNewArray,a.sfNewArray+".length"],function(){s(),c()}):(i.$watch(a.sfNewArray,function(){s(),c()}),i.$watch(a.sfNewArray+".length",function(){s(),c()})),e.titleMap&&e.titleMap.length>0){i.titleMapValues=[];var t=function(t){i.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){i.titleMapValues.push(-1!==t.indexOf(e.value))})};t(i.modelArray),i.$watchCollection("modelArray",t),i.$watchCollection("titleMapValues",function(t,n){if(t&&t!==n){for(var r=l();r.length>0;)r.pop();e.titleMap.forEach(function(e,n){t[n]&&r.push(e.value)}),i.validateField&&i.validateField()}})}u()}});i.appendToArray=function(){var n,o=l();if(i.form&&i.form.schema&&i.form.schema.items){var a=i.form.schema.items;a.type&&-1!==a.type.indexOf("object")?(n={},i.options&&i.options.setSchemaDefaults===!1||(n=e.isDefined(a["default"])?a["default"]:n,n&&r.traverseSchema(a,function(r,i){e.isDefined(r["default"])&&t(i,n,r["default"])}))):a.type&&-1!==a.type.indexOf("array")?(n=[],i.options&&i.options.setSchemaDefaults===!1||(n=a["default"]||n)):i.options&&i.options.setSchemaDefaults===!1||(n=a["default"]||n)}return o.push(n),o},i.deleteFromArray=function(e){var t=i.modelArray;return t&&t.splice(e,1),t};var d=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},p={};i.copyWithIndex=function(t){var n=i.form;if(!p[t]){var o=n.items[0];if(n.items.length>1&&(o={type:"section",items:n.items.map(function(t){return t.ngModelOptions=n.ngModelOptions,e.isUndefined(t.readonly)&&(t.readonly=n.readonly),t})}),o){var a=e.copy(o);a.arrayIndex=t,r.traverseForm(a,d(t)),p[t]=a}}return p[t]}}}}]),e.module("schemaForm").directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",function(t,n,r,i,o,a,s,c,l){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.evalInParentScope=function(t,n){return e.$parent.$eval(t,n)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(c,u,d,p,m){c.formCtrl=p;var f={};m(c,function(e){if(e.addClass("schema-form-ignore"),u.prepend(e),u[0].querySelectorAll){var t=u[0].querySelectorAll("[ng-model]");if(t)for(var n=0;n<t.length;n++){var r=t[n].getAttribute("ng-model");f[r.substring(r.indexOf(".")+1)]=!0}}});var h,g={},v=function(e,t){var a=[],s=o.merge(e,t,f,c.options,void 0,a);a.length>0?i.all(a.map(function(e){return n.get(e.templateUrl,{cache:r}).then(function(t){e.template=t.data})})).then(function(){y(e,t,s)}):y(e,t,s)},y=function(n,r,i){h&&(c.externalDestructionInProgress=!0,h.$destroy(),c.externalDestructionInProgress=!1),h=c.$new(),h.schemaForm={form:i,schema:n},u.children(":not(.schema-form-ignore)").remove();for(var p={},m=u[0].querySelectorAll("*[sf-insert-field]"),f=0;f<m.length;f++)p[m[f].getAttribute("sf-insert-field")]=m[f];var g=a.decorator(d.sfUseDecorator),v=Object.create(null);c.lookup(v),u[0].appendChild(l.build(i,g,p,v)),h.firstDigest=!0,setTimeout(function(){h.firstDigest=!1},0),t(u.children())(h),c.options&&c.options.setSchemaDefaults===!1||o.traverseSchema(n,function(t,n){if(e.isDefined(t["default"])){var r=s(n,c.model);e.isUndefined(r)&&s(n,c.model,t["default"])}}),c.$emit("sf-render-finished",u)},b=["*"];c.$watch(function(){var e=c.schema,t=c.initialForm||b;t&&e&&e.type&&(g.form!==t||g.schema!==e)&&Object.keys(e.properties).length>0&&(g.schema=e,g.form=t,v(e,t))}),c.$on("schemaFormRedraw",function(){var t=c.schema,n=c.initialForm?e.copy(c.initialForm):["*"];t&&v(t,n)}),c.$on("$destroy",function(){c.externalDestructionInProgress=!0}),c.evalExpr=function(e,t){return c.$parent.$eval(e,t)}}}}]),e.module("schemaForm").directive("schemaValidate",["sfValidator","$parse","sfSelect",function(t,n,r){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(n,i,o,a){n.$emit("schemaFormPropagateNgModelController",a);var s=null,c=n.$eval(o.schemaValidate);c.copyValueTo&&a.$viewChangeListeners.push(function(){var t=c.copyValueTo;e.forEach(t,function(e){r(e,n.model,a.$modelValue)})});var l=function(e){if(!c)return e;if(n.options&&n.options.tv4Validation===!1)return e;var r=t.validate(c,e);return Object.keys(a.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){a.$setValidity(e,!0)}),r.valid?e:(a.$setValidity("tv4-"+r.error.code,!1),s=r.error,a.$validators?e:void 0)};"function"==typeof c.ngModel&&c.ngModel(a),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){c[e]&&a[e]&&c[e].forEach(function(t){a[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(t){c[t]&&a[t]&&e.forEach(c[t],function(e,n){a[t][n]=e})}),a.$parsers.push(l),a.$validators&&(a.$validators.schemaForm=function(){return!Object.keys(a.$error).some(function(e){return"schemaForm"!==e})});var u=c.schema;n.validateField=function(e){(void 0==e||a.$$parentForm.$name===e)&&(u&&-1!==u.type.indexOf("array")&&l(a.$modelValue),a.$setDirty?(a.$setDirty(),a.$setViewValue(a.$viewValue),a.$commitViewValue(),c.required&&a.$isEmpty(a.$modelValue)&&a.$setValidity("tv4-302",!1)):a.$setViewValue(a.$viewValue))},a.$formatters.push(function(e){return!a.$pristine||!n.firstDigest||n.options&&n.options.validateOnRender===!0?(l(a.$modelValue),e):e}),n.$on("schemaFormValidate",function(e,t){n.validateField(t)}),n.schemaError=function(){return s}}}}]),o}),function(e,t){"function"==typeof define&&define.amd?define(["schemaForm"],t):"object"==typeof exports?module.exports=t(require("schemaForm")):e.bootstrapDecorator=t(e.schemaForm)}(this,function(e){return angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),e.put("directives/decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),e.put("directives/decorators/bootstrap/array.html",'<div sf-array="form" class="schema-form-array {{form.htmlClass}}" ng-model="$$value$$" ng-model-options="form.ngModelOptions"><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" ng-model="modelArray" ui-sortable=""><li class="list-group-item {{form.fieldHtmlClass}}" ng-repeat="item in modelArray track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator></li></ol><div class="clearfix" style="padding: 15px;"><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'),e.put("directives/decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/checkboxes.html",'<div sf-array="form" ng-model="$$value$$" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/fieldset-trcl.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><div ng-transclude=""></div></fieldset>'),e.put("directives/decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></fieldset>'),e.put("directives/decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),e.put("directives/decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></div>'),e.put("directives/decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),e.put("directives/decorators/bootstrap/tabarray.html",'<div sf-array="form" ng-init="selected = { tab: 0 }" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix" ng-repeat="item in modelArray track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || appendToArray()"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div></div>'),e.put("directives/decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane" ng-disabled="form.readonly" ng-repeat="tab in form.tabs" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><bootstrap-decorator ng-repeat="item in tab.items" form="item"></bootstrap-decorator></div></div></div>'),e.put("directives/decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider",function(e){var t="directives/decorators/bootstrap/";e.defineDecorator("bootstrapDecorator",{textarea:{template:t+"textarea.html",replace:!1},fieldset:{template:t+"fieldset.html",replace:!1},array:{template:t+"array.html",replace:!1},tabarray:{template:t+"tabarray.html",replace:!1},tabs:{template:t+"tabs.html",replace:!1},section:{template:t+"section.html",replace:!1},conditional:{template:t+"section.html",replace:!1},actions:{template:t+"actions.html",replace:!1},select:{template:t+"select.html",replace:!1},checkbox:{template:t+"checkbox.html",replace:!1},checkboxes:{template:t+"checkboxes.html",replace:!1},number:{template:t+"default.html",replace:!1},password:{template:t+"default.html",replace:!1},submit:{template:t+"submit.html",replace:!1},button:{template:t+"submit.html",replace:!1},radios:{template:t+"radios.html",replace:!1},"radios-inline":{template:t+"radios-inline.html",replace:!1},radiobuttons:{template:t+"radio-buttons.html",replace:!1},help:{template:t+"help.html",replace:!1},"default":{template:t+"default.html",replace:!1}},[]),e.createDirectives({textarea:t+"textarea.html",select:t+"select.html",checkbox:t+"checkbox.html",checkboxes:t+"checkboxes.html",number:t+"default.html",submit:t+"submit.html",button:t+"submit.html",text:t+"default.html",date:t+"default.html",password:t+"default.html",datepicker:t+"datepicker.html",input:t+"default.html",radios:t+"radios.html","radios-inline":t+"radios-inline.html",radiobuttons:t+"radio-buttons.html"})}]).directive("sfFieldset",function(){return{transclude:!0,scope:!0,templateUrl:"directives/decorators/bootstrap/fieldset-trcl.html",link:function(e,t,n){e.title=e.$eval(n.title)}}}),e}),angular.module("geolocation",[]).constant("geolocation_msgs",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location","errors.location.timeout":"Service timeout has been reached"}),angular.module("geolocation").factory("geolocation",["$q","$rootScope","$window","geolocation_msgs",function(e,t,n,r){return{getLocation:function(i){var o=e.defer();return n.navigator&&n.navigator.geolocation?n.navigator.geolocation.getCurrentPosition(function(e){t.$apply(function(){o.resolve(e)})},function(e){switch(e.code){case 1:t.$broadcast("error",r["errors.location.permissionDenied"]),t.$apply(function(){o.reject(r["errors.location.permissionDenied"])});break;case 2:t.$broadcast("error",r["errors.location.positionUnavailable"]),t.$apply(function(){o.reject(r["errors.location.positionUnavailable"])});break;case 3:t.$broadcast("error",r["errors.location.timeout"]),t.$apply(function(){o.reject(r["errors.location.timeout"])})}},i):(t.$broadcast("error",r["errors.location.unsupportedBrowser"]),t.$apply(function(){o.reject(r["errors.location.unsupportedBrowser"])})),o.promise}}}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.2
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.2
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.2",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.2
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.2
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.2
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.2",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var c=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][c])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":e.extend({},i.data(),{trigger:this});n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.2
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.2",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",c=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(c.length){var l=c.index(t.target);38==t.which&&l>0&&l--,40==t.which&&l<c.length-1&&l++,~l||(l=0),c.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.2
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.2
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(s);l&&(s=s.replace(c,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(l){var m=s,f=this.options.container?e(this.options.container):this.$element.parent(),h=this.getPosition(f);s="bottom"==s&&u.bottom+p>h.bottom?"top":"top"==s&&u.top-p<h.top?"bottom":"right"==s&&u.right+d>h.width?"left":"left"==s&&u.left-d<h.left?"right":s,o.removeClass(m).addClass(s)}var g=this.getCalculatedOffset(s,u,d,p);this.applyPlacement(g,s);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(n,t,c,l);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),p=d?2*u.left-i+c:2*u.top-o+l,m=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][m],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=this.tip(),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,c=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:c>a.top+a.height&&(i.top=a.top+a.height-c)}else{var l=t.left-o,u=t.left+o+n;l<a.left?i.left=a.left-l:u>a.width&&(i.left=a.left+a.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.2
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.2
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.2
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.2
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,c=s?i:o.top,l=s?a:t;return null!=n&&n>=i?"top":null!=r&&c+l>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=e("body").height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var c="affix"+(s?"-"+s:""),l=e.Event(c+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(c.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery);var JSEncryptExports={};!function(e){function t(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new t(null)}function r(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i}function i(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],l=this[e++]>>15,u=s*c+l*a;c=a*c+((32767&u)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(u>>>15)+s*l+(i>>>30),n[r++]=1073741823&c}return i}function o(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],l=this[e++]>>14,u=s*c+l*a;c=a*c+((16383&u)<<14)+n[r]+i,i=(c>>28)+(u>>14)+s*l,n[r++]=268435455&c}return i}function a(e){return Ot.charAt(e)}function s(e,t){var n=At[e.charCodeAt(t)];return null==n?-1:n}function c(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function l(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function u(e){var t=n();return t.fromInt(e),t}function d(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var c=8==r?255&e[i]:s(e,i);0>c?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=c:a+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-a)-1)<<a,this[this.t++]=c>>this.DB-a):this[this.t-1]|=c<<a,a+=r,a>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)}function p(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function m(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,c=this.DB-s*this.DB%t;if(s-->0)for(c<this.DB&&(n=this[s]>>c)>0&&(i=!0,o=a(n));s>=0;)t>c?(n=(this[s]&(1<<c)-1)<<t-c,n|=this[--s]>>(c+=this.DB-t)):(n=this[s]>>(c-=t)&r,0>=c&&(c+=this.DB,--s)),n>0&&(i=!0),i&&(o+=a(n));return i?o:"0"}function f(){var e=n();return t.ZERO.subTo(this,e),e}function h(){return this.s<0?this.negate():this}function g(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function y(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function _(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function E(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function C(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function S(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function w(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function T(e,n){var r=this.abs(),i=e.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)}function I(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function O(e,r,i){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=r&&r.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var s=n(),c=this.s,l=e.s,u=this.DB-y(o[o.t-1]);u>0?(o.lShiftTo(u,s),a.lShiftTo(u,i)):(o.copyTo(s),a.copyTo(i));var d=s.t,p=s[d-1];if(0!=p){var m=p*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),f=this.FV/m,h=(1<<this.F1)/m,g=1<<this.F2,v=i.t,b=v-d,_=null==r?n():r;for(s.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),t.ONE.dlShiftTo(d,_),_.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--b>=0;){var E=i[--v]==p?this.DM:Math.floor(i[v]*f+(i[v-1]+g)*h);if((i[v]+=s.am(0,E,i,b,0,d))<E)for(s.dlShiftTo(b,_),i.subTo(_,i);i[v]<--E;)i.subTo(_,i)}null!=r&&(i.drShiftTo(d,r),c!=l&&t.ZERO.subTo(r,r)),i.t=d,i.clamp(),u>0&&i.rShiftTo(u,i),0>c&&t.ZERO.subTo(i,i)}}}function A(e){var r=n();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r}function $(e){this.m=e}function D(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function x(e){return e}function R(e){e.divRemTo(this.m,null,e)}function k(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function P(e,t){e.squareTo(t),this.reduce(t)}function N(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function M(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function L(e){var r=n();return e.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),e.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function U(e){var t=n();return e.copyTo(t),this.reduce(t),t}function F(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function G(e,t){e.squareTo(t),this.reduce(t)}function B(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function H(){return 0==(this.t>0?1&this[0]:this.s)}function j(e,r){if(e>4294967295||1>e)return t.ONE;var i=n(),o=n(),a=r.convert(this),s=y(e)-1;for(a.copyTo(i);--s>=0;)if(r.sqrTo(i,o),(e&1<<s)>0)r.mulTo(o,a,i);else{var c=i;i=o,o=c}return r.revert(i)}function V(e,t){var n;return n=256>e||t.isEven()?new $(t):new M(t),this.exp(e,n)}function z(){var e=n();return this.copyTo(e),e}function W(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Y(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function K(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function J(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=u(r),o=n(),a=n(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s}function Q(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),o=!1,a=0,c=0,l=0;l<e.length;++l){var u=s(e,l);0>u?"-"==e.charAt(l)&&0==this.signum()&&(o=!0):(c=n*c+u,++a>=r&&(this.dMultiply(i),this.dAddOffset(c,0),a=0,c=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(c,0)),o&&t.ZERO.subTo(this,this)}function X(e,n,r){if("number"==typeof n)if(2>e)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),se,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=(e>>3)+1,n.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}}function ee(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function te(e){return 0==this.compareTo(e)}function ne(e){return this.compareTo(e)<0?this:e}function re(e){return this.compareTo(e)>0?this:e}function ie(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;o>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function oe(e,t){return e&t}function ae(e){var t=n();return this.bitwiseTo(e,oe,t),t}function se(e,t){return e|t}function ce(e){var t=n();return this.bitwiseTo(e,se,t),t}function le(e,t){return e^t}function ue(e){var t=n();return this.bitwiseTo(e,le,t),t}function de(e,t){return e&~t}function pe(e){var t=n();return this.bitwiseTo(e,de,t),t}function me(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function fe(e){var t=n();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function he(e){var t=n();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function ge(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ve(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ge(this[e]);return this.s<0?this.t*this.DB:-1}function ye(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function be(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=ye(this[n]^t);return e}function _e(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function Ee(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r}function Ce(e){return this.changeBit(e,se)}function Se(e){return this.changeBit(e,de)}function we(e){return this.changeBit(e,le)}function Te(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Ie(e){var t=n();return this.addTo(e,t),t}function Oe(e){var t=n();return this.subTo(e,t),t}function Ae(e){var t=n();return this.multiplyTo(e,t),t}function $e(){var e=n();return this.squareTo(e),e}function De(e){var t=n();return this.divRemTo(e,t,null),t}function xe(e){var t=n();return this.divRemTo(e,null,t),t}function Re(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)}function ke(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Pe(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Ne(){}function Me(e){return e}function Le(e,t,n){e.multiplyTo(t,n)}function Ue(e,t){e.squareTo(t)}function Fe(e){return this.exp(e,new Ne)}function Ge(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;i>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);i>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Be(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function He(e){this.r2=n(),this.q3=n(),t.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function je(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t}function Ve(e){return e}function ze(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function We(e,t){e.squareTo(t),this.reduce(t)}function Ye(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function qe(e,t){var r,i,o=e.bitLength(),a=u(1);if(0>=o)return a;r=18>o?1:48>o?3:144>o?4:768>o?5:6,i=8>o?new $(t):t.isEven()?new He(t):new M(t);var s=new Array,c=3,l=r-1,d=(1<<r)-1;if(s[1]=i.convert(this),r>1){var p=n();for(i.sqrTo(s[1],p);d>=c;)s[c]=n(),i.mulTo(p,s[c-2],s[c]),c+=2}var m,f,h=e.t-1,g=!0,v=n();for(o=y(e[h])-1;h>=0;){for(o>=l?m=e[h]>>o-l&d:(m=(e[h]&(1<<o+1)-1)<<l-o,h>0&&(m|=e[h-1]>>this.DB+o-l)),c=r;0==(1&m);)m>>=1,--c;if((o-=c)<0&&(o+=this.DB,--h),g)s[m].copyTo(a),g=!1;else{for(;c>1;)i.sqrTo(a,v),i.sqrTo(v,a),c-=2;c>0?i.sqrTo(a,v):(f=a,a=v,v=f),i.mulTo(v,s[m],a)}for(;h>=0&&0==(e[h]&1<<o);)i.sqrTo(a,v),f=a,a=v,v=f,--o<0&&(o=this.DB-1,--h)}return i.revert(a)}function Ke(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(0>o)return t;for(o>i&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Je(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Ze(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),o=u(1),a=u(0),s=u(0),c=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(s,o),a.subTo(c,a)):(i.subTo(r,i),n&&s.subTo(o,s),c.subTo(a,c))}return 0!=i.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}function Qe(e){var t,n=this.abs();if(1==n.t&&n[0]<=$t[$t.length-1]){for(t=0;t<$t.length;++t)if(n[0]==$t[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<$t.length;){for(var r=$t[t],i=t+1;i<$t.length&&Dt>r;)r*=$t[i++];for(r=n.modInt(r);i>t;)if(r%$t[t++]==0)return!1}return n.millerRabin(e)}function Xe(e){var r=this.subtract(t.ONE),i=r.getLowestSetBit();if(0>=i)return!1;var o=r.shiftRight(i);e=e+1>>1,e>$t.length&&(e=$t.length);for(var a=n(),s=0;e>s;++s){a.fromInt($t[Math.floor(Math.random()*$t.length)]);var c=a.modPow(o,this);if(0!=c.compareTo(t.ONE)&&0!=c.compareTo(r)){for(var l=1;l++<i&&0!=c.compareTo(r);)if(c=c.modPowInt(2,this),0==c.compareTo(t.ONE))return!1;if(0!=c.compareTo(r))return!1}}return!0}function et(){this.i=0,this.j=0,this.S=new Array}function tt(e){var t,n,r;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function nt(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function rt(){return new et}function it(){if(null==xt){for(xt=rt();Pt>kt;){var e=Math.floor(65536*Math.random());Rt[kt++]=255&e}for(xt.init(Rt),kt=0;kt<Rt.length;++kt)Rt[kt]=0;kt=0}return xt.next()}function ot(e){var t;for(t=0;t<e.length;++t)e[t]=it()}function at(){}function st(e,n){return new t(e,n)}function ct(e,n){if(n<e.length+11)return console.error("Message too long for RSA"),null;for(var r=new Array,i=e.length-1;i>=0&&n>0;){var o=e.charCodeAt(i--);128>o?r[--n]=o:o>127&&2048>o?(r[--n]=63&o|128,r[--n]=o>>6|192):(r[--n]=63&o|128,r[--n]=o>>6&63|128,r[--n]=o>>12|224)}r[--n]=0;for(var a=new at,s=new Array;n>2;){for(s[0]=0;0==s[0];)a.nextBytes(s);r[--n]=s[0]}return r[--n]=2,r[--n]=0,new t(r)}function lt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ut(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=st(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")}function dt(e){return e.modPowInt(this.e,this.n)}function pt(e){var t=ct(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r}function mt(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];128>o?i+=String.fromCharCode(o):o>191&&224>o?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}function ft(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=st(e,16),this.e=parseInt(t,16),this.d=st(n,16)):console.error("Invalid RSA private key")}function ht(e,t,n,r,i,o,a,s){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=st(e,16),this.e=parseInt(t,16),this.d=st(n,16),this.p=st(r,16),this.q=st(i,16),this.dmp1=st(o,16),this.dmq1=st(a,16),this.coeff=st(s,16)):console.error("Invalid RSA private key")}function gt(e,n){var r=new at,i=e>>1;this.e=parseInt(n,16);for(var o=new t(n,16);;){for(;this.p=new t(e-i,1,r),0!=this.p.subtract(t.ONE).gcd(o).compareTo(t.ONE)||!this.p.isProbablePrime(10););for(;this.q=new t(i,1,r),0!=this.q.subtract(t.ONE).gcd(o).compareTo(t.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var s=this.p.subtract(t.ONE),c=this.q.subtract(t.ONE),l=s.multiply(c);if(0==l.gcd(o).compareTo(t.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}function vt(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function yt(e){var t=st(e,16),n=this.doPrivate(t);return null==n?null:mt(n,this.n.bitLength()+7>>3)}function bt(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=Ut.charAt(n>>6)+Ut.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=Ut.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=Ut.charAt(n>>2)+Ut.charAt((3&n)<<4));(3&r.length)>0;)r+=Ft;return r}function _t(e){var t,n,r="",i=0;for(t=0;t<e.length&&e.charAt(t)!=Ft;++t)v=Ut.indexOf(e.charAt(t)),0>v||(0==i?(r+=a(v>>2),n=3&v,i=1):1==i?(r+=a(n<<2|v>>4),n=15&v,i=2):2==i?(r+=a(n),r+=a(v>>2),n=3&v,i=3):(r+=a(n<<2|v>>4),r+=a(15&v),i=0));return 1==i&&(r+=a(n<<2)),r}var Et,Ct=0xdeadbeefcafe,St=15715070==(16777215&Ct);St&&"Microsoft Internet Explorer"==navigator.appName?(t.prototype.am=i,Et=30):St&&"Netscape"!=navigator.appName?(t.prototype.am=r,Et=26):(t.prototype.am=o,Et=28),t.prototype.DB=Et,t.prototype.DM=(1<<Et)-1,t.prototype.DV=1<<Et;var wt=52;t.prototype.FV=Math.pow(2,wt),t.prototype.F1=wt-Et,t.prototype.F2=2*Et-wt;var Tt,It,Ot="0123456789abcdefghijklmnopqrstuvwxyz",At=new Array;for(Tt="0".charCodeAt(0),It=0;9>=It;++It)At[Tt++]=It;for(Tt="a".charCodeAt(0),It=10;36>It;++It)At[Tt++]=It;for(Tt="A".charCodeAt(0),It=10;36>It;++It)At[Tt++]=It;$.prototype.convert=D,$.prototype.revert=x,$.prototype.reduce=R,$.prototype.mulTo=k,$.prototype.sqrTo=P,M.prototype.convert=L,M.prototype.revert=U,M.prototype.reduce=F,M.prototype.mulTo=B,M.prototype.sqrTo=G,t.prototype.copyTo=c,t.prototype.fromInt=l,t.prototype.fromString=d,t.prototype.clamp=p,t.prototype.dlShiftTo=_,t.prototype.drShiftTo=E,t.prototype.lShiftTo=C,t.prototype.rShiftTo=S,t.prototype.subTo=w,t.prototype.multiplyTo=T,t.prototype.squareTo=I,t.prototype.divRemTo=O,t.prototype.invDigit=N,t.prototype.isEven=H,t.prototype.exp=j,t.prototype.toString=m,t.prototype.negate=f,t.prototype.abs=h,t.prototype.compareTo=g,t.prototype.bitLength=b,t.prototype.mod=A,t.prototype.modPowInt=V,t.ZERO=u(0),t.ONE=u(1),Ne.prototype.convert=Me,Ne.prototype.revert=Me,Ne.prototype.mulTo=Le,Ne.prototype.sqrTo=Ue,He.prototype.convert=je,He.prototype.revert=Ve,He.prototype.reduce=ze,He.prototype.mulTo=Ye,He.prototype.sqrTo=We;var $t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Dt=(1<<26)/$t[$t.length-1];t.prototype.chunkSize=K,t.prototype.toRadix=Z,t.prototype.fromRadix=Q,t.prototype.fromNumber=X,t.prototype.bitwiseTo=ie,t.prototype.changeBit=Ee,t.prototype.addTo=Te,t.prototype.dMultiply=ke,t.prototype.dAddOffset=Pe,t.prototype.multiplyLowerTo=Ge,t.prototype.multiplyUpperTo=Be,t.prototype.modInt=Je,t.prototype.millerRabin=Xe,t.prototype.clone=z,t.prototype.intValue=W,t.prototype.byteValue=Y,t.prototype.shortValue=q,t.prototype.signum=J,t.prototype.toByteArray=ee,t.prototype.equals=te,t.prototype.min=ne,t.prototype.max=re,t.prototype.and=ae,t.prototype.or=ce,t.prototype.xor=ue,t.prototype.andNot=pe,t.prototype.not=me,t.prototype.shiftLeft=fe,t.prototype.shiftRight=he,t.prototype.getLowestSetBit=ve,t.prototype.bitCount=be,t.prototype.testBit=_e,t.prototype.setBit=Ce,t.prototype.clearBit=Se,t.prototype.flipBit=we,t.prototype.add=Ie,t.prototype.subtract=Oe,t.prototype.multiply=Ae,t.prototype.divide=De,t.prototype.remainder=xe,t.prototype.divideAndRemainder=Re,t.prototype.modPow=qe,t.prototype.modInverse=Ze,t.prototype.pow=Fe,t.prototype.gcd=Ke,t.prototype.isProbablePrime=Qe,t.prototype.square=$e,et.prototype.init=tt,et.prototype.next=nt;var xt,Rt,kt,Pt=256;if(null==Rt){Rt=new Array,kt=0;var Nt;if(window.crypto&&window.crypto.getRandomValues){var Mt=new Uint32Array(256);for(window.crypto.getRandomValues(Mt),Nt=0;Nt<Mt.length;++Nt)Rt[kt++]=255&Mt[Nt]}var Lt=function(e){if(this.count=this.count||0,this.count>=256||kt>=Pt)return void(window.removeEventListener?window.removeEventListener("mousemove",Lt):window.detachEvent&&window.detachEvent("onmousemove",Lt));this.count+=1;var t=e.x+e.y;Rt[kt++]=255&t};window.addEventListener?window.addEventListener("mousemove",Lt):window.attachEvent&&window.attachEvent("onmousemove",Lt)}at.prototype.nextBytes=ot,lt.prototype.doPublic=dt,lt.prototype.setPublic=ut,lt.prototype.encrypt=pt,lt.prototype.doPrivate=vt,lt.prototype.setPrivate=ft,lt.prototype.setPrivateEx=ht,lt.prototype.generate=gt,lt.prototype.decrypt=yt,function(){var e=function(e,r,i){var o=new at,a=e>>1;this.e=parseInt(r,16);var s=new t(r,16),c=this,l=function(){var r=function(){if(c.p.compareTo(c.q)<=0){var e=c.p;c.p=c.q,c.q=e}var n=c.p.subtract(t.ONE),r=c.q.subtract(t.ONE),o=n.multiply(r);0==o.gcd(s).compareTo(t.ONE)?(c.n=c.p.multiply(c.q),c.d=s.modInverse(o),c.dmp1=c.d.mod(n),c.dmq1=c.d.mod(r),c.coeff=c.q.modInverse(c.p),setTimeout(function(){i()},0)):setTimeout(l,0)},u=function(){c.q=n(),c.q.fromNumberAsync(a,1,o,function(){c.q.subtract(t.ONE).gcda(s,function(e){0==e.compareTo(t.ONE)&&c.q.isProbablePrime(10)?setTimeout(r,0):setTimeout(u,0)})})},d=function(){c.p=n(),c.p.fromNumberAsync(e-a,1,o,function(){c.p.subtract(t.ONE).gcda(s,function(e){0==e.compareTo(t.ONE)&&c.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(d,0)})})};setTimeout(d,0)};setTimeout(l,0)};lt.prototype.generateAsync=e;var r=function(e,t){var n=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var o=n.getLowestSetBit(),a=r.getLowestSetBit();if(0>a)return void t(n);a>o&&(a=o),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));var s=function(){(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(s,0):(a>0&&r.lShiftTo(a,r),setTimeout(function(){t(r)},0))};setTimeout(s,10)};t.prototype.gcda=r;var i=function(e,n,r,i){if("number"==typeof n)if(2>e)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),se,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(n)?setTimeout(function(){i()},0):setTimeout(a,0)};setTimeout(a,0)}else{var s=new Array,c=7&e;s.length=(e>>3)+1,n.nextBytes(s),c>0?s[0]&=(1<<c)-1:s[0]=0,this.fromString(s,256)}};t.prototype.fromNumberAsync=i}();var Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ft="=",Gt=Gt||{};Gt.env=Gt.env||{};var Bt=Gt,Ht=Object.prototype,jt="[object Function]",Vt=["toString","valueOf"];Gt.env.parseUA=function(e){var t,n=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},r=navigator,i={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:r&&r.cajaVersion,secure:!1,os:null},o=e||navigator&&navigator.userAgent,a=window&&window.location,s=a&&a.href;return i.secure=s&&0===s.toLowerCase().indexOf("https"),o&&(/windows|win32/i.test(o)?i.os="windows":/macintosh/i.test(o)?i.os="macintosh":/rhino/i.test(o)&&(i.os="rhino"),/KHTML/.test(o)&&(i.webkit=1),t=o.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(i.webkit=n(t[1]),/ Mobile\//.test(o)?(i.mobile="Apple",t=o.match(/OS ([^\s]*)/),t&&t[1]&&(t=n(t[1].replace("_","."))),i.ios=t,i.ipad=i.ipod=i.iphone=0,t=o.match(/iPad|iPod|iPhone/),t&&t[0]&&(i[t[0].toLowerCase()]=i.ios)):(t=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(i.mobile=t[0]),/webOS/.test(o)&&(i.mobile="WebOS",t=o.match(/webOS\/([^\s]*);/),t&&t[1]&&(i.webos=n(t[1]))),/ Android/.test(o)&&(i.mobile="Android",t=o.match(/Android ([^\s]*);/),t&&t[1]&&(i.android=n(t[1])))),t=o.match(/Chrome\/([^\s]*)/),t&&t[1]?i.chrome=n(t[1]):(t=o.match(/AdobeAIR\/([^\s]*)/),t&&(i.air=t[0]))),i.webkit||(t=o.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(i.opera=n(t[1]),t=o.match(/Version\/([^\s]*)/),t&&t[1]&&(i.opera=n(t[1])),t=o.match(/Opera Mini[^;]*/),t&&(i.mobile=t[0])):(t=o.match(/MSIE\s([^;]*)/),t&&t[1]?i.ie=n(t[1]):(t=o.match(/Gecko\/([^\s]*)/),t&&(i.gecko=1,t=o.match(/rv:([^\s\)]*)/),t&&t[1]&&(i.gecko=n(t[1]))))))),i},Gt.env.ua=Gt.env.parseUA(),Gt.isFunction=function(e){return"function"==typeof e||Ht.toString.apply(e)===jt},Gt._IEEnumFix=Gt.env.ua.ie?function(e,t){var n,r,i;for(n=0;n<Vt.length;n+=1)r=Vt[n],i=t[r],Bt.isFunction(i)&&i!=Ht[r]&&(e[r]=i)}:function(){},Gt.extend=function(e,t,n){if(!t||!e)throw new Error("extend failed, please check that all dependencies are included.");var r,i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Ht.constructor&&(t.prototype.constructor=t),n){for(r in n)Bt.hasOwnProperty(n,r)&&(e.prototype[r]=n[r]);Bt._IEEnumFix(e.prototype,n)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var n=e.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var r=n.substr(1),i=r.length;i%2==1?i+=1:n.match(/^[0-7]/)||(i+=2);for(var o="",a=0;i>a;a++)o+="f";var s=new t(o,16),c=s.xor(e).add(t.ONE);n=c.toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(e,t){var n=CryptoJS.enc.Hex.parse(e),r=CryptoJS.enc.Base64.stringify(n),i=r.replace(/(.{64})/g,"$1\r\n");return i=i.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+i+"\r\n-----END "+t+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,n=t.toString(16);if(n.length%2==1&&(n="0"+n),128>t)return n;var r=n.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var i=128+r;return i.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.str?this.setString(e.str):"undefined"!=typeof e.hex&&this.setStringHex(e.hex))},Gt.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t){
var n=this.zeroPadding,r=this.localDateToUTC(e),i=String(r.getFullYear());"utc"==t&&(i=i.substr(2,2));var o=n(String(r.getMonth()+1),2),a=n(String(r.getDate()),2),s=n(String(r.getHours()),2),c=n(String(r.getMinutes()),2),l=n(String(r.getSeconds()),2);return i+o+a+s+c+l+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setByDateValue=function(e,t,n,r,i,o){var a=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Gt.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e.array&&(this.asn1Array=e.array)},Gt.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Gt.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(e){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var n=new t(String(e),10);this.setByBigInteger(n)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.bigint?this.setByBigInteger(e.bigint):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"undefined"!=typeof e.hex&&this.setValueHex(e.hex))},Gt.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(e){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(0>e||e>7)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;t>=n;n++)e+="0";for(var r="",n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.hex?this.setHexValueIncludingUnusedBits(e.hex):"undefined"!=typeof e.bin?this.setByBinaryString(e.bin):"undefined"!=typeof e.array&&this.setByBooleanArray(e.array))},Gt.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(e){KJUR.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Gt.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Gt.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(e){var n=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",i=new t(e,10),o=i.toString(2),a=7-o.length%7;7==a&&(a=0);for(var s="",c=0;a>c;c++)s+="0";o=s+o;for(var c=0;c<o.length-1;c+=7){var l=o.substr(c,7);c!=o.length-7&&(l="1"+l),r+=n(parseInt(l,2))}return r};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var t="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);t+=n(o),i.splice(0,2);for(var a=0;a<i.length;a++)t+=r(i[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[e])throw"DERObjectIdentifier oidName undefined: "+e;var t=KJUR.asn1.x509.OID.name2oidList[e];this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.oid?this.setValueOidString(e.oid):"undefined"!=typeof e.hex?this.setValueHex(e.hex):"undefined"!=typeof e.name&&this.setValueName(e.name))},Gt.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(e){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Gt.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(e){KJUR.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Gt.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(e){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Gt.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(e){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Gt.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(e){KJUR.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Gt.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(e){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof e&&("undefined"!=typeof e.str?this.setString(e.str):"undefined"!=typeof e.hex?this.setStringHex(e.hex):"undefined"!=typeof e.date&&this.setByDate(e.date))},Gt.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(e){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof e&&("undefined"!=typeof e.str?this.setString(e.str):"undefined"!=typeof e.hex?this.setStringHex(e.hex):"undefined"!=typeof e.date&&this.setByDate(e.date))},Gt.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(e){KJUR.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e+=n.getEncodedHex()}return this.hV=e,this.hV}},Gt.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(e){KJUR.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return e.sort(),this.hV=e.join(""),this.hV}},Gt.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(e){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.tag&&(this.hT=e.tag),"undefined"!=typeof e.explicit&&(this.isExplicit=e.explicit),"undefined"!=typeof e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Gt.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(e){"use strict";var t,n={};n.decode=function(n){var r;if(t===e){var i="0123456789ABCDEF",o=" \f\n\r	Â \u2028\u2029";for(t=[],r=0;16>r;++r)t[i.charAt(r)]=r;for(i=i.toLowerCase(),r=10;16>r;++r)t[i.charAt(r)]=r;for(r=0;r<o.length;++r)t[o.charAt(r)]=-1}var a=[],s=0,c=0;for(r=0;r<n.length;++r){var l=n.charAt(r);if("="==l)break;if(l=t[l],-1!=l){if(l===e)throw"Illegal character at offset "+r;s|=l,++c>=2?(a[a.length]=s,s=0,c=0):s<<=4}}if(c)throw"Hex encoding incomplete: 4 bits missing";return a},window.Hex=n}(),function(e){"use strict";var t,n={};n.decode=function(n){var r;if(t===e){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="= \f\n\r	Â \u2028\u2029";for(t=[],r=0;64>r;++r)t[i.charAt(r)]=r;for(r=0;r<o.length;++r)t[o.charAt(r)]=-1}var a=[],s=0,c=0;for(r=0;r<n.length;++r){var l=n.charAt(r);if("="==l)break;if(l=t[l],-1!=l){if(l===e)throw"Illegal character at offset "+r;s|=l,++c>=4?(a[a.length]=s>>16,a[a.length]=s>>8&255,a[a.length]=255&s,s=0,c=0):s<<=6}}switch(c){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:a[a.length]=s>>10;break;case 3:a[a.length]=s>>16,a[a.length]=s>>8&255}return a},n.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,n.unarmor=function(e){var t=n.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw"RegExp out of sync";e=t[2]}return n.decode(e)},window.Base64=n}(),function(e){"use strict";function t(e,n){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}function n(e,t,n,r,i){this.stream=e,this.header=t,this.length=n,this.tag=r,this.sub=i}var r=100,i="â¦",o={tag:function(e,t){var n=document.createElement(e);return n.className=t,n},text:function(e){return document.createTextNode(e)}};t.prototype.get=function(t){if(t===e&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},t.prototype.hexDump=function(e,t,n){for(var r="",i=e;t>i;++i)if(r+=this.hexByte(this.get(i)),n!==!0)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.parseStringISO=function(e,t){for(var n="",r=e;t>r;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(e,t){for(var n="",r=e;t>r;){var i=this.get(r++);n+=String.fromCharCode(128>i?i:i>191&&224>i?(31&i)<<6|63&this.get(r++):(15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(e,t){for(var n="",r=e;t>r;r+=2){var i=this.get(r),o=this.get(r+1);n+=String.fromCharCode((i<<8)+o)}return n},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(e,t){var n=this.parseStringISO(e,t),r=this.reTime.exec(n);return r?(n=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(n+=":"+r[5],r[6]&&(n+=":"+r[6],r[7]&&(n+="."+r[7]))),r[8]&&(n+=" UTC","Z"!=r[8]&&(n+=r[8],r[9]&&(n+=":"+r[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(e,t){var n=t-e;if(n>4){n<<=3;var r=this.get(e);if(0===r)n-=8;else for(;128>r;)r<<=1,--n;return"("+n+" bit)"}for(var i=0,o=e;t>o;++o)i=i<<8|this.get(o);return i},t.prototype.parseBitString=function(e,t){var n=this.get(e),r=(t-e-1<<3)-n,i="("+r+" bit)";if(20>=r){var o=n;i+=" ";for(var a=t-1;a>e;--a){for(var s=this.get(a),c=o;8>c;++c)i+=s>>c&1?"1":"0";o=0}}return i},t.prototype.parseOctetString=function(e,t){var n=t-e,o="("+n+" byte) ";n>r&&(t=e+r);for(var a=e;t>a;++a)o+=this.hexByte(this.get(a));return n>r&&(o+=i),o},t.prototype.parseOID=function(e,t){for(var n="",r=0,i=0,o=e;t>o;++o){var a=this.get(o);if(r=r<<7|127&a,i+=7,!(128&a)){if(""===n){var s=80>r?40>r?0:1:2;n=s+"."+(r-40*s)}else n+="."+(i>=31?"bigint":r);r=i=0}}return n},n.prototype.typeName=function(){if(this.tag===e)return"unknown";var t=this.tag>>6,n=(this.tag>>5&1,31&this.tag);switch(t){case 0:switch(n){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+n.toString(16)}case 1:return"Application_"+n.toString(16);case 2:return"["+n+"]";case 3:return"Private_"+n.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===e)return null;var t=this.tag>>6,n=31&this.tag,o=this.posContent(),a=Math.abs(this.length);if(0!==t){if(null!==this.sub)return"("+this.sub.length+" elem)";var s=this.stream.parseStringISO(o,o+Math.min(a,r));return this.reSeemsASCII.test(s)?s.substring(0,2*r)+(s.length>2*r?i:""):this.stream.parseOctetString(o,o+a)}switch(n){case 1:return 0===this.stream.get(o)?"false":"true";case 2:return this.stream.parseInteger(o,o+a);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(o,o+a);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(o,o+a);case 6:return this.stream.parseOID(o,o+a);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(o,o+a);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(o,o+a);case 30:return this.stream.parseStringBMP(o,o+a);case 23:case 24:return this.stream.parseTime(o,o+a)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(t){if(t===e&&(t=""),document.writeln(t+this),null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;r>n;++n)this.sub[n].print(t)}},n.prototype.toPrettyString=function(t){t===e&&(t="");var n=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(n+="+"),n+=this.length,32&this.tag?n+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+=" (encapsulates)"),n+="\n",null!==this.sub){t+="  ";for(var r=0,i=this.sub.length;i>r;++r)n+=this.sub[r].toPrettyString(t)}return n},n.prototype.toDOM=function(){var e=o.tag("div","node");e.asn1=this;var t=o.tag("div","head"),n=this.typeName().replace(/_/g," ");t.innerHTML=n;var r=this.content();if(null!==r){r=String(r).replace(/</g,"&lt;");var i=o.tag("span","preview");i.appendChild(o.text(r)),t.appendChild(i)}e.appendChild(t),this.node=e,this.head=t;var a=o.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==r&&(n+="<br/>Value:<br/><b>"+r+"</b>","object"==typeof oids&&6==this.tag)){var s=oids[r];s&&(s.d&&(n+="<br/>"+s.d),s.c&&(n+="<br/>"+s.c),s.w&&(n+="<br/>(warning!)"))}a.innerHTML=n,e.appendChild(a);var c=o.tag("div","sub");if(null!==this.sub)for(var l=0,u=this.sub.length;u>l;++l)c.appendChild(this.sub[l].toDOM());return e.appendChild(c),t.onclick=function(){e.className="node collapsed"==e.className?"node":"node collapsed"},e},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(e){this.node.className+=" hover",e&&(this.head.className+=" hover")},n.prototype.fakeOut=function(e){var t=/ ?hover/;this.node.className=this.node.className.replace(t,""),e&&(this.head.className=this.head.className.replace(t,""))},n.prototype.toHexDOM_sub=function(e,t,n,r,i){if(!(r>=i)){var a=o.tag("span",t);a.appendChild(o.text(n.hexDump(r,i))),e.appendChild(a)}},n.prototype.toHexDOM=function(t){var n=o.tag("span","hex");if(t===e&&(t=n),this.head.hexNode=n,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},n.asn1=this,n.onmouseover=function(){var e=!t.selected;e&&(t.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(e)},n.onmouseout=function(){var e=t.selected==this.asn1;this.asn1.fakeOut(e),e&&(t.selected=null,this.className="hex")},this.toHexDOM_sub(n,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(n,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)n.appendChild(o.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var r=this.sub[0],i=this.sub[this.sub.length-1];this.toHexDOM_sub(n,"intro",this.stream,this.posContent(),r.posStart());for(var a=0,s=this.sub.length;s>a;++a)n.appendChild(this.sub[a].toHexDOM(t));this.toHexDOM_sub(n,"outro",this.stream,i.posEnd(),this.posEnd())}return n},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0===n)return-1;t=0;for(var r=0;n>r;++r)t=t<<8|e.get();return t},n.hasContent=function(e,r,i){if(32&e)return!0;if(3>e||e>4)return!1;var o=new t(i);3==e&&o.get();var a=o.get();if(a>>6&1)return!1;try{var s=n.decodeLength(o);return o.pos-i.pos+s==r}catch(c){return!1}},n.decode=function(e){e instanceof t||(e=new t(e,0));var r=new t(e),i=e.get(),o=n.decodeLength(e),a=e.pos-r.pos,s=null;if(n.hasContent(i,o,e)){var c=e.pos;if(3==i&&e.get(),s=[],o>=0){for(var l=c+o;e.pos<l;)s[s.length]=n.decode(e);if(e.pos!=l)throw"Content size is not correct for container starting at offset "+c}else try{for(;;){var u=n.decode(e);if(0===u.tag)break;s[s.length]=u}o=c-e.pos}catch(d){throw"Exception while decoding undefined length content: "+d}}else e.pos+=o;return new n(r,a,o,i,s)},n.test=function(){for(var e=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,i=e.length;i>r;++r){var o=new t(e[r].value,0),a=n.decodeLength(o);a!=e[r].expected&&document.write("In test["+r+"] expected "+e[r].expected+" got "+a+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},lt.prototype.parseKey=function(e){try{var t=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,i=r.test(e)?Hex.decode(e):Base64.unarmor(e),o=ASN1.decode(i);if(9===o.sub.length){t=o.sub[1].getHexStringValue(),this.n=st(t,16),n=o.sub[2].getHexStringValue(),this.e=parseInt(n,16);var a=o.sub[3].getHexStringValue();this.d=st(a,16);var s=o.sub[4].getHexStringValue();this.p=st(s,16);var c=o.sub[5].getHexStringValue();this.q=st(c,16);var l=o.sub[6].getHexStringValue();this.dmp1=st(l,16);var u=o.sub[7].getHexStringValue();this.dmq1=st(u,16);var d=o.sub[8].getHexStringValue();this.coeff=st(d,16)}else{if(2!==o.sub.length)return!1;var p=o.sub[1],m=p.sub[0];t=m.sub[0].getHexStringValue(),this.n=st(t,16),n=m.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(f){return!1}},lt.prototype.getPrivateBaseKey=function(){var e={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},t=new KJUR.asn1.DERSequence(e);return t.getEncodedHex()},lt.prototype.getPrivateBaseKeyB64=function(){return bt(this.getPrivateBaseKey())},lt.prototype.getPublicBaseKey=function(){var e={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},t=new KJUR.asn1.DERSequence(e);e={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var n=new KJUR.asn1.DERSequence(e);e={hex:"00"+n.getEncodedHex()};var r=new KJUR.asn1.DERBitString(e);e={array:[t,r]};var i=new KJUR.asn1.DERSequence(e);return i.getEncodedHex()},lt.prototype.getPublicBaseKeyB64=function(){return bt(this.getPublicBaseKey())},lt.prototype.wordwrap=function(e,t){if(t=t||64,!e)return e;var n="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},lt.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----"},lt.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----"},lt.prototype.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},lt.prototype.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},lt.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)};var zt=function(e){lt.call(this),e&&("string"==typeof e?this.parseKey(e):(this.hasPrivateKeyProperty(e)||this.hasPublicKeyProperty(e))&&this.parsePropertiesFrom(e))};zt.prototype=new lt,zt.prototype.constructor=zt;var Wt=function(e){e=e||{},this.default_key_size=parseInt(e.default_key_size)||1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null};Wt.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new zt(e)},Wt.prototype.setPrivateKey=function(e){this.setKey(e)},Wt.prototype.setPublicKey=function(e){this.setKey(e)},Wt.prototype.decrypt=function(e){try{return this.getKey().decrypt(_t(e))}catch(t){return!1}},Wt.prototype.encrypt=function(e){try{return bt(this.getKey().encrypt(e))}catch(t){return!1}},Wt.prototype.getKey=function(e){if(!this.key){if(this.key=new zt,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Wt.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Wt.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Wt.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Wt.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.JSEncrypt=Wt}(JSEncryptExports);var JSEncrypt=JSEncryptExports.JSEncrypt;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return ar.apply(null,arguments)}function t(e){ar=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,r){return Ne(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(e){return null==e._pf&&(e._pf=c()),e._pf}function u(e){if(null==e._isValid){var t=l(e),n=sr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(NaN);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function p(e){return void 0===e}function m(e,t){var n,r,i;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=l(t)),p(t._locale)||(e._locale=t._locale),cr.length>0)for(n in cr)r=cr[n],i=t[r],p(i)||(e[r]=i);return e}function f(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),lr===!1&&(lr=!0,e.updateOffset(this),lr=!1)}function h(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&a++;return a+o}function b(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,n){var r=!0;return a(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),r&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function E(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ur[t]||(b(n),ur[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var n,r=a({},e);for(n in t)o(t,n)&&(S(e[n])&&S(t[n])?(r[n]={},a(r[n],e[n]),a(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);return r}function I(e){null!=e&&this.set(e)}function O(e){return e?e.toLowerCase().replace("_","-"):e}function A(e){for(var t,n,r,i,o=0;o<e.length;){for(i=O(e[o]).split("-"),t=i.length,n=O(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}o++}return null}function $(e){var t=null;if(!fr[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=pr._abbr,require("./locale/"+e),D(t)}catch(n){}return fr[e]}function D(e,t){var n;return e&&(n=p(t)?k(e):x(e,t),n&&(pr=n)),pr._abbr}function x(e,t){return null!==t?(t.abbr=e,null!=fr[e]?(E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=T(fr[e]._config,t)):null!=t.parentLocale&&(null!=fr[t.parentLocale]?t=T(fr[t.parentLocale]._config,t):E("parentLocaleUndefined","specified parentLocale is not defined yet")),fr[e]=new I(t),D(e),fr[e]):(delete fr[e],null)}function R(e,t){if(null!=t){var n;null!=fr[e]&&(t=T(fr[e]._config,t)),n=new I(t),n.parentLocale=fr[e],fr[e]=n,D(e)}else null!=fr[e]&&(null!=fr[e].parentLocale?fr[e]=fr[e].parentLocale:null!=fr[e]&&delete fr[e]);return fr[e]}function k(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pr;if(!n(e)){if(t=$(e))return t;e=[e]}return A(e)}function P(){return dr(fr)}function N(e,t){var n=e.toLowerCase();hr[n]=hr[n+"s"]=hr[t]=e}function M(e){return"string"==typeof e?hr[e]||hr[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)o(e,n)&&(t=M(n),t&&(r[t]=e[n]));return r}function U(t,n){return function(r){return null!=r?(G(this,t,r),e.updateOffset(this,n),this):F(this,t)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function B(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=M(e),C(this[e]))return this[e](t);return this}function H(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function j(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(br[e]=i),t&&(br[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),n&&(br[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(gr);for(t=0,n=r.length;n>t;t++)br[r[t]]?r[t]=br[r[t]]:r[t]=V(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=Y(t,e.localeData()),yr[t]=yr[t]||z(t),yr[t](e)):e.localeData().invalidDate()}function Y(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(vr.lastIndex=0;r>=0&&vr.test(e);)e=e.replace(vr,n),vr.lastIndex=0,r-=1;return e}function q(e,t,n){Lr[e]=C(t)?t:function(e,r){return e&&n?n:t}}function K(e,t){return o(Lr,e)?Lr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)Ur[e[n]]=r}function X(e,t){Q(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ee(e,t,n){null!=t&&o(Ur,e)&&Ur[e](t,n._a,n,e)}function te(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ne(e,t){return n(this._months)?this._months[e.month()]:this._months[qr.test(t)?"format":"standalone"][e.month()]}function re(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qr.test(t)?"format":"standalone"][e.month()]}function ie(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=s([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=mr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=mr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=mr.call(this._shortMonthsParse,a),-1!==i?i:(i=mr.call(this._longMonthsParse,a),-1!==i?i:null)):(i=mr.call(this._longMonthsParse,a),-1!==i?i:(i=mr.call(this._shortMonthsParse,a),-1!==i?i:null))}function oe(e,t,n){var r,i,o;if(this._monthsParseExact)return ie.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ae(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),
e}function se(t){return null!=t?(ae(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ce(){return te(this.year(),this.month())}function le(e){return this._monthsParseExact?(o(this,"_monthsRegex")||de.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function ue(e){return this._monthsParseExact?(o(this,"_monthsRegex")||de.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function de(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=s([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=Z(r[t]),i[t]=Z(i[t]),o[t]=Z(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pe(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[Gr]<0||n[Gr]>11?Gr:n[Br]<1||n[Br]>te(n[Fr],n[Gr])?Br:n[Hr]<0||n[Hr]>24||24===n[Hr]&&(0!==n[jr]||0!==n[Vr]||0!==n[zr])?Hr:n[jr]<0||n[jr]>59?jr:n[Vr]<0||n[Vr]>59?Vr:n[zr]<0||n[zr]>999?zr:-1,l(e)._overflowDayOfYear&&(Fr>t||t>Br)&&(t=Br),l(e)._overflowWeeks&&-1===t&&(t=Wr),l(e)._overflowWeekday&&-1===t&&(t=Yr),l(e).overflow=t),e}function me(e){var t,n,r,i,o,a,s=e._i,c=Xr.exec(s)||ei.exec(s);if(c){for(l(e).iso=!0,t=0,n=ni.length;n>t;t++)if(ni[t][1].exec(c[1])){i=ni[t][0],r=ni[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=ri.length;n>t;t++)if(ri[t][1].exec(c[3])){o=(c[2]||" ")+ri[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!ti.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Ae(e)}else e._isValid=!1}function fe(t){var n=ii.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(me(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function he(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ge(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ve(e){return ye(e)?366:365}function ye(e){return e%4===0&&e%100!==0||e%400===0}function be(){return ye(this.year())}function _e(e,t,n){var r=7+t-n,i=(7+ge(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Ee(e,t,n,r,i){var o,a,s=(7+n-r)%7,c=_e(e,r,i),l=1+7*(t-1)+s+c;return 0>=l?(o=e-1,a=ve(o)+l):l>ve(e)?(o=e+1,a=l-ve(e)):(o=e,a=l),{year:o,dayOfYear:a}}function Ce(e,t,n){var r,i,o=_e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+Se(i,t,n)):a>Se(e.year(),t,n)?(r=a-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Se(e,t,n){var r=_e(e,t,n),i=_e(e+1,t,n);return(ve(e)-r+i)/7}function we(e,t,n){return null!=e?e:null!=t?t:n}function Te(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Ie(e){var t,n,r,i,o=[];if(!e._d){for(r=Te(e),e._w&&null==e._a[Br]&&null==e._a[Gr]&&Oe(e),e._dayOfYear&&(i=we(e._a[Fr],r[Fr]),e._dayOfYear>ve(i)&&(l(e)._overflowDayOfYear=!0),n=ge(i,0,e._dayOfYear),e._a[Gr]=n.getUTCMonth(),e._a[Br]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Hr]&&0===e._a[jr]&&0===e._a[Vr]&&0===e._a[zr]&&(e._nextDay=!0,e._a[Hr]=0),e._d=(e._useUTC?ge:he).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Hr]=24)}}function Oe(e){var t,n,r,i,o,a,s,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=we(t.GG,e._a[Fr],Ce(Me(),1,4).year),r=we(t.W,1),i=we(t.E,1),(1>i||i>7)&&(c=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=we(t.gg,e._a[Fr],Ce(Me(),o,a).year),r=we(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(c=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o),1>r||r>Se(n,o,a)?l(e)._overflowWeeks=!0:null!=c?l(e)._overflowWeekday=!0:(s=Ee(n,r,i,o,a),e._a[Fr]=s.year,e._dayOfYear=s.dayOfYear)}function Ae(t){if(t._f===e.ISO_8601)return void me(t);t._a=[],l(t).empty=!0;var n,r,i,o,a,s=""+t._i,c=s.length,u=0;for(i=Y(t._f,t._locale).match(gr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(K(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&l(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),br[o]?(r?l(t).empty=!1:l(t).unusedTokens.push(o),ee(o,r,t)):t._strict&&!r&&l(t).unusedTokens.push(o);l(t).charsLeftOver=c-u,s.length>0&&l(t).unusedInput.push(s),l(t).bigHour===!0&&t._a[Hr]<=12&&t._a[Hr]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Hr]=$e(t._locale,t._a[Hr],t._meridiem),Ie(t),pe(t)}function $e(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function De(e){var t,n,r,i,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ae(t),u(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==r||r>o)&&(r=o,n=t));a(e,n||t)}function xe(e){if(!e._d){var t=L(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ie(e)}}function Re(e){var t=new f(pe(ke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ke(e){var t=e._i,i=e._f;return e._locale=e._locale||k(e._l),null===t||void 0===i&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),h(t)?new f(pe(t)):(n(i)?De(e):i?Ae(e):r(t)?e._d=t:Pe(e),u(e)||(e._d=null),e))}function Pe(t){var o=t._i;void 0===o?t._d=new Date(e.now()):r(o)?t._d=new Date(o.valueOf()):"string"==typeof o?fe(t):n(o)?(t._a=i(o.slice(0),function(e){return parseInt(e,10)}),Ie(t)):"object"==typeof o?xe(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Ne(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Re(o)}function Me(e,t,n,r){return Ne(e,t,n,r,!1)}function Le(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Me();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function Ue(){var e=[].slice.call(arguments,0);return Le("isBefore",e)}function Fe(){var e=[].slice.call(arguments,0);return Le("isAfter",e)}function Ge(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=k(),this._bubble()}function Be(e){return e instanceof Ge}function He(e,t){j(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function je(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(li)||["-",0,0],o=+(60*i[1])+v(i[2]);return"+"===i[0]?o:-o}function Ve(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(h(t)||r(t)?t.valueOf():Me(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),e.updateOffset(i,!1),i):Me(t).local()}function ze(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function We(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=je(Pr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=ze(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?lt(this,rt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:ze(this):null!=t?this:NaN}function Ye(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qe(e){return this.utcOffset(0,e)}function Ke(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ze(this),"m")),this}function Je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(je(kr,this._i)),this}function Ze(e){return this.isValid()?(e=e?Me(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xe(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=ke(e),e._a){var t=e._isUTC?s(e._a):Me(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function et(){return this.isValid()?!this._isUTC:!1}function tt(){return this.isValid()?this._isUTC:!1}function nt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function rt(e,t){var n,r,i,a=e,s=null;return Be(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=ui.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[Br])*n,h:v(s[Hr])*n,m:v(s[jr])*n,s:v(s[Vr])*n,ms:v(s[zr])*n}):(s=di.exec(e))?(n="-"===s[1]?-1:1,a={y:it(s[2],n),M:it(s[3],n),w:it(s[4],n),d:it(s[5],n),h:it(s[6],n),m:it(s[7],n),s:it(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=at(Me(a.from),Me(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Ge(a),Be(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function it(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ot(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function at(e,t){var n;return e.isValid()&&t.isValid()?(t=Ve(t,e),e.isBefore(t)?n=ot(e,t):(n=ot(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function st(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function ct(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=rt(n,r),lt(this,i,e),this}}function lt(t,n,r,i){var o=n._milliseconds,a=st(n._days),s=st(n._months);t.isValid()&&(i=null==i?!0:i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&G(t,"Date",F(t,"Date")+a*r),s&&ae(t,F(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function ut(e,t){var n=e||Me(),r=Ve(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",a=t&&(C(t[o])?t[o]():t[o]);return this.format(a||this.localeData().calendar(o,this,Me(n)))}function dt(){return new f(this)}function pt(e,t){var n=h(e)?e:Me(e);return this.isValid()&&n.isValid()?(t=M(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function mt(e,t){var n=h(e)?e:Me(e);return this.isValid()&&n.isValid()?(t=M(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ft(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ht(e,t){var n,r=h(e)?e:Me(e);return this.isValid()&&r.isValid()?(t=M(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function gt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yt(e,t,n){var r,i,o,a;return this.isValid()?(r=Ve(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=M(t),"year"===t||"month"===t||"quarter"===t?(a=bt(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:g(a)):NaN):NaN}function bt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function _t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Et(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ct(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=W(this,t);return this.localeData().postformat(n)}function St(e,t){return this.isValid()&&(h(e)&&e.isValid()||Me(e).isValid())?rt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wt(e){return this.from(Me(),e)}function Tt(e,t){return this.isValid()&&(h(e)&&e.isValid()||Me(e).isValid())?rt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function It(e){return this.to(Me(),e)}function Ot(e){var t;return void 0===e?this._locale._abbr:(t=k(e),null!=t&&(this._locale=t),this)}function At(){return this._locale}function $t(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Dt(e){return e=M(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function xt(){return this._d.valueOf()-6e4*(this._offset||0)}function Rt(){return Math.floor(this.valueOf()/1e3)}function kt(){return this._offset?new Date(this.valueOf()):this._d}function Pt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Nt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mt(){return this.isValid()?this.toISOString():null}function Lt(){return u(this)}function Ut(){return a({},l(this))}function Ft(){return l(this).overflow}function Gt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Bt(e,t){j(0,[e,e.length],0,t)}function Ht(e){return Wt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jt(e){return Wt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Vt(){return Se(this.year(),1,4)}function zt(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function Wt(e,t,n,r,i){var o;return null==e?Ce(this,r,i).year:(o=Se(e,r,i),t>o&&(t=o),Yt.call(this,e,t,n,r,i))}function Yt(e,t,n,r,i){var o=Ee(e,t,n,r,i),a=ge(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function qt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Kt(e){return Ce(e,this._week.dow,this._week.doy).week}function Jt(){return this._week.dow}function Zt(){return this._week.doy}function Qt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Xt(e){var t=Ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function en(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function tn(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function nn(e){return this._weekdaysShort[e.day()]}function rn(e){return this._weekdaysMin[e.day()]}function on(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=s([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=mr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=mr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=mr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=mr.call(this._weekdaysParse,a),-1!==i?i:(i=mr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=mr.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=mr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=mr.call(this._weekdaysParse,a),-1!==i?i:(i=mr.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=mr.call(this._minWeekdaysParse,a),-1!==i?i:(i=mr.call(this._weekdaysParse,a),-1!==i?i:(i=mr.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function an(e,t,n){var r,i,o;if(this._weekdaysParseExact)return on.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=s([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function sn(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=en(e,this.localeData()),this.add(e-t,"d")):t}function cn(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ln(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function un(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function pn(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||mn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function mn(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],c=[],l=[],u=[];for(t=0;7>t;t++)n=s([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),c.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),c.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)c[t]=Z(c[t]),l[t]=Z(l[t]),u[t]=Z(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function fn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function hn(){return this.hours()%12||12}function gn(){return this.hours()||24}function vn(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function yn(e,t){return t._meridiemParse}function bn(e){return"p"===(e+"").toLowerCase().charAt(0)}function _n(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function En(e,t){t[zr]=v(1e3*("0."+e))}function Cn(){return this._isUTC?"UTC":""}function Sn(){return this._isUTC?"Coordinated Universal Time":""}function wn(e){return Me(1e3*e)}function Tn(){return Me.apply(null,arguments).parseZone()}function In(e,t,n){var r=this._calendar[e];return C(r)?r.call(t,n):r}function On(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function An(){return this._invalidDate}function $n(e){return this._ordinal.replace("%d",e)}function Dn(e){return e}function xn(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Rn(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function kn(e,t,n,r){var i=k(),o=s().set(r,t);return i[n](o,e)}function Pn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return kn(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=kn(e,r,n,"month");return i}function Nn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=k(),o=e?i._week.dow:0;if(null!=n)return kn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=kn(t,(a+o)%7,r,"day");return s}function Mn(e,t){return Pn(e,t,"months")}function Ln(e,t){return Pn(e,t,"monthsShort")}function Un(e,t,n){return Nn(e,t,n,"weekdays")}function Fn(e,t,n){return Nn(e,t,n,"weekdaysShort")}function Gn(e,t,n){return Nn(e,t,n,"weekdaysMin")}function Bn(){var e=this._data;return this._milliseconds=Ui(this._milliseconds),this._days=Ui(this._days),this._months=Ui(this._months),e.milliseconds=Ui(e.milliseconds),e.seconds=Ui(e.seconds),e.minutes=Ui(e.minutes),e.hours=Ui(e.hours),e.months=Ui(e.months),e.years=Ui(e.years),this}function Hn(e,t,n,r){var i=rt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function jn(e,t){return Hn(this,e,t,1)}function Vn(e,t){return Hn(this,e,t,-1)}function zn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Wn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*zn(qn(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=g(o/1e3),c.seconds=e%60,t=g(e/60),c.minutes=t%60,n=g(t/60),c.hours=n%24,a+=g(n/24),i=g(Yn(a)),s+=i,a-=zn(qn(i)),r=g(s/12),s%=12,c.days=a,c.months=s,c.years=r,this}function Yn(e){return 4800*e/146097}function qn(e){return 146097*e/4800}function Kn(e){var t,n,r=this._milliseconds;if(e=M(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Yn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(qn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Jn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Zn(e){return function(){return this.as(e)}}function Qn(e){return e=M(e),this[e+"s"]()}function Xn(e){return function(){return this._data[e]}}function er(){return g(this.days()/7)}function tr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function nr(e,t,n){var r=rt(e).abs(),i=eo(r.as("s")),o=eo(r.as("m")),a=eo(r.as("h")),s=eo(r.as("d")),c=eo(r.as("M")),l=eo(r.as("y")),u=i<to.s&&["s",i]||1>=o&&["m"]||o<to.m&&["mm",o]||1>=a&&["h"]||a<to.h&&["hh",a]||1>=s&&["d"]||s<to.d&&["dd",s]||1>=c&&["M"]||c<to.M&&["MM",c]||1>=l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,tr.apply(null,u)}function rr(e,t){return void 0===to[e]?!1:void 0===t?to[e]:(to[e]=t,!0)}function ir(e){var t=this.localeData(),n=nr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function or(){var e,t,n,r=no(this._milliseconds)/1e3,i=no(this._days),o=no(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(o/12),o%=12;var a=n,s=o,c=i,l=t,u=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var ar,sr;sr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var cr=e.momentProperties=[],lr=!1,ur={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var dr;dr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var pr,mr,fr={},hr={},gr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yr={},br={},_r=/\d/,Er=/\d\d/,Cr=/\d{3}/,Sr=/\d{4}/,wr=/[+-]?\d{6}/,Tr=/\d\d?/,Ir=/\d\d\d\d?/,Or=/\d\d\d\d\d\d?/,Ar=/\d{1,3}/,$r=/\d{1,4}/,Dr=/[+-]?\d{1,6}/,xr=/\d+/,Rr=/[+-]?\d+/,kr=/Z|[+-]\d\d:?\d\d/gi,Pr=/Z|[+-]\d\d(?::?\d\d)?/gi,Nr=/[+-]?\d+(\.\d{1,3})?/,Mr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Lr={},Ur={},Fr=0,Gr=1,Br=2,Hr=3,jr=4,Vr=5,zr=6,Wr=7,Yr=8;mr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),q("M",Tr),q("MM",Tr,Er),q("MMM",function(e,t){return t.monthsShortRegex(e)}),q("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[Gr]=v(e)-1}),Q(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Gr]=i:l(n).invalidMonth=e});var qr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Kr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Zr=Mr,Qr=Mr,Xr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ti=/Z|[+-]\d\d(?::?\d\d)?/,ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ii=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),j("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),N("year","y"),q("Y",Rr),q("YY",Tr,Er),q("YYYY",$r,Sr),q("YYYYY",Dr,wr),q("YYYYYY",Dr,wr),Q(["YYYYY","YYYYYY"],Fr),Q("YYYY",function(t,n){n[Fr]=2===t.length?e.parseTwoDigitYear(t):v(t)}),Q("YY",function(t,n){n[Fr]=e.parseTwoDigitYear(t)}),Q("Y",function(e,t){t[Fr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var oi=U("FullYear",!0);e.ISO_8601=function(){};var ai=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),si=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),ci=function(){return Date.now?Date.now():+new Date};He("Z",":"),He("ZZ",""),q("Z",Pr),q("ZZ",Pr),Q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=je(Pr,e)});var li=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ui=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;rt.fn=Ge.prototype;var pi=ct(1,"add"),mi=ct(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var fi=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bt("gggg","weekYear"),Bt("ggggg","weekYear"),Bt("GGGG","isoWeekYear"),Bt("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),q("G",Rr),q("g",Rr),q("GG",Tr,Er),q("gg",Tr,Er),q("GGGG",$r,Sr),q("gggg",$r,Sr),q("GGGGG",Dr,wr),q("ggggg",Dr,wr),X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),X(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),N("quarter","Q"),q("Q",_r),Q("Q",function(e,t){t[Gr]=3*(v(e)-1)}),j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),q("w",Tr),q("ww",Tr,Er),q("W",Tr),q("WW",Tr,Er),X(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var hi={dow:0,doy:6};j("D",["DD",2],"Do","date"),N("date","D"),q("D",Tr),q("DD",Tr,Er),q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),Q(["D","DD"],Br),Q("Do",function(e,t){t[Br]=v(e.match(Tr)[0],10)});var gi=U("Date",!0);j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),q("d",Tr),q("e",Tr),q("E",Tr),q("dd",function(e,t){return t.weekdaysMinRegex(e)}),q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),q("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:l(n).invalidWeekday=e}),X(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var vi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=Mr,Ei=Mr,Ci=Mr;j("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),q("DDD",Ar),q("DDDD",Cr),Q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),j("H",["HH",2],0,"hour"),j("h",["hh",2],0,hn),j("k",["kk",2],0,gn),j("hmm",0,0,function(){return""+hn.apply(this)+H(this.minutes(),2)}),j("hmmss",0,0,function(){return""+hn.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),vn("a",!0),vn("A",!1),N("hour","h"),q("a",yn),q("A",yn),q("H",Tr),q("h",Tr),q("HH",Tr,Er),q("hh",Tr,Er),q("hmm",Ir),q("hmmss",Or),q("Hmm",Ir),q("Hmmss",Or),Q(["H","HH"],Hr),Q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Q(["h","hh"],function(e,t,n){t[Hr]=v(e),l(n).bigHour=!0}),Q("hmm",function(e,t,n){var r=e.length-2;t[Hr]=v(e.substr(0,r)),t[jr]=v(e.substr(r)),l(n).bigHour=!0}),Q("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;
t[Hr]=v(e.substr(0,r)),t[jr]=v(e.substr(r,2)),t[Vr]=v(e.substr(i)),l(n).bigHour=!0}),Q("Hmm",function(e,t,n){var r=e.length-2;t[Hr]=v(e.substr(0,r)),t[jr]=v(e.substr(r))}),Q("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Hr]=v(e.substr(0,r)),t[jr]=v(e.substr(r,2)),t[Vr]=v(e.substr(i))});var Si=/[ap]\.?m?\.?/i,wi=U("Hours",!0);j("m",["mm",2],0,"minute"),N("minute","m"),q("m",Tr),q("mm",Tr,Er),Q(["m","mm"],jr);var Ti=U("Minutes",!1);j("s",["ss",2],0,"second"),N("second","s"),q("s",Tr),q("ss",Tr,Er),Q(["s","ss"],Vr);var Ii=U("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),q("S",Ar,_r),q("SS",Ar,Er),q("SSS",Ar,Cr);var Oi;for(Oi="SSSS";Oi.length<=9;Oi+="S")q(Oi,xr);for(Oi="S";Oi.length<=9;Oi+="S")Q(Oi,En);var Ai=U("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var $i=f.prototype;$i.add=pi,$i.calendar=ut,$i.clone=dt,$i.diff=yt,$i.endOf=Dt,$i.format=Ct,$i.from=St,$i.fromNow=wt,$i.to=Tt,$i.toNow=It,$i.get=B,$i.invalidAt=Ft,$i.isAfter=pt,$i.isBefore=mt,$i.isBetween=ft,$i.isSame=ht,$i.isSameOrAfter=gt,$i.isSameOrBefore=vt,$i.isValid=Lt,$i.lang=fi,$i.locale=Ot,$i.localeData=At,$i.max=si,$i.min=ai,$i.parsingFlags=Ut,$i.set=B,$i.startOf=$t,$i.subtract=mi,$i.toArray=Pt,$i.toObject=Nt,$i.toDate=kt,$i.toISOString=Et,$i.toJSON=Mt,$i.toString=_t,$i.unix=Rt,$i.valueOf=xt,$i.creationData=Gt,$i.year=oi,$i.isLeapYear=be,$i.weekYear=Ht,$i.isoWeekYear=jt,$i.quarter=$i.quarters=qt,$i.month=se,$i.daysInMonth=ce,$i.week=$i.weeks=Qt,$i.isoWeek=$i.isoWeeks=Xt,$i.weeksInYear=zt,$i.isoWeeksInYear=Vt,$i.date=gi,$i.day=$i.days=sn,$i.weekday=cn,$i.isoWeekday=ln,$i.dayOfYear=fn,$i.hour=$i.hours=wi,$i.minute=$i.minutes=Ti,$i.second=$i.seconds=Ii,$i.millisecond=$i.milliseconds=Ai,$i.utcOffset=We,$i.utc=qe,$i.local=Ke,$i.parseZone=Je,$i.hasAlignedHourOffset=Ze,$i.isDST=Qe,$i.isDSTShifted=Xe,$i.isLocal=et,$i.isUtcOffset=tt,$i.isUtc=nt,$i.isUTC=nt,$i.zoneAbbr=Cn,$i.zoneName=Sn,$i.dates=_("dates accessor is deprecated. Use date instead.",gi),$i.months=_("months accessor is deprecated. Use month instead",se),$i.years=_("years accessor is deprecated. Use year instead",oi),$i.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ye);var Di=$i,xi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ki="Invalid date",Pi="%d",Ni=/\d{1,2}/,Mi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Li=I.prototype;Li._calendar=xi,Li.calendar=In,Li._longDateFormat=Ri,Li.longDateFormat=On,Li._invalidDate=ki,Li.invalidDate=An,Li._ordinal=Pi,Li.ordinal=$n,Li._ordinalParse=Ni,Li.preparse=Dn,Li.postformat=Dn,Li._relativeTime=Mi,Li.relativeTime=xn,Li.pastFuture=Rn,Li.set=w,Li.months=ne,Li._months=Kr,Li.monthsShort=re,Li._monthsShort=Jr,Li.monthsParse=oe,Li._monthsRegex=Qr,Li.monthsRegex=ue,Li._monthsShortRegex=Zr,Li.monthsShortRegex=le,Li.week=Kt,Li._week=hi,Li.firstDayOfYear=Zt,Li.firstDayOfWeek=Jt,Li.weekdays=tn,Li._weekdays=vi,Li.weekdaysMin=rn,Li._weekdaysMin=bi,Li.weekdaysShort=nn,Li._weekdaysShort=yi,Li.weekdaysParse=an,Li._weekdaysRegex=_i,Li.weekdaysRegex=un,Li._weekdaysShortRegex=Ei,Li.weekdaysShortRegex=dn,Li._weekdaysMinRegex=Ci,Li.weekdaysMinRegex=pn,Li.isPM=bn,Li._meridiemParse=Si,Li.meridiem=_n,D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",D),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",k);var Ui=Math.abs,Fi=Zn("ms"),Gi=Zn("s"),Bi=Zn("m"),Hi=Zn("h"),ji=Zn("d"),Vi=Zn("w"),zi=Zn("M"),Wi=Zn("y"),Yi=Xn("milliseconds"),qi=Xn("seconds"),Ki=Xn("minutes"),Ji=Xn("hours"),Zi=Xn("days"),Qi=Xn("months"),Xi=Xn("years"),eo=Math.round,to={s:45,m:45,h:22,d:26,M:11},no=Math.abs,ro=Ge.prototype;ro.abs=Bn,ro.add=jn,ro.subtract=Vn,ro.as=Kn,ro.asMilliseconds=Fi,ro.asSeconds=Gi,ro.asMinutes=Bi,ro.asHours=Hi,ro.asDays=ji,ro.asWeeks=Vi,ro.asMonths=zi,ro.asYears=Wi,ro.valueOf=Jn,ro._bubble=Wn,ro.get=Qn,ro.milliseconds=Yi,ro.seconds=qi,ro.minutes=Ki,ro.hours=Ji,ro.days=Zi,ro.weeks=er,ro.months=Qi,ro.years=Xi,ro.humanize=ir,ro.toISOString=or,ro.toString=or,ro.toJSON=or,ro.locale=Ot,ro.localeData=At,ro.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",or),ro.lang=fi,j("X",0,0,"unix"),j("x",0,0,"valueOf"),q("x",Rr),q("X",Nr),Q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.13.0",t(Me),e.fn=Di,e.min=Ue,e.max=Fe,e.now=ci,e.utc=s,e.unix=wn,e.months=Mn,e.isDate=r,e.locale=D,e.invalid=d,e.duration=rt,e.isMoment=h,e.weekdays=Un,e.parseZone=Tn,e.localeData=k,e.isDuration=Be,e.monthsShort=Ln,e.weekdaysMin=Gn,e.defineLocale=x,e.updateLocale=R,e.locales=P,e.weekdaysShort=Fn,e.normalizeUnits=M,e.relativeTimeThreshold=rr,e.prototype=Di;var io=e;return io}),
//! license : MIT
//! github.com/moment/moment-timezone
function(e,t){"use strict";"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,i=e.split("."),o=i[0],a=i[1]||"",s=1,c=0,l=1;for(45===e.charCodeAt(0)&&(r=1,l=-1),r;r<o.length;r++)n=t(o.charCodeAt(r)),c=60*c+n;for(r=0;r<a.length;r++)s/=60,n=t(a.charCodeAt(r)),c+=n*s;return c*l}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;t>n;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),s=t[4].split(" ");return r(n),r(a),r(s),i(s,a.length),{name:t[0],abbrs:o(t[1].split(" "),a),offsets:o(n,a),untils:s}}function s(e){e&&this._set(a(e))}function c(e){return(e||"").toLowerCase().replace(/\//g,"_")}function l(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|")[0],r=c(n),E[r]=e[t],S[r]=n}function u(e,t){e=c(e);var n,r=E[e];return r instanceof s?r:"string"==typeof r?(r=new s(r),E[e]=r,r):C[e]&&t!==u&&(n=u(C[e],u))?(r=E[e]=new s,r._set(n),r.name=S[e],r):null}function d(){var e,t=[];for(e in S)S.hasOwnProperty(e)&&(E[e]||E[C[e]])&&S[e]&&t.push(S[e]);return t.sort()}function p(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=c(n[0]),i=c(n[1]),C[r]=i,S[r]=n[0],C[i]=r,S[i]=n[1]}function m(e){l(e.zones),p(e.links),v.dataVersion=e.version}function f(e){return f.didShowError||(f.didShowError=!0,g("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!u(e)}function h(e){return!(!e._a||void 0!==e._tzm)}function g(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function v(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=u(r),o=e.utc.apply(null,n);return i&&!e.isMoment(t)&&h(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}function y(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function b(e){return function(){return this._z=null,e.apply(this,arguments)}}if(void 0!==e.tz)return g("Moment Timezone "+e.tz.version+" was already loaded "+(e.tz.dataVersion?"with data from ":"without any data")+e.tz.dataVersion),e;var _="0.4.0",E={},C={},S={},w=e.version.split("."),T=+w[0],I=+w[1];(2>T||2===T&&6>I)&&g("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,o=+e,a=this.offsets,s=this.untils,c=s.length-1;for(i=0;c>i;i++)if(t=a[i],n=a[i+1],r=a[i?i-1:i],n>t&&v.moveAmbiguousForward?t=n:t>r&&v.moveInvalidForward&&(t=r),o<s[i]-6e4*t)return a[i];return a[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},v.version=_,v.dataVersion="",v._zones=E,v._links=C,v._names=S,v.add=l,v.link=p,v.load=m,v.zone=u,v.zoneExists=f,v.names=d,v.Zone=s,v.unpack=a,v.unpackBase60=n,v.needsOffset=h,v.moveInvalidForward=!0,v.moveAmbiguousForward=!1;var O=e.fn;e.tz=v,e.defaultZone=null,e.updateOffset=function(t,n){var r,i=e.defaultZone;void 0===t._z&&(i&&h(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},O.tz=function(t){return t?(this._z=u(t),this._z?e.updateOffset(this):g("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},O.zoneName=y(O.zoneName),O.zoneAbbr=y(O.zoneAbbr),O.utc=b(O.utc),e.tz.setDefault=function(t){return(2>T||2===T&&9>I)&&g("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?u(t):null,e};var A=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(A)?(A.push("_z"),A.push("_a")):A&&(A._z=null),m({version:"2015d",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|01010101010101010101010|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST|-90|0|","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT|-bu|0|","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Cayman","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Chisinau","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Tiraspol","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Pyongyang|Asia/Seoul","Asia/Pyongyang|ROK","Asia/Samarkand|Asia/Tashkent","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),e}),/*
 * ngKookies - relpacer for built-in $cookieStore
 * Porque?? - https://github.com/angular/angular.js/issues/950
 * http://github.com/voronianski/ngKookies
 * (c) 2014 MIT License, https://pixelhunter.me
 */
function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e,t){"use strict";e.module("ngKookies",[]).provider("$kookies",function(){var n=this.config={},r=this.defaults={};this.setConfig=function(t){e.extend(n,t)},this.setDefaults=function(t){e.extend(r,t)},this.$get=function(){var i={},o={};return i.decode=function(e){return n.raw?e:encodeURIComponent(e)},i.encode=function(e){return n.raw?e:decodeURIComponent(e)},i.parseCookie=function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(/\+/g," ")),n.json?e.fromJson(t):t}catch(r){}},i.stringifyCookie=function(t){return i.encode(n.json?e.toJson(t):String(t))},i.read=function(t,r){var o=n.raw?t:i.parseCookie(t);return e.isFunction(r)?r(o):o},o.get=function(e,n){for(var r=e?t:{},o=document.cookie?document.cookie.split("; "):[],a=0,s=o.length;s>a;a++){var c=o[a].split("="),l=i.decode(c.shift()),u=c.join("=");if(e&&e===l){r=i.read(u,n);break}e||(u=i.read(u))===t||(r[l]=u)}return r},o.set=function(t,n,o){if(o=o||{},o=e.extend(o,r),"number"==typeof o.expires){var a=o.expires,s=o.expires=new Date;s.setTime(+s+864e5*a)}var c=document.cookie=[i.encode(t),"=",i.stringifyCookie(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("");return c},o.remove=function(n,r){return o.get(n)===t?!1:(o.set(n,"",e.extend({expires:-1},r)),!o.get(n))},o}})}),/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,r){var i,o,a,s,c,l,d,m,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:G)!==R&&x(t),t=t||R,P)){if(11!==h&&(l=ve.exec(e)))if(i=l[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&U(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(E.qsa&&!z[e+" "]&&(!N||!N.test(e))){if(1!==h)f=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=F),d=T(e),o=d.length,c=pe.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=c+" "+p(d[o]);m=d.join(","),f=ye.test(e)&&u(t.parentNode)||t}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return O(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function m(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,l,u=[B,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[F]||(t[F]={}),c=l[t.uniqueID]||(l[t.uniqueID]={}),(s=c[r])&&s[0]===B&&s[1]===o)return u[2]=s[2];if(c[r]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;c>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,c){var l,u,d,p=[],m=[],f=a.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,c),b=n?o||(r?e:f||i)?[]:a:y;if(n&&n(y,b,s,c),i)for(l=g(b,m),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(b[m[u]]=!(y[m[u]]=d));if(r){if(o||e){if(o){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(y[u]=d);o(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=o?ee(r,d):p[u])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(f,b.length):b),o?o(null,a,b,c):Q.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,c=m(function(e){return e===t},a,!0),l=m(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=C.relative[e[s].type])u=[m(f(u),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;i>r&&!C.relative[e[r].type];r++);return v(s>1&&f(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}u.push(n)}return f(u)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,c,l){var u,d,p,m=0,f="0",h=r&&[],v=[],y=A,b=r||o&&C.find.TAG("*",l),_=B+=null==y?1:Math.random()||.1,E=b.length;for(l&&(A=a===R||a||l);f!==E&&null!=(u=b[f]);f++){if(o&&u){for(d=0,a||u.ownerDocument===R||(x(u),s=!P);p=e[d++];)if(p(u,a||R,s)){c.push(u);break}l&&(B=_)}i&&((u=!p&&u)&&m--,r&&h.push(u))}if(m+=f,i&&f!==m){for(d=0;p=n[d++];)p(h,v,a,s);if(r){if(m>0)for(;f--;)h[f]||v[f]||(v[f]=J.call(c));v=g(v)}Q.apply(c,v),l&&!r&&v.length>0&&m+n.length>1&&t.uniqueSort(c)}return l&&(B=_,A=y),h};return i?r(a):a}var _,E,C,S,w,T,I,O,A,$,D,x,R,k,P,N,M,L,U,F="sizzle"+1*new Date,G=e.document,B=0,H=0,j=n(),V=n(),z=n(),W=function(e,t){return e===t&&(D=!0),0},Y=1<<31,q={}.hasOwnProperty,K=[],J=K.pop,Z=K.push,Q=K.push,X=K.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+re+"$"),me={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){x()};try{Q.apply(K=X.call(G.childNodes),G.childNodes),K[G.childNodes.length].nodeType}catch(Se){Q={apply:K.length?function(e,t){Z.apply(e,X.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:G;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,k=R.documentElement,P=!w(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ge.test(R.getElementsByClassName),E.getById=i(function(e){return k.appendChild(e).id=F,!R.getElementsByName||!R.getElementsByName(F).length}),E.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},C.filter.ID=function(e){var t=e.replace(_e,Ee);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(_e,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=E.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},M=[],N=[],(E.qsa=ge.test(R.querySelectorAll))&&(i(function(e){k.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||N.push(".#.+[+~]")}),i(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(E.matchesSelector=ge.test(L=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&i(function(e){E.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),M.push("!=",oe)}),N=N.length&&new RegExp(N.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(k.compareDocumentPosition),U=t||ge.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===G&&U(G,e)?-1:t===R||t.ownerDocument===G&&U(G,t)?1:$?ee($,e)-ee($,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!i||!o)return e===R?-1:t===R?1:i?-1:o?1:$?ee($,e)-ee($,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?a(s[r],c[r]):s[r]===G?-1:c[r]===G?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&x(e),n=n.replace(ue,"='$1']"),E.matchesSelector&&P&&!z[n+" "]&&(!M||!M.test(n))&&(!N||!N.test(n)))try{var r=L.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&x(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&x(e);var n=C.attrHandle[t.toLowerCase()],r=n&&q.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:E.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!E.detectDuplicates,$=!E.sortStable&&e.slice(0),e.sort(W),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return $=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,m,f,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;h;){for(p=t;p=p[h];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=g,d=p[F]||(p[F]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],m=l[0]===B&&l[1],b=m&&l[2],p=m&&g.childNodes[m];p=++m&&p&&p[h]||(b=m=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[B,m,b];break}}else if(y&&(p=t,d=p[F]||(p[F]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],m=l[0]===B&&l[1],b=m),b===!1)for(;(p=++m&&p&&p[h]||(b=m=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&(d=p[F]||(p[F]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[B,b]),p!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=I(e.replace(se,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,Ee),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,Ee).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})C.pseudos[_]=c(_);d.prototype=C.filters=C.pseudos,C.setFilters=new d,T=t.tokenize=function(e,n){var r,i,o,a,s,c,l,u=V[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=C.preFilter;s;){(!r||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in C.filter)!(i=me[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,c).slice(0)},I=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=z(e,b(i,r)),o.selector=e}return o},O=t.select=function(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,d=!r&&T(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&P&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(_e,Ee),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=me.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((c=C.find[s])&&(r=c(a.matches[0].replace(_e,Ee),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Q.apply(n,r),n;break}}return(l||I(e,d))(r,t,!P,n,!t||ye.test(e)&&u(t.parentNode)||t),n},E.sortStable=F.split("").sort(W).join("")===F,E.detectDuplicates=!!D,x(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sizzle=t}(window),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.pako=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=c.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===p.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,i),n!==h)throw new Error(u[n]);this._dict_set=!0}}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,i(e,t)}function a(e,t){return t=t||{},t.gzip=!0,i(e,t)}var s=e("./zlib/deflate"),c=e("./utils/common"),l=e("./utils/strings"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=Object.prototype.toString,m=0,f=4,h=0,g=1,v=2,y=-1,b=0,_=8;r.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?f:m,"string"==typeof e?i.input=l.string2buf(e):"[object ArrayBuffer]"===p.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new c.Buf8(o),i.next_out=0,i.avail_out=o),n=s.deflate(i,r),n!==g&&n!==h)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&(r===f||r===v))&&("string"===this.options.to?this.onData(l.buf2binstring(c.shrinkBuf(i.output,i.next_out))):this.onData(c.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==g);return r===f?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):r===v?(this.onEnd(h),i.avail_out=0,!0):!0},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=o,n.gzip=a},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==l.Z_OK)throw new Error(u[n]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,i(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),c=e("./utils/strings"),l=e("./zlib/constants"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=e("./zlib/gzheader"),m=Object.prototype.toString;r.prototype.push=function(e,t){var n,r,i,o,u,d,p=this.strm,f=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;r=t===~~t?t:t===!0?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?p.input=c.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(f),p.next_out=0,p.avail_out=f),n=a.inflate(p,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&h&&(d="string"==typeof h?c.string2buf(h):"[object ArrayBuffer]"===m.call(h)?new Uint8Array(h):h,n=a.inflateSetDictionary(this.strm,d)),n===l.Z_BUF_ERROR&&g===!0&&(n=l.Z_OK,g=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0===p.avail_out||n===l.Z_STREAM_END||0===p.avail_in&&(r===l.Z_FINISH||r===l.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=c.utf8border(p.output,p.next_out),o=p.next_out-i,u=c.buf2string(p.output,i),p.next_out=o,p.avail_out=f-o,o&&s.arraySet(p.output,p.output,i,o,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r===l.Z_SYNC_FLUSH?(this.onEnd(l.Z_OK),p.avail_out=0,!0):!0},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=r,n.inflate=i,n.inflateRaw=o,n.ungzip=i},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var o=0;r>o;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;n>t;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;r>o;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],4:[function(e,t,n){"use strict";function r(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;t>r;r++)n+=String.fromCharCode(e[r]);return n}var i=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var c=new i.Buf8(256),l=0;256>l;l++)c[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;c[254]=c[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=e.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),c+=128>n?1:2048>n?2:65536>n?3:4;for(t=new i.Buf8(c),a=0,o=0;c>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=e.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;r>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,o,a,s=t||e.length,l=new Array(2*s);for(i=0,n=0;s>n;)if(o=e[n++],128>o)l[i++]=o;else if(a=c[o],a>4)l[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&e[n++],a--;a>1?l[i++]=65533:65536>o?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return r(l,i)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+c[e[n]]>t?n:t}},{"./common":3}],5:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],6:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;a>s;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}var o=r();t.exports=i},{}],8:[function(e,t,n){"use strict";function r(e,t){return e.msg=P[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(D.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){x._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,D.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=R(e.adler,t,i,n):2===e.state.wrap&&(e.adler=k(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+ue,m=l[o+a-1],f=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,l[n+a]===f&&l[n+a-1]===m&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do;while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&p>o);if(r=ue-(p-o),o=p-ue,r>a){if(e.match_start=t,a=r,r>=s)break;m=l[o+a-1],f=l[o+a]}}while((t=d[t&u])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){D.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=a?r-a:0;while(--n);n=a,t=n;do r=e.prev[--t],e.prev[t]=r>=a?r-a:0;while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=le)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+le-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<le)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function m(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===N)return _e;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return _e;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?Ce:Se):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?_e:_e}function f(e,t){for(var n,r;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===N)return _e;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=le)if(r=x._tr_tally(e,e.strstart-e.match_start,e.match_length-le),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=le){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;
if(r&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=e.strstart<le-1?e.strstart:le-1,t===U?(s(e,!0),0===e.strm.avail_out?Ce:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:Ee}function h(e,t){for(var n,r,i;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===N)return _e;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=le-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===le&&e.strstart-e.match_start>4096)&&(e.match_length=le-1)),e.prev_length>=le&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-le,r=x._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-le),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=le-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return _e}else if(e.match_available){if(r=x._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return _e}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=x._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<le-1?e.strstart:le-1,t===U?(s(e,!0),0===e.strm.avail_out?Ce:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:Ee}function g(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=ue){if(p(e),e.lookahead<=ue&&t===N)return _e;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=le&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+ue;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&o>i);e.match_length=ue-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=le?(n=x._tr_tally(e,1,e.match_length-le),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?Ce:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:Ee}function v(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===N)return _e;break}if(e.match_length=0,n=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?Ce:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?_e:Ee}function y(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function b(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=$[e.level].max_lazy,e.good_match=$[e.level].good_length,e.nice_match=$[e.level].nice_length,e.max_chain_length=$[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=le-1,e.match_available=0,e.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*se),this.dyn_dtree=new D.Buf16(2*(2*oe+1)),this.bl_tree=new D.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ce+1),this.heap=new D.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?me:ye,e.adler=2===t.wrap?0:1,t.last_flush=N,x._tr_init(t),G):r(e,H)}function C(e){var t=E(e);return t===G&&b(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,G):H}function w(e,t,n,i,o,a){if(!e)return H;var s=1;if(t===z&&(t=6),0>i?(s=0,i=-i):i>15&&(s=2,i-=16),1>o||o>X||n!==Q||8>i||i>15||0>t||t>9||0>a||a>K)return r(e,H);8===i&&(i=9);var c=new _;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+le-1)/le),c.window=new D.Buf8(2*c.w_size),c.head=new D.Buf16(c.hash_size),c.prev=new D.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new D.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,C(e)}function T(e,t){return w(e,t,Q,ee,te,J)}function I(e,t){var n,s,u,d;if(!e||!e.state||t>F||0>t)return e?r(e,H):H;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===be&&t!==U)return r(e,0===e.avail_out?V:H);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===me)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=k(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=fe):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),c(s,we),s.status=ye);else{var p=Q+(s.w_bits-8<<4)<<8,m=-1;m=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,p|=m<<6,0!==s.strstart&&(p|=pe),p+=31-p%31,s.status=ye,l(s,p),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===fe)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=he)}else s.status=he;if(s.status===he)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=k(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=ye)):s.status=ye),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,G}else if(0===e.avail_in&&i(t)<=i(n)&&t!==U)return r(e,V);if(s.status===be&&0!==e.avail_in)return r(e,V);if(0!==e.avail_in||0!==s.lookahead||t!==N&&s.status!==be){var f=s.strategy===Y?v(s,t):s.strategy===q?g(s,t):$[s.level].func(s,t);if((f===Ce||f===Se)&&(s.status=be),f===_e||f===Ce)return 0===e.avail_out&&(s.last_flush=-1),G;if(f===Ee&&(t===M?x._tr_align(s):t!==F&&(x._tr_stored_block(s,0,0,!1),t===L&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,G}return t!==U?G:s.wrap<=0?B:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?G:B)}function O(e){var t;return e&&e.state?(t=e.state.status,t!==me&&t!==fe&&t!==he&&t!==ge&&t!==ve&&t!==ye&&t!==be?r(e,H):(e.state=null,t===ye?r(e,j):G)):H}function A(e,t){var n,r,i,a,s,c,l,u,d=t.length;if(!e||!e.state)return H;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==me||n.lookahead)return H;for(1===a&&(e.adler=R(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new D.Buf8(n.w_size),D.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=le;){r=n.strstart,i=n.lookahead-(le-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+le-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--i);n.strstart=r,n.lookahead=le-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=le-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=a,G}var $,D=e("../utils/common"),x=e("./trees"),R=e("./adler32"),k=e("./crc32"),P=e("./messages"),N=0,M=1,L=3,U=4,F=5,G=0,B=1,H=-2,j=-3,V=-5,z=-1,W=1,Y=2,q=3,K=4,J=0,Z=2,Q=8,X=9,ee=15,te=8,ne=29,re=256,ie=re+1+ne,oe=30,ae=19,se=2*ie+1,ce=15,le=3,ue=258,de=ue+le+1,pe=32,me=42,fe=69,he=73,ge=91,ve=103,ye=113,be=666,_e=1,Ee=2,Ce=3,Se=4,we=3;$=[new y(0,0,0,0,m),new y(4,4,8,4,f),new y(4,5,16,8,f),new y(4,6,32,32,f),new y(4,4,16,16,h),new y(8,16,32,32,h),new y(8,16,128,128,h),new y(8,32,128,256,h),new y(32,128,258,1024,h),new y(32,258,258,4096,h)],n.deflateInit=T,n.deflateInit2=w,n.deflateReset=C,n.deflateResetKeep=E,n.deflateSetHeader=S,n.deflate=I,n.deflateEnd=O,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],10:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,_,E,C,S,w,T,I,O,A;n=e.state,o=e.next_in,O=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,c=s-(t-e.avail_out),l=s+(e.avail_out-257),u=n.dmax,d=n.wsize,p=n.whave,m=n.wnext,f=n.window,h=n.hold,g=n.bits,v=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{15>g&&(h+=O[o++]<<g,g+=8,h+=O[o++]<<g,g+=8),E=v[h&b];t:for(;;){if(C=E>>>24,h>>>=C,g-=C,C=E>>>16&255,0===C)A[s++]=65535&E;else{if(!(16&C)){if(0===(64&C)){E=v[(65535&E)+(h&(1<<C)-1)];continue t}if(32&C){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}S=65535&E,C&=15,C&&(C>g&&(h+=O[o++]<<g,g+=8),S+=h&(1<<C)-1,h>>>=C,g-=C),15>g&&(h+=O[o++]<<g,g+=8,h+=O[o++]<<g,g+=8),E=y[h&_];n:for(;;){if(C=E>>>24,h>>>=C,g-=C,C=E>>>16&255,!(16&C)){if(0===(64&C)){E=y[(65535&E)+(h&(1<<C)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(w=65535&E,C&=15,C>g&&(h+=O[o++]<<g,g+=8,C>g&&(h+=O[o++]<<g,g+=8)),w+=h&(1<<C)-1,w>u){e.msg="invalid distance too far back",n.mode=r;break e}if(h>>>=C,g-=C,C=s-c,w>C){if(C=w-C,C>p&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(T=0,I=f,0===m){if(T+=d-C,S>C){S-=C;do A[s++]=f[T++];while(--C);T=s-w,I=A}}else if(C>m){if(T+=d+m-C,C-=m,S>C){S-=C;do A[s++]=f[T++];while(--C);if(T=0,S>m){C=m,S-=C;do A[s++]=f[T++];while(--C);T=s-w,I=A}}}else if(T+=m-C,S>C){S-=C;do A[s++]=f[T++];while(--C);T=s-w,I=A}for(;S>2;)A[s++]=I[T++],A[s++]=I[T++],A[s++]=I[T++],S-=3;S&&(A[s++]=I[T++],S>1&&(A[s++]=I[T++]))}else{T=s-w;do A[s++]=A[T++],A[s++]=A[T++],A[s++]=A[T++],S-=3;while(S>2);S&&(A[s++]=A[T++],S>1&&(A[s++]=A[T++]))}break}}break}}while(a>o&&l>s);S=g>>3,o-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=a>o?5+(a-o):5-(o-a),e.avail_out=l>s?257+(l-s):257-(s-l),n.hold=h,n.bits=g}},{}],11:[function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=L,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new y.Buf32(he),t.distcode=t.distdyn=new y.Buf32(ge),t.sane=1,t.back=-1,$):R}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):R}function s(e,t){var n,r;return e&&e.state?(r=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?R:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))):R}function c(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=s(e,t),n!==$&&(e.state=null),n):R}function l(e){return c(e,ye)}function u(e){if(be){var t;for(g=new y.Buf32(512),v=new y.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(C(w,e.lens,0,288,g,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;C(T,e.lens,0,32,v,0,e.work,{bits:5}),be=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function d(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),r>=o.wsize?(y.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),y.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(y.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function p(e,t){var n,i,o,a,s,c,l,p,m,f,h,g,v,he,ge,ve,ye,be,_e,Ee,Ce,Se,we,Te,Ie=0,Oe=new y.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return R;n=e.state,n.mode===q&&(n.mode=K),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,p=n.hold,m=n.bits,f=c,h=l,Se=$;e:for(;;)switch(n.mode){case L:if(0===n.wrap){n.mode=K;break}for(;16>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(2&n.wrap&&35615===p){n.check=0,Oe[0]=255&p,Oe[1]=p>>>8&255,n.check=_(n.check,Oe,2,0),p=0,m=0,n.mode=U;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=pe;break}if((15&p)!==M){e.msg="unknown compression method",n.mode=pe;break}if(p>>>=4,m-=4,Ce=(15&p)+8,0===n.wbits)n.wbits=Ce;else if(Ce>n.wbits){e.msg="invalid window size",n.mode=pe;break}n.dmax=1<<Ce,e.adler=n.check=1,n.mode=512&p?W:q,p=0,m=0;break;case U:for(;16>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(n.flags=p,(255&n.flags)!==M){e.msg="unknown compression method",n.mode=pe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=pe;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(Oe[0]=255&p,Oe[1]=p>>>8&255,n.check=_(n.check,Oe,2,0)),p=0,m=0,n.mode=F;case F:for(;32>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.head&&(n.head.time=p),512&n.flags&&(Oe[0]=255&p,Oe[1]=p>>>8&255,Oe[2]=p>>>16&255,Oe[3]=p>>>24&255,n.check=_(n.check,Oe,4,0)),p=0,m=0,n.mode=G;case G:for(;16>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(Oe[0]=255&p,Oe[1]=p>>>8&255,n.check=_(n.check,Oe,2,0)),p=0,m=0,n.mode=B;case B:if(1024&n.flags){for(;16>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(Oe[0]=255&p,Oe[1]=p>>>8&255,n.check=_(n.check,Oe,2,0)),p=0,m=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(g=n.length,g>c&&(g=c),g&&(n.head&&(Ce=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,i,a,g,Ce)),512&n.flags&&(n.check=_(n.check,i,g,a)),c-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=j;case j:if(2048&n.flags){if(0===c)break e;g=0;do Ce=i[a+g++],n.head&&Ce&&n.length<65536&&(n.head.name+=String.fromCharCode(Ce));while(Ce&&c>g);if(512&n.flags&&(n.check=_(n.check,i,g,a)),c-=g,a+=g,Ce)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=V;case V:if(4096&n.flags){if(0===c)break e;g=0;do Ce=i[a+g++],n.head&&Ce&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ce));while(Ce&&c>g);if(512&n.flags&&(n.check=_(n.check,i,g,a)),c-=g,a+=g,Ce)break e}else n.head&&(n.head.comment=null);n.mode=z;case z:if(512&n.flags){for(;16>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=pe;break}p=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=q;break;case W:for(;32>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}e.adler=n.check=r(p),p=0,m=0,n.mode=Y;case Y:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=m,x;e.adler=n.check=1,n.mode=q;case q:if(t===O||t===A)break e;case K:if(n.last){p>>>=7&m,m-=7&m,n.mode=le;break}for(;3>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}switch(n.last=1&p,p>>>=1,m-=1,3&p){case 0:n.mode=J;break;case 1:if(u(n),n.mode=ne,t===A){p>>>=2,m-=2;break e}break;case 2:n.mode=X;break;case 3:e.msg="invalid block type",n.mode=pe}p>>>=2,m-=2;break;case J:for(p>>>=7&m,m-=7&m;32>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if((65535&p)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pe;break}if(n.length=65535&p,p=0,m=0,n.mode=Z,t===A)break e;case Z:n.mode=Q;case Q:if(g=n.length){if(g>c&&(g=c),g>l&&(g=l),0===g)break e;y.arraySet(o,i,a,g,s),c-=g,a+=g,l-=g,s+=g,n.length-=g;break}n.mode=q;break;case X:for(;14>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(n.nlen=(31&p)+257,p>>>=5,m-=5,n.ndist=(31&p)+1,p>>>=5,m-=5,n.ncode=(15&p)+4,p>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;3>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.lens[Ae[n.have++]]=7&p,p>>>=3,m-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,we={bits:n.lenbits},Se=C(S,n.lens,0,19,n.lencode,0,n.work,we),n.lenbits=we.bits,Se){e.msg="invalid code lengths set",n.mode=pe;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Ie=n.lencode[p&(1<<n.lenbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,ye=65535&Ie,!(m>=ge);){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(16>ye)p>>>=ge,m-=ge,n.lens[n.have++]=ye;else{if(16===ye){for(Te=ge+2;Te>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(p>>>=ge,m-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=pe;break}Ce=n.lens[n.have-1],g=3+(3&p),p>>>=2,m-=2}else if(17===ye){for(Te=ge+3;Te>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}p>>>=ge,m-=ge,Ce=0,g=3+(7&p),p>>>=3,m-=3}else{for(Te=ge+7;Te>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}p>>>=ge,m-=ge,Ce=0,g=11+(127&p),p>>>=7,m-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pe;break}for(;g--;)n.lens[n.have++]=Ce}}if(n.mode===pe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=pe;break}if(n.lenbits=9,we={bits:n.lenbits},Se=C(w,n.lens,0,n.nlen,n.lencode,0,n.work,we),n.lenbits=we.bits,Se){e.msg="invalid literal/lengths set",n.mode=pe;break}if(n.distbits=6,n.distcode=n.distdyn,we={bits:n.distbits},Se=C(T,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,we),n.distbits=we.bits,Se){e.msg="invalid distances set",n.mode=pe;break}if(n.mode=ne,t===A)break e;case ne:n.mode=re;case re:if(c>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=m,E(e,h),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,p=n.hold,m=n.bits,n.mode===q&&(n.back=-1);break}for(n.back=0;Ie=n.lencode[p&(1<<n.lenbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,ye=65535&Ie,!(m>=ge);){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(ve&&0===(240&ve)){for(be=ge,_e=ve,Ee=ye;Ie=n.lencode[Ee+((p&(1<<be+_e)-1)>>be)],ge=Ie>>>24,ve=Ie>>>16&255,ye=65535&Ie,!(m>=be+ge);){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}p>>>=be,m-=be,n.back+=be}if(p>>>=ge,m-=ge,n.back+=ge,n.length=ye,0===ve){n.mode=ce;break}if(32&ve){n.back=-1,n.mode=q;break}if(64&ve){e.msg="invalid literal/length code",n.mode=pe;break}n.extra=15&ve,n.mode=ie;case ie:if(n.extra){for(Te=n.extra;Te>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Ie=n.distcode[p&(1<<n.distbits)-1],ge=Ie>>>24,ve=Ie>>>16&255,ye=65535&Ie,!(m>=ge);){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(0===(240&ve)){for(be=ge,_e=ve,Ee=ye;Ie=n.distcode[Ee+((p&(1<<be+_e)-1)>>be)],ge=Ie>>>24,ve=Ie>>>16&255,ye=65535&Ie,!(m>=be+ge);){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}p>>>=be,m-=be,n.back+=be}if(p>>>=ge,m-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=pe;break}n.offset=ye,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Te=n.extra;Te>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pe;break}n.mode=se;case se:if(0===l)break e;if(g=h-l,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pe;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),he=n.window}else he=o,v=s-n.offset,g=n.length;g>l&&(g=l),l-=g,n.length-=g;do o[s++]=he[v++];while(--g);0===n.length&&(n.mode=re);break;case ce:if(0===l)break e;o[s++]=n.length,l--,n.mode=re;break;case le:if(n.wrap){for(;32>m;){if(0===c)break e;c--,p|=i[a++]<<m,m+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?_(n.check,o,h,s-h):b(n.check,o,h,s-h)),h=l,(n.flags?p:r(p))!==n.check){e.msg="incorrect data check",n.mode=pe;break}p=0,m=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;32>m;){if(0===c)break e;c--,p+=i[a++]<<m,m+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=pe;break}p=0,m=0}n.mode=de;case de:Se=D;break e;case pe:Se=k;break e;case me:return P;case fe:default:return R}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=m,(n.wsize||h!==e.avail_out&&n.mode<pe&&(n.mode<le||t!==I))&&d(e,e.output,e.next_out,h-e.avail_out)?(n.mode=me,P):(f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?_(n.check,o,h,e.next_out-h):b(n.check,o,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===q?128:0)+(n.mode===ne||n.mode===Z?256:0),(0===f&&0===h||t===I)&&Se===$&&(Se=N),Se)}function m(e){if(!e||!e.state)return R;var t=e.state;return t.window&&(t.window=null),e.state=null,$}function f(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?R:(n.head=t,t.done=!1,$)):R}function h(e,t){var n,r,i,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==Y?R:n.mode===Y&&(r=1,r=b(r,t,o,0),r!==n.check)?k:(i=d(e,t,o,o))?(n.mode=me,P):(n.havedict=1,$)):R}var g,v,y=e("../utils/common"),b=e("./adler32"),_=e("./crc32"),E=e("./inffast"),C=e("./inftrees"),S=0,w=1,T=2,I=4,O=5,A=6,$=0,D=1,x=2,R=-2,k=-3,P=-4,N=-5,M=8,L=1,U=2,F=3,G=4,B=5,H=6,j=7,V=8,z=9,W=10,Y=11,q=12,K=13,J=14,Z=15,Q=16,X=17,ee=18,te=19,ne=20,re=21,ie=22,oe=23,ae=24,se=25,ce=26,le=27,ue=28,de=29,pe=30,me=31,fe=32,he=852,ge=592,ve=15,ye=ve,be=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=l,n.inflateInit2=c,n.inflate=p,n.inflateEnd=m,n.inflateGetHeader=f,n.inflateSetDictionary=h,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,c=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,h,g,v,y){var b,_,E,C,S,w,T,I,O,A=y.bits,$=0,D=0,x=0,R=0,k=0,P=0,N=0,M=0,L=0,U=0,F=null,G=0,B=new r.Buf16(i+1),H=new r.Buf16(i+1),j=null,V=0;for($=0;i>=$;$++)B[$]=0;for(D=0;f>D;D++)B[t[n+D]]++;for(k=A,R=i;R>=1&&0===B[R];R--);if(k>R&&(k=R),0===R)return h[g++]=20971520,h[g++]=20971520,y.bits=1,0;for(x=1;R>x&&0===B[x];x++);for(x>k&&(k=x),M=1,$=1;i>=$;$++)if(M<<=1,M-=B[$],0>M)return-1;if(M>0&&(e===s||1!==R))return-1;for(H[1]=0,$=1;i>$;$++)H[$+1]=H[$]+B[$];for(D=0;f>D;D++)0!==t[n+D]&&(v[H[t[n+D]]++]=D);if(e===s?(F=j=v,w=19):e===c?(F=u,G-=257,j=d,V-=257,w=256):(F=p,j=m,w=-1),U=0,D=0,$=x,S=g,P=k,N=0,E=-1,L=1<<k,C=L-1,e===c&&L>o||e===l&&L>a)return 1;for(var z=0;;){z++,T=$-N,v[D]<w?(I=0,O=v[D]):v[D]>w?(I=j[V+v[D]],O=F[G+v[D]]):(I=96,O=0),b=1<<$-N,_=1<<P,x=_;do _-=b,h[S+(U>>N)+_]=T<<24|I<<16|O|0;while(0!==_);for(b=1<<$-1;U&b;)b>>=1;if(0!==b?(U&=b-1,U+=b):U=0,D++,0===--B[$]){if($===R)break;$=t[n+v[D]]}if($>k&&(U&C)!==E){for(0===N&&(N=k),S+=x,P=$-N,M=1<<P;R>P+N&&(M-=B[P+N],!(0>=M));)P++,M<<=1;if(L+=1<<P,e===c&&L>o||e===l&&L>a)return 1;E=U&C,h[E]=k<<24|P<<16|S-g|0}}return 0!==U&&(h[S+U]=$-N<<24|64<<16|0),y.bits=k,0}},{"../utils/common":3}],13:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?ce[e]:ce[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>K-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>K-e.bi_valid,e.bi_valid+=n-K):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){c(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,r,i,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,f=t.stat_desc.max_length,h=0;for(o=0;q>=o;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;Y>n;n++)r=e.heap[n],o=c[2*c[2*r+1]+1]+1,o>f&&(o=f,h++),c[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=m&&(a=p[r-m]),s=c[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==h){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,h-=2}while(h>0);for(o=f;0!==o;o--)for(r=e.bl_count[o];0!==r;)i=e.heap[--n],i>l||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}function m(e,t,n){var r,i,o=new Array(q+1),a=0;for(r=1;q>=r;r++)o[r]=a=a+n[r-1]<<1;for(i=0;t>=i;i++){var s=e[2*i+1];0!==s&&(e[2*i]=u(o[s]++,s))}}function f(){var e,t,n,r,o,a=new Array(q+1);for(n=0,r=0;H-1>r;r++)for(ue[r]=n,e=0;e<1<<te[r];e++)le[n++]=r;for(le[n-1]=r,o=0,r=0;16>r;r++)for(de[r]=o,e=0;e<1<<ne[r];e++)ce[o++]=r;for(o>>=7;z>r;r++)for(de[r]=o<<7,e=0;e<1<<ne[r]-7;e++)ce[256+o++]=r;for(t=0;q>=t;t++)a[t]=0;for(e=0;143>=e;)ae[2*e+1]=8,e++,a[8]++;for(;255>=e;)ae[2*e+1]=9,e++,a[9]++;for(;279>=e;)ae[2*e+1]=7,e++,a[7]++;for(;287>=e;)ae[2*e+1]=8,e++,a[8]++;for(m(ae,V+1,a),e=0;z>e;e++)se[2*e+1]=5,se[2*e]=u(e,5);pe=new i(ae,te,j+1,V,q),me=new i(se,ne,0,z,q),fe=new i(new Array(0),re,0,W,J)}function h(e){var t;for(t=0;V>t;t++)e.dyn_ltree[2*t]=0;for(t=0;z>t;t++)e.dyn_dtree[2*t]=0;for(t=0;W>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){g(e),r&&(s(e,n),s(e,~n)),R.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function y(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function b(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&y(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!y(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function _(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?l(e,i,t):(o=le[i],l(e,o+j+1,t),s=te[o],0!==s&&(i-=ue[o],c(e,i,s)),r--,o=a(r),l(e,o,n),s=ne[o],0!==s&&(r-=de[o],c(e,r,s)));while(u<e.last_lit);l(e,Z,t)}function E(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=Y,n=0;c>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>l?++l:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)b(e,o,n);i=c;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,b(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),m(o,l,e.bl_count)}function C(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;n>=r;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(l>s?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*Q]++):10>=s?e.bl_tree[2*X]++:e.bl_tree[2*ee]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))}function S(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),r=0;n>=r;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(d>s){do l(e,i,e.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(l(e,i,e.bl_tree),s--),l(e,Q,e.bl_tree),c(e,s-3,2)):10>=s?(l(e,X,e.bl_tree),c(e,s-3,3)):(l(e,ee,e.bl_tree),c(e,s-11,7));s=0,o=i,0===a?(u=138,d=3):i===a?(u=6,d=3):(u=7,d=4)}}function w(e){var t;for(C(e,e.dyn_ltree,e.l_desc.max_code),C(e,e.dyn_dtree,e.d_desc.max_code),E(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function T(e,t,n,r){var i;for(c(e,t-257,5),c(e,n-1,5),c(e,r-4,4),i=0;r>i;i++)c(e,e.bl_tree[2*ie[i]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}function I(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return P;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(t=32;j>t;t++)if(0!==e.dyn_ltree[2*t])return N;return P}function O(e){he||(f(),he=!0),e.l_desc=new o(e.dyn_ltree,pe),e.d_desc=new o(e.dyn_dtree,me),e.bl_desc=new o(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,h(e)}function A(e,t,n,r){c(e,(L<<1)+(r?1:0),3),v(e,t,n,!0)}function $(e){c(e,U<<1,3),l(e,Z,ae),d(e)}function D(e,t,n,r){var i,o,a=0;e.level>0?(e.strm.data_type===M&&(e.strm.data_type=I(e)),E(e,e.l_desc),E(e,e.d_desc),a=w(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,i>=o&&(i=o)):i=o=n+5,i>=n+4&&-1!==t?A(e,t,n,r):e.strategy===k||o===i?(c(e,(U<<1)+(r?1:0),3),
_(e,ae,se)):(c(e,(F<<1)+(r?1:0),3),T(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),_(e,e.dyn_ltree,e.dyn_dtree)),h(e),r&&g(e)}function x(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(le[n]+j+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var R=e("../utils/common"),k=4,P=0,N=1,M=2,L=0,U=1,F=2,G=3,B=258,H=29,j=256,V=j+1+H,z=30,W=19,Y=2*V+1,q=15,K=16,J=7,Z=256,Q=16,X=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(V+2));r(ae);var se=new Array(2*z);r(se);var ce=new Array(oe);r(ce);var le=new Array(B-G+1);r(le);var ue=new Array(H);r(ue);var de=new Array(z);r(de);var pe,me,fe,he=!1;n._tr_init=O,n._tr_stored_block=A,n._tr_flush_block=D,n._tr_tally=x,n._tr_align=$},{"../utils/common":3}],15:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],"/":[function(e,t,n){"use strict";var r=e("./lib/utils/common").assign,i=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};r(s,i,o,a),t.exports=s},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}),/**
 * Angular Google Analytics - Easy tracking for your AngularJS application
 * @version v1.0.0 - 2015-08-26
 * @link http://github.com/revolunet/angular-google-analytics
 * @author Julien Bouquillon <julien@revolunet.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n,r){"use strict";n.module("angular-google-analytics",[]).provider("Analytics",function(){var i,o,a,s,c,l,u=!1,d=!0,p="",m=!1,f="$routeChangeSuccess",h="auto",g=!1,v=!1,y=!1,b="USD",_=!1,E=!1,C=!1,S=!1,w=!1;this._logs=[],this.setAccount=function(e){return i=n.isUndefined(e)||e===!1?r:n.isArray(e)?e:n.isObject(e)?[e]:[{tracker:e,trackEvent:!0}],!0},this.trackPages=function(e){return d=e,!0},this.trackPrefix=function(e){return p=e,!0},this.setDomainName=function(e){return a=e,!0},this.useDisplayFeatures=function(e){return o=!!e,!0},this.useAnalytics=function(e){return m=!!e,!0},this.useEnhancedLinkAttribution=function(e){return y=!!e,!0},this.useCrossDomainLinker=function(e){return E=!!e,!0},this.setCrossLinkDomains=function(e){return l=e,!0},this.setPageEvent=function(e){return f=e,!0},this.setCookieConfig=function(e){return h=e,!0},this.useECommerce=function(e,t){return g=!!e,v=!!t,!0},this.setCurrency=function(e){return b=e,!0},this.setRemoveRegExp=function(e){return e instanceof RegExp?(s=e,!0):!1},this.setExperimentId=function(e){return c=e,!0},this.ignoreFirstPageLoad=function(e){return _=!!e,!0},this.trackUrlParams=function(e){return C=!!e,!0},this.delayScriptTag=function(e){return S=!!e,!0},this.logAllCalls=function(e){return w=!!e,!0},this.$get=["$document","$location","$log","$rootScope","$window",function(T,I,O,A,$){var D=this,x=function(e,t){return R("name",t)?t.name+"."+e:e},R=function(e,t){return n.isObject(t)&&n.isDefined(t[e])},k=function(){var e=C?I.url():I.path();return s?e.replace(s,""):e},P=function(){var e={utm_source:"campaignSource",utm_medium:"campaignMedium",utm_term:"campaignTerm",utm_content:"campaignContent",utm_campaign:"campaignName"},t={};return n.forEach(I.search(),function(r,i){var o=e[i];n.isDefined(o)&&(t[o]=r)}),t},N=function(e){!m&&$._gaq&&"function"==typeof e&&e()},M=function(){$._gaq||($._gaq=[]),w===!0&&D._log.apply(D,arguments),$._gaq.push.apply($._gaq,arguments)},L=function(e){m&&$.ga&&"function"==typeof e&&e()},U=function(){return"function"!=typeof $.ga?(D._log("warn","ga function not set on window"),r):(w===!0&&D._log.apply(D,arguments),$.ga.apply(null,arguments),r)},F=function(e){if("function"!=typeof $.ga)return D._log("warn","ga function not set on window"),r;var t=Array.prototype.slice.call(arguments,1),n=t[0];i.forEach(function(r){("function"!=typeof e||e(r))&&(t[0]=x(n,r),w===!0&&D._log.apply(D,t),$.ga.apply(null,t))})};return this._log=function(){if(arguments.length>0){if(arguments.length>1)switch(arguments[0]){case"warn":O.warn(Array.prototype.slice.call(arguments,1));break;case"error":O.error(Array.prototype.slice.call(arguments,1))}this._logs.push(Array.prototype.slice.call(arguments))}},this._createScriptTag=function(){if(!i||1>i.length)return this._log("warn","No account id set to create script tag"),r;if(i.length>1&&(this._log("warn","Multiple trackers are not supported with ga.js. Using first tracker only"),i=i.slice(0,1)),u===!0)return this._log("warn","ga.js or analytics.js script tag already created"),r;M(["_setAccount",i[0].tracker]),a&&M(["_setDomainName",a]),y&&M(["_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"]),d&&!_&&M(s?["_trackPageview",k()]:["_trackPageview"]);var e;return e=o?("https:"===t.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js":("https:"===t.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",function(){var t=T[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}(e),u=!0,!0},this._createAnalyticsScriptTag=function(){if(!i)return this._log("warn","No account id set to create analytics script tag"),r;if(u===!0)return this._log("warn","ga.js or analytics.js script tag already created"),r;if(function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(e,t,"script","//www.google-analytics.com/analytics.js","ga"),i.forEach(function(e){var t={};e.crossDomainLinker=R("crossDomainLinker",e)?e.crossDomainLinker:E,e.cookieConfig=R("cookieConfig",e)?e.cookieConfig:h,e.crossLinkDomains=R("crossLinkDomains",e)?e.crossLinkDomains:l,e.trackEvent=R("trackEvent",e)?e.trackEvent:!1,t.allowLinker=e.crossDomainLinker,R("name",e)&&(t.name=e.name),U("create",e.tracker,e.cookieConfig,t),e.crossDomainLinker===!0&&(U(x("require",e),"linker"),n.isDefined(e.crossLinkDomains)&&U(x("linker:autoLink",e),e.crossLinkDomains))}),o&&U("require","displayfeatures"),d&&!_&&U("send","pageview",k()),g&&(v?(U("require","ec","ec.js"),U("set","&cu",b)):U("require","ecommerce","ecommerce.js")),y&&U("require","linkid","linkid.js"),c){var a=t.createElement("script"),s=t.getElementsByTagName("script")[0];a.src="//www.google-analytics.com/cx/api.js?experiment="+c,s.parentNode.insertBefore(a,s)}return u=!0,!0},this._ecommerceEnabled=function(){return g&&!v},this._enhancedEcommerceEnabled=function(){return g&&v},this._trackPage=function(e,t,i){e=e?e:k(),t=t?t:T[0].title,N(function(){M(["_set","title",t]),M(["_trackPageview",p+e])}),L(function(){var o={page:p+e,title:t};n.extend(o,P()),n.isObject(i)&&n.extend(o,i),F(r,"send","pageview",o)})},this._trackEvent=function(e,t,r,i,o,a){N(function(){M(["_trackEvent",e,t,r,i,!!o])}),L(function(){var s={},c=function(e){return R("trackEvent",e)&&e.trackEvent===!0};n.isDefined(o)&&(s.nonInteraction=!!o),n.isObject(a)&&n.extend(s,a),F(c,"send","event",e,t,r,i,s)})},this._addTrans=function(e,t,n,r,i,o,a,s,c){N(function(){M(["_addTrans",e,t,n,r,i,o,a,s])}),L(function(){D._ecommerceEnabled()?U("ecommerce:addTransaction",{id:e,affiliation:t,revenue:n,tax:r,shipping:i,currency:c||"USD"}):D._log("warn","Ecommerce must be enabled to use addTrans with analytics.js")})},this._addItem=function(e,t,n,r,i,o){N(function(){M(["_addItem",e,t,n,r,i,o])}),L(function(){D._ecommerceEnabled()?U("ecommerce:addItem",{id:e,name:n,sku:t,category:r,price:i,quantity:o}):D._log("warn","Ecommerce must be enabled to use addItem with analytics.js")})},this._trackTrans=function(){N(function(){M(["_trackTrans"])}),L(function(){D._ecommerceEnabled()?U("ecommerce:send"):D._log("warn","Ecommerce must be enabled to use trackTrans with analytics.js")})},this._clearTrans=function(){L(function(){D._ecommerceEnabled()?U("ecommerce:clear"):D._log("warn","Ecommerce must be enabled to use clearTrans with analytics.js")})},this._addProduct=function(e,t,n,r,i,o,a,s,c){N(function(){M(["_addProduct",e,t,n,r,i,o,a,s,c])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addProduct",{id:e,name:t,category:n,brand:r,variant:i,price:o,quantity:a,coupon:s,position:c}):D._log("warn","Enhanced ecommerce must be enabled to use addProduct with analytics.js")})},this._addImpression=function(e,t,n,r,i,o,a,s){N(function(){M(["_addImpression",e,t,n,r,i,o,a,s])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addImpression",{id:e,name:t,category:i,brand:r,variant:o,list:n,position:a,price:s}):D._log("warn","Enhanced ecommerce must be enabled to use addImpression with analytics.js")})},this._addPromo=function(e,t,n,r){N(function(){M(["_addPromo",e,t,n,r])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addPromo",{id:e,name:t,creative:n,position:r}):D._log("warn","Enhanced ecommerce must be enabled to use addPromo with analytics.js")})},this._getActionFieldObject=function(e,t,n,r,i,o,a,s,c){var l={};return e&&(l.id=e),t&&(l.affiliation=t),n&&(l.revenue=n),r&&(l.tax=r),i&&(l.shipping=i),o&&(l.coupon=o),a&&(l.list=a),s&&(l.step=s),c&&(l.option=c),l},this._setAction=function(e,t){N(function(){M(["_setAction",e,t])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:setAction",e,t):D._log("warn","Enhanced ecommerce must be enabled to use setAction with analytics.js")})},this._trackTransaction=function(e,t,n,r,i,o,a,s,c){this._setAction("purchase",this._getActionFieldObject(e,t,n,r,i,o,a,s,c))},this._trackRefund=function(e){this._setAction("refund",this._getActionFieldObject(e))},this._trackCheckOut=function(e,t){this._setAction("checkout",this._getActionFieldObject(null,null,null,null,null,null,null,e,t))},this._trackCart=function(e){-1!==["add","remove"].indexOf(e)&&(this._setAction(e),this._send("event","UX","click",e+" to cart"))},this._promoClick=function(e){this._setAction("promo_click"),this._send("event","Internal Promotions","click",e)},this._productClick=function(e){this._setAction("click",this._getActionFieldObject(null,null,null,null,null,null,e,null,null)),this._send("event","UX","click",e)},this._send=function(){var e=Array.prototype.slice.call(arguments);e.unshift("send"),L(function(){U.apply(D,e)})},this._pageView=function(){this._send("pageview")},this._set=function(e,t){L(function(){U("set",e,t)})},this._trackTimings=function(e,t,n,r){this._send("timing",e,t,n,r)},S||(m?this._createAnalyticsScriptTag():this._createScriptTag()),d&&A.$on(f,function(){D._trackPage()}),{_logs:D._logs,displayFeatures:o,ecommerce:g,enhancedEcommerce:v,enhancedLinkAttribution:y,getUrl:k,experimentId:c,ignoreFirstPageLoad:_,delayScriptTag:S,setCookieConfig:D._setCookieConfig,getCookieConfig:function(){return h},createAnalyticsScriptTag:function(e){return e&&(h=e),D._createAnalyticsScriptTag()},createScriptTag:function(e){return e&&(h=e),D._createScriptTag()},ecommerceEnabled:function(){return D._ecommerceEnabled()},enhancedEcommerceEnabled:function(){return D._enhancedEcommerceEnabled()},trackPage:function(e,t,n){D._trackPage(e,t,n)},trackEvent:function(e,t,n,r,i,o){D._trackEvent(e,t,n,r,i,o)},addTrans:function(e,t,n,r,i,o,a,s,c){D._addTrans(e,t,n,r,i,o,a,s,c)},addItem:function(e,t,n,r,i,o){D._addItem(e,t,n,r,i,o)},trackTrans:function(){D._trackTrans()},clearTrans:function(){D._clearTrans()},addProduct:function(e,t,n,r,i,o,a,s,c){D._addProduct(e,t,n,r,i,o,a,s,c)},addPromo:function(e,t,n,r){D._addPromo(e,t,n,r)},addImpression:function(e,t,n,r,i,o,a,s){D._addImpression(e,t,n,r,i,o,a,s)},productClick:function(e){D._productClick(e)},promoClick:function(e){D._promoClick(e)},trackDetail:function(){D._setAction("detail"),D._pageView()},trackCart:function(e){D._trackCart(e)},trackCheckout:function(e,t){D._trackCheckOut(e,t)},trackTimings:function(e,t,n,r){D._trackTimings(e,t,n,r)},trackTransaction:function(e,t,n,r,i,o,a,s,c){D._trackTransaction(e,t,n,r,i,o,a,s,c)},setAction:function(e,t){D._setAction(e,t)},send:function(e){D._send(e)},pageView:function(){D._pageView()},set:function(e,t){D._set(e,t)}}}]}).directive("gaTrackEvent",["Analytics","$parse",function(e,t){return{restrict:"A",link:function(n,r,i){var o=t(i.gaTrackEvent);r.bind("click",function(){(!i.gaTrackEventIf||n.$eval(i.gaTrackEventIf))&&o.length>1&&e.trackEvent.apply(e,o(n))})}}}])}(window,document,window.angular),/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){function t(e,t){return e?i(e)?e.indexOf(t)>=0:e.hasOwnProperty(t):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,r,o,a,s){var c,l=r[0],u=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,p=function(e){c=e?i(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(p(n.$eval(d)),n.$watchCollection(d,p)):p(u);var m,f;a.register(l,f={test:function(e){return t(c,e)},attach:function(){m||s(n,function(t){e.enter(t,null,r),m=t;var n=m.$$attachId=a.getAttachId();m.on("$destroy",function(){m&&m.$$attachId===n&&(a.deregister(l),f.detach())})})},detach:function(){if(m){var t=m;m=null,e.leave(t)}}})}}}]}var i=t.isArray,o=t.forEach,a=t.isString,s=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}var r="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,s,c){function l(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return v[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}function u(e,t,n){var r=v[n];if(p.head){var i=l(e,t);i?(r.next=i.next,i.next=r):(r.next=p.head,p.head=r)}else p.head=r}function d(e,t,n){var r=v[n],i=l(e,t);i?i.next=r.next:p.head=r.next}var p=this,m=0,f=0;this.getAttachId=function(){return f++};var h,g,v=this.messages={};this.render=function(l){l=l||{},h=!1,g=l;for(var u=t(s,c.ngMessagesMultiple)||t(s,c.multiple),d=[],m={},f=p.head,v=!1,y=0;null!=f;){y++;var b=f.message,_=!1;v||o(l,function(e,t){if(!_&&n(e)&&b.test(t)){if(m[t])return;m[t]=!0,_=!0,b.attach()}}),_?v=!u:d.push(b),f=f.next}o(d,function(e){e.detach()}),d.length!==y?e.setClass(a,r,i):e.setClass(a,i,r)},s.$watchCollection(c.ngMessages||c["for"],p.render),a.on("$destroy",function(){o(v,function(e){e.message.detach()})}),this.reRender=function(){h||(h=!0,s.$evalAsync(function(){h&&g&&p.render(g)}))},this.register=function(e,t){var n=m.toString();v[n]={message:t},u(a[0],e,n),e.$$ngMessageNode=n,m++,p.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(a[0],e,t),delete v[t],p.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var a=o.ngMessagesInclude||o.src;e(a).then(function(e){n(e)(r,function(e){i.after(e);var n=s(t[0].createComment(" ngMessagesInclude: "+a+" "));i.after(n),i.remove()})})}}}]).directive("ngMessage",r("AE")).directive("ngMessageExp",r("A"))}(window,window.angular),function(){"use strict";/*
   * Angular matchMedia Module
   * Version 0.4.1
   * Uses Bootstrap 3 breakpoint sizes
   * Exposes service "screenSize" which returns true if breakpoint(s) matches.
   * Includes matchMedia polyfill for backward compatibility.
   * Copyright Â© 2013-2014 Jack Tarantino.
   **/
var e=angular.module("matchMedia",[]);e.run(function(){/*! matchMedia() polyfill - Test a CSS media type/query in JS.
     * Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight.
     * Dual MIT/BSD license
     **/
window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}())}),e.service("screenSize",["$rootScope",function(e){var t={lg:"(min-width: 1200px)",md:"(min-width: 992px) and (max-width: 1199px)",sm:"(min-width: 768px) and (max-width: 991px)",xs:"(max-width: 767px)"},n=this,r=function(t,n){n=n||e;var r=n.$root.$$phase;"$apply"===r||"$digest"===r?t&&"function"==typeof t&&t():n.$apply(t)};this.is=function(e){var n=this.rules||t;if("string"!=typeof e&&"[object Array]"===Object.prototype.toString.call(e))throw new Error("screenSize requires array or comma-separated list");return"string"==typeof e&&(e=e.split(/\s*,\s*/)),e.some(function(e,t,r){return window.matchMedia(n[e]).matches?!0:void 0})},this.get=function(){var e=this.rules||t;for(var n in e)if(window.matchMedia(e[n]).matches)return n},this.on=function(e,t,i){return window.addEventListener("resize",function(o){r(t(n.is(e)),i)}),n.is(e)},this.when=function(e,t,i){return window.addEventListener("resize",function(o){n.is(e)===!0&&r(t(n.is(e)),i)}),n.is(e)}}]),e.filter("media",["screenSize",function(e){var t=function(t,n){var r=e.get(),i="";if(!n)return r;if(n.groups){for(var o in n.groups){var a=n.groups[o].indexOf(r);a>=0&&(i=o)}""===i&&(i=r)}return n.replace&&"string"==typeof n.replace&&n.replace.length>0?t.replace(n.replace,i):i};return t.$stateful=!0,t}])}(),angular.module("pageslide-directive",[]).directive("pageslide",["$document","$timeout",function(e,t){return{restrict:"EAC",transclude:!1,scope:{psOpen:"=?",psAutoClose:"=?",psSide:"@",psSpeed:"@",psClass:"@",psSize:"@",psZindex:"@",psSqueeze:"@",psCloak:"@",psPush:"@",psContainer:"@",psKeyListener:"@",psBodyClass:"@"},link:function(n,r,i){function o(e){if(l.bodyClass){var t=l.className+"-body",n=new RegExp(" "+t+"-closed| "+t+"-open");p.className=p.className.replace(n,""),p.className+=" "+t+"-"+e}}function a(t,r){if(t&&0!==t.style.width)switch(u.css("display","none"),r.side){case"right":t.style.width="0px",r.squeeze&&(p.style.right="0px"),r.push&&(p.style.right="0px",p.style.left="0px");break;case"left":t.style.width="0px",r.squeeze&&(p.style.left="0px"),r.push&&(p.style.left="0px",p.style.right="0px");break;case"top":t.style.height="0px",r.squeeze&&(p.style.top="0px"),r.push&&(p.style.top="0px",p.style.bottom="0px");break;case"bottom":t.style.height="0px",r.squeeze&&(p.style.bottom="0px"),r.push&&(p.style.bottom="0px",p.style.top="0px")}n.psOpen=!1,r.keyListener&&e.off("keydown",c),o("closed")}function s(r,i){if(0!==r.style.width){switch(i.side){case"right":r.style.width=i.size,i.squeeze&&(p.style.right=i.size),i.push&&(p.style.right=i.size,p.style.left="-"+i.size);break;case"left":r.style.width=i.size,i.squeeze&&(p.style.left=i.size),i.push&&(p.style.left=i.size,p.style.right="-"+i.size);break;case"top":r.style.height=i.size,i.squeeze&&(p.style.top=i.size),i.push&&(p.style.top=i.size,p.style.bottom="-"+i.size);break;case"bottom":r.style.height=i.size,i.squeeze&&(p.style.bottom=i.size),i.push&&(p.style.bottom=i.size,p.style.top="-"+i.size)}t(function(){u.css("display","block")},1e3*i.speed),n.psOpen=!0,i.keyListener&&e.on("keydown",c),o("open")}}function c(e){var t=27,n=e.keyCode||e.which;n===t&&a(d,l)}var l={};l.side=n.psSide||"right",l.speed=n.psSpeed||"0.5",l.size=n.psSize||"300px",l.zindex=n.psZindex||1e3,l.className=n.psClass||"ng-pageslide",l.squeeze=Boolean(n.psSqueeze)||!1,l.push=Boolean(n.psPush)||!1,l.container=n.psContainer||!1,l.keyListener=Boolean(n.psKeyListener)||!1,l.bodyClass=n.psBodyClass||!1,r.addClass(l.className);var u=null,d=null,p=l.container?document.getElementById(l.container):document.body;if(o("closed"),d=r[0],"div"!==d.tagName.toLowerCase()&&"pageslide"!==d.tagName.toLowerCase())throw new Error("Pageslide can only be applied to <div> or <pageslide> elements");if(0===d.children.length)throw new Error("You have to content inside the <pageslide>");switch(u=angular.element(d.children),p.appendChild(d),d.style.zIndex=l.zindex,d.style.position=l.container!==!1?"absolute":"fixed",d.style.width=0,d.style.height=0,d.style.transitionDuration=l.speed+"s",d.style.webkitTransitionDuration=l.speed+"s",d.style.transitionProperty="width, height",l.squeeze&&(p.style.position="absolute",p.style.transitionDuration=l.speed+"s",p.style.webkitTransitionDuration=l.speed+"s",p.style.transitionProperty="top, bottom, left, right"),l.side){case"right":d.style.height=i.psCustomHeight||"100%",d.style.top=i.psCustomTop||"0px",d.style.bottom=i.psCustomBottom||"0px",d.style.right=i.psCustomRight||"0px";break;case"left":d.style.height=i.psCustomHeight||"100%",d.style.top=i.psCustomTop||"0px",d.style.bottom=i.psCustomBottom||"0px",d.style.left=i.psCustomLeft||"0px";break;case"top":d.style.width=i.psCustomWidth||"100%",d.style.left=i.psCustomLeft||"0px",d.style.top=i.psCustomTop||"0px",d.style.right=i.psCustomRight||"0px";break;case"bottom":d.style.width=i.psCustomWidth||"100%",d.style.bottom=i.psCustomBottom||"0px",d.style.left=i.psCustomLeft||"0px",d.style.right=i.psCustomRight||"0px"}n.$watch("psOpen",function(e){e?s(d,l):a(d,l)}),n.$watch("psSize",function(e,t){t!==e&&(l.size=e,s(d,l))}),n.$on("$destroy",function(){d.parentNode===p&&p.removeChild(d)}),n.psAutoClose&&(n.$on("$locationChangeStart",function(){a(d,l)}),n.$on("$stateChangeStart",function(){a(d,l)}))}}}]),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,n,r,i,o,a={},s=function(){},c=function(e){return null===e.offsetParent},l=function(e,t){if(c(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},u=function(){(i||!n)&&(clearTimeout(n),n=setTimeout(function(){a.render(),n=null},r))};return a.init=function(n){n=n||{};var c=n.offset||0,l=n.offsetVertical||c,d=n.offsetHorizontal||c,p=function(e,t){return parseInt(e||t,10)};t={t:p(n.offsetTop,l),b:p(n.offsetBottom,l),l:p(n.offsetLeft,d),r:p(n.offsetRight,d)},r=p(n.throttle,250),i=n.debounce!==!1,o=!!n.unload,s=n.callback||s,a.render(),document.addEventListener?(e.addEventListener("scroll",u,!1),e.addEventListener("load",u,!1)):(e.attachEvent("onscroll",u),e.attachEvent("onload",u))},a.render=function(){for(var n,r,i=document.querySelectorAll("img[data-echo], [data-echo-background]"),c=i.length,u={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},d=0;c>d;d++)r=i[d],l(r,u)?(o&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src=r.getAttribute("data-echo"),o||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),s(r,"load")):o&&(n=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("data-echo-placeholder"),s(r,"unload"));c||a.detach()},a.detach=function(){document.removeEventListener?e.removeEventListener("scroll",u):e.detachEvent("onscroll",u),clearTimeout(n)},a}),/**
 * angular-recaptcha build:2016-01-19 
 * https://github.com/vividcortex/angular-recaptcha 
 * Copyright (c) 2016 VividCortex 
**/
function(e){"use strict";e.module("vcRecaptcha",[])}(angular),function(e){"use strict";var t=e.module("vcRecaptcha");t.service("vcRecaptchaService",["$window","$q",function(t,n){function r(){return o?n.when(o):s}function i(){if(!o)throw new Error("reCaptcha has not been loaded yet.")}var o,a=n.defer(),s=a.promise;return t.vcRecaptchaApiLoaded=function(){o=t.grecaptcha,a.resolve(o)},e.isDefined(t.grecaptcha)&&t.vcRecaptchaApiLoaded(),{create:function(e,t,n,i){return i.callback=n,i.sitekey=t,r().then(function(t){return t.render(e,i)})},reload:function(e){i(),o.reset(e)},getResponse:function(e){return i(),o.getResponse(e)}}}])}(angular),function(e){"use strict";function t(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')}var n=e.module("vcRecaptcha");n.directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(e,n,r){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=",stoken:"=?",theme:"=?",size:"=?",tabindex:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(i,o,a,s){function c(){s&&s.$setValidity("recaptcha",null),u&&(n.cancel(u),u=null),l()}function l(){angular.element(e[0].querySelectorAll(".pls-container")).parent().remove()}a.hasOwnProperty("key")||t(),i.widgetId=null;var u,d=i.$watch("key",function(e){if(e){40!==e.length&&t();var l=function(e){n(function(){s&&s.$setValidity("recaptcha",!0),i.response=e,i.onSuccess({response:e,widgetId:i.widgetId})}),u=n(function(){s&&s.$setValidity("recaptcha",!1),i.response="",i.onExpire({widgetId:i.widgetId})},12e4)};r.create(o[0],e,l,{stoken:i.stoken||a.stoken||null,theme:i.theme||a.theme||null,tabindex:i.tabindex||a.tabindex||null,size:i.size||a.size||null}).then(function(e){s&&s.$setValidity("recaptcha",!1),i.widgetId=e,i.onCreate({widgetId:e}),i.$on("$destroy",c)}),d()}})}}}])}(angular),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):e.angularClipboard=t(e.angular)}(this,function(e){return e.module("angular-clipboard",[]).factory("clipboard",["$document",function(e){function t(t,n){var r=e[0].createElement("textarea");return r.style.position="absolute",r.textContent=t,r.style.left="-10000px",n instanceof HTMLElement&&(r.style.top=n.getBoundingClientRect().top+"px"),r}function n(t){try{e[0].body.style.webkitUserSelect="initial";var n=e[0].getSelection();if(n.removeAllRanges(),t.select(),!e[0].execCommand("copy"))throw"failure copy";n.removeAllRanges()}finally{e[0].body.style.webkitUserSelect=""}}function r(r,i){var o=t(r,i);e[0].body.appendChild(o),n(o),e[0].body.removeChild(o)}return{copyText:r,supported:"queryCommandSupported"in document&&document.queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(t){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(n,r){n.supported=t.supported,r.on("click",function(i){try{t.copyText(n.text,r[0]),e.isFunction(n.onCopied)&&n.$evalAsync(n.onCopied())}catch(o){e.isFunction(n.onError)&&n.$evalAsync(n.onError({err:o}))}})}}}])}),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function c(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return E.indexOf(t)>-1?t:e}function m(e,t){t=t||{};var n=t.body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new i(t.headers)),this.method=p(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function h(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},d.call(m.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];g.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=m,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new m(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:h(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),angular.module("cgBusy",[]),angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(e,t){return function(){var n={};n.promises=[],n.delayPromise=null,n.durationPromise=null,n.delayJustFinished=!1,n.reset=function(t){n.minDuration=t.minDuration,n.promises=[],angular.forEach(t.promises,function(e){e&&!e.$cgBusyFulfilled&&r(e)}),0!==n.promises.length&&(n.delayJustFinished=!1,t.delay&&(n.delayPromise=e(function(){n.delayPromise=null,n.delayJustFinished=!0},parseInt(t.delay,10))),t.minDuration&&(n.durationPromise=e(function(){n.durationPromise=null},parseInt(t.minDuration,10)+(t.delay?parseInt(t.delay,10):0))))},n.isPromise=function(e){var t=e&&(e.then||e.$then||e.$promise&&e.$promise.then);return"undefined"!=typeof t},n.callThen=function(e,n,r){var i;e.then||e.$then?i=e:e.$promise?i=e.$promise:e.denodeify&&(i=t.when(e));var o=i.then||i.$then;o.call(i,n,r)};var r=function(e){if(!n.isPromise(e))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");-1===n.promises.indexOf(e)&&(n.promises.push(e),n.callThen(e,function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)},function(){e.$cgBusyFulfilled=!0,-1!==n.promises.indexOf(e)&&n.promises.splice(n.promises.indexOf(e),1)}))};return n.active=function(){return n.delayPromise?!1:n.delayJustFinished?(n.delayJustFinished=!1,0===n.promises.length&&(n.durationPromise=null),n.promises.length>0):n.durationPromise?!0:n.promises.length>0},n}}]),angular.module("cgBusy").value("cgBusyDefaults",{}),angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(e,t,n,r,i){return{restrict:"A",link:function(o,a,s,c){var l=a.css("position");("static"===l||""===l||"undefined"==typeof l)&&a.css("position","relative");var u,d,p,m,f,h=i(),g={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait...",wrapperClass:"cg-busy cg-busy-animation"};angular.extend(g,n),o.$watchCollection(s.cgBusy,function(n){if(n||(n={promise:null}),angular.isString(n))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(angular.isArray(n)||h.isPromise(n))&&(n={promise:n}),n=angular.extend(angular.copy(g),n),n.templateUrl||(n.templateUrl=g.templateUrl),angular.isArray(n.promise)||(n.promise=[n.promise]),m||(m=o.$new()),m.$message=n.message,angular.equals(h.promises,n.promise)||h.reset({promises:n.promise,delay:n.delay,minDuration:n.minDuration}),m.$cgBusyIsActive=function(){return h.active()},u&&p===n.templateUrl&&f===n.backdrop||(u&&u.remove(),d&&d.remove(),p=n.templateUrl,f=n.backdrop,r.get(p,{cache:t}).then(function(t){if(n.backdrop="undefined"==typeof n.backdrop?!0:n.backdrop,n.backdrop){var r='<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"></div>';d=e(r)(m),a.append(d)}var i='<div class="'+n.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()">'+t.data+"</div>";u=e(i)(m),angular.element(u.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0),a.append(u)},function(e){throw new Error("Template specified for cgBusy ("+n.templateUrl+") could not be loaded. "+e)}))},!0)}}}]),angular.module("cgBusy").run(["$templateCache",function(e){"use strict";e.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"></div>\n         <div class="bar2"></div>\n         <div class="bar3"></div>\n         <div class="bar4"></div>\n         <div class="bar5"></div>\n         <div class="bar6"></div>\n         <div class="bar7"></div>\n         <div class="bar8"></div>\n         <div class="bar9"></div>\n         <div class="bar10"></div>\n         <div class="bar11"></div>\n         <div class="bar12"></div>\n      </div>\n\n      <div class="cg-busy-default-text">{{$message}}</div>\n\n   </div>\n\n</div>')}]),/*! angular-locker v2.0.2 | (c) 2015 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e.angular)}):"object"==typeof exports?module.exports=t(e.angular||window&&window.angular):t(e.angular)}(this,function(e){"use strict";e.module("angular-locker",[]).provider("locker",function(){var t=function(t,n){return e.isFunction(t)?t(n):t},n=function(t){return e.isDefined(t)&&null!==t},r=function(e){throw new Error("[angular-locker] "+e)},i={driver:"local",namespace:"locker",eventsEnabled:!0,separator:".",extend:{}};return{defaults:function(t){return n(t)?void e.forEach(t,function(e,t){i.hasOwnProperty(t)&&(i[t]=e)}):i},$get:["$window","$rootScope","$parse",function(o,a,s){function c(i){this._options=i,this._registeredDrivers=e.extend({local:o.localStorage,session:o.sessionStorage},i.extend),this._resolveDriver=function(e){return this._registeredDrivers.hasOwnProperty(e)||r('The driver "'+e+'" was not found.'),this._registeredDrivers[e]},this._driver=this._resolveDriver(i.driver),this._namespace=i.namespace,this._separator=i.separator,this._watchers={},this._checkSupport=function(e){if(!n(this._supported)){var t="l";try{this._resolveDriver(e||i.driver).setItem(t,t),this._resolveDriver(e||i.driver).removeItem(t),this._supported=!0}catch(r){this._supported=!1}}return this._supported},this._getPrefix=function(e){return this._namespace?this._namespace+this._separator+e:e},this._serialize=function(t){try{return e.toJson(t)}catch(n){return t}},this._unserialize=function(t){try{return e.fromJson(t)}catch(n){return t}},this._event=function(t,n){this._options.eventsEnabled&&a.$emit(t,e.extend(n,{driver:this._options.driver,namespace:this._namespace}))},this._setItem=function(t,n){this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver');try{var o=this._getItem(t);this._driver.setItem(this._getPrefix(t),this._serialize(n)),this._exists(t)&&!e.equals(o,n)?this._event("locker.item.updated",{key:t,oldValue:o,newValue:n}):this._event("locker.item.added",{key:t,value:n})}catch(a){r(-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(a.name)?"The browser storage quota has been exceeded":'Could not add item with key "'+t+'"')}},this._getItem=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._unserialize(this._driver.getItem(this._getPrefix(e)))},this._exists=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._driver.hasOwnProperty(this._getPrefix(t(e)))},this._removeItem=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._exists(e)?(this._driver.removeItem(this._getPrefix(e)),this._event("locker.item.forgotten",{key:e}),!0):!1}}return c.prototype={put:function(r,i,o){if(!n(r))return!1;if(r=t(r),e.isObject(r))e.forEach(r,function(e,t){this._setItem(t,n(e)?e:o)},this);else{if(!n(i))return!1;var a=this._getItem(r);this._setItem(r,t(i,n(a)?a:o))}return this},add:function(e,t,n){return this.has(e)?!1:(this.put(e,t,n),!0)},get:function(t,n){if(e.isArray(t)){var r={};return e.forEach(t,function(e){this.has(e)&&(r[e]=this._getItem(e))},this),r}return this.has(t)?this._getItem(t):2===arguments.length?n:void 0},has:function(e){return this._exists(e)},forget:function(n){return n=t(n),e.isArray(n)?n.map(this._removeItem,this):this._removeItem(n),this},pull:function(e,t){var n=this.get(e,t);return this.forget(e),n},all:function(){var t={};return e.forEach(this._driver,function(e,n){if(this._namespace){var r=this._namespace+this._separator;0===n.indexOf(r)&&(n=n.substring(r.length))}this.has(n)&&(t[n]=this.get(n))},this),t},keys:function(){return Object.keys(this.all())},clean:function(){return this.forget(this.keys())},empty:function(){return this._driver.clear(),this},count:function(){return this.keys().length},bind:function(t,r,i){n(t.$eval(r))||(s(r).assign(t,this.get(r,i)),this.add(r,i));var o=this;return this._watchers[r+t.$id]=t.$watch(r,function(e){o.put(r,e)},e.isObject(t[r])),this},unbind:function(e,t){s(t).assign(e,void 0),this.forget(t);var n=t+e.$id;return this._watchers[n]&&(this._watchers[n](),delete this._watchers[n]),this},driver:function(t){return this.instance(e.extend(this._options,{driver:t}))},getDriver:function(){return this._driver},namespace:function(t){return this.instance(e.extend(this._options,{namespace:t}))},getNamespace:function(){return this._namespace},supported:function(e){return this._checkSupport(e)},instance:function(e){return new c(e)}},new c(i)}]}})}),function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,n){if(t===n)return!0;if("object"==typeof t&&"object"==typeof n){if(Array.isArray(t)!==Array.isArray(n))return!1;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else{var i;for(i in t)if(void 0===n[i]&&void 0!==t[i])return!1;for(i in n)if(void 0===t[i]&&void 0!==n[i])return!1;for(i in t)if(!e(t[i],n[i]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,n){function r(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return n=t(n||""),e=t(e||""),n&&e?(n.protocol||e.protocol)+(n.protocol||n.authority?n.authority:e.authority)+r(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+n.pathname:e.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||e.search)+n.hash:null}function r(e){return e.split("#")[0]}function i(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=n(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)i(e[r],t);else{"string"==typeof e.$ref&&(e.$ref=n(t,e.$ref));for(var o in e)"enum"!==o&&i(e[o],t)}}function o(e,t,n,r,i){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=n||"",this.schemaPath=r||"",this.subErrors=i||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}function a(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function s(e){var t=new c,o=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(m[e]||(e=e.split("-")[0]),m[e]?(o=e,e):!1):o},addLanguage:function(e,t){var n;for(n in l)t[n]&&!t[l[n]]&&(t[l[n]]=t[n]);var r=e.split("-")[0];if(m[r]){m[e]=Object.create(m[r]);for(n in t)"undefined"==typeof m[r][n]&&(m[r][n]=t[n]),m[e][n]=t[n]}else m[e]=t,m[r]=t;return this},freshApi:function(e){var t=s();return e&&t.language(e),t},validate:function(e,n,r,i){var a=new c(t,!1,m[o],r,i);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n);var s=a.validateAll(e,n,null,null,"");return!s&&i&&(s=a.banUnknownProperties()),this.error=s,this.missing=a.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,n,r,i){var a=new c(t,!0,m[o],r,i);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n),a.validateAll(e,n,null,null,""),i&&a.banUnknownProperties();var s={};return s.errors=a.errors,s.missing=a.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof l[e])throw new Error("Error already defined: "+e+" as "+l[e]);if("undefined"!=typeof u[t])throw new Error("Error code already used: "+u[t]+" as "+t);l[e]=t,u[t]=e,p[e]=p[t]=n;for(var r in m){var i=m[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:i,resolveUrl:n,getDocumentUri:r,errorCodes:l};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var s=0;r>s;s++)e.call(i,n[s])&&o.push(n[s]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var c=function(e,t,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,n,r,i){var a=this.errorMessages[e]||p[e];if("string"!=typeof a)return new o(e,"Unknown error code "+e+": "+JSON.stringify(t),n,r,i);var s=a.replace(/\{([^{}]*)\}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e});return new o(e,s,n,r,i)},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},c.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(l.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(l.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,t);if("/"!==o.charAt(0))return void 0;for(var a=o.split("/").slice(1),s=0;s<a.length;s++){var c=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[c]){n=void 0;break}n=n[c]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},c.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&a(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var n in e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var i=r(e[n]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=r(e)+"#")&&(e=r(e)),this.schemas[e]=t,delete this.missingMap[e],i(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},c.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,n,r,i){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof o)return this.errors.push(t),t;var s,c=this.errors.length,l=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var d=e[this.validatedSchemasKey].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(e[this.validationErrorsKey][d]),null}if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),-1!==s)){var p=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==p)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][p]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][l]=t,this.scannedFrozenValidationErrors[s][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(m){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var f=this.errors.length,h=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(a){for(;this.scanned.length;){var g=this.scanned.pop();delete g[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(h||f!==this.errors.length)for(;n&&n.length||r&&r.length;){var v=n&&n.length?""+n.pop():null,y=r&&r.length?""+r.pop():null;h&&(h=h.prefixWith(v,y)),this.prefixErrors(f,v,y)}return null!==l?this.scannedFrozenValidationErrors[s][l]=this.errors.slice(c):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(c)),this.handleError(h)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(l.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(l.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},c.prototype.validateDefinedKeywords=function(e,t){for(var n in this.definedKeywords)for(var r=this.definedKeywords[n],i=0;i<r.length;i++){var o=r[i],a=o(e,t[n],t);if("string"==typeof a||"number"==typeof a)return this.createError(l.KEYWORD_CUSTOM,{key:n,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var s=a.code||l.KEYWORD_CUSTOM;if("string"==typeof s){if(!l[s])throw new Error("Undefined error code (use defineError): "+s);s=l[s]}var c="object"==typeof a.message?a.message:{key:n,message:a.message||"?"},u=a.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(s,c,a.dataPath||null,u)}}return null},c.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))?r.prefixWith(null,"type"):(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&e%1===0)return null}return this.createError(l.INVALID_TYPE,{type:n,expected:r.join("/")})},c.prototype.validateEnum=function(t,n){if(void 0===n["enum"])return null;for(var r=0;r<n["enum"].length;r++){var i=n["enum"][r];if(e(t,i))return null}return this.createError(l.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},c.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||null},c.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;return void 0===n?null:"number"==typeof e&&e%n!==0?this.createError(l.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n}):null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(l.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(l.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(l.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(l.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},c.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(l.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(l.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var n=new RegExp(t.pattern);return n.test(e)?null:this.createError(l.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},c.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},c.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(l.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(l.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},c.prototype.validateArrayUniqueItems=function(t,n){if(n.uniqueItems)for(var r=0;r<t.length;r++)for(var i=r+1;i<t.length;i++)if(e(t[r],t[i])){var o=this.createError(l.ARRAY_UNIQUE,{match1:r,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(l.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null},c.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(l.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(l.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(l.OBJECT_REQUIRED,{key:r}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(i))return i}}return null},c.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(a=!0,r=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return r;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var c=new RegExp(s);if(c.test(i)&&(a=!0,r=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],o)))return r}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(l.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(r=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(void 0===e[s]&&(r=this.createError(l.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+a).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,o,[],["dependencies",i],n))return r}return null},c.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},c.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(r=this.validateAll(e,o,[],["allOf",i],n))return r}return null},c.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,o=[],a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,c=0;c<t.anyOf.length;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[c],d=this.errors.length,p=this.validateAll(e,u,[],["anyOf",c],n);if(null===p&&d===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var m in this.knownPropertyPaths)i[m]=!0,delete r[m];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0);s=!1;continue}return null}p&&o.push(p.prefixWith(null,""+c).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),s?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(l.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},c.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,o=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var c=0;c<t.oneOf.length;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[c],d=this.errors.length,p=this.validateAll(e,u,[],["oneOf",c],n);if(null===p&&d===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,s),this.createError(l.ONE_OF_MULTIPLE,{index1:o,index2:c},"","/oneOf");if(o=c,this.trackUnknownProperties){for(var m in this.knownPropertyPaths)i[m]=!0,delete r[m];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0)}}else p&&a.push(p.prefixWith(null,""+c).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(l.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},c.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===a&&0===s.length?this.createError(l.NOT_PASSED,{},"","/not"):null};var l={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},u={};for(var d in l)u[l[d]]=d;var p={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name="ValidationError",o.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var m={},f=s();return f.addLanguage("en-gb",p),f.tv4=f,f}),/**
 * Angular Google Analytics - Easy tracking for your AngularJS application
 * @version v1.0.0 - 2015-08-26
 * @link http://github.com/revolunet/angular-google-analytics
 * @author Julien Bouquillon <julien@revolunet.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n,r){"use strict";n.module("angular-google-analytics",[]).provider("Analytics",function(){var i,o,a,s,c,l,u=!1,d=!0,p="",m=!1,f="$routeChangeSuccess",h="auto",g=!1,v=!1,y=!1,b="USD",_=!1,E=!1,C=!1,S=!1,w=!1;this._logs=[],this.setAccount=function(e){return i=n.isUndefined(e)||e===!1?r:n.isArray(e)?e:n.isObject(e)?[e]:[{tracker:e,trackEvent:!0}],!0},this.trackPages=function(e){return d=e,!0},this.trackPrefix=function(e){return p=e,!0},this.setDomainName=function(e){return a=e,!0},this.useDisplayFeatures=function(e){return o=!!e,!0},this.useAnalytics=function(e){return m=!!e,!0},this.useEnhancedLinkAttribution=function(e){return y=!!e,!0},this.useCrossDomainLinker=function(e){return E=!!e,!0},this.setCrossLinkDomains=function(e){return l=e,!0},this.setPageEvent=function(e){return f=e,!0},this.setCookieConfig=function(e){return h=e,!0},this.useECommerce=function(e,t){return g=!!e,v=!!t,!0},this.setCurrency=function(e){return b=e,!0},this.setRemoveRegExp=function(e){return e instanceof RegExp?(s=e,!0):!1},this.setExperimentId=function(e){return c=e,!0},this.ignoreFirstPageLoad=function(e){return _=!!e,!0},this.trackUrlParams=function(e){return C=!!e,!0},this.delayScriptTag=function(e){return S=!!e,!0},this.logAllCalls=function(e){return w=!!e,!0},this.$get=["$document","$location","$log","$rootScope","$window",function(T,I,O,A,$){var D=this,x=function(e,t){return R("name",t)?t.name+"."+e:e},R=function(e,t){return n.isObject(t)&&n.isDefined(t[e])},k=function(){var e=C?I.url():I.path();return s?e.replace(s,""):e},P=function(){var e={utm_source:"campaignSource",utm_medium:"campaignMedium",utm_term:"campaignTerm",utm_content:"campaignContent",utm_campaign:"campaignName"},t={};return n.forEach(I.search(),function(r,i){var o=e[i];n.isDefined(o)&&(t[o]=r)}),t},N=function(e){!m&&$._gaq&&"function"==typeof e&&e()},M=function(){$._gaq||($._gaq=[]),w===!0&&D._log.apply(D,arguments),$._gaq.push.apply($._gaq,arguments)},L=function(e){m&&$.ga&&"function"==typeof e&&e()},U=function(){return"function"!=typeof $.ga?void D._log("warn","ga function not set on window"):(w===!0&&D._log.apply(D,arguments),void $.ga.apply(null,arguments))},F=function(e){if("function"!=typeof $.ga)return void D._log("warn","ga function not set on window");var t=Array.prototype.slice.call(arguments,1),n=t[0];i.forEach(function(r){("function"!=typeof e||e(r))&&(t[0]=x(n,r),w===!0&&D._log.apply(D,t),$.ga.apply(null,t))})};return this._log=function(){if(arguments.length>0){if(arguments.length>1)switch(arguments[0]){case"warn":O.warn(Array.prototype.slice.call(arguments,1));break;case"error":O.error(Array.prototype.slice.call(arguments,1))}this._logs.push(Array.prototype.slice.call(arguments))}},this._createScriptTag=function(){if(!i||i.length<1)return void this._log("warn","No account id set to create script tag");if(i.length>1&&(this._log("warn","Multiple trackers are not supported with ga.js. Using first tracker only"),i=i.slice(0,1)),u===!0)return void this._log("warn","ga.js or analytics.js script tag already created");M(["_setAccount",i[0].tracker]),a&&M(["_setDomainName",a]),y&&M(["_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"]),d&&!_&&M(s?["_trackPageview",k()]:["_trackPageview"]);var e;return e=o?("https:"===t.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js":("https:"===t.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",function(){var t=T[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}(e),u=!0,!0},this._createAnalyticsScriptTag=function(){if(!i)return void this._log("warn","No account id set to create analytics script tag");if(u===!0)return void this._log("warn","ga.js or analytics.js script tag already created");if(function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(e,t,"script","//www.google-analytics.com/analytics.js","ga"),i.forEach(function(e){var t={};e.crossDomainLinker=R("crossDomainLinker",e)?e.crossDomainLinker:E,e.cookieConfig=R("cookieConfig",e)?e.cookieConfig:h,e.crossLinkDomains=R("crossLinkDomains",e)?e.crossLinkDomains:l,e.trackEvent=R("trackEvent",e)?e.trackEvent:!1,t.allowLinker=e.crossDomainLinker,R("name",e)&&(t.name=e.name),U("create",e.tracker,e.cookieConfig,t),e.crossDomainLinker===!0&&(U(x("require",e),"linker"),n.isDefined(e.crossLinkDomains)&&U(x("linker:autoLink",e),e.crossLinkDomains))}),o&&U("require","displayfeatures"),d&&!_&&U("send","pageview",k()),g&&(v?(U("require","ec","ec.js"),U("set","&cu",b)):U("require","ecommerce","ecommerce.js")),y&&U("require","linkid","linkid.js"),c){var r=t.createElement("script"),a=t.getElementsByTagName("script")[0];r.src="//www.google-analytics.com/cx/api.js?experiment="+c,a.parentNode.insertBefore(r,a)}return u=!0,!0},this._ecommerceEnabled=function(){return g&&!v},this._enhancedEcommerceEnabled=function(){return g&&v},this._trackPage=function(e,t,i){e=e?e:k(),t=t?t:T[0].title,N(function(){M(["_set","title",t]),M(["_trackPageview",p+e])}),L(function(){var o={page:p+e,title:t};n.extend(o,P()),n.isObject(i)&&n.extend(o,i),F(r,"send","pageview",o)})},this._trackEvent=function(e,t,r,i,o,a){N(function(){M(["_trackEvent",e,t,r,i,!!o])}),L(function(){var s={},c=function(e){return R("trackEvent",e)&&e.trackEvent===!0};n.isDefined(o)&&(s.nonInteraction=!!o),n.isObject(a)&&n.extend(s,a),F(c,"send","event",e,t,r,i,s)})},this._addTrans=function(e,t,n,r,i,o,a,s,c){N(function(){M(["_addTrans",e,t,n,r,i,o,a,s])}),L(function(){D._ecommerceEnabled()?U("ecommerce:addTransaction",{id:e,affiliation:t,revenue:n,tax:r,shipping:i,currency:c||"USD"}):D._log("warn","Ecommerce must be enabled to use addTrans with analytics.js")})},this._addItem=function(e,t,n,r,i,o){N(function(){M(["_addItem",e,t,n,r,i,o])}),L(function(){D._ecommerceEnabled()?U("ecommerce:addItem",{id:e,name:n,sku:t,category:r,price:i,quantity:o}):D._log("warn","Ecommerce must be enabled to use addItem with analytics.js")})},this._trackTrans=function(){N(function(){M(["_trackTrans"])}),L(function(){D._ecommerceEnabled()?U("ecommerce:send"):D._log("warn","Ecommerce must be enabled to use trackTrans with analytics.js")})},this._clearTrans=function(){L(function(){D._ecommerceEnabled()?U("ecommerce:clear"):D._log("warn","Ecommerce must be enabled to use clearTrans with analytics.js")})},this._addProduct=function(e,t,n,r,i,o,a,s,c){N(function(){M(["_addProduct",e,t,n,r,i,o,a,s,c])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addProduct",{id:e,name:t,category:n,brand:r,variant:i,price:o,quantity:a,coupon:s,position:c}):D._log("warn","Enhanced ecommerce must be enabled to use addProduct with analytics.js")})},this._addImpression=function(e,t,n,r,i,o,a,s){N(function(){M(["_addImpression",e,t,n,r,i,o,a,s])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addImpression",{id:e,name:t,category:i,brand:r,variant:o,list:n,position:a,price:s}):D._log("warn","Enhanced ecommerce must be enabled to use addImpression with analytics.js")})},this._addPromo=function(e,t,n,r){N(function(){M(["_addPromo",e,t,n,r])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:addPromo",{id:e,name:t,creative:n,position:r}):D._log("warn","Enhanced ecommerce must be enabled to use addPromo with analytics.js")})},this._getActionFieldObject=function(e,t,n,r,i,o,a,s,c){var l={};return e&&(l.id=e),t&&(l.affiliation=t),n&&(l.revenue=n),r&&(l.tax=r),i&&(l.shipping=i),o&&(l.coupon=o),a&&(l.list=a),s&&(l.step=s),c&&(l.option=c),l},this._setAction=function(e,t){N(function(){M(["_setAction",e,t])}),L(function(){D._enhancedEcommerceEnabled()?U("ec:setAction",e,t):D._log("warn","Enhanced ecommerce must be enabled to use setAction with analytics.js")})},this._trackTransaction=function(e,t,n,r,i,o,a,s,c){this._setAction("purchase",this._getActionFieldObject(e,t,n,r,i,o,a,s,c))},this._trackRefund=function(e){this._setAction("refund",this._getActionFieldObject(e))},this._trackCheckOut=function(e,t){this._setAction("checkout",this._getActionFieldObject(null,null,null,null,null,null,null,e,t))},this._trackCart=function(e){-1!==["add","remove"].indexOf(e)&&(this._setAction(e),this._send("event","UX","click",e+" to cart"))},this._promoClick=function(e){this._setAction("promo_click"),this._send("event","Internal Promotions","click",e)},this._productClick=function(e){this._setAction("click",this._getActionFieldObject(null,null,null,null,null,null,e,null,null)),this._send("event","UX","click",e)},this._send=function(){var e=Array.prototype.slice.call(arguments);e.unshift("send"),L(function(){U.apply(D,e)})},this._pageView=function(){this._send("pageview")},this._set=function(e,t){L(function(){U("set",e,t)})},this._trackTimings=function(e,t,n,r){this._send("timing",e,t,n,r)},S||(m?this._createAnalyticsScriptTag():this._createScriptTag()),d&&A.$on(f,function(){D._trackPage()}),{_logs:D._logs,displayFeatures:o,ecommerce:g,enhancedEcommerce:v,enhancedLinkAttribution:y,getUrl:k,experimentId:c,ignoreFirstPageLoad:_,delayScriptTag:S,setCookieConfig:D._setCookieConfig,getCookieConfig:function(){return h},createAnalyticsScriptTag:function(e){return e&&(h=e),D._createAnalyticsScriptTag()},createScriptTag:function(e){return e&&(h=e),D._createScriptTag()},ecommerceEnabled:function(){return D._ecommerceEnabled()},enhancedEcommerceEnabled:function(){return D._enhancedEcommerceEnabled()},trackPage:function(e,t,n){D._trackPage(e,t,n)},trackEvent:function(e,t,n,r,i,o){D._trackEvent(e,t,n,r,i,o)},addTrans:function(e,t,n,r,i,o,a,s,c){D._addTrans(e,t,n,r,i,o,a,s,c)},addItem:function(e,t,n,r,i,o){D._addItem(e,t,n,r,i,o)},trackTrans:function(){D._trackTrans()},clearTrans:function(){D._clearTrans()},addProduct:function(e,t,n,r,i,o,a,s,c){D._addProduct(e,t,n,r,i,o,a,s,c)},addPromo:function(e,t,n,r){D._addPromo(e,t,n,r)},addImpression:function(e,t,n,r,i,o,a,s){D._addImpression(e,t,n,r,i,o,a,s)},productClick:function(e){D._productClick(e)},promoClick:function(e){D._promoClick(e)},trackDetail:function(){D._setAction("detail"),D._pageView()},trackCart:function(e){D._trackCart(e)},trackCheckout:function(e,t){D._trackCheckOut(e,t)},trackTimings:function(e,t,n,r){D._trackTimings(e,t,n,r)},trackTransaction:function(e,t,n,r,i,o,a,s,c){D._trackTransaction(e,t,n,r,i,o,a,s,c)},setAction:function(e,t){D._setAction(e,t)},send:function(e){D._send(e)},pageView:function(){D._pageView()},set:function(e,t){D._set(e,t)}}}]}).directive("gaTrackEvent",["Analytics","$parse",function(e,t){return{restrict:"A",link:function(n,r,i){var o=t(i.gaTrackEvent);r.bind("click",function(){(!i.gaTrackEventIf||n.$eval(i.gaTrackEventIf))&&o.length>1&&e.trackEvent.apply(e,o(n))})}}}])}(window,document,window.angular),angular.module("pnraModal.html",[]).run(["$templateCache",function(e){e.put("pnraModal.html",'<div class="pnra-modal-container">\n  <!-- Close Button -->\n  <div ng-click="$ctrl.dismiss()" class="close-btn">\n    <img ng-src="{{ $ctrl.closeButton }}">\n  </div>\n  <!-- Modal Content -->\n  <div class="row">\n    <div class="col-xs-12">\n      <div pnra-component="$ctrl.pnraComponentOptions"></div>\n    </div>\n  </div>\n</div>\n')}]),/*! angular-locker v2.0.2 | (c) 2015 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e.angular)}):"object"==typeof exports?module.exports=t(e.angular||window&&window.angular):t(e.angular)}(this,function(e){"use strict";e.module("angular-locker",[]).provider("locker",function(){var t=function(t,n){return e.isFunction(t)?t(n):t},n=function(t){return e.isDefined(t)&&null!==t},r=function(e){throw new Error("[angular-locker] "+e)},i={driver:"local",namespace:"locker",eventsEnabled:!0,separator:".",extend:{}};return{defaults:function(t){return n(t)?void e.forEach(t,function(e,t){i.hasOwnProperty(t)&&(i[t]=e)}):i},$get:["$window","$rootScope","$parse",function(o,a,s){function c(i){this._options=i,this._registeredDrivers=e.extend({local:o.localStorage,session:o.sessionStorage},i.extend),this._resolveDriver=function(e){return this._registeredDrivers.hasOwnProperty(e)||r('The driver "'+e+'" was not found.'),this._registeredDrivers[e]},this._driver=this._resolveDriver(i.driver),this._namespace=i.namespace,this._separator=i.separator,this._watchers={},this._checkSupport=function(e){if(!n(this._supported)){var t="l";try{this._resolveDriver(e||i.driver).setItem(t,t),this._resolveDriver(e||i.driver).removeItem(t),this._supported=!0}catch(r){this._supported=!1}}return this._supported},this._getPrefix=function(e){return this._namespace?this._namespace+this._separator+e:e},this._serialize=function(t){try{return e.toJson(t)}catch(n){return t}},this._unserialize=function(t){try{return e.fromJson(t)}catch(n){return t}},this._event=function(t,n){this._options.eventsEnabled&&a.$emit(t,e.extend(n,{driver:this._options.driver,namespace:this._namespace}))},this._setItem=function(t,n){this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver');try{var o=this._getItem(t);this._driver.setItem(this._getPrefix(t),this._serialize(n)),this._exists(t)&&!e.equals(o,n)?this._event("locker.item.updated",{key:t,oldValue:o,newValue:n}):this._event("locker.item.added",{key:t,value:n})}catch(a){r(-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(a.name)?"The browser storage quota has been exceeded":'Could not add item with key "'+t+'"')}},this._getItem=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._unserialize(this._driver.getItem(this._getPrefix(e)))},this._exists=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._driver.hasOwnProperty(this._getPrefix(t(e)))},this._removeItem=function(e){return this._checkSupport()||r('The browser does not support the "'+i.driver+'" driver'),this._exists(e)?(this._driver.removeItem(this._getPrefix(e)),this._event("locker.item.forgotten",{key:e}),!0):!1}}return c.prototype={put:function(r,i,o){if(!n(r))return!1;if(r=t(r),e.isObject(r))e.forEach(r,function(e,t){this._setItem(t,n(e)?e:o)},this);else{if(!n(i))return!1;var a=this._getItem(r);this._setItem(r,t(i,n(a)?a:o))}return this},add:function(e,t,n){return this.has(e)?!1:(this.put(e,t,n),!0)},get:function(t,n){if(e.isArray(t)){var r={};return e.forEach(t,function(e){this.has(e)&&(r[e]=this._getItem(e))},this),r}return this.has(t)?this._getItem(t):2===arguments.length?n:void 0},has:function(e){return this._exists(e)},forget:function(n){return n=t(n),e.isArray(n)?n.map(this._removeItem,this):this._removeItem(n),this},pull:function(e,t){var n=this.get(e,t);return this.forget(e),n},all:function(){var t={};return e.forEach(this._driver,function(e,n){if(this._namespace){var r=this._namespace+this._separator;0===n.indexOf(r)&&(n=n.substring(r.length))}this.has(n)&&(t[n]=this.get(n))},this),t},keys:function(){return Object.keys(this.all())},clean:function(){return this.forget(this.keys())},empty:function(){return this._driver.clear(),this},count:function(){return this.keys().length},bind:function(t,r,i){n(t.$eval(r))||(s(r).assign(t,this.get(r,i)),this.add(r,i));var o=this;return this._watchers[r+t.$id]=t.$watch(r,function(e){o.put(r,e)},e.isObject(t[r])),this},unbind:function(e,t){s(t).assign(e,void 0),this.forget(t);var n=t+e.$id;return this._watchers[n]&&(this._watchers[n](),delete this._watchers[n]),this},driver:function(t){return this.instance(e.extend(this._options,{driver:t}))},getDriver:function(){return this._driver},namespace:function(t){return this.instance(e.extend(this._options,{namespace:t}))},getNamespace:function(){return this._namespace},supported:function(e){return this._checkSupport(e)},instance:function(e){return new c(e)}},new c(i)}]}})}),function(e){"use strict";e.module("paneraCommonUi.common.modal",["paneraCommonUi.common.modal.pnraModal.component","paneraCommonUi.common.modal.pnraModal.service"]),e.module("paneraCommonUi.common.dynamic",["paneraCommonUi.common.dynamic.pnraComponent.directive"]),e.module("paneraCommonUi.common.images",["paneraCommonUi.common.images.pnraImage.service"]),e.module("paneraCommonUi.common.loading",["cgBusy","paneraCommonUi.modules.loading.pnraLoading.config"]),e.module("paneraCommonUi.common.analytics",["paneraCommonUi.common.analytics.service","paneraCommonUi.common.analytics.constants"]),e.module("paneraCommonUi",["paneraCommonUi.config","paneraCommonUi.common.images","paneraCommonUi.common.modal","paneraCommonUi.common.dynamic","paneraCommonUi.common.loading","paneraCommonUi.common.analytics","paneraCommonUi.common.angularLockerPolyfill","paneraCommonUi.common.filters","paneraCommonUi.common.eventHandler","paneraCommonUi.common.splunk.service","paneraCommonUi.common.locale","paneraCommonUi.common.converters"])}(angular),function(e){"use strict";e.module("paneraCommonUi.common.converters",["paneraCommonUi.common.converters.service","paneraCommonUi.common.converters.uramp"])}(angular),function(e){"use strict";e.module("paneraCommonUi.common.eventHandler",["paneraCommonUi.common.eventHandler.service","paneraCommonUi.common.eventHandler.constants"])}(angular),angular.module("pnraAddressBlock.html",[]).run(["$templateCache",function(e){e.put("pnraAddressBlock.html",'<span ng-if="$ctrl.header" class="h4 address-title">{{ $ctrl.i18n[header] }}:</span>\n<address>\n  <span><strong>{{ $ctrl.name }}</strong></span>\n  <span ng-if="$ctrl.cafeId">{{ $ctrl.cafeIdLabel }} {{ $ctrl.cafeId }}</span>\n  <span>{{ $ctrl.line1 }}</span>\n  <span>{{ $ctrl.line2 }}</span>\n  <span ng-if="$ctrl.city || $ctrl.state || $ctrl.zip">{{ $ctrl.city }}, {{ $ctrl.state }} {{ $ctrl.zip }}</span>\n  <span ng-if="$ctrl.phone" class="phone"><i class="fa fa-phone"></i> {{ $ctrl.phone | pnraFormatPhone }}</span>\n</address>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.filters",["paneraCommonUi.common.filters.formatPhone","paneraCommonUi.common.filters.apiErrorKey","paneraCommonUi.common.filters.pnraMaskCreditCard","paneraCommonUi.common.filters.pnraMaskGiftCard"])}(window.angular),angular.module("pnraReceipt.html",[]).run(["$templateCache",function(e){e.put("pnraReceipt.html",'<div class="row">\n  <div class="col-md-3">\n    <pnra-receipt-summary order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-summary>\n  </div>\n  <div class="col-md-9">\n    <pnra-receipt-customer order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-customer>\n    <pnra-receipt-details order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-details>\n    <pnra-receipt-cart order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-cart>\n    <pnra-receipt-totals order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-totals>\n    <pnra-receipt-payment order="$ctrl.order" i18n="$ctrl.i18n"></pnra-receipt-payment>\n  </div>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.locale",["paneraCommonUi.common.locale.service","paneraCommonUi.common.locale.filter"])}(angular),angular.module("pnraLoading.template.html",[]).run(["$templateCache",function(e){e.put("pnraLoading.template.html",'<div class="pnra-loading-container">\n  <div class="pnra-loader">\n    <div class="pnra-loader-icon"></div>\n  </div>\n</div>')}]),function(e){"use strict";e.module("paneraCommonUi.common.pnraAddressBlock",["paneraCommonUi.common.pnraAddressBlock.component"])}(angular),angular.module("pnraReceiptCart.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptCart.html",'<div class="row">\n  <h3 class="title">{{ $ctrl.i18n.ORDER_SUMMARY }}</h3>\n  <table class="table table-striped">\n    <thead>\n    <tr>\n      <th>{{ $ctrl.i18n.QUANTITY_ABBREV }}</th>\n      <th>{{ $ctrl.i18n.DESCRIPTION }}</th>\n      <th>{{ $ctrl.i18n.UNIT }}</th>\n      <th>{{ $ctrl.i18n.AMOUNT }}</th>\n    </tr>\n    </thead>\n    <tbody class="order-summary-items">\n    <tr ng-repeat="item in $ctrl.order.items">\n      <td>{{ item.quantity }}</td>\n      <td>\n        {{ item.name }}\n        <ul>\n          <li ng-repeat="side in item.childItems">\n              <span ng-if="!$ctrl.isModifiedIngredient(side)">\n                <strong>&lpar;{{ side.quantity }}&rpar;</strong>\n              </span>\n            <span ng-class="side.custType.toLowerCase()">{{ side.name }}</span>\n            <ul ng-if="side.msgPreparedFor || side.msgKitchen">\n              <li ng-if="side.msgPreparedFor"><strong>{{ $ctrl.i18n.PREPARED_FOR }}:&nbsp;</strong>\n                <span class="highlight">{{ side.msgPreparedFor }}</span></li>\n              <li ng-if="side.msgKitchen"><strong>{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS }}:&nbsp;</strong>\n                <span class="highlight">{{ side.msgKitchen }}</span></li>\n            </ul>\n            <ul ng-if="side.childItems">\n              <li ng-repeat="customization in side.childItems">\n                <span ng-class="customization.custType.toLowerCase()">{{ customization.name }}</span>\n              </li>\n            </ul>\n          </li>\n          <li ng-if="item.msgPreparedFor"><strong>{{ $ctrl.i18n.PREPARED_FOR }}:&nbsp;</strong>\n            <span class="highlight">{{ item.msgPreparedFor }}</span></li>\n          <li ng-if="item.msgKitchen"><strong>{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS }}:&nbsp;</strong>\n            <span class="highlight">{{ item.msgKitchen }}</span></li>\n        </ul>\n      </td>\n      <td>{{ item.totalPrice / item.quantity | currency }}</td>\n      <td>{{ item.totalPrice | currency }}</td>\n    </tr>\n    </tbody>\n  </table>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.pnraPayment",["paneraCommonUi.common.pnraPayment.service"])}(angular),angular.module("pnraReceiptCustomer.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptCustomer.html",'<div class="row">\n  <div class="col-sm-12 col-print-12">\n    <div class="row">\n      <h3 class="title">{{ $ctrl.i18n.CUSTOMER_INFORMATION }}</h3>\n    </div>\n    <div class="row">\n      <div class="col-sm-6 col-print-6 detail-column">\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.CONTACT_NAME }}:</strong></p>\n            <p>{{ $ctrl.order.customer.contactName }}</p>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.EMAIL_ADDRESS_RECEIPT }}:</strong></p>\n            <p>{{ $ctrl.order.customer.email  }}</p>\n          </div>\n        </div>\n      </div>\n      <div class="col-sm-6 col-print-6">\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.CONTACT_NUMBER }}:</strong></p>\n            <p>{{ $ctrl.order.customer.phone | pnraFormatPhone }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceipt",["paneraCommonUi.common.pnraReceipt.component"])}(angular),angular.module("pnraReceiptDetails.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptDetails.html",'<div class="row" ng-class="{\'hidden-xs\': !$ctrl.order.isDelivery}">\n  <div class="col-sm-12 col-print-12">\n    <div class="row">\n      <h3 class="title">{{ $ctrl.i18n.ORDER_DETAILS }}</h3>\n    </div>\n    <div class="row">\n      <div class="col-sm-6 col-print-6 detail-column">\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.ORDER_TYPE_LABEL }}:</strong></p>\n            <p>{{ $ctrl.i18n[$ctrl.order.summary.destination] }}</p>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.DATE }}:</strong></p>\n            <p>{{ $ctrl.order.dates.fulfillDate }}</p>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.order.isPickup ? $ctrl.i18n.EXPECTED_PICKUP_TIME :\n              $ctrl.order.isDelivery ? $ctrl.i18n.EXPECTED_DELIVERY_TIME :\n              $ctrl.order.isDineIn ? $ctrl.i18n.EXPECTED_TIME : \'\'  }}:</strong></p>\n            <p>{{ $ctrl.order.dates.fulfillTime }}</p>\n          </div>\n        </div>\n        <div class="row" ng-if="$ctrl.order.summary.specialInstructions">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS }}:</strong></p>\n            <p>{{ $ctrl.order.summary.specialInstructions }}</p>\n          </div>\n        </div>\n      </div>\n      <div class="col-sm-6 col-print-6 detail-column">\n        <div class="row">\n          <div class="col-sm-12">\n            <div>\n              <strong>{{ $ctrl.order.isDelivery ? $ctrl.i18n.DELIVERY_ADDRESS : $ctrl.i18n.CAFE_ADDRESS}}</strong>\n            </div>\n            <pnra-address-block ng-if="$ctrl.order.isPickup"\n                           line1="$ctrl.order.displayCafe.address"\n                           city="$ctrl.order.displayCafe.city"\n                           state="$ctrl.order.displayCafe.countryDivision"\n                           zip="$ctrl.order.displayCafe.postalCode">\n            </pnra-address-block>\n            <pnra-address-block ng-if="$ctrl.order.isDelivery"\n                           name="$ctrl.order.delivery.addressId"\n                           line1="$ctrl.order.delivery.address1"\n                           line2="$ctrl.order.delivery.address2"\n                           city="$ctrl.order.delivery.city"\n                           state="$ctrl.order.delivery.countryDivision"\n                           zip="$ctrl.order.delivery.postalCode">\n            </pnra-address-block>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-12">\n            <p><strong>{{ $ctrl.i18n.CAFE_PHONE_NUMBER }}:</strong></p>\n            <p><i class="fa fa-phone"></i> {{ $ctrl.order.displayCafe.phoneNumber | pnraFormatPhone }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.splunk",["paneraCommonUi.common.splunk.service"])}(angular),angular.module("pnraReceiptPayment.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptPayment.html",'<div ng-if="$ctrl.order.payment">\n  <div class="row">\n    <h3 class="title">{{ $ctrl.i18n.PAYMENT_INFORMATION }}</h3>\n  </div>\n  <div class="row" >\n    <div class=" col-xs-3">\n      <strong>{{$ctrl.i18n.CARDHOLDER_NAME}}</strong>\n    </div>\n    <div class="col-xs-3">\n      <strong>{{$ctrl.i18n.PAYMENT_TYPE}}</strong>\n    </div>\n    <div class="col-xs-3">\n      <strong>{{$ctrl.i18n.CARD_NUMBER}}</strong>\n    </div>\n    <div class="col-xs-3">\n      <strong>{{$ctrl.i18n.AMOUNT}}</strong>\n    </div>\n  </div>\n  <div class="row" ng-repeat="cc in $ctrl.order.payment.creditCards">\n    <div class="col-xs-3">\n      {{cc.tokens[0].cardHolderName || $ctrl.order.customer.firstName + \' \' + $ctrl.order.customer.lastName }}\n    </div>\n    <div class="col-xs-3">\n      {{ cc.tokens[0].cardType }}\n    </div>\n    <div class="col-xs-3">\n      {{ cc.tokens[0].lastFour | pnraMaskCreditCard }}\n    </div>\n    <div class="col-xs-3">\n      {{ cc.amount | currency }}\n    </div>\n  </div>\n  <div class="row" ng-repeat="gc in $ctrl.order.payment.giftCards">\n    <div class="col-xs-3">\n      {{ $ctrl.order.customer.firstName + \' \' + $ctrl.order.customer.lastName }}\n    </div>\n    <div class="col-xs-3">\n      {{ $ctrl.i18n.GIFT_CARD }}\n    </div>\n    <div class="col-xs-3">\n      {{ gc.cardNum | pnraMaskGiftCard }}\n    </div>\n    <div class="col-xs-3">\n      {{ gc.amount | currency }}\n    </div>\n  </div>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp",["paneraCommonUi.common.converters.uramp.customer","paneraCommonUi.common.converters.uramp.address","paneraCommonUi.common.converters.uramp.favoriteGroups","paneraCommonUi.common.converters.uramp.paymentOptions","paneraCommonUi.common.converters.uramp.phone","paneraCommonUi.common.converters.uramp.phones"])}(angular),angular.module("pnraReceiptSummary.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptSummary.html",'<div class="row">\n  <div class="col-md-12">\n    <h3 class="receipt-thanks">{{ $ctrl.i18n.THANK_YOU_FOR_YOUR_ORDER }}</h3>\n  </div>\n</div>\n<div class="row">\n  <div class="col col-md-12">\n    <p><strong>{{ $ctrl.i18n.ORDER_NUMBER }}:</strong></p>\n    <p>{{ $ctrl.order.orderId }}</p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <p>\n      <strong>\n        {{ $ctrl.order.isPickup ? $ctrl.i18n.EXPECTED_PICKUP_TIME :\n            $ctrl.order.isDelivery ? $ctrl.i18n.EXPECTED_DELIVERY_TIME :\n            $ctrl.order.isDineIn ? $ctrl.i18n.EXPECTED_TIME : \'\'  }}:\n      </strong>\n    </p>\n    <p>{{ $ctrl.order.dates.fulfillDate }}</p>\n    <p>{{ $ctrl.order.dates.fulfillTime }}</p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <p><strong>{{ $ctrl.i18n.ORDER_PLACED_TIME }}:</strong></p>\n    <p>{{ $ctrl.order.dates.startDate }}</p>\n    <p>{{ $ctrl.order.dates.startTime }}</p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-11 col-print-9">\n    <aside><em>{{ $ctrl.i18n.IF_NEED_ASSISTANCE }}</em></aside>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <pnra-address-block name="$ctrl.order.displayCafe.name"\n                   line1="$ctrl.order.displayCafe.address"\n                   city="$ctrl.order.displayCafe.city"\n                   state="$ctrl.order.displayCafe.state"\n                   zip="$ctrl.order.displayCafe.countryDivision"\n                   phone="$ctrl.order.displayCafe.phoneNumber">\n    </pnra-address-block>\n  </div>\n</div>\n')}]),function(e){"use strict";function t(e,t){function n(){return"prod"===o}function r(){return n()?"https://www.panerabread.com/":"https://www-preprod.panerabread.com/"}var i=!1,o="test",a="retail",s="";this.setDebug=function(e){i=e},this.setEnv=function(e){o=e},this.setClient=function(e){a=e},this.setUnknownKeyPrefix=function(e){s=e},this.configureAnalytics=function(t){e.setAccount(t),e.trackPages(!0),e.trackUrlParams(!1),e.useDisplayFeatures(!1),e.useAnalytics(!0),e.ignoreFirstPageLoad(!1),e.useECommerce(!0,!0),e.useEnhancedLinkAttribution(!0),e.setPageEvent("$routeChangeSuccess"),e.setExperimentId("DUJFtUYzS4uObLgiWwaQaA")},this.configureLocker=function(e){t.defaults({driver:"session",namespace:e,seperator:"-",eventsEnabled:!0})},this.$get=function(){return{debug:i,env:o,client:a,isProd:n,webUIurl:r(),foundApiProxyUrl:"/foundation-api/",imageRenditions:{original:"/jcr:content/renditions/original",mobile:"/jcr:content/renditions/mobile2x.jpeg"},unknownKeyPrefix:s}}}t.$inject=["AnalyticsProvider","lockerProvider"],e.module("paneraCommonUi.config",["angular-google-analytics","angular-locker"]).provider("pnraConfig",t)}(window.angular),angular.module("pnraReceiptTotals.html",[]).run(["$templateCache",function(e){e.put("pnraReceiptTotals.html",'<div id="receiptTotals">\n  <div class="row">\n    <div class="col-xs-8 col-sm-9">\n      <p><strong>{{ $ctrl.i18n.SUBTOTAL }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p>{{ $ctrl.order.summary.subTotal | currency }}</p>\n    </div>\n  </div>\n  <div class="row" ng-if="$ctrl.order.orderDiscounts">\n    <div class="col-xs-8 col-sm-9">\n      <p><strong>{{ $ctrl.i18n.DISCOUNT }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p><small>&minus;</small>{{ $ctrl.order.orderDiscounts | currency }}</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-8 col-sm-9">\n      <p><strong>{{ $ctrl.i18n.TAX }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p>{{ $ctrl.order.summary.tax | currency }}</p>\n    </div>\n  </div>\n\n  <div class="row" ng-if="$ctrl.order.summary.deliveryFee">\n    <div class="col-xs-offset-5 col-sm-offset-6 col-xs-3">\n      <p><strong>{{ $ctrl.i18n.DELIVERY_FEE }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p>{{ $ctrl.order.summary.deliveryFee | currency}}</p>\n    </div>\n  </div>\n  <div class="row" ng-if="$ctrl.order.summary.tip && $ctrl.order.summary.tip > 0">\n    <div class="col-xs-offset-5 col-sm-offset-6 col-xs-3">\n      <p><strong>{{ $ctrl.i18n.TIP }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p>{{ $ctrl.order.summary.tip | currency}}</p>\n    </div>\n  </div>\n  <hr class="artisan">\n  <div class="row total-price">\n    <div class="col-xs-offset-5 col-sm-offset-6 col-xs-3">\n      <p><strong>{{ $ctrl.i18n.TOTAL }}&colon;</strong></p>\n    </div>\n    <div class="col-xs-4 col-sm-3 amount">\n      <p>{{ $ctrl.order.summary.totalPrice | currency }}</p>\n    </div>\n  </div>\n</div>\n')}]),function(e){"use strict";e.module("paneraCommonUi.common.analytics.constants",[]).constant("pnraAnalyticsConstants",{categories:{orderSlottingModal:"Order Slotting Modal",groupOrder:"Group Order",orderDetails:"Order Details",suggestedTip:"Suggested Tipping",login:"Login",upsell:"Upsell"},suggestedTip:{category:"Suggested Tipping",submit:{action:"Submit"}},nonSuggestedTip:{category:"Non-Suggested Tipping",submit:{action:"Submit",label:"No Group"}},survey:{deliveryOrder:"delivery survey",deliveryDefaultLabel:"Satisfied",generic:"survey",genericDefaultLabel:"Ordering Experience",noComments:"No comments provided."},cart:{favoriteOrder:{action:"Add Favorite Order to Cart",category:"Favorites"},favoriteItem:{action:"Add Favorite Item to Cart",category:"Favorites"},pastOrder:{action:"Add Past Order to Cart",category:"Past Orders"}},checkout:{favoriteOrder:{action:"Ordered Using Favorite Order",category:"Favorites"},favoriteItem:{action:"Ordered Using Favorite Item",category:"Favorites"},pastOrder:{action:"Ordered from pastOrders",category:"Past Orders"},favoriteCafe:{action:"Used favCafe to place an order",category:"Favorites"}},favoriteItem:{add:"Add Favorite Item",update:"Update Favorite Item","delete":"Delete Favorite Item"},favoriteOrder:{add:"Add Favorite Order",update:"Update Favorite Order","delete":"Delete Favorite Order"},dimensions:{survey:"dimension6",noteToDriver:"dimension7",groupOrderSize:"dimension8",orderId:"dimension1",customerId:"dimension4",username:"dimension5",loginRegType:"dimension10",accountErrors:"dimension11",regEmailOpt:"dimension12"},metrics:{surveyRating:"metric1",tip:"metric3",groupOrderGuestTotal:"metric4",numEmailsFound:"metric5"},contentGroups:{orderType:"contentGroup1"}})}(window.angular),function(e){"use strict";function t(e,t){function n(e){var n="(Order: "+e.orderId+") ";return n+=e.comment||t.survey.noComments}function r(e,n){return e!==t.survey.deliveryOrder?t.survey.genericDefaultLabel:_.isUndefined(n.reason)?t.survey.deliveryDefaultLabel:n.reason}function i(e,i){var o={};o[t.dimensions.survey]=n(i),o[t.metrics.surveyRating]=i.rating,a.trackEvent(e,"submit",r(e,i),i.rating,!1,_.omit(o,_.isUndefined))}function o(e){a.trackEvent(e,"load","Ordering Experience",0,!1)}var a=this;this.trackEvent=function(t,n,r,i,o,a){i=i||0,a=_.isUndefined(a)?void 0:a,o=o||!1,e.trackEvent(t,n,_.toString(r),i,o,a)},this.deliverySurveySubmit=function(e){i(t.survey.deliveryOrder,e)},this.genericSurveySubmit=function(e){i(t.survey.generic,e)},this.trackBringgSource=function(e){a.trackEvent("Bringg","Source",e)},this.deliverySurveyLoaded=function(){o(t.survey.deliveryOrder)},this.genericSurveyLoaded=function(){o(t.survey.generic)},this.trackBringgNote=function(e){var n={};n[t.dimensions.noteToDriver]=e.note,a.trackEvent("Bringg","Track Order","Send Driver Note",e.orderId,!1,n)},this.trackBringgTrackButtonDisplayed=function(e,t){a.trackEvent("Bringg","Displayed Track Order Button",t,e)},this.trackBringgLoaded=function(e){a.trackEvent("Bringg","Track Order","Initialization",e)},this.setGroupOrderSize=function(n){e.set(t.dimensions.groupOrderSize,n)},this.setOrderId=function(n){e.set(t.dimensions.orderId,n)},this.trackSuccessfulOrder=function(e){a.trackEvent("Order","Successful Transaction",e)},this.trackFailedOrder=function(e){a.trackEvent("Order","Failed Transaction",JSON.stringify(e))},this.trackTransaction=function(t){e.trackTransaction(t.orderId,void 0,t.orderTotal,_.isUndefined(t.tax)?"0.00":t.tax.toFixed(2),t.shipping,JSON.stringify(t.discountCode),void 0,void 0,void 0)},this.trackAddFavoriteItem=function(e){a.trackEvent("Favorites",t.favoriteItem.add,e.itemId+" - "+e.name,e.quantity)},this.trackFavoritesAction=function(e,n){var r=n?t.favoriteOrder:t.favoriteItem;a.trackEvent("Favorites",r[e])},this.trackCafeSelected=function(e){a.trackEvent(t.categories.orderDetails,"Set Cafe",(e.cafeId||e.CafeId)+" - "+e.Name)},this.trackOrderType=function(e){a.trackEvent(t.categories.orderDetails,"Set Order Type",e)},this.trackOrderDetailsReset=function(){a.trackEvent(t.categories.orderDetails,"Reset Order Details")},this.trackOrderDetailsRevert=function(){a.trackEvent(t.categories.orderDetails,"Revert Order Details")},this.trackOrderTime=function(e){a.trackEvent(t.categories.orderDetails,"Set Order Time",e)},this.trackMenuSearch=function(e){a.trackEvent("Menu","Search",e,1,!1,{})},this.trackHiringSubmit=function(){a.trackEvent("Hiring","submit","Tell a Friend",0,!1)},this.trackHiringLoad=function(){a.trackEvent("Hiring","load","Tell a Friend",0,!1)},this.trackFailedRefund=function(e){a.trackEvent("Order","Failed Refund",JSON.stringify(e))},this.trackDetail=function(){e.trackDetail()},this.trackHolidayOrderingOverLimit=function(e){a.trackEvent("Holiday Ordering","Limit Exceeded (modal)",e,0,!1)},this.trackCartChange=function(t){e.trackCart(t)},this.trackAdminFlow=function(e){a.trackEvent(t.categories.groupOrder,"Admin Flow",e)},this.trackGuestFlow=function(e){a.trackEvent(t.categories.groupOrder,"Guest Flow",e)},this.trackAdminAction=function(e){a.trackEvent(t.categories.groupOrder,"Admin Action",e)},this.trackUnavailableTimes=function(e){a.trackEvent("Order Slotting",e,"Unavailable Times",0,!1)},this.addProduct=function(t){e.addProduct(t.id,t.name,t.brand,t.category,t.variant,t.price,t.itemQty,t.coupon)},this.setUser=function(t){e.set("&uid",t)},this.setCustomerId=function(n){e.set(t.dimensions.customerId,n)},this.setUsername=function(n){e.set(t.dimensions.username,n)},this.setCurrency=function(){e.set("&cu","USD")},this.setOrderType=function(n){e.set(t.contentGroups.orderType,n)},this.setLanguage=function(t){e.set("language",t)},this.trackPaymentMethod=function(e){a.trackEvent("Payment","Method",e,0,!1)},this.trackCheckout=function(t){e.trackCheckout(t)},this.trackOrderSlotModalShow=function(){a.trackEvent(t.categories.orderSlottingModal,"Launch","Launch Order Slotting Modal")},this.trackOrderSlotChooseTime=function(){a.trackEvent(t.categories.orderSlottingModal,"Choose Another Time","Go back to Order Time Selection Page")},this.trackOrderSlotAcceptTime=function(){a.trackEvent(t.categories.orderSlottingModal,"Accept Recommended Time","Accept Next Available Order Slot")},this.trackOrderSlotAbandonOrder=function(){a.trackEvent(t.categories.orderSlottingModal,"Exit Order Slotting","Exit Order Slotting Modal Without Placing an Order")},this.trackSuggestedTipping=function(e,n){a.trackEvent(t.suggestedTip.category,t.suggestedTip.submit.action,e.groupName,n)},this.trackNonSuggestedTip=function(e){a.trackEvent(t.nonSuggestedTip.category,t.nonSuggestedTip.submit.action,t.nonSuggestedTip.submit.label,e)},this.trackCartEvent=function(e){a.trackEvent(t.cart[e].category,t.cart[e].action)},this.trackGroupOrderSize=function(e){a.trackEvent(t.categories.groupOrder,"Group Size",e)},this.trackGuestOrder=function(e){var n=e&&e.orderNumber,r=e&&e.cost&&e.cost.total,i={};i[t.metrics.groupOrderGuestTotal]=r.balance,a.trackEvent(t.categories.groupOrder,"Guest Order details","OrderId and OrderTotal",n,!1,i)},this.trackLogin=function(e,n){a.trackEvent(t.categories.login,e,n,0,!1)},this.trackUpsell=function(e,n){a.trackEvent(t.categories.upsell,e,n,0,!1)}}t.$inject=["Analytics","pnraAnalyticsConstants"],e.module("paneraCommonUi.common.analytics.service",["angular-google-analytics","paneraCommonUi.common.analytics.constants"]).service("pnraAnalyticsService",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.angularLockerPolyfill",["angular-locker"]).config(["$provide",function(e){e.decorator("locker",["$delegate","$cacheFactory",function(e,t){var n={local:{},session:{}},r=function(e){var t=this;this.get=function(t,r){return n[e].get(t)||r},this.put=function(r,i){n[e].put(r,_.isFunction(i)?i(t.get(r)):i)},this.has=function(t){return!!n[e].get(t)},this.clean=function(){n[e].removeAll()},this.forget=function(t){n[e].remove(t)}};return e.supported()||(n.local=t("local"),n.session=t("session"),e.driver=function(e){return new r(e)}),e}])}])}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.constants",[]).constant("pnraConstants",{regexes:{username:/^[a-zA-Z0-9.\-'&#$%^*/:?;|()=@_]+$/,password:/^[a-zA-Z0-9.\-'&#$%^*/:?;|()=@_]{5,}$/,validEmail:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,validPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,validCard:/^[0-9]+$/,input:/^[a-zA-Z0-9 ]*$/,i18nVariables:/{{\s*(.*?)\s*}}/g,alphaNumeric:/^[a-z0-9\s]+$/i,specialInstructions:/[!@#$\%^|&*()\?<>]/g,validSpecialInstructions:/^((?![!@#$%^&*()?<>]).)*$/,decimalNumber:/^\d*\.?\d*$/,integer:/^\d+\.?\d*$/,tableNumber:/^[1-9]+\d*$/,postalCode:/^[-a-z0-9\s]+$/i,nonNumericOrDecimal:/[^0-9\.]+/,nonNumbers:/[^0-9]/g,validName:/^[^0-9]/g},defaultCafe:{CafeId:"500000",cafeId:5e5,TimeZone:"America/Chicago",maxModifications:5}})}(window.angular),function(e){"use strict";function t(e){return{scope:{pnraComponent:"<"},restrict:"A",link:function(t,n){var r=_.kebabCase(t.pnraComponent.component),i="<"+r;_.forEach(t.pnraComponent.bindings,function(e,t){i+=" "+_.kebabCase(t)+'="'+e+'"'}),i+="></"+r+">",n.append(e(i)(t.$parent))}}}t.$inject=["$compile"],e.module("paneraCommonUi.common.dynamic.pnraComponent.directive",[]).directive("pnraComponent",t)}(window.angular),function(e){"use strict";function t(){var e=this;this.set=function(e,t,n,r,i){var o;return _.has(t,r)?(o=_.get(t,r),_.set(e,n,i?i(o):o)):e},this.convert=function(t,n){return _.reduce(n,function(n,r,i){return e.set(n,t,i,r)},{})}}t.$inject=[],e.module("paneraCommonUi.common.converters.service",[]).service("pnraConverterService",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.eventHandler.constants",[]).constant("pnraEvents",{i18nData:{CHANGE:"PNRA_I18N_DATA_CHANGE"}})}(angular),function(e){"use strict";function t(e){this.register=function(t,n,r,i){var o=e.$on(n,function(e,t){i?r(e,t):r(t)});return t.$on("$destroy",function(){o()}),o},this.fire=function(t,n,r){e.$emit(t,n,r)}}t.$inject=["$rootScope"],e.module("paneraCommonUi.common.eventHandler.service",[]).service("pnraEventHandler",t)}(window.angular),function(e){"use strict";var t={imageRenditions:{original:"/jcr:content/renditions/original",mobile:"/jcr:content/renditions/mobile2x.jpeg"},path:{"static":"panerabread/menu/delivery-categories/misc/"}};e.module("paneraCommonUi.common.image.pnraImage.constants",[]).constant("pnraImage",t);
}(window.angular),function(e){"use strict";function t(e,t){var n=this;this.preprocessImages=function(e){_.forEach(e,function(t,r){e[r]=n.getImageUrl(t,"static")})},this.getImageUrl=function(n,r){var i=e.webUIurl,o=t.path[r],a=_.get(t,"extension[type]","");return{original:i+o+n+a+t.imageRenditions.original,mobile:i+o+n+a+t.imageRenditions.mobile}}}t.$inject=["pnraConfig","pnraImage"],e.module("paneraCommonUi.common.images.pnraImage.service",["paneraCommonUi.config","paneraCommonUi.common.image.pnraImage.constants"]).service("pnraImageService",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.modules.loading.pnraLoading.config",[]).value("cgBusyDefaults",{backdrop:!1,templateUrl:"templates/pnraLoading.template.html",delay:100,minDuration:500,wrapperClass:"pnra-loading"})}(window.angular),function(e){"use strict";function t(e){var t=this;t.$onInit=function(){t.closeButton=_.cloneDeep(e.staticImages.closeButton.original),t.pnraComponentOptions={component:t.resolve.modalOptions.component,bindings:{modalInstance:"$ctrl.modalInstance",resolve:"$ctrl.resolve"}}}}t.$inject=["pnraModal"],e.module("paneraCommonUi.common.modal.pnraModal.component",["pnraModal.html","paneraCommonUi.common.dynamic","paneraCommonUi.common.modal.pnraModal.constants"]).component("pnraModal",{templateUrl:"pnraModal.html",controller:t,bindings:{close:"&",dismiss:"&",resolve:"<",modalInstance:"<"}})}(window.angular),function(e){"use strict";var t={staticImages:{closeButton:"close-md.svg"}};e.module("paneraCommonUi.common.modal.pnraModal.constants",["paneraCommonUi.common.images"]).value("pnraModal",t).run(["pnraModal","pnraImageService",function(e,t){t.preprocessImages(e.staticImages)}])}(window.angular),function(e){"use strict";function t(e,t){var n=[];this.getOpenModals=function(){return n},this.show=function(r){var i=_.cloneDeep(r),o=r.hideContainer?r.component:"pnraModal";return _.assign(i,{component:o,resolve:{modalOptions:function(){return r}}}),_.includes(n,r.component)?t.reject():(n.push(r.component),e.open(i).result["finally"](function(){_.pull(n,r.component)}))}}t.$inject=["$uibModal","$q"],e.module("paneraCommonUi.common.modal.pnraModal.service",[]).service("pnraModalService",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.locale.constants",[]).constant("pnraLocaleConstants",{regexes:{i18nVariables:/{{\s*(.*?)\s*}}/g},i18nVariables:{myPanera:'<span class="my-panera">My</span>Panera'}})}(window.angular),function(e){"use strict";function t(e){var t=e.translate;return t.$stateful=!0,t}t.$inject=["pnraLocaleService"],e.module("paneraCommonUi.common.locale.filter",["paneraCommonUi.common.locale.service"]).filter("pnraTranslate",t)}(window.angular),function(e){"use strict";function t(t,n,r,i,o){function a(e){var t={};return _.forEach(e,function(e){t[e]=l.translate(e)}),t}var s,c,l=this;this.setI18nData=function(t){s=e.extend({},s,t),c=!0,n.fire(r.i18nData.CHANGE)},this.getI18nValue=function(e){return s&&s.phrases?s.phrases[e]:void 0},this.getCurrentVersionId=function(){return _.get(s,"pkid.versionId")},this.translate=function(e,n){var r;return _.isString(e)||(e=""),r=l.getI18nValue(e),r=e.length>0&&_.isString(r)?r.replace(i.regexes.i18nVariables,function(e,t){return _.noop(e),!_.isEmpty(t)&&Number(t)?n[t-1]:!_.isEmpty(t)&&_.isString(t)?i.i18nVariables[t]:""}):o.unknownKeyPrefix+e,t.trustAsHtml(r)},this.onI18nDataChange=function(e,t,i){return c&&t(a(i)),n.register(e,r.i18nData.CHANGE,function(){t(a(i))})}}t.$inject=["$sce","pnraEventHandler","pnraEvents","pnraLocaleConstants","pnraConfig"],e.module("paneraCommonUi.common.locale.service",["paneraCommonUi.common.eventHandler","paneraCommonUi.common.locale.constants","paneraCommonUi.config"]).service("pnraLocaleService",t)}(window.angular),function(e){"use strict";function t(e,t){var n=this,r=[n.header];n.$onInit=function(){t.onI18nDataChange(e,function(e){n.i18n=e},r)}}t.$inject=["$scope","pnraLocaleService"],e.module("paneraCommonUi.common.pnraAddressBlock.component",["pnraAddressBlock.html","paneraCommonUi.common.locale","paneraCommonUi.common.filters.formatPhone"]).component("pnraAddressBlock",{templateUrl:"pnraAddressBlock.html",controller:t,bindings:{header:"<",name:"<",line1:"<",line2:"<",city:"<",state:"<",zip:"<",phone:"<",cafeId:"<"}})}(window.angular),function(e){"use strict";var t="BGAuSEi4OEu4hbNYqCGOtFCI/H1/OUvVmQ09AHs9iSgNovgbJZAr+usgu/ZzrK5B2/fyv+UsS5wLJkIHYzBcpOA=";e.module("paneraCommonUi.common.pnraPayment.constants",[]).constant("pnraPaymentConstants",{defaults:{supportedPaymentMethods:[{supportedMethods:["basic-card"],data:{supportedNetworks:["visa","mastercard","amex","discover"]}},{supportedMethods:["https://android.com/pay"],data:{merchantName:"Panera Bread",environment:"TEST",allowedCardNetworks:["VISA","MASTERCARD","AMEX","DISCOVER"],paymentMethodTokenizationParameters:{tokenizationType:"NETWORK_TOKEN",parameters:{publicKey:t}}}}],paymentDetails:{total:{label:"Total",amount:{currency:"USD",value:0}}},options:{}}})}(angular),function(e){"use strict";function t(e,t,n){function r(e){return{total:{label:"Total",amount:{currency:_.get(e,"summary.currencyCode","USD"),value:_.get(e,"summary.totalPrice",0)}}}}function i(e){return[_.flow(_.snakeCase,_.toUpper)(e.message)]}this.isWebPaymentsSupported=function(){return!_.isUndefined(e.PaymentRequest)},this.requestPayment=function(o){var a=t.defer(),s=_.cloneDeep(n.defaults),c=_.get(o,"order"),l=_.get(o,"paymentRequestOptions");return _.isUndefined(c)||(s.paymentDetails=r(o.order)),_.isEmpty(l)||_.merge(s,o.paymentRequestOptions),new e.PaymentRequest(s.supportedPaymentMethods,s.paymentDetails,s.options).show().then(function(e){e.complete("success"),a.resolve(e)})["catch"](function(e){a.reject(i(e))}),a.promise}}t.$inject=["$window","$q","pnraPaymentConstants"],e.module("paneraCommonUi.common.pnraPayment.service",["paneraCommonUi.common.pnraPayment.constants"]).service("pnraPaymentService",t)}(window.angular),function(e){"use strict";function t(e,t,n){var r=this;r.$onInit=function(){t.onI18nDataChange(e,function(e){r.i18n=e},n.i18nKeys)}}t.$inject=["$scope","pnraLocaleService","pnraReceiptConstants"],e.module("paneraCommonUi.common.pnraReceipt.component",["pnraReceipt.html","paneraCommonUi.common.locale","paneraCommonUi.common.pnraReceiptCart.component","paneraCommonUi.common.pnraReceiptCustomer.component","paneraCommonUi.common.pnraReceiptDetails.component","paneraCommonUi.common.pnraReceiptPayment.component","paneraCommonUi.common.pnraReceiptSummary.component","paneraCommonUi.common.pnraReceiptTotals.component","paneraCommonUi.common.pnraReceipt.constants"]).component("pnraReceipt",{templateUrl:"pnraReceipt.html",controller:t,bindings:{order:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceipt.constants",[]).constant("pnraReceiptConstants",{i18nKeys:["AMOUNT","CAFE_ADDRESS","CAFE_PHONE_NUMBER","CARD_NUMBER","CARDHOLDER_NAME","CONTACT_NAME","CONTACT_NUMBER","CUSTOMER_INFORMATION","DATE","DELIVERY_ADDRESS","DELIVERY_FEE","DELIVERY","DESCRIPTION","DINE_IN","DISCOUNT","EMAIL_ADDRESS_RECEIPT","EXPECTED_DELIVERY_TIME","EXPECTED_PICKUP_TIME","EXPECTED_TIME","GIFT_CARD","IF_NEED_ASSISTANCE","ORDER_DETAILS","ORDER_NUMBER","ORDER_PLACED_TIME","ORDER_SUMMARY","ORDER_TYPE_LABEL","PAYMENT_INFORMATION","PAYMENT_TYPE","PREPARED_FOR","QUANTITY_ABBREV","RPU","SPECIAL_INSTRUCTIONS","SUBTOTAL","TAX","THANK_YOU_FOR_YOUR_ORDER","TIP","TOTAL","UNIT"]})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.splunk.service",[]).service("pnraSplunkService",["$log",function(e){this.log=function(t){e.log(t)},this.info=function(t){e.info(t)},this.warn=function(t){e.warn(t)},this.error=function(t){e.error(t)},this.debug=function(t){e.debug(t)}}])}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.filters.apiErrorKey.constants",[]).constant("pnraApiErrorKeyConstants",{itemUnavailable:{states:["hasUnavailableSize","hasUnavailableSide","hasUnavailableIngredients","isProductStockout","isUnavailable"],message:"YOU_HAVE_ADDED_ITEMS_THAT_ARE_PRESENTLY_UNAVAILABLE"}})}(window.angular),function(e){"use strict";function t(e){function t(e){return e.match(/^unable to authenticate/)?"ERROR_CODE_10001":e.match(/^unable to locate session/)?"ERROR_CODE_10002":r[e]||e}function n(){return"PS_SYSTEMERROR"}var r={"session invalid":"ERROR_CODE_10003","Invalid Food Preferences":"ERROR_CODE_10004","Invalid Gathering Preferences":"ERROR_CODE_10005"};return function(r,i){return _.isEmpty(r)&&_.isUndefined(i)?["PS_SYSTEMERROR"]:_.isObject(r)?_.isArray(r.errors)?_.map(r.errors,function(e){return _.has(e,"description")?e.description.toUpperCase().replace(/( |\.)/g,"_"):"ERROR_CODE_"+e["error-code"]}):r.error?[t(r.error)]:r.status?[t(r.status)]:r.errorMessage?[n(r.errorMessage)]:_.isEmpty(r)&&i?["ERROR_CODE_"+i]:_.isArray(r)&&_.isString(r[0])?_.map(r,function(t){return _.isEmpty(_.intersection([t],e.itemUnavailable.states))?t.toUpperCase().replace(/( |\.)/g,"_"):e.itemUnavailable.message}):r:_.isUndefined(i)?["PS_SYSTEMERROR"]:["ERROR_CODE_"+i]}}t.$inject=["pnraApiErrorKeyConstants"],e.module("paneraCommonUi.common.filters.apiErrorKey",["paneraCommonUi.common.filters.apiErrorKey.constants"]).filter("pnraApiErrorKeyFilter",t)}(window.angular),function(e){"use strict";function t(e){return function(t,n){return n=n||{},t&&(t=t.replace(e.regexes.nonNumbers,""),t.length>6?t=(n.parens?"(":"")+t.slice(0,3)+(n.parens?") ":"-")+t.slice(3,6)+"-"+t.slice(6):t.length>3&&(t=t.slice(0,3)+"-"+t.slice(3,6))),t}}t.$inject=["pnraConstants"],e.module("paneraCommonUi.common.filters.formatPhone",["paneraCommonUi.common.constants"]).filter("pnraFormatPhone",t)}(window.angular),function(e){"use strict";function t(){return function(e){return e&&"XXXX-XXXX-XXXX-"+e.slice(-4)}}t.$inject=[],e.module("paneraCommonUi.common.filters.pnraMaskCreditCard",[]).filter("pnraMaskCreditCard",t)}(window.angular),function(e){"use strict";function t(){return function(e){return e&&e.slice(-4)}}t.$inject=[],e.module("paneraCommonUi.common.filters.pnraMaskGiftCard",[]).filter("pnraMaskGiftCard",t)}(window.angular),function(e){"use strict";function t(e){var t=this;t.isModifiedIngredient=function(t){return _.includes(e.customizationTypes,t.custType||t.type)}}t.$inject=["pnraReceiptCartConstants"],e.module("paneraCommonUi.common.pnraReceiptCart.component",["pnraReceiptCart.html","paneraCommonUi.common.pnraReceiptCart.constants"]).component("pnraReceiptCart",{templateUrl:"pnraReceiptCart.html",controller:t,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptCart.constants",[]).constant("pnraReceiptCartConstants",{customizationTypes:["ADDED","REMOVED","SUBSTITUTED"]})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptCustomer.component",["pnraReceiptCustomer.html","paneraCommonUi.common.filters.formatPhone"]).component("pnraReceiptCustomer",{templateUrl:"pnraReceiptCustomer.html",controller:_.noop,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptDetails.component",["pnraReceiptDetails.html","paneraCommonUi.common.filters.formatPhone","paneraCommonUi.common.pnraAddressBlock"]).component("pnraReceiptDetails",{templateUrl:"pnraReceiptDetails.html",controller:_.noop,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptPayment.component",["pnraReceiptPayment.html","paneraCommonUi.common.filters.pnraMaskCreditCard","paneraCommonUi.common.filters.pnraMaskGiftCard"]).component("pnraReceiptPayment",{templateUrl:"pnraReceiptPayment.html",controller:_.noop,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptSummary.component",["pnraReceiptSummary.html","paneraCommonUi.common.pnraAddressBlock"]).component("pnraReceiptSummary",{templateUrl:"pnraReceiptSummary.html",controller:_.noop,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.pnraReceiptTotals.component",["pnraReceiptTotals.html"]).component("pnraReceiptTotals",{templateUrl:"pnraReceiptTotals.html",controller:_.noop,bindings:{order:"<",i18n:"<"}})}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp.address.constants",[]).constant("pnraUrampAddressConverterConstants",{addressKeyMap:{additionalInfo:"additionalInfo",addressLine1:"addressLine1",addressLine2:"addressLine2",addressType:"addressType",city:"city",contactPhone:"contactPhone",country:"country",id:"id",name:"name",state:"state",zip:"zip"},addressTypeMap:{Residential:"RSD",Business:"BUS",Apartment:"APT",OTHER:"Other",Other:"Other",RSD:"Residential",HOME:"Residential",WORK:"Business",BUSINESS:"Business",BUS:"Business",APARTMENT:"Apartment",APT:"Apartment",OTH:"Other",Home:"Residential",Work:"Business",College_campus:"College Campus",COLLEGE_CAMPUS:"College Campus","College Campus":"College Campus"},legacyAddressDefaults:{"address-identifier":null,"is-default":!1,"is-valid":!0},urampAddressDefaults:{country:"United States"}})}(window.angular),function(e){"use strict";function t(e,t){function n(n,r,i){var o=i.addressTypeResultKey,a=i.addressTypeSourceKey;e.set(n,r,o,a,function(e){return _.get(t.addressTypeMap,e)})}function r(t,r){var i=e.convert(t,r.addressKeyMap);return n(i,t,r),_.merge(i,r.addressDefaults),i}this.convertToLegacy=function(e){return r(e,{addressKeyMap:_.invert(t.addressKeyMap),addressDefaults:_.cloneDeep(t.legacyAddressDefaults),addressTypeSourceKey:"addressType",addressTypeResultKey:"addressType"})},this.convertToUramp=function(e){return r(e,{addressKeyMap:_.cloneDeep(t.addressKeyMap),addressDefaults:_.cloneDeep(t.urampAddressDefaults),addressTypeSourceKey:"addressType",addressTypeResultKey:"addressType"})}}t.$inject=["pnraConverterService","pnraUrampAddressConverterConstants"],e.module("paneraCommonUi.common.converters.uramp.address",["paneraCommonUi.common.converters.service","paneraCommonUi.common.converters.uramp.address.constants"]).service("pnraUrampAddressConverter",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp.favoriteGroups.constants",[]).constant("pnraUrampFavoriteGroupsConverterConstants",{favoriteGroupKeyMap:{groupName:"name",groupType:"type"},favoriteItemKeyMap:{itemName:"name",irisItemNum:"iris-item-num",quantity:"quantity",specialInstructions:"special-instructions"},urampFavoriteGroupDefaults:{sortOrder:0}})}(window.angular),function(e){"use strict";function t(e,t){function n(t,r){var i=e.convert(t,r.favoriteItemKeyMap),o=r.subFavoritesResultKey,a=r.subFavoritesSourceKey;return e.set(i,t,o,a,function(e){return _.map(e,function(e){return n(e,r)})})}function r(t,r){var i=e.convert(t,r.favoriteGroupKeyMap),o=r.favoriteItemsResultKey,a=r.favoriteItemsSourceKey;return _.merge(i,r.favoriteGroupDefaults),e.set(i,t,o,a,function(e){return _.map(e,function(e){return n(e,r)})})}function i(e,t){return _.map(e,function(e){return r(e,t)})}this.convertToLegacy=function(e){return i(e,{favoriteGroupKeyMap:_.invert(t.favoriteGroupKeyMap),favoriteGroupDefaults:{},favoriteItemKeyMap:_.invert(t.favoriteItemKeyMap),favoriteItemsResultKey:"favorites",favoriteItemsSourceKey:"favoriteItems",subFavoritesResultKey:"sub-favorites",subFavoritesSourceKey:"subfavorites"})},this.convertToUramp=function(e){return i(e,{favoriteGroupKeyMap:_.cloneDeep(t.favoriteGroupKeyMap),favoriteGroupDefaults:_.cloneDeep(t.urampFavoriteGroupDefaults),favoriteItemKeyMap:_.cloneDeep(t.favoriteItemKeyMap),favoriteItemsResultKey:"favoriteItems",favoriteItemsSourceKey:"favorites",subFavoritesResultKey:"subfavorites",subFavoritesSourceKey:"sub-favorites"})}}t.$inject=["pnraConverterService","pnraUrampFavoriteGroupsConverterConstants"],e.module("paneraCommonUi.common.converters.uramp.favoriteGroups",["paneraCommonUi.common.converters.service","paneraCommonUi.common.converters.uramp.favoriteGroups.constants"]).service("pnraUrampFavoriteGroupsConverter",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp.paymentOptions.constants",[]).constant("pnraUrampPaymentOptionsConverterConstants",{urampPaymentOptionKeyMapByType:{creditCards:{token:"token",expirationDate:"exp-date",cardholderName:"cardholder-name",lastFour:"last-four",creditCardType:"cc-type",paymentProcessor:"processor",paymentLabel:"card-name"},payPals:{accountNumber:"token",username:"cardholder-name"},giftCards:{cardNumber:"token",cardNickname:"card-name"},corporateCateringAccounts:{}},legacyPaymentOptionKeyMapByType:{},legacyPaymentOptionDefaults:{creditCards:{"is-default":!1},payPals:{"is-default":!1,processor:"PAYPAL","cc-type":"PYPL","exp-date":null},giftCards:{"is-default":!1,processor:"FIRSTDATA","cc-type":"GIFT","exp-date":null},corporateCateringAccounts:{"is-default":!1}},urampPaymentOptionDefaults:{},legacyGetCardNameFn:{creditCards:_.noop,payPals:function(e){return e["cardholder-name"]},giftCards:_.noop,corporateCateringAccounts:_.noop},legacyGetCardHolderNameFn:{creditCards:_.noop,payPals:_.noop,giftCards:function(e){return e["card-name"]||"GIFT-"+e.token.slice(-4)},corporateCateringAccounts:_.noop},urampPaymentOptionsObj:{creditCards:[],giftCards:[],payPals:[],corporateCateringAccounts:[]},urampPaymentOptionKeys:["creditCards","giftCards","payPals"],legacyTypeToUramp:{GIFT:"giftCards",PYPL:"payPals","default":"creditCards"}})}(window.angular),function(e){"use strict";function t(e,t){function n(e){var n=t.legacyTypeToUramp;return _.get(n,e["cc-type"],n["default"])}function r(){var e=_.cloneDeep(t.urampPaymentOptionKeyMapByType);return _.reduce(e,function(e,t,n){return _.set(e,n,_.invert(t))},{})}function i(e,n){var r=t.legacyGetCardNameFn[n](e)||e["card-name"]||null,i=t.legacyGetCardHolderNameFn[n](e)||e["cardholder-name"];return{"last-four":_.get(e,"token","").slice(-4),"card-name":r,"cardholder-name":i}}function o(t,n,r){var i=e.convert(t,n.paymentOptionKeyMap[r]);return _.merge(i,n.paymentOptionDefaults[r],n.convertMiscProperties(i,r))}function a(e,r){var i;return _.isArray(r.resultPaymentOptions)?_.forEach(t.urampPaymentOptionKeys,function(t){_.forEach(e[t],function(e){r.resultPaymentOptions.push(o(e,r,t))})}):_.forEach(e,function(e){i=n(e),r.resultPaymentOptions[i].push(o(e,r,i))}),r.resultPaymentOptions}this.convertToLegacy=function(e){return a(e,{resultPaymentOptions:[],paymentOptionKeyMap:r(),paymentOptionDefaults:_.cloneDeep(t.legacyPaymentOptionDefaults),convertMiscProperties:i})},this.convertToUramp=function(e){return a(e,{resultPaymentOptions:_.cloneDeep(t.urampPaymentOptionsObj),paymentOptionKeyMap:_.cloneDeep(t.urampPaymentOptionKeyMapByType),paymentOptionDefaults:_.cloneDeep(t.urampPaymentOptionDefaults),convertMiscProperties:_.noop})}}t.$inject=["pnraConverterService","pnraUrampPaymentOptionsConverterConstants"],e.module("paneraCommonUi.common.converters.uramp.paymentOptions",["paneraCommonUi.common.converters.service","paneraCommonUi.common.converters.uramp.paymentOptions.constants"]).service("pnraUrampPaymentOptionsConverter",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp.customer.constants",[]).constant("pnraUrampCustomerConverterConstants",{customerKeyMap:{customerId:"customerId",username:"username",socialIntegration:"socialIntegration",firstName:"firstName",lastName:"lastName",emails:"emails",emailAddress:"emailAddress",phoneNumber:"phoneNumber",opt:"opt",isEmailGlobalOpt:"isEmailGlobalOpt","loyalty.cardNumber":"loyalty-card.card-number","loyalty.regCode":"loyalty-card.reg-code","userPreferences.gatherPreference.displayName":"loyalty-card.gather","birthDate.birthDay":"loyalty-card.birth-day","birthDate.birthMonth":"loyalty-card.birth-month","birthDate.birthYear":"loyalty-card.birth-year"},legacyCustomerDefaults:{password:null,"sms-opt-in":!1,"email-opt-in":!1,title:null,"user-type":"registered"},urampGatherPreferenceToLegacyMap:{"Meal with family":"Meet Friends and Family","Business Meeting":"Business Meetings","Work Alone":"Work Alone","Book Club":"Book Club","Study Groups":"Study Groups","Mother & Toddler":"Mother & Toddler","Community Meeting":"Community Meetings",Other:"Other"},urampCustomerDefaults:{},phoneTypes:{HOME:"Residential",CELL:"Cell Phone"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(e,n,r){n.addresses&&(e.addresses=_.map(n.addresses,function(e){return _.invoke(t,r.conversionFn,e)}))}function a(t,r,i){var o=i.favoriteGroupsResultKey,a=i.favoriteGroupsSourceKey;e.set(t,r,o,a,function(e){return _.invoke(n,i.conversionFn,e)})}function s(t,n,i){var o=i.paymentOptionsResultKey,a=i.paymentOptionsSourceKey;e.set(t,n,o,a,function(e){return _.invoke(r,i.conversionFn,e)})}function c(e,t){return _.get(_.find(e,{phoneType:t}),"phoneNumber",null)}function l(e){var t=_.get(e,"userPreferences.gatherPreference.displayName");return _.get(i.urampGatherPreferenceToLegacyMap,t,"")}function u(e){return{"home-phone":c(e.phones,i.phoneTypes.HOME),"cell-phone":c(e.phones,i.phoneTypes.CELL),"loyalty-card":{"food-prefs":_.chain(e).get("userPreferences.foodPreferences").sortBy("code").map("code").join(",").value(),gather:l(e)}}}function d(t,n){var r=e.convert(t,n.customerKeyMap);return o(r,t,n),a(r,t,n),s(r,t,n),_.merge(r,n.customerDefaults,n.convertMiscProperties(t)),r}this.convertToLegacy=function(e){return d(e,{customerKeyMap:_.invert(i.customerKeyMap),customerDefaults:_.cloneDeep(i.legacyCustomerDefaults),convertMiscProperties:u,conversionFn:"convertToLegacy",favoriteGroupsResultKey:"favorite-groups",favoriteGroupsSourceKey:"favoriteGroups",paymentOptionsResultKey:"credit-cards",paymentOptionsSourceKey:"paymentOptions"})},this.convertToUramp=function(e){return d(e,{customerKeyMap:_.cloneDeep(i.customerKeyMap),customerDefaults:_.cloneDeep(i.urampCustomerDefaults),convertMiscProperties:_.noop,conversionFn:"convertToUramp",favoriteGroupsResultKey:"favoriteGroups",favoriteGroupsSourceKey:"favorite-groups",paymentOptionsResultKey:"paymentOptions",paymentOptionsSourceKey:"credit-cards"})}}t.$inject=["pnraConverterService","pnraUrampAddressConverter","pnraUrampFavoriteGroupsConverter","pnraUrampPaymentOptionsConverter","pnraUrampCustomerConverterConstants"],e.module("paneraCommonUi.common.converters.uramp.customer",["paneraCommonUi.common.converters","paneraCommonUi.common.converters.uramp.customer.constants"]).service("pnraUrampCustomerConverter",t)}(window.angular),function(e){"use strict";e.module("paneraCommonUi.common.converters.uramp.phone.constants",[]).constant("pnraUrampPhoneConverterConstants",{phoneKeyMap:{phoneNumber:"phone-number",name:"name",isDefault:"isDefault",phoneType:"phoneType",countryCode:"countryCode",extension:"extension",id:"id",isCallOpt:"isCallOpt",isSmsOpt:"isSmsOpt",isValid:"isValid",smsPreferences:"smsPreferences"},defaultPhoneType:"Unknown"})}(window.angular),function(e){"use strict";function t(e,t){function n(e,t){var n=_.get(e,t.phoneTypeResultKey,t.defaultPhoneType);_.set(e,t.phoneTypeResultKey,n)}function r(t,r){var i=e.convert(t,r.phoneKeyMap);return n(i,r),i}this.convertToLegacy=function(e){return r(e,{phoneKeyMap:_.invert(t.phoneKeyMap),phoneTypeResultKey:"phoneType",defaultPhoneType:_.cloneDeep(t.defaultPhoneType)})},this.convertToUramp=function(e){return r(e,{phoneKeyMap:_.cloneDeep(t.phoneKeyMap),phoneTypeResultKey:"phoneType",defaultPhoneType:_.cloneDeep(t.defaultPhoneType)})}}t.$inject=["pnraConverterService","pnraUrampPhoneConverterConstants"],e.module("paneraCommonUi.common.converters.uramp.phone",["paneraCommonUi.common.converters","paneraCommonUi.common.converters.uramp.phone.constants"]).service("pnraUrampPhoneConverter",t)}(window.angular),function(e){"use strict";function t(e){this.convertToLegacy=function(t){return _.map(t,function(t){return e.convertToLegacy(t)})},this.convertToUramp=function(t){return _.map(t,function(t){return e.convertToUramp(t)})}}t.$inject=["pnraUrampPhoneConverter"],e.module("paneraCommonUi.common.converters.uramp.phones",["paneraCommonUi.common.converters"]).service("pnraUrampPhonesConverter",t)}(window.angular),
// Copyright 2017 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
function(){if(navigator.credentials&&!navigator.credentials.preventSilentAccess){navigator.credentials.preventSilentAccess=navigator.credentials.requireUserMediation;var e=navigator.credentials.get.bind(navigator.credentials);navigator.credentials.get=function(t){var n=["silent","optional","required"];if(t.mediation&&-1===n.indexOf(t.mediation))throw new TypeError("The provided value '"+t.mediation+"' is not a valid enum value.");return"required"===t.mediation&&console.warn("mediation: 'required' can not be supported in older browsers, using mediation: 'optional' instead."),t.unmediated="silent"===t.mediation,e(t)},navigator.credentials.create=function(e){var t="NotSupportedError: Only 'password' and 'federated'credential types are currently supported.";return new Promise(function(n,r){if(1!==Object.keys(e).length)return void r(t);if("password"in e)try{n(new PasswordCredential(e.password))}catch(i){r(i)}else if("federated"in e)try{n(new FederatedCredential(e.federated))}catch(i){r(i)}else r(t)})}}}(),/*! echo-js v1.7.3 | (c) 2016 @toddmotto | https://github.com/toddmotto/echo */
function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,n,r,i,o,a={},s=function(){},c=function(e){return null===e.offsetParent},l=function(e,t){if(c(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},u=function(){(i||!n)&&(clearTimeout(n),n=setTimeout(function(){a.render(),n=null},r))};return a.init=function(n){n=n||{};var c=n.offset||0,l=n.offsetVertical||c,d=n.offsetHorizontal||c,p=function(e,t){return parseInt(e||t,10)};t={t:p(n.offsetTop,l),b:p(n.offsetBottom,l),l:p(n.offsetLeft,d),r:p(n.offsetRight,d)},r=p(n.throttle,250),i=n.debounce!==!1,o=!!n.unload,s=n.callback||s,a.render(),document.addEventListener?(e.addEventListener("scroll",u,!1),e.addEventListener("load",u,!1)):(e.attachEvent("onscroll",u),e.attachEvent("onload",u))},a.render=function(){for(var n,r,i=document.querySelectorAll("img[data-echo], [data-echo-background]"),c=i.length,u={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},d=0;c>d;d++)r=i[d],l(r,u)?(o&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src=r.getAttribute("data-echo"),o||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),s(r,"load")):o&&(n=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("data-echo-placeholder"),s(r,"unload"));c||a.detach()},a.detach=function(){document.removeEventListener?e.removeEventListener("scroll",u):e.detachEvent("onscroll",u),clearTimeout(n)},a}),function(e){"use strict";function t(e,t,n){var r=!_.isEmpty(n);return _.forEach(n,function(n){e[n]!==t[n]&&(r=!1)}),r}function n(e,n,r){return _.filter(e,function(e){return!_.isUndefined(_.find(n,function(n){return t(e,n,r)}))})}function r(e,n,r){var i=[];return _.forEach(e,function(e){_.isUndefined(_.find(n,function(n){return t(e,n,r)}))&&i.push(e)}),i}function i(e){return _.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):e}function o(){document.activeElement.blur()}function a(e){var t;return e&&("34"===e.substr(0,2)||"37"===e.substr(0,2)?t="AMEX":"6011"===e.substr(0,4)||e.substr(0,6)>="622126"&&e.substr(0,6)<="622925"||e.substr(0,3)>="644"&&e.substr(0,3)<="649"||"65"===e.substr(0,2)?t="DISC":e.substr(0,2)>="50"&&e.substr(0,2)<="55"||e.substr(0,6)>="222100"&&e.substr(0,6)<="272099"?t="MAST":"4"===e.substr(0,1)&&(t="VISA")),t}function s(e){switch(e){case"localhost":return"";case"devecomapp01.dev.paneracloud.com":return"";default:return".panerabread.com"}}function c(e){var t={"delivery1.panerabread.com":"https://www.panerabread.com/","delivery.panerabread.com":"https://www.panerabread.com/","delivery1-preprod.panerabread.com":"https://www.panerabread.com/","delivery-preprod.panerabread.com":"https://www.panerabread.com/","default":"https://www-preprod.panerabread.com/"};return t[_.has(t,e)?e:"default"]}function l(e){return e.indexOf("localhost")>=0?"https://delivery-qarc.panerabread.com":"https://"+e}function u(e){var t={"delivery-qarc.panerabread.com":"https://apple-pay-gateway-cert.apple.com/paymentservices/startSession","delivery-qahf.panerabread.com":"https://apple-pay-gateway-cert.apple.com/paymentservices/startSession","default":void 0};return t[_.has(t,e)?e:"default"]}function d(e){var t={"delivery1.panerabread.com":"","delivery.panerabread.com":"","delivery1-preprod.panerabread.com":"","delivery-preprod.panerabread.com":"","default":"Unknown I18N key: "};return t[_.has(t,e)?e:"default"]}function p(e){return e?!0:!1}function m(e){var t=moment();return t.isSame(e,"day")&&t.isSame(e,"month")&&t.isSame(e,"year")}function f(e){return e.id||e.itemId||void 0}function h(e){return/^\d+$/.test(e)}e.utilities={arrayIntersection:n,arrayRemove:r,blurActiveElement:o,capitalizeFirstLetter:i,cardTypeFromNumber:a,getItemId:f,getWebUIUrl:c,getDeliveryTrackerUrl:l,getCookieDomain:s,isSecureCookie:p,getUnknownKeyPrefix:d,getApplePayUrl:u,isMomentToday:m,isANumber:h},e.env={webUIurl:c(document.location.host),deliveryTrackerUrl:l(document.location.host),cookieDomain:s(document.domain),applePayUrl:u(document.location.host),unknownKeyPrefix:d(document.location.host),foundApiProxyUrl:"/foundation-api/",imageRenditions:{original:"/jcr:content/renditions/original",mobile:"/jcr:content/renditions/mobile2x.jpeg",mobileTransparent:"/jcr:content/renditions/mobile2x.png"}},e.env.imageDamUrl=e.env.webUIurl+"foundation/"}(window),function(e){"use strict";e.module("paneraOrdering",["paneraOrdering.routes","angular-locker","paneraCommonUi","common.factories.media","common.factories.cafeLocator","common.factories.upsell","common.services.urampHttp.service","common.services.configService","common.services.imageService","common.services.lightningBoltService","common.services.bing.service","common.services.scriptElementService","common.services.splunkService","common.services.localeService","common.services.loginService","common.services.userService","common.services.rewardManagementService","common.services.userSessionMgmtService","common.services.modalService","common.services.messagesService","common.directives.androidAppBanner","common.directives.formatPhone.directive","common.directives.typeaheadActive.directive","paneraOrdering.appBanner","paneraOrdering.page.controller","paneraOrdering.footer","common.utilities.constants","common.utilities.clientVars","common.utilities.constants.supportedLocales","common.utilities.error","common.utilities.filters","common.utilities.httpInterceptor","paneraOrdering.groupOrder.goHttpInterceptor","paneraOrdering.notificationBanner.component","common.utilities.translate","ui.bootstrap.tpls","uiGmapgoogle-maps","schemaForm","angular-google-analytics","common.services.analytics","matchMedia","checkbox.html","default.html","radios.html"]).config(["AnalyticsProvider","clientVarsProvider","currentUrl",function(e,t,n){var r=t.getClientVars(),i=r.googleAnalytics.accounts[n]||r.googleAnalytics.accounts["default"];e.setAccount(i),e.trackPages(!0),e.trackUrlParams(!1),e.useDisplayFeatures(!1),e.useAnalytics(!0),e.ignoreFirstPageLoad(!1),e.useECommerce(!0,!0),e.useEnhancedLinkAttribution(!0),e.setPageEvent("$routeChangeSuccess"),e.setExperimentId("DUJFtUYzS4uObLgiWwaQaA")}]).config(["$compileProvider","$locationProvider","$sceDelegateProvider","lockerProvider","$httpProvider","headers","uiGmapGoogleMapApiProvider","schemaFormDecoratorsProvider","pnraConfigProvider","clientVarsProvider",function(e,t,n,r,i,o,a,s,c,l){var u=l.getClientVars();e.debugInfoEnabled(!1),t.html5Mode(!0),t.hashPrefix("!"),n.resourceUrlWhitelist(["self","https://www.panerabread.com/**"]),i.defaults.cache=!1,i.defaults.headers.get={"If-Modified-Since":o.ifModifiedSince.date},i.useApplyAsync(!0),r.defaults({driver:"session",namespace:u.lockerNamespace,seperator:"-",eventsEnabled:!0}),a.configure({v:"3.19"}),s.addMapping("bootstrapDecorator","checkbox","templates/checkbox.html"),s.addMapping("bootstrapDecorator","radios","templates/radios.html"),s.addMapping("bootstrapDecorator","default","templates/default.html"),s.addMapping("bootstrapDecorator","password","templates/default.html"),s.addMapping("bootstrapDecorator","recaptcha","templates/recaptcha.html"),s.addMapping("bootstrapDecorator","select","templates/select.html"),c.setEnv("prod"),c.setUnknownKeyPrefix(window.env.unknownKeyPrefix)}]).run(["analyticsService","localeService","locker","supportedLocales",function(e,t,n,r){e.setCurrency(),t.init(n.driver("local"),r)}]).run(["$rootScope","cafeLocatorFactory","loginService","menuService","configService",function(e,t,n,r,i){n.updateUserInformationIfLoggedIn(),t.onCafeChange(e,function(){r.addCategoryData(),r.addPlacardData(),r.fetchComboData()}),i.fetchConfig()}]).run(["scriptElementService","lightningBoltService","bingService","userSessionMgmtService","messagesService","imageService","upsellFactory","mediaFactory",function(e){e.loadScriptElements()}])}(window.angular),function(e){"use strict";e.module("paneraOrdering.routes",["ngRoute","common.utilities.constants","common.utilities.clientVars","common.services.loginService","common.services.userService","paneraCommonUi.common.modal","paneraOrdering.routes.service","common.services.modalService","common.services.configService","common.services.scriptElementService","common.factories.orderFlowFactory","common.services.campaign.service","paneraOrdering.groupOrder.groupOrderService","common.modules.registration.registrationFlow.service","common.modules.receipt","common.services.orderMgmtService","common.factories.stockoutFactory","common.services.orderTypeService","common.factories.cafeLocator","paneraOrdering.account","paneraOrdering.builder","paneraOrdering.cafeLocator","paneraOrdering.checkout","paneraOrdering.addToCart.service","paneraOrdering.cartLinks","paneraOrdering.orderCancellation","paneraOrdering.orderConfirmation","paneraOrdering.dashboard.component","paneraOrdering.footer","paneraOrdering.groupOrder.goDashboard","paneraOrdering.orderHelp","paneraOrdering.login","paneraOrdering.menu","paneraOrdering.myPanera","paneraOrdering.navbar.component","paneraOrdering.orderProcess","paneraOrdering.groupOrder.goFlow","paneraOrdering.resetPassword","paneraOrdering.pageNotFound.component","paneraOrdering.appBanner.constants","paneraOrdering.startOrder.component","account.html","dashboard.html","myPanera.html","menu.html","cafeLocator.html","orderProcess.html","goFlow.html","goDashboard.html","checkout.html","cartLinks.html","orderCancellation.html","orderConfirmation.html","orderHelp.html","footer.html","navbar.html"]).config(["$routeProvider","routes","staticHeaders","clientVarsProvider",function(e,t,n,r){function i(e,t){return["$q","$location","routes","userService","pnraModalService","routesService",function(n,r,i,o,a,s){return t&&o.isLoggedIn()?(r.path(i.index),n.resolve()):(s.trackLoginDisplayed(),a.show(e)["catch"](function(){return s.trackLoginDismissed(),n.reject()})["finally"](function(){r.path(i.index)}))}]}var o=r.getClientVars();e.when(t.index,o.routeConfig.index),e.when(t.login,{templateUrl:"dashboard.html",controllerAs:"Dashboard",template:"<dashboard></dashboard>"}),e.when(t.login,{template:"<dashboard></dashboard>",appBannerContext:n.dashboard,resolve:{resolveLogin:i({component:"pnraLogin",size:"lg-small",guestAllowed:!0},!0)}}),e.when(t.register,{template:"<dashboard></dashboard>",appBannerContext:n.dashboard,resolve:{resolveRegister:["registrationFlowService","$location","regTypes",function(e,n,r){return e.launchRegistration(r.DEFAULT)["finally"](function(){n.path(t.index)})}]}}),e.when(t.forgotPassword,{template:"<dashboard></dashboard>",appBannerContext:n.dashboard,resolve:{resolveForgotPassword:i({component:"forgotPassword",size:"md-small",hideContainer:!1},!1)}}),e.when(t.myPanera,{templateUrl:"myPanera.html",controller:"MyPaneraController",i18nTitle:"MEET_MYPANERA"}),e.when(t.menuRoute,{template:"<menu></menu>",i18nTitle:"MENU",showCalorieDisclaimer:!0,appBannerContext:n.menu}),e.when(t.menuMyPaneraRoute,{template:"<menu></menu>",i18nTitle:"MENU",showCalorieDisclaimer:!0}),e.when(t.cafeLocator,{templateUrl:"cafeLocator.html",controller:"CafeLocatorController",i18nTitle:"CAFE_LOCATIONS",resolve:{googleMapsLoaded:["scriptElementService",function(e){return e.loadGoogleMaps()}]}}),e.when(t.orderFlow,o.routeConfig.orderFlow),e.when(t.groupOrder.create,{template:"<go-flow></go-flow>",i18nTitle:"GROUP_ORDER",appBannerContext:n.groupOrder,resolve:{userLoaded:["$rootScope","$q","$location","configService","userService","pnraModalService","loginService","scriptElementService","routesService",function(e,n,r,i,o,a,s,c,l){var u=n.defer();return i.fetchConfig().then(function(n){n.groupOrderIsEnabled?(s.onLoggedInChange(e,function(e){e&&u.resolve()}),o.isLoggedIn()||(l.trackLoginDisplayed(),a.show({component:"pnraLogin",size:"lg-small",guestAllowed:!1})["catch"](function(){l.trackLoginDismissed(),u.reject(),r.path(t.index)}))):(u.reject(),r.path(t.index))}),u.promise.then(c.loadGoogleMaps)}]}}),e.when(t.groupOrder.dashboard,{template:'<go-dashboard order="$resolve.groupOrder"></go-dashboard>',i18nTitle:"GROUP_ORDER_DETAILS",appBannerContext:n.groupOrder,resolve:{groupOrder:["configService","$q","$location","groupOrderService","$route","userService","pnraModalService","routesService",function(e,n,r,i,o,a,s,c){function l(e){return i.isAdmin()?e:(i.startParticipantOrder(),n.reject({}))}function u(){return i.getGroupOrderByToken(o.current.params.groupOrderToken)["catch"](function(e){return i.isGOExpiredError(e)?(i.displayExpiredModal(),r.path(t.index)):r.path(t.pageNotFound),n.reject({})})}return e.fetchConfig().then(function(e){var i;return e.groupOrderIsEnabled?(a.isLoggedIn()?i=n.when():(c.trackLoginDisplayed(),i=s.show({component:"pnraLogin",size:"lg-small",guestAllowed:!0})["catch"](function(){return c.trackLoginDismissed(),n.reject({})})),i.then(u).then(l)):(r.path(t.index),n.reject({}))})}]}}),e.when(t.checkout,{template:"<checkout></checkout>",reloadOnSearch:!1,i18nTitle:"CHECKOUT",showCalorieDisclaimer:!0,resolve:{orderFlowComplete:["orderFlowFactory",function(e){return e.completeOrderFlow()}],googleMapsLoaded:["scriptElementService",function(e){return e.loadGoogleMaps()}]}}),e.when(t.addToCart,{template:"<dashboard></dashboard>",appBannerContext:n.dashboard,resolve:{userLoggedIn:["loginService",function(e){return e.updateUserInformationIfLoggedIn()}],addToCart:["$q","addToCartService",function(e,t){return t.addToCart(),e.resolve()}]}}),e.when(t.cartLinks,{templateUrl:"cartLinks.html",controller:"CartLinksController"}),e.when(t.campaign,{resolve:{userLoggedIn:["$location","$route","routes","campaignService",function(e,t,n,r){var i=t.current.params;return r.setCampaign(i)["finally"](function(){e.path(i.route||n.index).search({})})}]}}),e.when(t.startOrder,{template:"<start-order></start-order>"}),e.when(t.receipt,{template:"<receipt></receipt>"}),e.when(t.orderCancellation,{templateUrl:"orderCancellation.html",controller:"OrderCancellationController",i18nTitle:"ORDER_CANCELLATION",resolve:{userLoggedIn:["loginService",function(e){return e.updateUserInformationIfLoggedIn()}],orderDetails:["$location","$q","$route","modalService","orderMgmtService",function(e,n,r,i,o){return o.getOrderDetails(r.current.params.orderId)["catch"](function(r){return e.search({}),e.path(t.index),i.show({templateUrl:"alert.html",controller:"AlertController",backdrop:"static",keyboard:!1,size:"sm"},{headerText:void 0,bodyText:_.first(r)}),n.reject(r)})}]}}),e.when(t.orderConfirmation,{templateUrl:"orderConfirmation.html",controller:"OrderConfirmationController",i18nTitle:"ORDER_CONFIRMATION",showCalorieDisclaimer:!0,resolve:{fetchGroupOrder:["groupOrderService","$q",function(e,t){return e.isGroupOrder()?e.getGroupOrderByToken(e.getActiveToken()):t.resolve()}]}}),e.when(t.orderingHelp,{templateUrl:"orderHelp.html",controller:"OrderHelpController",i18nTitle:"ORDERING_HELP"}),e.when(t.myAccountRoute,{templateUrl:"account.html",controller:"AccountController",i18nTitle:"MY_ACCOUNT",showCalorieDisclaimer:!0,reloadOnSearch:!1,resolve:{userLoggedIn:["$q","$location","routes","userService","pnraModalService","routesService",function(e,t,n,r,i,o){var a=e.defer();return r.isLoggedIn()?a.resolve():(o.trackLoginDisplayed(),i.show({component:"pnraLogin",size:"lg-small",guestAllowed:!1}).then(function(){r.isLoggedIn()?a.resolve():(t.path(n.index),a.reject())})["catch"](function(){o.trackLoginDismissed(),t.path(n.index),a.reject()})),a.promise}],googleMapsLoaded:["scriptElementService",function(e){return e.loadGoogleMaps()}]}}),e.when(t.resetPassword,{templateUrl:"resetPassword.html",controller:"ResetPasswordController",controllerAs:"ResetPassword",i18nTitle:"RESET_YOUR_PASSWORD",reloadOnSearch:!1}),e.when(t.pageNotFound,{template:"<page-not-found></page-not-found>",i18nTitle:"PAGE_NOT_FOUND"}),e.otherwise({redirectTo:t.index})}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(){n.url(o.index).replace()}this.startOrder=function(){var n=t.current.params.cafeId;return s(),n?r.getCafes({cafeIds:[n]}).then(function(e){i.start(!0,!1,e[0])}):i.start(),e.resolve()},this.trackLoginDisplayed=function(){a.trackLoginDisplayed(n.path())},this.trackLoginDismissed=function(){a.trackLoginDismissed(n.path())}}t.$inject=["$q","$route","$location","cafeSearchService","orderFlowFactory","routes","loginAnalyticsService"],e.module("paneraOrdering.routes.service",["ngRoute","common.services.cafeSearchService","common.factories.orderFlowFactory","common.services.login.loginAnalytics.service","common.utilities.constants"]).service("routesService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.account",["account.html","common.utilities.constants","account.myAccountInfo","account.myPhoneNumbers","account.myAddresses.component","account.myCards","account.myCafes","account.myPastOrders","account.myGroupOrders","account.myFavorites.component","account.myRewards","account.myNotifications","account.myTastesAndInterests","common.services.configService","account.myCommunicationPreferences.component","paneraOrdering.account.menuTransitionsAlert.component","ngRoute"]).controller("AccountController",["$scope","$route","$location","accountPages","routes","configService",function(e,t,n,r,i,o){function a(){t.current.$$route.showCalorieDisclaimer=e.selectedPage&&_.includes(["my_past_orders","my_favorites"],e.selectedPage.key)}function s(){e.showMenuTransitionsMessage=c&&e.selectedPage&&_.includes(["my_past_orders","my_favorites"],e.selectedPage.key)}var c;e.selectPage=function(e){s(),n.path(i.myAccount+e.key),a()},o.fetchConfig().then(function(t){var n=r;t.myGroupOrderIsEnabled||(n=_.reject(n,{i18nName:"MY_GROUP_ORDERS"})),n=t.communicationPreferencesEnabled?_.reject(n,{i18nName:"MY_NOTIFICATIONS"}):_.reject(n,{i18nName:"MY_COMMUNICATION_PREFERENCES"}),e.accountPages=n,c=t.menuTransitionsMessageIsEnabled,s()}),e.selectedPage=_.find(r,{key:t.current.params.page}),a()}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(t){try{return e.cartParser.parse(t)}catch(n){_.noop()}return[]}this.addToCart=function(){var e=s(n.current.params.items),c="true"===n.current.params.checkout;t.url(a.index).replace(),r.completeOrderFlow().then(function(){return i.createCartFromOrder(e).then(function(e){return o.addItem(e).then(function(){c?t.url(a.checkout):t.url(a.menu)})})})}}t.$inject=["$window","$location","$route","orderFlowFactory","myPlacardService","cartService","routes"],e.module("paneraOrdering.addToCart.service",["ngRoute","common.factories.orderFlowFactory","common.services.myPlacardService","common.services.cartService","common.utilities.constants"]).service("addToCartService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(){return n.isGOEnabledForCafe()&&_.get(l,"banner.raiseText")}function a(){return _.get(l.banner,"context","banner")}function s(e){var t=moment().format(i.time).split(" ")[1];l.banner=e,_.get(l,"banner.timeBasedImgKeys")&&(l.banner.headerImgKey=l.banner.timeBasedImgKeys[t]),l.imageKeyUsage=a(),l.raiseText=o()}function c(){e.$on("$routeChangeSuccess",function(e,n){_.noop(e),s(_.get(n,"$$route.appBannerContext")),l.isMenu=_.includes(t.path(),"menu")}),r.onAppBannerSet(e,function(e){s(e)})}var l=this;l.$onInit=function(){c()}}t.$inject=["$scope","$location","groupOrderService","appBannerService","dateTimeFormats"],e.module("paneraOrdering.appBanner",["appBanner.html","common.utilities.constants","paneraOrdering.appBanner.constants","paneraOrdering.appBanner.service","paneraOrdering.groupOrder.groupOrderService"]).component("appBanner",{templateUrl:"appBanner.html",controller:t})}(window.angular),function(e){"use strict";var t=e.module("paneraOrdering.appBanner.constants",[]);t.constant("staticHeaders",{dashboard:{headerI18nTitle:"START_YOUR_ORDER",timeBasedImgKeys:{AM:"home-hero-am",PM:"heroBanner"},raiseText:!0},menu:{headerI18nTitle:"OUR_MENU",headerImgKey:"menu"},myMenu:{my_rewards:{headerI18nTitle:"MY_REWARDS",headerImgKey:"menu"},my_favorites:{headerI18nTitle:"MY_FAVORITES",headerImgKey:"menu"},my_past_orders:{headerI18nTitle:"MY_PAST_ORDERS",headerImgKey:"menu"}},groupOrder:{headerI18nTitle:"YOUR_GROUP_ORDER",headerImgKey:"heroBanner",includeIconImgWithTitle:!0,cssClass:"go-banner",iconClass:"go-users"}})}(window.angular),function(e){"use strict";function t(e){this.setAppBanner=function(t){e.fire("appBannerSet",t)},this.onAppBannerSet=function(t,n){e.register(t,"appBannerSet",function(e,t){_.noop(e),n(t)})}}t.$inject=["eventHandler"],e.module("paneraOrdering.appBanner.service",["common.services.eventHandler"]).service("appBannerService",t)}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl,r=t.env.applePayUrl;e.module("paneraOrdering.applePay.constants",[]).constant("applePay",{sdkVersion:1,supportedNetworks:["amex","discover","masterCard","visa"],merchantCapabilities:["supports3DS"],label:"Panera Bread",type:"A",applicationData:"UGFuZXJhIE9yZGVy",transactionType:"purchase",method:"3DS",apiUrls:{getSession:n+"apple-pay/session"},sessionUrl:r})}(window.angular,window),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(t){var n={};return o.fetchConfig().then(function(r){return t.token.paymentData.merchantIdentifier=r.applePayMerchantId,t.token.paymentData.type=e.type,t.token.paymentData.applicationData=e.applicationData,t.shippingContact.fullName=t.shippingContact.givenName+" "+t.shippingContact.familyName,n={paymentInfo:{transaction_type:e.transactionType,method:e.method,"3DS":t.token.paymentData},shippingContact:t.shippingContact}})}function c(r){var i={url:r},o=e.apiUrls.getSession;return n.post(o,i).then(function(e){return e.data})["catch"](function(){return t.reject()})}function l(e){return _.sumBy(e,"amount")}function u(e,t){return _.toNumber(_.get(e,t,0))}function d(e){return _.sum([u(e,"subtotal"),u(e,"tax"),u(e,"deliveryFee"),u(e,"tip"),-u(e,"otherPayment"),-l(e.discount)])}var p=this,m=a("translate");this.isApplePaySupported=function(e){return r.ApplePaySession?r.ApplePaySession.canMakePaymentsWithActiveCard(e).then(function(e){return e})["catch"](function(){return t.resolve(!1)}):t.resolve(!1)},this.buildLineItems=function(e){var t=[],n=l(e.discount),r=e.otherPayment?"-"+e.otherPayment:0;return n=n?"-"+n:0,t.push({type:"final",label:m("SUBTOTAL"),amount:e.subtotal}),t.push({type:"final",label:m("TAX"),amount:e.tax}),t.push({type:"final",label:m("DISCOUNT"),amount:n}),t.push({type:"final",label:m("DELIVERY_FEE"),amount:e.deliveryFee}),t.push({type:"final",label:m("TIP"),amount:parseFloat(e.tip,10)||0}),t.push({type:"final",label:m("OTHER_PAYMENT"),amount:r}),_.filter(t,function(e){return 0!==e.amount})},this.sendPaymentRequest=function(t,n){var o,a,l=d(n).toFixed(2);a={countryCode:"US",currencyCode:"USD",lineItems:p.buildLineItems(n),total:{label:e.label,amount:l},supportedNetworks:e.supportedNetworks,merchantCapabilities:e.merchantCapabilities,requiredShippingContactFields:["email","phone","name"]},_.noop(t),o=new r.ApplePaySession(1,a),o.onvalidatemerchant=function(t){var n=e.sessionUrl||t.validationURL;c(n).then(function(e){o.completeMerchantValidation(e)})["catch"](function(){o.abort()})},o.onpaymentauthorized=function(e){s(e.payment).then(function(e){o.completePayment(r.ApplePaySession.STATUS_SUCCESS),i.fire("onApplePaySubmitEvent",e)})},o.onpaymentmethodselected=function(){var t={type:"final",label:e.label,amount:l};o.completePaymentMethodSelection(t,p.buildLineItems(n))},o.onshippingcontactselected=function(){var t=r.ApplePaySession.STATUS_SUCCESS,n={type:"final",label:e.label,amount:l};o.completeShippingContactSelection(t,[],n,[])},o.oncancel=function(){i.fire("onApplePaySubmitEvent",!1)},o.begin()},this.onApplePaySubmit=function(e,t){i.register(e,"onApplePaySubmitEvent",function(e,n){_.noop(e),t(n)})}}t.$inject=["applePay","$q","$http","$window","eventHandler","configService","$filter"],e.module("paneraOrdering.applePay.service",["paneraOrdering.applePay.constants","common.services.eventHandler","common.services.configService","common.utilities.translate"]).service("applePayService",t)}(window.angular),function(e,t){"use strict";var n="panerabread/menu/delivery-categories/misc/",r=t.env.foundApiProxyUrl,i=t.env.imageDamUrl,o=t.env.imageRenditions,a=e.module("paneraOrdering.appleWallet.constants",[]);a.constant("appleWalletConstant",{staticImages:{appleWallet:i+n+"apple-wallet.png"+o.original},apiUrls:{passUrl:r+"rewards/apple/pass",passIsAvailable:r+"rewards/apple/passIsAvailable"}})}(window.angular,window),function(e){"use strict";function t(e,t){this.isAddWalletAvailable=function(){var n=t.apiUrls.passIsAvailable;return e.get(n).then(function(){return!0})["catch"](function(){return!1})}}t.$inject=["$http","appleWalletConstant"],e.module("paneraOrdering.appleWallet.service",["paneraOrdering.appleWallet.constants"]).service("appleWalletService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.builder",["alert.html","builderDescription.html","builderNutrition.html","common.services.analytics","builder.customizationNav","builder.selector","builder.selections","builder.builderTotal","common.directives.nutrition","common.factories.cafeLocator","common.factories.stockoutFactory","common.services.cartService","common.services.errorModalService","common.services.menuService","common.services.modalService","common.services.nutritionService","common.services.pricingService","paneraOrdering.builder.builderService","common.utilities.filters","common.utilities.modals.alert","common.utilities.translate","common.utilities.constants","common.services.allergensService.service"]).controller("BuilderController",["$filter","$uibModalInstance","$scope","analyticsService","cartService","errorModalService","menuService","modalOptions","nutritionService","pricingService","cafeLocatorFactory","modalService","stockoutFactory","staticImages","builderService","allergensService","assortmentsCodes","customizationEvent","paneraUrls",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y){function b(){var e=_.cloneDeep(n.selection.selectedComponents);return _.forEach(e,function(e){var t=_.find(n.modifiers.modGroups,{modGroupId:e.modGroupId})||{},r=_.find(t.modItems,{modItemId:e.modItemId})||{},i=_.find(r.variants,{itemId:e.variantId}),o=_.find(r.availabilityExceptions,{type:"lto"});_.isUndefined(e.i18nName)&&(e.i18nName=(i||r).i18nName),o&&(e.fromDate=o.fromDate,e.toDate=o.toDate)}),e}function E(e){var t=_.map(e.defaultModItemsQty,function(t){var n=_.find(e.selectedComponents,{modItemId:t.modItemId});return n&&n.quantity&&n.quantity-t.defaultQty<0?{id:n.modItemId,itemType:"INGREDIENT",itemQty:n.quantity,items:[]}:void 0});return _.forEach(t,function(t){t&&e.items.push(t)}),e}function C(){var e=V.menuItemType&&"assortment"===V.menuItemType.toLowerCase(),t=V.itemType&&"assortment"===V.itemType.toLowerCase(),r=n.product&&n.product.menuItemType&&"assortment"===n.product.menuItemType.toLowerCase();return e||t||r}function S(e){var t=_.filter(n.components.all,function(e){var t=_.find(n.selection.defaultComponents,{modItemId:e.modItemId});return!_.isUndefined(n.ingredientStockout[e.modItemId])&&n.ingredientStockout[e.modItemId].isStockedOutForOrderTime&&(e.quantity=0),t&&t.quantity!==e.quantity});return e=_.uniq((e||[]).concat(t))}function w(e,t,r){var i=e||t;return{id:e?e.itemId:t.modItemId,itemId:e?e.itemId:t.modItemId,i18nName:i.i18nName,itemType:C()&&n.product.sendDefaults?"default":"no"===(i.variantType||"").toLowerCase()?"remove":"add",itemQty:r.quantity||1,hasCustomizations:r.hasCustomizations,allowSpecialInstr:r.allowSpecialInstr,sortWeightCart:t.sortWeightCart}}function T(){var t,r,i,o,a={id:n.selectedItem,plcId:V.plcId,specialInstructions:{},allergens:[],i18nName:n.selectedItemName,imgKey:V.imgKey,price:n.totalPrice,itemType:V.menuItemType||V.itemType||"product",itemQty:1,collapseMods:n.product&&n.product.collapseMods,calories:Y(n.nutrition),defaultModItemsQty:n.defaultModItemsQty,hasCustomizations:V.hasCustomizations,allowSpecialInstr:V.allowSpecialInstr,i18nModLbl:V.i18nBtnLbl||V.i18nModLbl,selectedComponents:b(),sides:n.sides,items:[]};return a.specialInstructions={yourName:e("cleanSpecialInstructions")(n.selection.name),specialInstructions:e("cleanSpecialInstructions")(n.selection.instructions)},_.isUndefined(n.sides)||(r=n.selection.selectedSide||n.sides.defaultSide,i=_.find(n.sides.sideItems,{itemId:r}),_.isUndefined(i)||a.items.push({id:i.itemId,i18nName:i.i18nName,price:i.price,itemType:"side",itemQty:1,hasCustomizations:!1,allowSpecialInstr:!1,calories:Y()})),C()&&n.product&&n.product.sendDefaults?t=n.components.all:(t=n.components.modified,o=_.find(n.defaultModItemsQty,function(e){return e.defaultQty>0}),n.product&&n.defaultModItemsQty&&!_.isUndefined(o)&&(t=S(t))),_.forEach(t,function(e){var t,r,i,o,s;t=_.find(n.modifiers.modGroups,{modGroupId:e.modGroupId}),_.isUndefined(t)||(r=_.find(t.modItems,{modItemId:e.modItemId})),_.isUndefined(r)||e.originalItem||(null!==e.variantId&&(i=_.find(r.variants,{itemId:e.variantId})),s=_.find(t.modItems,{modItemId:t.sendOriginalItemId}),o=w(i,r,e),s&&(o.originalItemId=s.modItemId,o.originalI18nName=s.i18nName),a.items.push(o)),e.allowSpecialInstr=a.allowSpecialInstr,e.hasCustomizations=a.hasCustomizations}),n.cartItem=a,a}function I(){W+=1;var e=_.cloneDeep(T()),t=u.getCafe().cafeId;_.remove(e.items,function(e){return"side"===e.itemType}),e=E(e),c.fetchNutritionData(e,W,t).then(function(e){e.requestId===W&&(n.nutrition=e.nutrition)})}function O(){n.selectedItemName=V.i18nName,n.product={imgKey:V.imgKey,price:V.price,prodDisplay:"Static",i18nName:V.i18nName,i18nDesc:V.i18nDesc},_.isEmpty(V.nutr)?I():n.nutrition=V.nutr,n.loading=!1}function A(e){var t;return _.forEach(e.items,function(e){"side"===e.itemType&&(t=e.id)}),t}function $(e){return _.map(_.forEach(e,function(e){return e.quantity=e.quantity||1,e.i18nName=void 0,_.omit(e,["allowSpecialInstr","hasCustomizations"])}))}function D(){return!_.isEmpty(n.sides)&&!_.isEmpty(n.sides.sideItems)}function x(){t.dismiss("cancel")}function R(){var e,t,r={added:0,removed:0,light:0,extra:0,ontheside:0,sideChanged:!1,instructionsAdded:!1};return _.forEach(n.appliedSubstitutions,function(n){return e=n.occupancy&&n.occupancy.toLowerCase()||"",t=n.subPortion&&n.subPortion.toLowerCase().replace(/\s/g,"")||"","substituted"!==e||_.isUndefined(r[t])?void(e&&!_.isUndefined(r[e])&&(r[e]=r[e]+1)):void(r[t]=r[t]+1)}),r.sideChanged=D()&&n.selection.selectedSide!==n.sides.defaultSide,r.instructionsAdded=!(!n.selection.instructions&&!n.selection.name),r}function k(){var e,t=R(),n=[];return _.forEach(t,function(t,r){t&&(e=_.isNumber(t)&&t||"",n.push(e+v.actions[r]))}),n=n.length&&n.join("|")||"",n.trim()}function P(t){var i=(n.selectedItemModLbl&&e("translate")(n.selectedItemModLbl).toString()||"")+e("translate")(n.selectedItemName).toString(),o=k();t=t||"",o&&r.trackEvent(v.category,t||o,i)}function N(){t.close(T()),P()}function M(e,t){var r=_.find(n.modifiers.modGroups,{modGroupId:e}),i=r&&_.find(r.modItems,{modItemId:t}),o=i&&_.find(i.variants,function(e){return"no"===(e.variantType||"").toLowerCase()});return r&&i&&o&&o.itemId||null}function L(){return _.some(n.selection.defaultComponents,function(e){return n.ingredientStockout[e.modItemId]&&e.isDefault&&n.selection.selectedComponents.length<n.selection.defaultComponents.length})}function U(e){var t={isBagel:!1,isCreamCheese:!1};return n.selection.isAssortment?{isBagel:e!==g.creamCheese,isCreamCheese:e===g.creamCheese}:t}function F(){var e=0,t=0;return C()||_.forEach(n.appliedSubstitutions,function(r){switch(t=0,r.occupancy.toLowerCase()){case"substituted":"light"===r.subPortion.toLowerCase()&&_.some(n.selection.defaultComponents,{modItemId:Number(r.corrAdd)
})||(t+=1);break;case"added":t+="extra"===r.originalPortion.toLowerCase()?2:1}0===r.finalPrice&&(e+=t)}),e}function G(){var t=[];return _.forEach(n.modifiers.modGroups,function(r){var i,o,a,s,c=r.modGroupId,l=_.filter(n.selection.selectedComponents,{modGroupId:c}),u=0;_.forEach(l,function(e){M(e.modGroupId,e.modItemId)!==e.variantId&&(u+=e.quantity)}),r.maxAllowed=r.maxAllowed||999,r.minAllowed=r.minAllowed||0,u>r.maxAllowed?t.push({message:e("translate")("CHOOSE").toString()+" "+(u-r.maxAllowed).toString()+" "+e("translate")("LESS").toString(),modGroup:c}):u<r.minAllowed&&(o=U(c),i=o.isBagel?e("translate")("CHOOSE_MORE_BAGEL").toString():o.isCreamCheese?e("translate")("CHOOSE_MORE_CREAM_CHEESE").toString():e("translate")("MORE").toString(),a=o.isBagel&&L()&&e("translate")("SCROLL_DOWN_FOR_BAGEL").toString()||"",s=o.isCreamCheese&&L()&&e("translate")("SCROLL_DOWN_FOR_CHEESE").toString()||"",t.push({message:e("translate")("CHOOSE").toString()+" "+(r.minAllowed-u).toString()+" "+i+a+s,modGroup:c}))}),F()>n.maxModifications&&(d.show({templateUrl:"alert.html",controller:"AlertController",backdrop:"static",keyboard:!1,size:"sm"},{headerText:void 0,bodyText:"EXCEEDED_FREE_LIMIT_DESCRIPTION"}),t.push({message:e("translate")("EXCEEDED_FREE_LIMIT"),modGroup:"free"}),r.trackEvent(v.category,v.actions.freeModExceeded)),_.forEach(n.selection.selectedComponents,function(r){M(r.modGroupId,r.modItemId)!==r.variantId&&!_.isUndefined(n.ingredientStockout[r.modItemId])&&n.ingredientStockout[r.modItemId].isStockedOutForOrderTime&&t.push({message:e("translate")("CONTAINS_UNAVAILABLE_ITEMS").toString(),modGroup:r.modGroupId})}),!_.isUndefined(n.ingredientStockout[n.selection.selectedSide])&&n.ingredientStockout[n.selection.selectedSide].isStockedOutForOrderTime&&t.push({message:e("translate")("CONTAINS_UNAVAILABLE_SIDE").toString(),modGroup:"side"}),t}function B(e){for(;!_.isEmpty(n.errors);)n.errors.pop();_.forEach(e,function(e){n.errors.push(e)})}function H(e){e.requestId===z&&(n.totalPrice=e.price,n.correlatedItemPrices=e.correlatedItemPrices,n.availableSubstitutions=e.availableSubstitutions,n.appliedSubstitutions=e.appliedSubstitutions,B(G()))}function j(){n.loading=!0,_.isUndefined(V.specialInstructions)||(n.selection.name=V.specialInstructions.yourName||"",n.selection.instructions=V.specialInstructions.specialInstructions||""),V.hasCustomizations?a.fetchCustomizationData(n.selectedItem).then(function(e){return e=_.cloneDeep(e),e.sides=e&&e.sides||{sideItems:[]},_.forEach(e.sides.sideItems,function(e){e.calories=e.nutrients[0]}),e.product=e.product||{},e.modifiers=e.modifiers||{},e.product.hasNoDefaultModifications?e.defaultComponents=[]:e.defaultComponents=i.getDefaultComponents(e),e.defaultModItemsQty=[],_.forEach(e.modifiers.modGroups,function(t){e.defaultModItemsQty=_.union(e.defaultModItemsQty,_.compact(_.map(_.filter(t.modItems,{modItemBasis:"Qty",isDefault:!0}),function(e){return{modItemId:_.result(e,"modItemId"),defaultQty:_.result(e,"defaultQty")}})))}),e}).then(function(e){n.product=e.product,n.selectedItemName=n.product.i18nName||V.i18nName,n.selectedItemModLbl=n.product.i18nModLbl||V.i18nModLbl,n.modifiers=e.modifiers,n.sides=e.sides,n.popular=e.popular,n.defaultModItemsQty=e.defaultModItemsQty,n.selection.defaultComponents=e.defaultComponents,_.isEmpty(V.selectedComponents)?n.selection.selectedComponents=$(_.cloneDeep(n.selection.defaultComponents)):n.selection.selectedComponents=$(_.cloneDeep(V.selectedComponents)),n.selection.selectedSide=A(V)||0,0===n.selection.selectedSide&&(n.selection.selectedSide=n.sides.defaultSide),_.isEmpty(n.selection.defaultComponents)&&I(),n.selection.isAssortment=C(),n.loading=!1})["catch"](function(){o.showAPIFailModal("CUSTOMIZATION_UNAVAILABLE"),t.dismiss(),O()})["finally"](function(){var e=T();i.createEcommProducts([e]),r.trackDetail()}):O()}var V=s.selectedItem,z=0,W=0,Y=e("nutrientsCaloriesFilter");n.btnText=s.btnText,n.maxModifications=u.getCafe().maxModifications,n.totalPrice=V.price,n.selectedItem=V.id||V.itemId,n.isComboItem=V.isComboItem,n.selectedSide="",n.modifiers={},n.nutrition=[],n.ingredientStockout={},n.ignoreNutrition=V.ignoreNutr||!1,n.paneraUrls=y,n.showDescription=!1,n.components={},n.errors=[],n.selection={selectedComponents:[],defaultComponents:[],selectedSide:0,allowSub:"1",name:"",instructions:"",preparation:-1,perItemInstructions:[]},n.specialInstructions=[{preparation:{enabled:!1,instructions:[{instruction:"unsliced",i18nName:"UNSLICED",imgKey:m.myPanera.favoriteIcons.selected},{instruction:"sliced",i18nName:"SLICED_IN_HALF",imgKey:m.myPanera.favoriteIcons.selected},{instruction:"slicedAndToasted",i18nName:"SLICED_AND_TOASTED",imgKey:m.myPanera.favoriteIcons.selected},{instruction:"special",i18nName:"SPECIFY_FOR_EACH_BAGEL",items:[]}]}}],n.saved=!1,n.selectionInfo={type:"",rules:{},groupId:null},n.selectionData={},n.updateSaved=function(e){n.saved=e},n.cancel=x,n.order=N,n.trackCustomization=P,n.hasSide=D,n.formatForCart=T,n.filterModifications=S,j(),n.$watch("selection.selectedSide",function(e,t){e!==t&&(z+=1,l.fetchCartItemPricing(T(),z).then(H))},!0),n.$watch("[selection.name, selection.instructions]",function(t){B(_.isEmpty(_.filter(t,_.isUndefined))?G():[{message:e("translate")("SPECIAL_INSTRUCTIONS_FIX_ERRORS").toString()}]),T()},!0),n.$watch("selection.selectedComponents",function(e,t){if((f.isComponentsChanged(e,t)||_.isEmpty(n.components))&&n.product){var r=utilities.arrayRemove(e,n.selection.defaultComponents,["modGroupId","modItemId","variantId"]),i=utilities.arrayIntersection(e,n.selection.defaultComponents,["modGroupId","modItemId","variantId"]),o=utilities.arrayRemove(n.selection.defaultComponents,e,["modGroupId","modItemId"]);_.forEach(o,function(e){var t=M(e.modGroupId,e.modItemId);null!==t&&r.push({modGroupId:e.modGroupId,modItemId:e.modItemId,variantId:t,quantity:1})}),_.forEach(r,function(e){var t=_.find(n.modifiers.modGroups,{modGroupId:e.modGroupId});t&&t.sendOriginalItemId&&r.push({modGroupId:e.modGroupId,modItemId:t.sendOriginalItemId,variantId:t.sendOriginalItemId,originalItem:!0,quantity:1})}),n.components={modified:r,unmodified:i,all:_.filter(r.concat(i),function(e){return e.quantity>0})},z+=1,l.fetchCartItemPricing(T(),z).then(H),I()}},!0),p.fetchStockoutData(u.getCafe().cafeId).then(function(){return!0}),p.onStockoutChange(n,function(e){n.ingredientStockout=e.item,B(G())})}])}(window.angular),function(e){"use strict";function t(){function e(e){return _.map(e,function(e){return{id:e.modItemId,quantity:e.quantity,variantId:e.variantId}})}this.isComponentsChanged=function(t,n){var r,i;return _.size(t)!==_.size(n)?!0:(r=e(t),i=e(n),!_.isEmpty(_.differenceWith(r,i,_.isEqual)))}}t.$inject=[],e.module("paneraOrdering.builder.builderService",[]).service("builderService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.cafeLocator",["common.factories.orderFlowFactory","common.services.cafeSearchService","common.services.orderTypeService","common.utilities.translate","paneraOrdering.cafeLocator.cafeSelector"]).controller("CafeLocatorController",["$scope","cafeSearchService","orderFlowFactory","orderTypeService",function(e,t,n,r){e.mapCenter={},e.context={},e.currentLocation=t.getCurrentLocation(),e.featuresFilter=r.getOrderTypeDetails().feature,e.displayRemoved=!1,e.setContext=function(t){e.context.selectedCafe=t,e.mapCenter.latitude=e.context.selectedCafe.Location.latitude,e.mapCenter.longitude=e.context.selectedCafe.Location.longitude,n.start(!0,!1,t)}}])}(window.angular),function(e){"use strict";e.module("menu.cart",["cart.html","common.services.cafeHours","common.services.cartService","common.services.discountService","common.services.userService","common.services.orderTypeService","common.services.rewardManagementService","common.factories.media","common.factories.cafeLocator","common.utilities.translate","common.utilities.constants","paneraOrdering.checkout.checkoutService"]).directive("cart",["$location","cafeHours","cafeLocatorFactory","cartService","discountService","userService","orderTypeService","rewardManagementService","mediaFactory","routes","staticImages","checkoutService",function(t,n,r,i,o,a,s,c,l,u,d,p){return{restrict:"E",scope:{customizeItem:"&",navBarOpen:"="},templateUrl:"cart.html",link:function(m){function f(){m.deliveryMinimum=r.getMinDeliveryAmount(),m.hasMetDeliveryMinimum=m.subtotalWithoutDiscount>m.deliveryMinimum}function h(e,t){return _.map(e.items,function(e){return e.itemType===t?e:"remove"===t&&e.originalI18nName?{i18nName:e.originalI18nName}:void 0})}function g(e){var t,n=e.length;for(1===n?m.itemCount=n+" item":m.itemCount=n+" items",m.subtotal=0,t=0;t<e.length;t+=1)e[t].price&&(m.subtotal=m.subtotal+e[t].price);m.subtotalWithoutDiscount=_.cloneDeep(m.subtotal),m.discountAmount=Math.min(o.getOrderDiscounts(),m.subtotal)}function v(e){var t=m.eachItem(e,"add");return _.compact(t)}function y(e){var t=m.eachItem(e,"remove");return _.compact(t)}function b(e){var t=_.compact(m.eachItem(e,"side"));return t[0]||""}function E(e,t){var n=_.cloneDeep(e),r=_.indexOf(m.cart.items,e),o=0;"combo"===n.itemType?(n.items[t].isComboItem=!0,m.customizeItem({item:n.items[t],addItem:function(e){n.items[t]=e,o+=1,i.addItem(n,r)},btnText:"UPDATE_ITEM"})):m.customizeItem({item:e,addItem:function(e){i.addItem(e,t)},btnText:"UPDATE_ITEM"})}function C(e,t){var n=e,r=i.getValidationErrors();m.cart.items=n,m.cartHasItems=!_.isEmpty(n),m.reward=a.isLoggedIn()?c.rewardToBeRedeemed():!1,m.hasUnavailableItems=!_.isEmpty(r),m.itemExceedingQtyLimit=i.getItemsExceedingQtyLimit(),m.discounts=o.getOrderDiscounts(),"add"===t&&(m.itemAdded=m.cart.items[m.cart.items.length-1]),_.forEach(m.cart.items,function(e){"combo"===e.itemType?(e.isCombo=!0,_.forEach(e.items,function(t){"side"!==t.itemType?(t.summary={defaults:[],additions:v(t),removals:y(t)},(t.summary.additions.length>0||t.summary.removals.length>0)&&(t.summary.isModified=!0)):e.summary={side:t}})):(e.isCombo=!1,e.summary={defaults:[],additions:v(e),removals:y(e),side:b(e)},(e.summary.additions.length>0||e.summary.removals.length>0)&&(e.summary.isModified=!0))}),m.getSubtotal(m.cart.items),f()}m.sideChoice={},m.cart={},m.lastItem="",m.itemCount="",m.subtotal=0,m.subtotalWithoutDiscount=0,m.itemAdded=!1,m.collapse={collapsed:!1,smallScreen:!1,icon:{"true":"fa-caret-right","false":"fa-caret-down"}},m.discounts=o.getOrderDiscounts(),m.giftCardImage=d.giftCardIcons.giftCard,s.onOrderTypeChange(m,function(e){_.noop(e),m.deliveryFee=s.isDelivery()?r.getDeliveryFee():0}),l.onViewPortChange(m,function(e){m.collapse.smallScreen=e}),m.duplicateItem=function(t){i.addItem(e.copy(t))},m.removeFromCart=function(e){i.removeItem(e)},m.proceedToCheckout=function(){n.validateOrderTime({orderAmount:m.subtotal,validationType:"checkout"})["catch"](p.showLeadTimeModal).then(function(){t.path(u.checkout)},function(){_.noop()})},m.removeReward=function(e){c.removeRewardsFromSession(e),o.removeSpecificOrderDiscount(e),C(i.getCart())},m.updateSide=function(e,t){i.updateCartSideItem(e,t)},m.customize=E,m.getSubtotal=g,m.eachItem=h,C(i.getCart()),i.onCartChange(m,C),c.onRewardToBeRedeemed(m,function(){C(i.getCart())})}}}])}(window.angular),function(e){"use strict";e.module("paneraOrdering.cartLinks",["cartLinks.html","common.services.cartService","common.services.menuService","common.utilities.constants","common.utilities.translate"]).controller("CartLinksController",["$rootScope","$scope","cartService","menuService","routes",function(e,t,n,r,i){function o(e){return _.map(e,function(e){var t=e.id.toString();return e.itemQty>1&&(t+="q"+e.itemQty),_.isEmpty(e.items)||(t+="["+o(e.items)+"]"),t}).join(",")}t.customizeItem=r.customizeItem,t.addToCartThenMenuUrl=i.addToCart,t.addToCartThenCheckoutUrl=i.addToCart,n.onCartChange(e,function(e){t.addToCartThenMenuUrl=i.addToCart+"?items="+o(e),t.addToCartThenCheckoutUrl=t.addToCartThenMenuUrl+"&checkout=true"})}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S,w,T,I,O,A,$,D,x,R){function k(){z=h.isDelivery()&&l.isFeatureEnabled("bringg")}function P(){var e=_.map(W.cart.items,"id");A.trackReorders(e)}function N(){var e=l.getCafe().cafeId;A.trackFavCafeOrders(e)}function M(e){var t=e.tax.summary,n=e.tax.items,i=e.tax.orderDiscounts;e.requestId===Y&&(D.clearOrderDiscounts(),D.populateOrderDiscounts(i),W.cost.discount=D.getOrderDiscounts(),W.cost.tax=t.tax||0,W.cost.total.sum=t.totalPrice,W.cost.subtotal=t.subTotal,_.assign(W.delivery,{fee:t.deliveryFee}),W.cart.items=u.updateCartItemPrices(W.cart.items,n),_.isEmpty(i)||r.$emit("discountCodeValidated"))}function L(){return Y+=1,y.getTax({cartItems:W.cart.items,price:W.cost,discountCode:W.getDiscounts()},Y).then(M)}function U(e){var t=_.map(e,function(e){return{name:e.cardHolderName||e.cardName,type:e.cardType,number:e.tokenValue,month:moment(e.expDate,$.mmYyWithSlash).format($.mm),year:moment(e.expDate,$.mmYyWithSlash).format($.yyyy)}});return t}function F(e){return W.cart.items=e||[],W.cartHasItems=!_.isEmpty(W.cart.items),W.itemExceedingQtyLimit=u.getItemsExceedingQtyLimit(),W.hasUnavailableItems=!_.isEmpty(u.getValidationErrors()),W.cartHasItems||t.path()!==v.checkout||W.toMenu(),L()}function G(e){return _.forEach(e,function(e){_.isString(e.number)&&(e.lastFour=e.number.substring(e.number.length-4,e.number.length)),delete e.number,delete e.securityCode}),e}function B(e){var t,n=_.chain(e).get("storedCards",[]).find({isPayPal:!0}).value()||!1;n&&(t=_.chain(e).get("paymentResponse.creditCards[0].tokens",[]).find(function(e){return e.tokenType===R.PAYPAL_BILLING_AGREEMENT_ID||e.tokenType===R.PAYPAL_TOKEN}).value()||!1,t&&(i.trackPaymentMethod("PayPal"),n.tokenType===R.PAYPAL_TOKEN&&t.tokenType===R.PAYPAL_BILLING_AGREEMENT_ID&&m.addOrUpdatePayPalBillingAgreementId(t.tokenValue,t.cardHolderName,!0)),_.assign(n,t),C.clearPayPalData())}function H(e){function t(){return W.doPayPalRedirect({amount:W.cost.total.balance,storeToken:!1})}return e?m.deleteStoredCard(e)["finally"](t):t()}function j(){l.onCafeChange(r,function(e){W.context.cafe=e,W.isTipEnabled=l.isTipEnabled(),u.validateQuantityRules().then(function(e){W.itemExceedingQtyLimit=e})}),a.onCafeAvailabilityChange(r,function(){Q=o.orderFulfillAt(),X=f.getRangeInterval(),W.context.date=Q.format(w.date),W.context.time=J(Q,X.later,w.time),W.context.leadTime=o.getLeadTime(),W.context.leadTimeRange=o.getLeadTimeRange()}),h.onOrderTypeChange(r,function(e){W.orderType=e,W.isDelivery=h.isDelivery(),W.isDelivery&&_.isEmpty(W.order.specialInstructions)&&(W.order.specialInstructions=W.context.delivery&&W.context.delivery.specialInstructions),W.isDineIn=h.isDineIn(),W.isRapidPickup=h.isRapidPickup(),W.delivery={status:W.isDelivery,fee:W.isDelivery?l.getDeliveryFee():0},W.isTipEnabled=l.isTipEnabled()}),m.onLoggedInChange(r,function(e){W.loggedIn=e}),f.onOrderTimeChange(r,function(){Q=o.orderFulfillAt(),X=f.getRangeInterval(),W.context.date=Q.format(w.date),W.context.time=J(Q,X.later,w.time)}),s.onViewPortChange(r,function(e){W.isMobile=e}),u.onCartChange(r,F,!0),O.onRewardToBeRedeemed(r,function(e){e&&F(u.getCart())},!0),C.onTokenAuthComplete(r,function(){var e=u.getCart();_.isEmpty(e)||W.cartHasItems||F(e)},!0),I.onI18nDataChange(r,function(){W.i18n={PROCESSING:K("PROCESSING"),REDIRECTING:K("REDIRECTING"),BACK_TO_MENU:K("BACK_TO_MENU"),ORDER_SUMMARY:K("ORDER_SUMMARY"),ITEMS:K("ITEMS"),SPECIAL_INSTRUCTIONS:K("SPECIAL_INSTRUCTIONS"),DELIVERY_INSTRUCTIONS:K("DELIVERY_INSTRUCTIONS"),SI_LIMIT_LENGTH:K("SI_LIMIT_LENGTH"),SPECIAL_INSTRUCTIONS_INCLUDES_INVALID_CHARACTERS:K("SPECIAL_INSTRUCTIONS_INCLUDES_INVALID_CHARACTERS"),TIPS_MAY_BE_DISTRIBUTED:K("TIPS_MAY_BE_DISTRIBUTED"),GIFT_CARDS_AND_PROMO_CODES:K("GIFT_CARDS_AND_PROMO_CODES"),PROMO_CODE:K("PROMO_CODE"),IF_ONLY_ONE_PERSON_ORDERS:K("IF_ONLY_ONE_PERSON_ORDERS")},_.forEach(W.specialOptions,function(e){W.i18n[e]=K(e)})})}function V(){W.orderSummaryVisible=!1,W.selectedPane="SPECIAL_INSTRUCTIONS",W.specialOptions=["SPECIAL_INSTRUCTIONS","PROMO_CODE"],W.isGroupOrder=E.isGroupOrder(),W.isGroupOrder||W.specialOptions.push("GIFT_CARD"),W.orderable=!1,W.order={instructions:"",specialInstructions:u.getOrderSpecialInstructions()||""},W.inputRegex=new RegExp(g.validSpecialInstructions),W.giftCards=d.getGiftCardsToApply(),W.cart={},W.cost={subtotal:0,tax:0,tip:Z.amount||0,discount:0,total:{taxed:0,sum:0}},W.acceptedTipAmount=Z.acceptedTipAmount||!1,W.context={orderNumber:f.getOrderId(),orderType:h.getOrderTypeDetails().i18nName,orderTypeImgSrc:h.getOrderTypeDetails().imgSrc,orderWhen:f.getOrderWhen(),date:Q.format(w.date),time:J(Q,X.later,w.time),rangeInterval:X,leadTime:o.getLeadTime(),tableNumber:f.getTableNumber(),cafe:{id:l.getCafe().CafeId,name:l.getCafe().Name,address:l.getCafe().StreetName,city:l.getCafe().City,phone:l.getCafe().Phone},delivery:f.getDeliveryInfo(),si:""},W.isTipEnabled=!1,W.contactInfo={},W.loggedIn=!1,W.balanceTipError={},W.itemExceedingQtyLimit=u.getItemsExceedingQtyLimit(),W.setOrderTip=E.setOrderTip,W.isOrderTypeAvailable=l.isOrderTypeAvailable(),W.useSuggestedTipping=l.isTipEnabled()&&l.hasSuggestedTipping(),W.hasDistributedTips=l.hasDistributedTips(),E.checkIfGiftCardsAreAllowed().then(function(e){W.gcAllowed=e}),u.updatePrices(),i.trackCheckout(3),W.isGroupOrder&&E.trackGroupOrderGuestFlow("Checkout"),W.isOrderTypeAvailable||b.show({templateUrl:"invalidOrder.html",controller:"InvalidOrderController",controllerAs:"InvalidOrder",backdrop:"static",keyboard:!1,size:"sm"},{headerText:"INVALID_ORDER_TYPE",bodyText:"INVALID_ORDER_TYPE_PER_CAFE",actionButtonText:"CHANGE_ORDER_TYPE"}),!C.isTokenAuthInProgress()&&W.isOrderTypeAvailable&&(k(),c.checkCartForUpsell("upsell")),C.parsePayPalTokenParams(),r.$watch("$ctrl.cost.tip",function(e,t){+e!==+t&&W.cartHasItems&&L()}),j()}var z,W=this,Y=0,q=e("apiErrorKeyFilter"),K=e("translate"),J=e("orderTimeDisplay"),Z=E.getOrderTip(),Q=o.orderFulfillAt(),X=f.getRangeInterval();W.storeSpecialInstructions=function(e){e&&u.setOrderSpecialInstructions(W.order.specialInstructions)},W.updateTip=function(e){W.cost.tip=e.tip},W.toggleOrderSummary=function(){W.orderSummaryVisible=!W.orderSummaryVisible},W.selectPane=function(e){W.selectedPane=e},W.toMenu=function(){t.path(v.menu)},W.verifyDiscountThenUpdate=function(e){Y+=1;var t=W.getDiscounts(e);return y.getTax({cartItems:W.cart.items,price:W.cost,discountCode:t},Y).then(function(e){var t=e.tax.orderDiscounts,n=_.compact(_.map(t,function(e){return e.discountStatusCode?e:void 0}));return _.isEmpty(n)?(M(e),!0):n})},W.handleConfirmation=function(e){B(e);var n=_.cloneDeep(W.context),r=e.creditCards,a=_.reject(e.storedCards,{isPayPal:!0}),s=e.giftCards,c=_.filter(e.storedCards,{isPayPal:!0}),m=O.rewardToBeRedeemed(),h="Now"===f.getOrderWhen(),g=[e.applePay],y=e.maskedOrderId,b=l.isTipEnabled(),C=W.useSuggestedTipping,S=E.getOrderTip()||{};Q=e.returnedOrderTime?moment.parseZone(e.returnedOrderTime):o.orderFulfillAt(),X=f.getRangeInterval(),n.orderNumber=e.orderNumber||W.context.orderNumber,n.date=Q.format(w.date),n.time=J(Q,h?X.now:X.later,w.time),k(),P(),N(),A.trackOrderTime(),A.trackPaymentTypes(e),T.setSavedOrder({cart:u.getCart(),context:n,orderType:W.orderType,specialInstructions:W.order.specialInstructions,giftCards:_.cloneDeep(s),payPalAccounts:_.cloneDeep(c),creditCards:G(_.union(_.cloneDeep(r),_.cloneDeep(U(a)))),applePayAccounts:_.compact(g),cost:_.cloneDeep(W.cost),delivery:W.delivery,isTipEnabled:W.isTipEnabled,contactInfo:W.contactInfo,isGroupOrder:W.isGroupOrder,maskedOrderId:y,canTrackOrder:z,customerInfo:W.customerInfo}),W.context.date=Q.format(w.date),W.context.time=J(Q,X.later,w.time),W.context.leadTimeRange=o.getLeadTimeRange(),t.path(v.orderConfirmation),u.clearCart(),_.isEmpty(m)||(O.setRewardRedeemedOnSubmit(m),O.removeRewardToBeRedeemed()),D.clearOrderDiscounts(),d.clearGiftCards(),p.clearCustomerInfoForCheckout(),p.updateSession({hideUpsellModal:!1}),W.loggedIn||p.clearSession(),i.trackCheckout(4),W.isGroupOrder&&(E.trackGroupOrderGuestFlow("Completed"),E.trackGroupOrderSize(),i.trackGuestOrder(e)),b&&!C&&i.trackNonSuggestedTip(S.amount||"0.00"),A.clearAnalyticsFromSession()},W.doPayPalRedirect=function(e){var t=n.defer();return W.redirectingPromise=t.promise,C.authenticatePayPalForOrder(e.amount,e.storeToken)["catch"](function(e){t.reject(e)}),W.redirectingPromise},W.submitPayment=function(e){var t,r=_.clone(e),i=W.getDiscounts();return W.processingPromise=S.fetchStockoutData(l.getCafe().cafeId,"checkout").then(u.validateCartItems).then(function(){return W.isDelivery&&(t=f.getDeliveryInfo(),t.phoneNumber=e.contactInfo.phone,f.setDeliveryInfo(t),W.context.delivery.phoneNumber=t.phoneNumber),W.isGroupOrder&&(r=E.addGroupInfoToPaymentRequest(r)),r.priority=f.getOrderPriority(),r.specialInstructions=W.order.specialInstructions,r.cartItems=W.cart.items,r.price=W.cost,r.discountCode=i,r.identityProvider=p.getIdentityProvider(),y.handlePayment(r)}),W.processingPromise.then(function(e){return W.customerInfo=_.get(e,"customer"),e.orderId&&e.payment?(r.orderNumber=e.orderId,r.paymentResponse=e.payment,r.maskedOrderId=e.maskedOrderId,r.returnedOrderTime=_.get(e,"dates.ordFulfill"),W.handleConfirmation(r),null):n.reject(q(e))},function(t){return C.isCancelledBillAgreementIdError(t)?H(_.find(e.storedCards,{isPayPal:!0})):n.reject(q(t))})},W.getDiscounts=function(e){var t=[],n=O.rewardToBeRedeemed(),r=e||D.getDiscountCode();return _.isEmpty(n)||n.forEach(function(e){t.push({type:x.reward,promoCode:e.promoCode})}),r&&t.push({type:x.discountCode,promoCode:r}),t},W.clearDiscounts=function(e){O.removeRewardsFromSession(e),D.removeSpecificOrderDiscount(e),L()},W.$onInit=function(){S.fetchStockoutData(l.getCafe().cafeId).then(V)}}t.$inject=["$filter","$location","$q","$scope","analyticsService","cafeHours","cafeAvailabilityFactory","mediaFactory","upsellFactory","cafeLocatorFactory","cartService","giftCardService","userService","loginService","orderFlowService","orderTypeService","regexes","routes","paymentService","modalService","checkoutService","payPalService","stockoutFactory","dateTimeFormats","savedOrderService","localeService","rewardManagementService","checkoutAnalyticsService","cardDateFormats","discountService","discountCodes","paymentTokenTypes"],e.module("paneraOrdering.checkout",["checkout.html","myRewards.html","ngMessages","common.services.analytics","checkout.balance","checkout.creditCard","checkout.giftCard","checkout.orderDetails","checkout.specialCode","checkout.summaryPlacard","checkout.temptations","account.myRewards","common.services.cafeHours","common.factories.cafeAvailabilityFactory","common.factories.media","common.factories.cafeLocator","common.factories.upsell","common.factories.stockoutFactory","common.services.cartService","common.services.discountService","common.services.userService","common.services.giftCardService","common.services.loginService","common.services.orderFlowService","common.services.orderTypeService","common.services.modalService","common.services.payPalService","paneraOrdering.checkout.checkoutService","paneraOrdering.checkout.suggestedTip.component","common.services.savedOrderService","common.services.localeService","common.services.rewardManagementService","paneraOrdering.checkout.checkoutAnalyticsService","common.utilities.modals.invalidOrder","common.utilities.constants","paneraCommonUi.common.loading"]).component("checkout",{templateUrl:"checkout.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){var l=this;l.trackCatering=function(){o.trackEvent(c.orderingCatering.category,c.orderingCatering.action,c.orderingCatering.label)},l.$onInit=function(){l.paneraUrls=n,a.setAppBanner(s.dashboard),r.onI18nDataChange(e,function(){var e=t("translate");l.i18n={PANERA_BREAD_CATERING:e("PANERA_BREAD_CATERING"),CATERING_INFO:e("CATERING_INFO"),ORDER_CATERING:e("ORDER_CATERING"),COMMUNICATION_URL:e("COMMUNICATION_URL").toString(),COMMUNICATION_IMAGE:e("COMMUNICATION_IMAGE").toString()},"false"===l.i18n.COMMUNICATION_URL.toLowerCase()&&(l.i18n.COMMUNICATION_URL=null)}),i.fetchConfig().then(function(e){l.groupOrderIsEnabled=e.groupOrderIsEnabled})}}t.$inject=["$scope","$filter","paneraUrls","localeService","configService","analyticsService","appBannerService","staticHeaders","dashboardAnalyticsConstants"],e.module("paneraOrdering.dashboard.component",["dashboard.html","dashboard.order","dashboard.groupOrderBanner","common.services.configService","common.services.localeService","common.services.analytics","paneraOrdering.dashboard.constants","common.utilities.constants","common.utilities.translate","paneraOrdering.appBanner.service","paneraOrdering.appBanner.constants"]).component("dashboard",{templateUrl:"dashboard.html",controller:t})}(window.angular),function(e){"use strict";e.module("paneraOrdering.dashboard.constants",[]).constant("dashboardAnalyticsConstants",{orderingCatering:{category:"Redirect",action:"Order Catering",label:"Click"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){var s=this,c=t.translate;s.sodiumIconImgUrl=n.sodiumWarningIcon,t.onI18nDataChange(e,function(){s.i18n={FIND_US_ONLINE:c("FIND_US_ONLINE"),ORDERING_INFO:c("ORDERING_INFO"),TROUBLE_WITH_WEBSITE:c("TROUBLE_WITH_WEBSITE"),TROUBLE_WITH_WEBSITE_BODY:c("TROUBLE_WITH_WEBSITE_BODY"),CONTACT_US:c("CONTACT_US"),ORDERING_HELP:c("ORDERING_HELP"),PARTICIPATING_LOCATIONS:c("PARTICIPATING_LOCATIONS"),CLICK_HERE:c("CLICK_HERE"),TERMS_OF_USE:c("TERMS_OF_USE"),YOUR_PRIVACY:c("YOUR_PRIVACY"),CA_SUPPLY_CHAIN_ACT:c("CA_SUPPLY_CHAIN_ACT"),ALL_RIGHTS_RESERVED:c("ALL_RIGHTS_RESERVED"),ALLERGEN_NUTRITION_STATEMENT:c("ALLERGEN_NUTRITION_STATEMENT"),COPYRIGHT:c("COPYRIGHT"),FDA_STATEMENT:c("FDA_STATEMENT"),HIGH_SODIUM_DISCLAIMER:c("HIGH_SODIUM_DISCLAIMER"),PANERA_BREAD_COM:c("PANERA_BREAD_COM"),PANERA_CATERING_COM:c("PANERA_CATERING_COM"),VEGAN:c("VEGAN"),VEGAN_DISCLAIMER:c("VEGAN_DISCLAIMER")}}),s.$onInit=function(){s.currentYear=(new Date).getFullYear(),s.images={vegan:r.vegan},s.urls={internal:i,external:n}},e.$on("$routeChangeSuccess",function(e,t){_.noop(e),s.showCalorieDisclaimer=_.get(t,"$$route.showCalorieDisclaimer"),s.highSodiumFlag=o.isFeatureEnabled(a)})}t.$inject=["$scope","localeService","paneraUrls","staticImages","routes","cafeLocatorFactory","highSodiumMsg"],e.module("paneraOrdering.footer",["footer.html","common.services.localeService","common.utilities.constants"]).component("pnraFooter",{templateUrl:"footer.html",controller:t,bindings:{}})}(window.angular),function(e){"use strict";var t=e.module("paneraOrdering.groupOrder.constants",[]);t.constant("goDateTimeFormats",{date:"M/D",time:"h:mm A",dateTime:"MM/DD/YY h:mma"}),t.constant("goDefaultFulfillmentRangeInterval",15),t.constant("groupOrderSizes",[{i18nName:"2_TO_4_PEOPLE",gaName:"2-4",min:2,max:4,index:1},{i18nName:"5_TO_10_PEOPLE",gaName:"5-10",min:5,max:10,index:2}]),t.constant("goErrors",{EXPIRED:"GROUP_ORDER_HAS_BEEN_SUBMITTED_TO_THE_CAFE",MAX_CAPACITY:"MAXIMUM_NUMBER_OF_GUESTS_HAS_BEEN_REACHED__UNABLE_TO_ADD_GUEST_ORDER",MAX_ORDER_AMOUNT:"MAXIMUM_ORDER_AMOUNT_HAS_BEEN_REACHED__UNABLE_TO_ADD_GUEST_ORDER",CANCELLED_OR_INVALID:"GROUP_ORDER_ID_IS_NOT_VALID"}),t.constant("goClientTypes",{mobile:"GROUP_ORD_MOB_WEB",desktop:"GROUP_ORD_WEB"}),t.constant("goMinParticipants",2),t.constant("goCutoffCountdownThreshold",30)}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this;i.customizeItem=t.customizeItem,i.buildCartItem=t.buildCartItem,i.content="",_.includes(e.path(),n.menu)?i.content="menu":_.includes(e.path(),n.menuMyPanera)&&(i.content="myPanera"),r.trackContinuedOrder()}t.$inject=["$location","menuService","routes","unavailableTimeService"],e.module("paneraOrdering.menu",["menu.html","menu.cart","menu.menuContent","menu.menuContent.myPaneraContent","menu.menuNav","common.utilities.constants","common.services.menuService","common.services.unavailableTime.unavailableTimeService.service"]).component("menu",{templateUrl:"menu.html",controller:t})}(window.angular),function(e){"use strict";e.module("paneraOrdering.myPanera",["common.services.modalService","common.utilities.filters","common.utilities.constants"]).controller("MyPaneraController",["$scope","modalService","paneraUrls","staticImages",function(e,t,n,r){e.paneraUrls=n,e.arrowRightImage=r.myPanera.arrowRight,e.rewardsLogoImage=r.myPanera.rewardIcons.logo,e.foodPlateImage=r.myPanera.foodPlate,e.signUpImage=r.myPanera.signUp,e.registerUser=function(){t.show({templateUrl:"registration.html",controller:"RegistrationController"},{})}}])}(window.angular),function(e){"use strict";var t=function(t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C){function S(){T.onCheckoutPage=!1,T.loggedIn=s.isLoggedIn(),T.sideNavOpen=!1,T.info=s.personalInfo(),T.locales=o.getLocales(),T.language=o.getLanguage(),T.selectedLang=T.language.value.toLowerCase(),T.showNavbar=!1,b.fetchConfig().then(function(e){var t=f;e.myGroupOrderIsEnabled||(t=_.reject(t,{i18nName:"MY_GROUP_ORDERS"})),t=e.communicationPreferencesEnabled?_.reject(t,{i18nName:"MY_NOTIFICATIONS"}):_.reject(t,{i18nName:"MY_COMMUNICATION_PREFERENCES"}),T.accountPages=t}),T.isMenu=!1,T.showBrowseMenu=C.showBrowseMenu,T.paneraUrls=h,T.routes=g,T.cafeSelected=m.isCafeSelected(),T.rpuIcon=v.orderTypeIcons.rpuIcons.normal,T.logoImage=v.globalIcons.logoIcons.svg}function w(){a.onLoggedInChange(t,function(e){T.loggedIn=e,T.loggedIn||(T.info={}),T.showNavbar=!1}),a.onUserLoaded(t,function(e){T.info=e?s.personalInfo():{}}),u.onCafeChange(t,function(e){!e||_.isUndefined(e.StreetName)||_.isUndefined(e.City)||(T.cafe=e)}),m.onCafeSelectedChange(t,function(e){T.cafeSelected=e}),c.onCategoryDataChange(function(e){T.categories=_.filter(e,"isNavigable")}),o.onI18nDataChange(t,function(){var e=y("translate");T.i18n={WELCOME:e("WELCOME"),HOME_PAGE:e("HOME_PAGE"),CLOSEST_CAFE:e("CLOSEST_CAFE"),SELECTED_CAFE:e("SELECTED_CAFE"),CATERING:e("CATERING"),ORDERING_HELP:e("ORDERING_HELP"),MY_ACCOUNT:e("MY_ACCOUNT"),SIGN_IN:e("SIGN_IN"),SIGN_OUT:e("SIGN_OUT"),REGISTER:e("REGISTER"),BROWSE_OUR_MENU:e("BROWSE_OUR_MENU"),OUR_MENU:e("OUR_MENU"),CAFE_LOCATIONS:e("CAFE_LOCATIONS"),MEET:e("MEET"),YOUR_CART_IS_EMPTY:e("YOUR_CART_IS_EMPTY"),BACK_TO_MENU:e("BACK_TO_MENU")}}),p.onViewPortChange(t,function(t){T.isMobile=t,t?T.customizeItem=c.customizeItem:e.element(r.document.body).removeAttr("style")}),l.onCartChange(t,function(e,t){T.numberOfCartItems=_.size(e),T.onCheckoutPage=n.path()===g.checkout,"remove"===t&&T.isMobile&&(T.sideNavOpen=T.numberOfCartItems>0&&!T.onCheckoutPage),T.isMenu=n.path().indexOf("menu")>=0}),t.$on("$locationChangeSuccess",function(){T.sideNavOpen=!1,T.onCheckoutPage=n.path()===g.checkout,T.on404Page=n.path()===g.pageNotFound,T.isMenu=n.path().indexOf("menu")>=0,T.showNavbar=!1}),t.$on("$routeChangeSuccess",function(e,t){_.noop(e),T.hideCafe=_.get(t,"$$route.hideNavbarCafe")===!0})}var T=this;T.showSideNav=function(e){T.sideNavOpen=e},T.setLocale=function(e){o.updateLanguage(e),T.language=e,i.setLanguage(e.value)},T.toggleNavbar=function(){T.showNavbar=!T.showNavbar},T.signIn=function(){d.change("AUTHENTICATION")},T.register=function(){E.showRegistrationModal()},T.signOut=function(){a.logout(!0),l.clearCart(),n.path(g.index)},T.setCategory=function(e){c.setCategory(+e),T.showNavbar=!1},T.$onInit=function(){S(),w()}};t.$inject=["$scope","$location","$window","analyticsService","localeService","loginService","userService","menuService","cartService","cafeLocatorFactory","orderFlowFactory","mediaFactory","orderFlowService","accountPages","paneraUrls","routes","staticImages","$filter","configService","registrationFlowService","clientVars"],e.module("paneraOrdering.navbar.component",["navbar.html","menu.cart","paneraOrdering.appBanner","paneraOrdering.navbar.orderHeader","common.services.analytics","common.factories.cafeLocator","common.factories.orderFlowFactory","common.factories.media","common.services.cartService","common.services.loginService","common.services.userService","common.services.menuService","common.services.orderFlowService","common.services.configService","common.utilities.filters","common.utilities.constants","common.utilities.translate","menu.menuNav.myPaneraNav","ui.bootstrap.tooltip","ui.bootstrap.dropdown","pageslide-directive","common.modules.globalNavigation.component","common.modules.registration.registrationFlow.service"]).component("pnraNavbar",{
templateUrl:"navbar.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(e){switch(s.show=!0,s.displayText=e.displayText,s.timeoutMs=e.timeoutMs,s.type=e.type,s.displayText&&s.timeoutMs&&s.type&&n(function(){s.toggleDisplay()},s.timeoutMs),s.type){case"success":s.style="success",s.imgSrc=o.groupOrder.confirm.white;break;default:s.style="default",s.imgSrc=void 0}}var s=this,c=t("translate");s.toggleDisplay=function(){s.show=!1},i.onNotificationFire(e,function(t){a(t),r.onI18nDataChange(e,function(){s.i18n={displayText:c(s.displayText)}})})}t.$inject=["$scope","$filter","$timeout","localeService","notificationService","staticImages"],e.module("paneraOrdering.notificationBanner.component",["notificationBanner.component.html","common.services.localeService","common.utilities.constants","paneraOrdering.notificationBanner.service"]).component("notificationBanner",{templateUrl:"notificationBanner.component.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t){this.onNotificationFire=function(e,n){t.register(e,"showNotification",function(e,t){_.noop(e),n(t)})},this.showNotificationBanner=function(n){var r;n.onRouteChange?r=e.$on("$routeChangeSuccess",function(){t.fire("showNotification",n),r()}):t.fire("showNotification",n)}}t.$inject=["$rootScope","eventHandler"],e.module("paneraOrdering.notificationBanner.service",["common.services.eventHandler"]).service("notificationService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.orderCancellation",["orderCancellation.html","common.services.analytics","common.directives.cateringBanner","paneraOrdering.login","orderCancellation.cancelOrderDetails","common.services.formBuilderService","common.services.orderMgmtService","common.services.localeService","common.services.loginService","paneraCommonUi.common.modal","common.services.userService","common.utilities.constants","common.utilities.translate","schemaForm","schemaForm-formErrors"]).constant("orderCancellationStatus",{successful:"success",unsuccessful:"fail",pending:"PENDING"}).controller("OrderCancellationController",["$location","$q","$scope","analyticsService","formBuilderService","localeService","loginService","pnraModalService","orderMgmtService","userService","orderCancellationStatus","paneraUrls","routes","orderDetails",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m){function f(){var e=_.pick(n.orderDetails.customer,"id").id;return n.anonOrder=_.isUndefined(e)||0>=e,!n.anonOrder&&!l.isLoggedIn()||l.isLoggedIn()&&!n.anonOrder&&+e!==l.customerId()}function h(){var e={},t={},r={};t[tv4.errorCodes.OBJECT_REQUIRED]="OC_ORDER_NUMBER_REQUIRED",r[tv4.errorCodes.OBJECT_REQUIRED]="OC_ORDER_TOTAL_REQUIRED",n.options={formDefaults:{validationMessage:e}},n.schema={type:"object",title:"Cancel Order",required:["orderNumber","orderTotal"],properties:{orderNumber:{title:"Order Number",type:"string"},orderTotal:{title:"Order Total",type:"string"}}},n.errors=[],n.form=[{type:"formErrors",errors:n.errors},{type:"section",htmlClass:"row",items:[{title:"ORDER_NUMBER",key:"orderNumber",type:"text",htmlClass:"col-sm-4",placeholder:"ORDER_NUMBER",validationMessage:t}]},{type:"section",htmlClass:"row",items:[{title:"ORDER_TOTAL_AMOUNT",key:"orderTotal",type:"text",htmlClass:"col-sm-4",placeholder:"ORDER_TOTAL_AMOUNT",validationMessage:r}]},{title:"CANCEL_ORDER",type:"submit",style:"btn-primary",readonly:!1}],n.model={},i.preProcess(n.options,n.form)}n.cancelStatus=u,n.cateringUrl=d.catering,n.orderDetails=m,n.isCancelling=!1,n.anonOrder=!0,n.validateOrder=function(){n.$broadcast("schemaFormValidate"),i.clearArray(n.errors);var e=m.orderId.toString(),t=m.summary.totalPrice.toFixed(2),r=+n.model.orderTotal;r=r.toFixed(2),n.model.orderNumber===e&&r===t?n.cancelOrder(e,t):_.isUndefined(n.model.orderNumber)||_.isUndefined(n.model.orderTotal)?n.errors.push("OC_FORM_MISSING_REQUIRED"):n.errors.push("OC_FORM_DETAILS_DONT_MATCH")},n.cancelOrder=function(e,o){return f()||n.isCancelling?t.when():(i.disableSubmit(n.form,!0),n.isCancelling=!0,c.cancelOrder(e||m.orderId,o).then(function(){n.status=u.successful})["catch"](function(e){n.status=u.unsuccessful,n.errorCode=_.first(e),r.trackFailedRefund(e)})["finally"](function(){n.isCancelling=!1,i.disableSubmit(n.form,!1)}))},f()?(l.isLoggedIn()&&a.logout(),s.show({component:"pnraLogin",size:"lg-small",guestAllowed:!1}).then(function(){return f()?t.reject():void 0}).then(function(){n.status=u.pending},function(){e.path(p.index)})):n.status=u.pending,o.onI18nDataChange(n,h),a.onLoggedInChange(n,function(e){n.isLoggedIn=e})}])}(window.angular),function(e){"use strict";e.module("paneraOrdering.orderConfirmation",["orderConfirmation.html","checkout.balance","checkout.creditCard","checkout.giftCard","checkout.orderDetails","checkout.specialCode","checkout.summaryPlacard","paneraOrdering.groupOrder.goOrderConfirmation","common.services.orderFlowService","common.services.orderTypeService","common.services.savedOrderService","common.services.modalService","common.services.localeService","common.services.configService","common.services.loginService","common.services.opinionLab.service","common.utilities.modals.hiring","common.utilities.filters","common.utilities.translate","common.utilities.constants","common.services.discountService","common.modules.registration","paneraOrdering.appleWallet.addToAppleWallet.component","paneraOrdering.groupOrder.groupOrderService","common.factories.media","common.modules.rapidDriveThru","common.factories.cafeLocator","orderConfirmation.liteEmailOptIn.component","common.services.userService"]).controller("OrderConfirmationController",["$scope","$filter","$window","modalService","orderFlowService","orderTypeService","savedOrderService","localeService","configService","paneraUrls","staticImages","discountService","groupOrderService","loginService","opinionLabService","cafeLocatorFactory","rapidDriveThruService","mediaFactory","userService",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y){function b(e){return _.compact(_.map(e,function(e){var t=s.translate(e);return!t||_.isEmpty(t)||_.includes(t,"false")?void 0:t}))}function E(){h.hasRapidDriveThru()&&e.isRapidPickup&&g.showModal()}function C(t){return e.isGroupOrder?_.get(t,"goDeliveryTrackingIsEnabled",!1):w.canTrackOrder&&t.deliveryTrackingIsEnabled}var S,w=a.getSavedOrder(),T=["CAMPAIGN_URL","CAMPAIGN_IMG_URL"];e.orderSummaryVisible=!1;var I=_.get(y.getEmails(),"[0]"),O=y.getEmailGlobalOpt();e.emailOptedIn=!(_.get(I,"isOpt",void 0)===!1&&O===!1),S=e.$on("$locationChangeSuccess",function(){o.resetOrderType(),i.resetOrderProcess(),i.clearOrderNumber(),d.clearOrderDiscounts(),S()}),e.campaignImg=l.campaign,e.cityscapeImg=u.cityscape,e.toggleOrderSummary=function(){e.orderSummaryVisible=!e.orderSummaryVisible},e.openHiringModal=function(){return r.show({templateUrl:"hiring.html",controller:"hiringCtrl",controllerAs:"Hiring",size:"md"},{})},e.cart={items:w.cart},e.context=w.context,e.orderType=w.orderType,e.specialInstructions=w.specialInstructions,e.giftCards=w.giftCards,e.creditCards=w.creditCards,e.payPalAccounts=w.payPalAccounts,e.applePayAccounts=w.applePayAccounts,e.cost=w.cost,e.delivery=w.delivery||{},e.isTipEnabled=w.isTipEnabled,e.isGroupOrder=w.isGroupOrder,e.maskedOrderId=w.maskedOrderId,e.customerInfo=w.customerInfo,e.deliveryTrackerUrl=l.deliveryTrackerUrl+encodeURIComponent(e.maskedOrderId),e.isDelivery=o.isDelivery(e.orderType),e.isDineIn=o.isDineIn(e.orderType),e.isRapidPickup=o.isRapidPickup(e.orderType),e.cartHasItems=!_.isEmpty(e.cart.items),e.surveySchema={type:"object",required:["rating"],properties:{rating:{type:"number","enum":[1,2,3,4,5]},comment:{type:"string"}}},e.surveyForm=[{key:"rating",type:"radios",title:"HOW_ENJOYABLE_WAS_YOUR_EXPERIENCE",titleMap:[{value:5,name:"VERY_ENJOYABLE"},{value:4,name:"SOMEWHAT_ENJOYABLE"},{value:3,name:"NEITHER_ENJOYABLE_OR_UNENJOYABLE"},{value:2,name:"SOMEWHAT_UNENJOYABLE"},{value:1,name:"VERY_UNENJOYABLE"}]},{key:"comment",type:"textarea",title:"YOUR_FEEDBACK_IS_VERY_IMPORTANT_TO_US"}],E(),v.onViewPortChange(e,function(e){e||f.openOpinionLabSurvey(!0)}),c.fetchConfig().then(function(t){e.hiringBannerEnabled=t.hiringBannerEnabled,e.hiringBannerTellAFriendEnabled=t.hiringBannerTellAFriendEnabled,e.canTrackOrder=C(t),e.liteRegistrationIsEnabled=t.liteRegistrationIsEnabled}),s.onI18nDataChange(e,function(){var t=s.translate;e.keys=b(T),e.i18n={LAUNCH_ORDER_TRACKING_HEADER:t("LAUNCH_ORDER_TRACKING_HEADER"),LAUNCH_ORDER_TRACKING_BODY:t("LAUNCH_ORDER_TRACKING_BODY"),TRACK_YOUR_ORDER:t("TRACK_YOUR_ORDER"),GIVE_WEBSITE_FEEDBACK:t("GIVE_WEBSITE_FEEDBACK"),YOUR_DELIVERY_FEE_COVERS:t("YOUR_DELIVERY_FEE_COVERS"),NO_TIP_FOR_GO_DRIVER:t("NO_TIP_FOR_GO_DRIVER")}}),m.onLoggedInChange(e,function(t){e.loggedIn=t}),e.showFeedbackForm=function(){f.openOpinionLabSurvey(!0,"click","oo_feedback_eoo",!0)},e.trackOrder=function(){return e.isGroupOrder?p.trackGoOrder(e.deliveryTrackerUrl):void(n.location.href=e.deliveryTrackerUrl)},e.$on("$locationChangeStart",function(){f.clearOpinionLabData(e.customerInfo.id)})}])}(window.angular),function(e){"use strict";e.module("paneraOrdering.orderHelp",["orderHelp.html","common.factories.orderFlowFactory","common.services.orderTypeService","common.utilities.constants","common.utilities.translate"]).controller("OrderHelpController",["$scope","orderFlowFactory","orderTypeService","orderTypes","paneraUrls","staticImages",function(e,t,n,r,i,o){e.paneraUrls=i,e.orderTypes=r,e.orderTypeImage=o.orderTypeIcons.smallSprite,e.setOrderType=function(e){r[e].enabled&&(n.setOrderType(e),t.start(!1,!0))}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(){var e=c;c&&(l&&(e=e.concat(" - ",n.getTrustedHtml(p(l)))),u&&(e=e.concat(" - ",n.getTrustedHtml(p(u)))),d.title=e)}function s(e){switch(l=_.get(e,"$$route.i18nTitle"),_.get(e,"$$route.originalPath")){case i.myAccountRoute:u=_.toUpper(_.get(e,"pathParams.page"));break;case i.menuMyPaneraRoute:u=_.toUpper(_.get(e,"pathParams.myPanera"));break;default:u=void 0}}var c,l,u,d=this,p=t("translate");r.onI18nDataChange(e,function(){c=n.getTrustedHtml(p(o.i18nKeys.pageTitle)),a()}),e.$on("$routeChangeSuccess",function(e,t){_.noop(e),s(t),a()})}t.$inject=["$rootScope","$filter","$sce","localeService","routes","clientVars"],e.module("paneraOrdering.page.controller",["common.services.localeService","common.utilities.constants","common.utilities.clientVars"]).controller("PageController",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){var o=this,a=t("translate");o.bgImg=i.pageNotFound,o.startOrder=function(){n.start(!1,!1,void 0,!0)},r.onI18nDataChange(e,function(){o.i18n={SORRY_PAGE_NOT_FOUND:a("SORRY_PAGE_NOT_FOUND"),LOOKING_TO_GET_A_DELICIOUS_MEAL:a("LOOKING_TO_GET_A_DELICIOUS_MEAL"),START_YOUR_ORDER:a("START_YOUR_ORDER")}})}t.$inject=["$scope","$filter","orderFlowFactory","localeService","staticImages"],e.module("paneraOrdering.pageNotFound.component",["pageNotFound.html","common.factories.orderFlowFactory","common.services.localeService","common.utilities.constants"]).component("pageNotFound",{templateUrl:"pageNotFound.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l){function u(){var e={},t={},n={passwordsDoNotMatch:"PASSWORDS_DO_NOT_MATCH"};t[tv4.errorCodes.OBJECT_REQUIRED]="LM_PASSWORD_REQUIRED",t[tv4.errorCodes.STRING_LENGTH_SHORT]="PASSWORD_TOO_SHORT",n[tv4.errorCodes.OBJECT_REQUIRED]="LM_CONFIRM_PASSWORD_REQUIRED",d.options={formDefaults:{validationMessage:e}},d.schema={type:"object",required:["password","confirmPassword"],properties:{password:{type:"string",minLength:6},confirmPassword:{type:"string"}}},d.errors=[],d.form=[{type:"formErrors",errors:d.errors},{key:"password",type:"password",title:"NEW_PASSWORD",placeholder:"NEW_PASSWORD",validationMessage:t,onChange:d.validateMatchesConfirmPassword},{key:"confirmPassword",type:"password",title:"CONFIRM_PASSWORD",placeholder:"CONFIRM_PASSWORD",validationMessage:n,$validators:{passwordsDoNotMatch:d.validateMatchesPassword}},{type:"section",htmlClass:"row",items:[{type:"template",htmlClass:"col-xs-12",template:"<p>{{ form.passwordCharactersContain }}</p>",passwordCharactersContain:d.passwordCharactersContain}]},{type:"section",htmlClass:"row",items:[{type:"submit",title:"SUBMIT",htmlClass:"btn-primary pull-right schema-form-btn-xs",readonly:!1}]}],d.model={},a.preProcess(d.options,d.form)}var d=this,p=r("translate"),m=t.current.params.token;t.current.params.returnUrl;d.showSuccess=!1,d.resetPassword=function(t){return a.clearArray(d.errors),e.$broadcast("schemaFormValidate"),t.$valid?(a.disableSubmit(d.form,!0),c.resetPassword(d.model.password,m).then(function(){d.showSuccess=!0,o(function(){n.search("token",null),n.search("returnUrl",null)},2e3,1)},function(e){e?_.forEach(e,function(e){d.errors.push(e)}):d.errors.push("PS_SYSTEMERROR"),a.disableSubmit(d.form,!1)})):void 0},d.validateMatchesPassword=function(e){return d.model.password===e},d.validateMatchesConfirmPassword=function(t){if(d.model.confirmPassword){var n=t===d.model.confirmPassword;e.$broadcast("schemaForm.error.confirmPassword","passwordsDoNotMatch",n)}},s.onI18nDataChange(e,function(){d.resetYourPassword=p("RESET_YOUR_PASSWORD"),d.resetPasswordInstructions=p("RESET_PASSWORD_INSTRUCTIONS"),d.yourChangesHaveBeen=p("YOUR_CHANGES_HAVE_BEEN"),d.passwordCharactersContain=p("PASSWORD_CHARACTERS_CONTAIN"),d.signIn=p("SIGN_IN"),u()})}t.$inject=["$scope","$route","$location","$filter","$window","$interval","formBuilderService","localeService","eCommerceService","routes"],e.module("paneraOrdering.resetPassword",["resetPassword.html","common.services.eCommerceService","common.utilities.constants"]).controller("ResetPasswordController",t)}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=n.translate;i.customerInfo=r.getCustomerInfoForCheckout(),i.cityScapeImg=t.cityscape,i.validatePhoneNumber=function(){var e=i.resolve.modalOptions.phoneNumber;i.phoneValid=e&&e.match(/[\-0-9]/)&&10===e.replace(/[^0-9]/g,"").length},i.setSmsOptIn=function(e,t){i.customerInfo.smsOptIn=e,r.setCustomerInfoForCheckout(i.customerInfo),i.modalInstance.close({smsOptIn:e,phoneNumber:t})},n.onI18nDataChange(e,function(){i.i18n={LAUNCH_ORDER_TRACKING_BODY:o("LAUNCH_ORDER_TRACKING_BODY"),RIGHT_AROUND_THE_CORNER:o("RIGHT_AROUND_THE_CORNER"),ENABLE_TEXT_UPDATES:o("ENABLE_TEXT_UPDATES"),NO_THANKS:o("NO_THANKS"),SMS_LEGAL_COPY:o("SMS_LEGAL_COPY"),PROVIDE_A_PHONE_NUMBER:o("PROVIDE_A_PHONE_NUMBER")}}),i.$onInit=function(){i.validatePhoneNumber()}}t.$inject=["$scope","staticImages","localeService","userService"],e.module("paneraOrdering.smsOptIn.component",["smsOptIn.html","common.utilities.constants","common.services.localeService","common.services.userService","common.utilities.filters"]).component("smsOptIn",{templateUrl:"smsOptIn.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";function t(e,t){var n=this;n.$onInit=function(){var r=t.translate;t.onI18nDataChange(e,function(){n.i18n={SMS_OPT_OUT_HEADER:r("SMS_OPT_OUT_HEADER"),SMS_OPT_OUT_BODY:r("SMS_OPT_OUT_BODY"),SMS_OPT_OUT_CTA:r("SMS_OPT_OUT_CTA"),CANCEL:r("CANCEL")}})}}t.$inject=["$scope","localeService"],e.module("paneraOrdering.smsOptOut.component",["smsOptOut.html","common.services.localeService","common.utilities.filters"]).component("smsOptOut",{templateUrl:"smsOptOut.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(){var o=e.current.params.cafeId;t.url(i.index).replace(),o?n.getCafes({cafeIds:[o]}).then(function(e){r.start(!0,!1,e[0])}):r.start()}var a=this;a.$onInit=o}t.$inject=["$route","$location","cafeSearchService","orderFlowFactory","routes"],e.module("paneraOrdering.startOrder.component",["ngRoute","startOrder.html","common.services.cafeSearchService","common.factories.orderFlowFactory","common.utilities.constants","paneraOrdering.dashboard.component"]).component("startOrder",{templateUrl:"startOrder.html",controller:t,bindings:{}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){var s=this,c=t("translate"),l=n.driver("local"),u=l.get("optOut",[]),d="MENU_TRANSITIONS_ALERT_"+o.customerId();s.closeIcon=a.staticImages.closeIcon,s.showMessage=!_.includes(u,d),s.dismiss=function(){s.showMessage=!1,s.optOut&&l.put("optOut",function(e){return e||(e=[]),e.push(d),_.uniq(e)})},s.openModal=function(){i.show({templateUrl:"mtModal.controller.html",controller:"MtModalController as $ctrl"})},r.onI18nDataChange(e,function(){s.i18n={MENU_TRANSITIONS_DIALOG_TITLE:c("MENU_TRANSITIONS_DIALOG_TITLE"),MENU_TRANSITIONS_DIALOG_MESSAGE:c("MENU_TRANSITIONS_DIALOG_MESSAGE"),SEE_SUGGESTIONS:c("SEE_SUGGESTIONS"),DONT_SHOW_AGAIN:c("DONT_SHOW_AGAIN")}})}t.$inject=["$scope","$filter","locker","localeService","modalService","userService","mtConstants"],e.module("paneraOrdering.account.menuTransitionsAlert.component",["menuTransitionsAlert.component.html","paneraOrdering.account.menuTransitionsAlert.mtModal.controller","angular-locker","common.services.localeService","common.services.modalService","common.services.userService","paneraOrdering.account.menuTransitionsAlert.constants"]).component("menuTransitionsAlert",{templateUrl:"menuTransitionsAlert.component.html",controller:t})}(window.angular),function(e,t){"use strict";var n=t.env.imageDamUrl,r=t.env.imageRenditions,i="panerabread/menu/delivery-categories/misc/",o={staticImages:{desktopImg:n+i+"menu-transitions.png"+r.original,mobileImg:n+i+"menu-transitions.png"+r.mobile,closeIcon:n+i+"close.svg"+r.original}};e.module("paneraOrdering.account.menuTransitionsAlert.constants",[]).constant("mtConstants",o)}(window.angular,window),function(e){"use strict";e.module("account.myAccountHeader",["myAccountHeader.html","common.utilities.constants","common.utilities.translate","common.services.loginService","common.services.userService"]).directive("myAccountHeader",[function(){var e=["$scope","userService","loginService","$location",function(e,t,n,r){n.onUserLoaded(e,function(n){n&&(e.loyaltyCardNumber=t.loyaltyCardNumber())}),e.isMenu=r.path().indexOf("menu")>=0}];return{restrict:"E",scope:{title:"@",addTitle:"@",editing:"=",addItem:"&",hideCardNumber:"<"},templateUrl:"myAccountHeader.html",controller:e}}])}(window.angular),function(e){"use strict";e.module("account.myAccountInfo",["myAccountInfo.html","account.myAccountHeader","common.directives.myForm","common.components.social.fbConnection","common.services.loginService","common.services.userService","common.services.formBuilderService","common.utilities.constants","common.utilities.translate","paneraOrdering.orderFlow.forgotPassword","paneraCommonUi.common.loading"]).directive("myAccountInfo",[function(){var e=["$q","$scope","loginService","userService","forgotPasswordService","formBuilderService","monthsOfYearOptionsI18n","daysOfMonth",function(e,t,n,r,i,o,a,s){function c(){u=r.personalInfo(),d=Boolean(u.birthDay&&u.birthMonth),t.info={},t.forms=[{id:"personalInfo",submit:t.updatePersonalInfo,submitLabel:"UPDATE",fields:[{i18nName:"FIRST_NAME",placeholder:"FIRST_NAME",path:"info.firstName",type:"text",required:!0,width:5,expectedErrors:["ERROR_CODE_1102","ERROR_CODE_1109"]},{i18nName:"LAST_NAME",placeholder:"LAST_NAME",path:"info.lastName",type:"text",required:!0,width:7,expectedErrors:["ERROR_CODE_1103","ERROR_CODE_1110"]},{i18nName:"MY_PANERA_PHONE_NUMBER",placeholder:"MY_PANERA_PHONE_NUMBER",path:"info.phoneNumber",type:"tel",required:!0,width:5,clear:d,expectedErrors:["ERROR_CODE_1113","ERROR_CODE_1114"]},{i18nName:"BIRTHDAY",condition:d,path:"info",type:"static",format:"formatBirthday",width:5,clear:!0},{i18nName:"BIRTHDAY",condition:!d,type:"label",required:!0,width:12},{path:"info.birthMonth",condition:!d,type:"select",required:!0,options:a,i18nOptionsName:"MONTH_CAPITALIZED",width:3,widthXs:6},{path:"info.birthDay",condition:!d,type:"select",required:!0,options:s,i18nOptionsName:"DAY_CAPITALIZED",width:2,widthXs:6},{i18nName:"EMAIL",placeholder:"EMAIL",path:"info.emailAddress",type:"email",required:!0,width:12,clear:!0,expectedErrors:["ERROR_CODE_1106","ERROR_CODE_1112","INVALID_EMAIL"]},{i18nName:"CUSTOMER_ID",path:"info.customerId",type:"hidden"},{i18nName:"OPT_IN",path:"info.optIn",type:"hidden"},{i18nName:"USERNAME",path:"info.username",type:"hidden"}]},{id:"changePassword",submit:t.updatePassword,submitLabel:"UPDATE",hideRequiredMessage:!0,fields:[{i18nName:"CHANGE_YOUR_PASSWORD",type:"header"},{i18nName:"CUSTOMER_ID",path:"info.customerId",type:"hidden"},{i18nName:"USERNAME",placeholder:"USERNAME",path:"info.username",type:"text",required:!0,width:5,clear:!0},{i18nName:"OLD_PASSWORD",placeholder:"OLD_PASSWORD",path:"info.currentPassword",type:"password",required:!0,width:5,clear:!0},{i18nName:"FORGOT_PASSWORD",type:"link",width:5,clear:!0,htmlClass:"forgot-password",onClick:function(){t.resetPasswordPromise=i.resetPassword(r.emailAddress(),!0)}},{i18nName:"NEW_PASSWORD",placeholder:"NEW_PASSWORD",path:"info.newPassword",type:"password",required:!0,width:5,clear:!0,expectedErrors:["ERROR_CODE_1105","ERROR_CODE_1112"]},{i18nName:"CONFIRM_PASSWORD",placeholder:"CONFIRM_PASSWORD",path:"info.confirmPassword",type:"password",required:!0,width:5,clear:!0},{i18nName:"PASSWORD_CHARACTERS_CONTAIN",path:"info",type:"static",width:12,clear:!0}]}],t.loyaltyCardNumber=r.loyaltyCardNumber(),t.model={},t.model.info=u,t.model.info.optIn=r.getOptIn(),t.model.info.emailAddress=r.emailAddress(),t.model.info.phoneNumber=r.defaultPhoneNumber()}function l(e){var t=[];return d||o.isValidBirthday(e.info)||t.push("BIRTHDAY_IS_INVALID"),{isValid:_.isEmpty(t),errors:t}}var u,d;t.isUserLoaded=!1,t.updatePassword=function(t){var r=e.defer();return n.changePassword(t.info).then(function(){r.resolve()},function(e){r.reject(e)}),r.promise},t.updatePersonalInfo=function(t){var r=e.defer(),i=l(t);return i.isValid?n.updateUser(t.info).then(function(){c(),r.resolve()},function(e){r.reject(e)}):r.reject(i.errors),r.promise},n.onUserLoaded(t,function(e){e&&(t.isUserLoaded=!0,c())})}];return{restrict:"E",scope:{},templateUrl:"myAccountInfo.html",controller:e}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l){function u(e){return e.name&&!c[_.get(e,"name").toUpperCase()]&&(e.nameIsUnique=!0),e}function d(){var e=_.cloneDeep(s.addresses());return _.map(e,function(e){return e.addressType=c[_.get(e,"addressType","").replace(" ","_").toUpperCase()],u(e)})}function p(){var e={},t={},n={},i={},o=f.addressTypeOptions;t[tv4.errorCodes.OBJECT_REQUIRED]="AD_ADDRESS_TYPE_REQUIRED",n=r.getValidationMessages().streetAddress,i[tv4.errorCodes.OBJECT_REQUIRED]="AD_PHONE_REQUIRED",f.options={formDefaults:{validationMessage:e}},f.schema={type:"object",title:"Address",required:["addressType","addressTA","contactPhone"],properties:{addressType:{title:"Address Type",type:"string","enum":o},addressTA:f.sharedSchema.address,addressLine2:{title:"AddressLine2",type:"string"},name:{title:"Name",type:"string"},contactPhone:{title:"Phone",type:"string",maxLength:14},additionalInfo:{title:"Delivery Instructions",type:"string",maxLength:200}}},f.errors=[],f.form=[{type:"section",items:[{type:"section",htmlClass:"row",items:[{type:"formErrors",errors:f.errors}]},{type:"section",htmlClass:"row",items:[{title:"ADDRESS_TYPE",key:"addressType",type:"select",htmlClass:"col-xs-12 col-sm-3",titleMap:r.buildTitleMap(f.addressTypeOptions),validationMessage:t}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"addressTA",title:"STREET_ADDRESS",placeholder:"STREET_ADDRESS",type:"typeAhead",typeAhead:f.getSuggestions,taOnSelect:f.onAddressSelect,taMinLength:4,taLoading:!0,taTemplate:"suggestion.html",ngModelOptions:{debounce:350},isMaterial:!0,validationMessage:n}]}]},{type:"section",htmlClass:"row",items:[{title:"STREET_ADDRESS_SECOND",key:"addressLine2",type:"text",htmlClass:"col-xs-12 col-sm-6",placeholder:"STREET_ADDRESS_SECOND"}]},{type:"section",htmlClass:"row",items:[{title:"NAME",key:"name",type:"text",htmlClass:"col-xs-12 col-sm-6",placeholder:"NAME"}]},{type:"section",htmlClass:"row",items:[{title:"PHONE",key:"contactPhone",type:"tel",needsPhoneFormatting:!1,format:"formatPhone",htmlClass:"col-xs-12 col-sm-5",placeholder:"PHONE",validationMessage:i}]},{type:"section",htmlClass:"row",items:[{title:"DELIVERY_INSTRUCTIONS",key:"additionalInfo",type:"textarea",htmlClass:"col-xs-12",placeholder:"DELIVERY_INSTRUCTIONS"}]},{type:"section",htmlClass:"row",items:[{title:"SAVE",type:"submit",fieldHtmlClass:"col-xs-5 col-sm-1 col-sm-offset-9",readonly:!1},{title:"CANCEL",type:"button",onClick:f.closeAddressForm,style:"btn-default col-xs-6 col-sm-1 col-sm-offset-1 pull-right",readonly:!1}]}]}],r.preProcess(f.options,f.form)}function m(){i.onI18nDataChange(e,function(){f.i18n={ADDRESS_TYPE:h("ADDRESS_TYPE"),DELIVERY_INSTRUCTIONS:h("DELIVERY_INSTRUCTIONS"),NO_SAVED_ADDRESSES:h("NO_SAVED_ADDRESSES"),EDIT:h("EDIT"),DELETE:h("DELETE")},p()}),o.onUserLoaded(e,function(e){e&&(f.loyaltyCardNumber=s.loyaltyCardNumber(),f.addresses=d())})}var f=this,h=n("translate");f.addressTypeOptions=l,f.addAddress=function(){f.editingAddress=!0,f.address={addressType:_.get(f.addressTypeOptions,"[0]"),customerId:s.customerId()}},f.editAddress=function(e){f.editingAddress=!0,f.address=_.cloneDeep(e),f.address.customerId=s.customerId(),f.address.addressTA=e.addressLine1+", "+e.city+", "+e.state},f.deleteAddress=function(e){f.loadingPromise=o.deleteAddress(e.id).then(function(){f.addresses=d()})},f.closeAddressForm=function(){f.editingAddress=!1,r.clearArray(f.errors)},f.onAddressSelect=function(e){a.formatGeoAddress(e).then(function(e){f.addressObject=a.buildAddressLegacyObject(e)})},f.saveAddress=function(n){var i;return r.clearArray(f.errors),e.$broadcast("schemaFormValidate"),n.$valid?(r.disableSubmit(f.form,!0),i=_.merge(f.addressObject,_.cloneDeep(f.address)),f.loadingPromise=o.addOrUpdateAddress(i).then(function(){f.closeAddressForm(),f.addresses=d(),f.addresses=d()})["catch"](function(e){var n=_.cloneDeep(a.handleErrors(e));return _.forEach(n,function(e){f.errors.push(e)}),t.reject(f.errors)})["finally"](function(){r.disableSubmit(f.form,!1)}),f.loadingPromise):(f.errors.push("CC_FORM_MISSING_REQUIRED"),t.reject(f.errors))},f.$onInit=function(){f.address={},f.sharedSchema=r.getSharedSchemas(),f.getSuggestions=a.getAddressSuggestions,m()}}t.$inject=["$scope","$q","$filter","formBuilderService","localeService","loginService","addressService","userService","addressTypesMapping","addressTypes"],e.module("account.myAddresses.component",["myAddresses.html","common.utilities.constants","common.utilities.translate","common.services.formBuilderService","common.services.localeService","common.services.address.service","common.services.loginService","common.services.userService","account.myAccountHeader","schemaForm","schemaForm-typeahead","schemaForm-formErrors","paneraCommonUi.common.loading"]).component("myAddresses",{templateUrl:"myAddresses.html",controller:t})}(window.angular),function(e){"use strict";e.module("account.myCafes",["myCafes.html","account.myAccountHeader","common.services.cafeSearchService","common.services.loginService","common.services.userService","common.utilities.translate","paneraOrdering.cafeLocator.cafeSelector"]).directive("myCafes",[function(){var e=["$scope","cafeSearchService","loginService","userService",function(e,t,n,r){e.mapCenter={},e.currentLocation=t.getCurrentLocation(),n.onUserLoaded(e,function(t){t&&(e.loyaltyCardNumber=r.loyaltyCardNumber(),e.myCafesPromise=n.addFavoriteCafes()["finally"](function(){e.defaultCafe=r.defaultFavoriteCafe()}))}),e.addCafe=function(){e.editingCafe=!0},e.deleteCafe=function(t){n.deleteFavoriteCafe(t.cafeId).then(function(){e.cafes=r.favoriteCafes()})},e.saveCafe=function(t){return n.addOrUpdateFavoriteCafe(t).then(function(){e.cafes=r.favoriteCafes(),e.editingCafe=!1})},e.$watch("defaultCafe.cafeId",function(e,t){e&&e!==t&&n.setDefaultFavoriteCafe(e)}),n.onFavoriteCafesDataChange(e,function(t){e.cafes=t})}];return{restrict:"E",scope:{},templateUrl:"myCafes.html",controller:e}}])}(window.angular),function(e){"use strict";e.module("account.myCards",["myCards.html","securityCodeDescription.html","account.myAccountHeader","account.myCards.card","common.services.cafeHours","common.services.formBuilderService","common.services.localeService","common.services.loginService","common.services.payPalService","common.services.configService","common.services.recaptchaService","common.utilities.constants","common.utilities.translate","paneraCommonUi.common.loading","schemaForm","schemaForm-formErrors"]).directive("myCards",["$filter","$q","cafeHours","cafeLocatorFactory","formBuilderService","localeService","loginService","payPalService","configService","recaptchaService","cardDateFormats","monthsOfYear","regexes","supportedCardTypes","staticImages",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f){return{restrict:"E",scope:{},templateUrl:"myCards.html",link:function(h){function g(e){_.forEach(e,function(e){h.gcErrors.push(e)})}function v(){var e=_.get(h.ccModel,"cardNumber",""),t=o.translate("CC_CHECKSUM_ERROR");i.validateCreditCard(e,t)}function y(){h.ccModel.cardType=utilities.cardTypeFromNumber(h.ccModel&&h.ccModel.cardNumber)}function b(){y(),v()}function E(){var e,t=[],r=n.getCafeCurrentTime().year();for(e=0;10>e;e+=1)t[e]=(r+e).toString();return t}function C(){var t,n,r={},o={},a={},s={},c={},l={},u={},f={};o[tv4.errorCodes.OBJECT_REQUIRED]="CC_CARD_HOLDER_REQUIRED",a[tv4.errorCodes.STRING_LENGTH_SHORT]="CC_NUMBER_TOO_SHORT",a[tv4.errorCodes.STRING_LENGTH_LONG]="CC_NUMBER_TOO_LONG",a[tv4.errorCodes.STRING_PATTERN]="CC_NUMBER_INVALID_CHARACTER",a[tv4.errorCodes.OBJECT_REQUIRED]="CC_NUMBER_REQUIRED",a[tv4.errorCodes.CC_CHECKSUM_ERROR]="CC_CHECKSUM_ERROR",s[tv4.errorCodes.STRING_LENGTH_SHORT]="CVV_TOO_SHORT",s[tv4.errorCodes.STRING_LENGTH_LONG]="CVV_TOO_LONG",s[tv4.errorCodes.STRING_PATTERN]="CVV_INVALID_CHARACTER",s[tv4.errorCodes.OBJECT_REQUIRED]="CVV_REQUIRED",c[tv4.errorCodes.STRING_LENGTH_SHORT]="ZIP_CODE_TOO_SHORT",c[tv4.errorCodes.STRING_LENGTH_LONG]="ZIP_CODE_TOO_LONG",c[tv4.errorCodes.STRING_PATTERN]="ZIP_CODE_INVALID_CHARACTER",c[tv4.errorCodes.OBJECT_REQUIRED]="ZIP_CODE_REQUIRED",l[tv4.errorCodes.OBJECT_REQUIRED]="CC_TYPE_REQUIRED",u[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_MONTH_REQUIRED",f[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_YEAR_REQUIRED",h.ccOptions={formDefaults:{validationMessage:r}},h.ccSchema={type:"object",title:"Add Credit Card",required:["cardHolderName","cardNumber","expirationDate","securityCode","zipCode"],properties:{cardName:{title:"Card Nick Name",type:"string"},cardHolderName:{title:"Card Holder Name",type:"string"},cardType:{title:"Card Type",type:"string","enum":m},cardNumber:i.getSharedSchemas().creditCard,securityCode:{title:"Security Code",type:"string",pattern:p.integer,minLength:3,maxLength:4},zipCode:{title:"ZIP Code",type:"string",pattern:p.postalCode,minLength:5,maxLength:10},expirationDate:{title:"Expiration Date",type:"object",required:["month","year"],properties:{month:{title:"Month",type:"string","enum":d},year:{title:"Year",type:"string","enum":E()}}}}},h.ccErrors=[],t=[{value:void 0,name:T("MONTH_CAPITALIZED")}].concat(i.buildTitleMap(e("orderBy")(d))),n=[{value:void 0,name:T("YEAR_CAPITALIZED")}].concat(i.buildTitleMap(E())),h.ccForm=[{type:"section",htmlClass:"row",items:[{type:"formErrors",errors:h.ccErrors}]},{type:"section",htmlClass:"row",items:[{title:"CARD_NICK_NAME",key:"cardName",type:"text",htmlClass:"col-xs-12 col-sm-5",placeholder:"CARD_NICK_NAME"},{title:"CARD_HOLDER_NAME",key:"cardHolderName",type:"text",htmlClass:"col-xs-12 col-sm-7",placeholder:"CARD_HOLDER_NAME",validationMessage:o},{title:"CARD_NUMBER",key:"cardNumber",type:"text",htmlClass:"col-xs-12 col-sm-4",placeholder:"CARD_NUMBER",readonly:!1,validationMessage:a,onChange:b,imageKey:"cardType"},{key:"expirationDate",
title:"EXPIRATION_DATE",htmlClass:"col-xs-12 col-sm-4",items:[{key:"expirationDate.month",notitle:!0,type:"select",htmlClass:"col-xs-7",translateTitleMap:!1,titleMap:t,validationMessage:u},{key:"expirationDate.year",notitle:!0,type:"select",htmlClass:"col-xs-5 year",translateTitleMap:!1,titleMap:n,validationMessage:f}]},{title:"SECURITY_CODE",key:"securityCode",type:"text",htmlClass:"col-xs-12 col-sm-2",placeholder:"CVV",readonly:!1,validationMessage:s,popover:{template:"securityCodeDescription.html",icon:"fa-info-circle",trigger:"mouseenter",placement:"bottom","class":"securityCodeDescription",appendToBody:!0}},{title:"BILLING_ZIP_CODE",key:"zipCode",type:"text",htmlClass:"col-xs-12 col-sm-2",placeholder:"ZIP_CODE",readonly:!1,validationMessage:c}]},{type:"section",htmlClass:"row",items:[{title:"CANCEL",type:"button",onClick:"cancel()",style:"btn-default col-xs-5 col-sm-2 add-stored-cc",readonly:!1},{title:"SAVE",type:"submit",style:"btn-primary col-xs-5 col-sm-2 pull-right add-stored-cc",readonly:!1}]}],h.ccModel={},i.preProcess(h.ccOptions,h.ccForm)}function S(){var e={},t=i.getValidationMessages().giftCard,n=i.getValidationMessages().giftCardPin,r=i.getSharedSchemas();h.gcOptions={formDefaults:{validationMessage:e}},h.gcSchema={type:"object",title:"Add Gift Card",required:["cardNum"],properties:{cardName:{title:"Card Nick Name",type:"string"},cardNum:r.giftCard,pinNotRequired:{type:"boolean"},gcPin:r.giftCardPin,recaptcha:{title:"Recaptcha",type:"string"}}},h.gcErrors=[],h.gcForm=[{type:"section",htmlClass:"row",items:[{type:"formErrors",errors:h.gcErrors}]},{type:"section",htmlClass:"row",items:[{title:"CARD_NICK_NAME",key:"cardName",type:"text",htmlClass:"col-xs-12 col-md-5",placeholder:"CARD_NICK_NAME",readonly:!1},{title:"CARD_NUMBER",key:"cardNum",type:"text",htmlClass:"col-sm-8 col-xs-12",placeholder:"CARD_NUMBER",readonly:!1,validationMessage:t},{type:"section",htmlClass:"col-sm-4 col-xs-6 pull-right",items:[{key:"gcPin",condition:"!model.pinNotRequired",type:"text",title:"",feedback:!1,placeholder:"PIN_NUMBER",popover:{template:"giftCardPin.html",icon:"fa fa-info-circle fa-lg",trigger:"mouseenter",placement:"bottom","class":"gift-card-pin",appendToBody:!0},validationMessage:n},{key:"gcPin",condition:"model.pinNotRequired",type:"text",title:"",feedback:!1,placeholder:"PIN_NUMBER",readonly:!0,popover:{template:"giftCardPin.html",icon:"fa fa-info-circle fa-lg",trigger:"mouseenter",placement:"bottom","class":"gift-card-pin",appendToBody:!0},validationMessage:_.cloneDeep(n)},{title:"MY_CARD_HAS_NO_PIN",condition:"!gcPinRequired && !addGiftCard.gcPin.$invalid",key:"pinNotRequired",type:"checkbox",htmlClass:"no-pin-checkbox",onChange:function(){h.gcModel.gcPin=void 0}}]}]},{type:"section",htmlClass:"row",condition:"gcPinRequired",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"template",template:'<div class="alert alert-info">{{form.message}}</div>',message:T("GC_PIN_ONLY_MESSAGE")}]}]},{type:"section",htmlClass:"row",condition:"recaptchaIsEnabled",items:[{type:"recaptcha",key:"recaptcha",htmlClass:"col-xs-12",ngModelOptions:{recaptchaKey:l.getSiteKey(),setWidgetId:l.setRecaptchaWidgetId,alignment:"pull-right"}}]},{type:"section",htmlClass:"row",items:[{title:"CANCEL",type:"button",onClick:"cancel()",style:"btn-default col-xs-5 col-sm-3 btn-stored-gc",readonly:!1},{title:"SAVE",type:"submit",style:"btn-primary col-xs-5 col-sm-3 pull-right btn-stored-gc",readonly:!1}]}],h.gcModel={},i.preProcess(h.gcOptions,h.gcForm)}function w(e){_.isEmpty(e)||(h.hasStoredPayPalAccounts=!_.isEmpty(e.payPalAccounts))}var T=e("translate");h.showCcForm=!1,h.showGcForm=!1,h.disablePayPal=!1,h.payPalLogo=f.payPal.logo.small,h.hasStoredPayPalAccounts=!1,h.payPalErrors=[],c.fetchConfig().then(function(e){h.payPalIsEnabled=e.payPalIsEnabled,h.recaptchaIsEnabled=e.recaptchaIsEnabled,h.gcIsEnabled=e.gcIsEnabled,h.authGcIsEnabled=e.authGcIsEnabled,h.gcPinRequired=e.gcPinRequired}),h.cancel=function(){h.showCcForm?h.showCcForm=!1:h.showGcForm=!1},h.showAddCcForm=function(){h.ccModel={},h.showCcForm=!0,i.clearArray(h.ccErrors)},h.showAddGcForm=function(){h.gcModel={},h.showGcForm=!0,i.clearArray(h.gcErrors)},h.setDefaultCreditCard=function(e){var t=_.cloneDeep(e);t.expDate=moment(e.expDate,u.mmYyWithSlash).format(u.mmYy),h.myCardsPromise=a.updateStoredCard(t)},h.addStoredCreditCard=function(e){return h.addOrUpdateStoredCreditCard(e,h.ccModel,h.ccErrors,h.ccForm).then(function(){h.showCcForm=!1})},h.addOrUpdateStoredCreditCard=function(e,n,r,o){var s={},c=n.cardNum||n.cardNumber;return i.clearArray(r),h.showGcForm=!1,h.$broadcast("schemaFormValidate"),e&&!e.$valid?(r.push("CC_FORM_MISSING_REQUIRED"),t.reject(r)):(s.isGiftCard=!1,s.cardType=n.cardType,s.expDate=n.expirationDate.month+moment(n.expirationDate.year,u.yyyy).format(u.yy),s.lastFour=c.substring(c.length-4),s.cardHolderName=n.cardHolderName,s.cardName=n.cardName,s.securityCode=n.securityCode,s.zipCode=n.zipCode,s.isDefault=!1,i.disableSubmit(o,!0),n.tokenValue?(s.tokenValue=n.tokenValue,s.tokenType=n.tokenType,h.myCardsPromise=a.updateStoredCard(s)):(s.cardNum=c,h.myCardsPromise=a.addStoredCreditCardOrGiftCard(s)),h.myCardsPromise["catch"](function(e){return _.forEach(e,function(e){r.push(e)}),t.reject(r)})["finally"](function(){i.disableSubmit(o,!1)}))},h.addStoredGiftCard=function(){return h.addOrUpdateStoredGiftCard(h.gcModel,h.gcForm)},h.addOrUpdateStoredGiftCard=function(e,n){var o,s,c={},u=a.updateStoredCard,d=_.get(h,"storedCards.giftCards")||{},p=!_.find(d,_.pick(e,["cardNum"]));if(i.clearArray(h.gcErrors),h.showCcForm=!1,h.$broadcast("schemaFormValidate"),_.isUndefined(e.cardNum))return g(["GC_FORM_MISSING_REQUIRED"]),t.reject(h.gcErrors);if(!_.isUndefined(e.cardNum)&&19!==e.cardNum.length)return g(["GIFT_CARD_NUMBER_LENGTH"]),t.reject(h.gcErrors);if(s={giftCardInquiry:[{giftCardNo:e.cardNum}],cafeNo:r.getCafe().CafeId},p){if(h.recaptchaIsEnabled&&!l.isRecaptchaValid())return g(["PLEASE_COMPLETE_RECAPTCHA"]),t.reject(h.gcErrors);if(_.isEmpty(e.gcPin)&&!e.pinNotRequired)return g([h.gcPinRequired?"GC_PIN_VALIDATION_REQUIRED":"GC_PIN_VALIDATION"]),t.reject(h.gcErrors);e.gcPin&&(s.giftCardInquiry[0].giftCardPin=e.gcPin),h.recaptchaIsEnabled&&(s.recaptcha=l.getRecaptchaResponse()),u=a.addStoredCreditCardOrGiftCard,o=t.resolve(s)}else o=t.resolve(s);c.isGiftCard=!0,c.cardNum=e.cardNum,c.lastFour=c.cardNum.substring(c.cardNum.length-4),c.cardHolderName=e.cardName||"GIFT-"+c.lastFour,c.cardName=e.cardName||"",c.isDefault=e.isDefault||!1,i.disableSubmit(n,!0),h.myCardsPromise=o.then(function(e){return c.balanceInquiry=e,u(c).then(function(e){e&&e.isPromoCard&&(g(["GC_SORRY_PROMO_CARDS_CANT_BE_SAVED"]),i.disableSubmit(n,!1))})["catch"](function(e){return g(e),i.disableSubmit(n,!1),t.reject(h.gcErrors)})}).then(function(){return h.showGcForm=!1,i.disableSubmit(n,!1),t.resolve()})["finally"](function(){h.recaptchaIsEnabled&&l.resetRecaptcha(),h.gcErrors.length>0&&(e.pinNotRequired=!1)})},h.deleteStoredCard=function(e){return h.myCardsPromise=a.deleteStoredCard(e),h.myCardsPromise},h.authenticatePayPalAccount=function(){var e=t.defer();return h.payPalErrors=[],h.myCardsRedirecting=e.promise,s.authenticatePayPalForOrder(0,!0)["catch"](function(t){_.forEach(t,function(e){h.payPalErrors.push(e)}),e.reject()}),h.myCardsRedirecting},a.onUserLoaded(h,function(e){e&&(h.myCardsPromise=a.addStoredCardsToSession())}),a.onStoredCardsChange(h,function(e){h.storedCards=e,w(h.storedCards)}),o.onI18nDataChange(h,function(){h.pleaseWait=T("PLEASE_WAIT"),h.redirecting=T("REDIRECTING"),h.myCreditCards=T("MY_CREDIT_CARDS"),h.addCreditCard=T("ADD_CREDIT_CARD"),h.myGiftCards=T("MY_GIFT_CARDS"),h.addGiftCard=T("ADD_GIFT_CARD"),h.payPal=T("PAYPAL"),h.addPayPalAccount=T("ADD_PAYPAL_ACCOUNT"),h.addAccount=T("ADD_ACCOUNT"),S(),C(),s.parsePayPalTokenParams()}),s.onTokenAuthComplete(h,function(){s.tokenIsAuthenticated()&&(h.payPalErrors=[],h.myCardsPromise=s.storeToken()["catch"](function(e){_.forEach(e,function(e){h.payPalErrors.push(e)})}))})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(e,t){return n.show({component:"smsOptIn",size:"sm",hideContainer:!0,phoneNumber:h(e),nonEditable:t})}function l(){return n.show({component:"smsOptOut",size:"sm",hideContainer:!0})}function u(){m.subscriptions=[],m.phoneNumbers=[],m.phoneNumbers=r.phoneNumbers(),m.smsRequestedPhones=r.getAllSmsRequestedPhones(),_.forEach(m.phoneNumbers,function(e){e.hasChanged=!1,_.forEach(e.smsPreferences,function(t){var n=t.programName.toUpperCase();a.isSmsProgramRequestedInSession(e.number)&&(e.isSmsOpt=!0,t.isOpt=!0),t.originalIsOpt=t.isOpt,t.title=_.toString(f("SMS_PROGRAM_"+n+"_TITLE")),t.description=_.toString(f("SMS_PROGRAM_"+n+"_DESC")),t.number=e.number})}),m.loadingPromise=a.getEmailSubscriptions().then(function(e){e.subscriptions&&(m.subscriptions=e.subscriptions,m.subscriptions.hasChanged=!1,_.forEach(m.subscriptions,function(e){e.originalIsSubscribed=e.isSubscribed,e.title=_.toString(f("EMAIL_PREFERENCE_"+e.subscriptionCode+"_TITLE")),e.description=_.toString(f("EMAIL_PREFERENCE_"+e.subscriptionCode+"_DESC"))}))})}function d(){o.onI18nDataChange(e,function(){m.i18n={SAVE_CHANGES:f("SAVE_CHANGES"),PANERA_EMAILS:f("PANERA_EMAILS"),PANERA_EMAILS_DESC:f("PANERA_EMAILS_DESC"),SMS_NOTIFICATIONS:f("SMS_NOTIFICATIONS"),SMS_NOTIFICATIONS_DESC:f("SMS_NOTIFICATIONS_DESC"),PHONE_NUMBER:f("PHONE_NUMBER"),ADD_ANOTHER_NUMBER:f("ADD_ANOTHER_NUMBER")},s.onUserLoaded(e,function(e){m.subscriptions=[],m.phoneNumbers=[],e&&u()})})}function p(e,t){return a.updateSmsPreference(r.customerId(),e.number,e.isOpt).then(function(){e.originalIsOpt=e.isOpt,t.hasChanged=!1})}var m=this,f=i("translate"),h=i("formatPhone");m.checkForSmsChanges=function(e){e.hasChanged=!1,_.forEach(e.smsPreferences,function(t){return t.isOpt!==t.originalIsOpt?(e.hasChanged=!0,!1):void 0})},m.checkForSubscriptionChanges=function(e){e.hasChanged=!1,_.forEach(e,function(t){return t.isSubscribed!==t.originalIsSubscribed?(e.hasChanged=!0,!1):void 0})},m.saveSubscriptions=function(e){m.subscriptionErrors=[],m.loadingPromise=a.updateSubscriptions(r.customerId(),e).then(function(){_.forEach(e,function(e){e.originalIsSubscribed=e.isSubscribed}),e.hasChanged=!1})["catch"](function(e){m.subscriptionErrors=e})},m.addAnotherNumber=function(){m.phoneErrors=[],c().then(function(e){var t,n=e.phoneNumber.replace(/[^0-9]/g,""),i=_.find(m.phoneNumbers,{number:n});i&&(t=i.number),m.loadingPromise=a.addNewPhoneNumber(n,t).then(function(){return a.updateSmsPreference(r.customerId(),n,!0).then(function(){r.addSmsRequestedPhone(n),u()})["catch"](function(e){u(),m.phoneErrors=e})})["catch"](function(e){m.phoneErrors=e})})},m.showSaveChangesModal=function(e,t){return e.isOpt?c(e.number,!0).then(function(){m.loadingPromise=p(e,t)}):l().then(function(){m.loadingPromise=p(e,t)})},m.$onInit=function(){d()}}t.$inject=["$scope","$q","pnraModalService","userService","$filter","localeService","myCommunicationPreferencesService","loginService"],e.module("account.myCommunicationPreferences.component",["myCommunicationPreferences.html","paneraCommonUi.common.modal","common.services.userService","common.utilities.translate","common.services.localeService","paneraOrdering.smsOptIn.component","paneraOrdering.myCommunicationPreferences.service","paneraCommonUi.common.loading","common.utilities.filters","common.services.loginService"]).component("myCommunicationPreferences",{templateUrl:"myCommunicationPreferences.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(e){return t.reject(v(e.data,e.status))}function l(e,t,n){return{customer:{phoneNumber:t},customerId:e,opt:n}}function u(e){return{optIn:!0,subscriptions:e}}function d(e){var t=!1;return _.forEach(e,function(e){return e.isSubscribed?(t=!0,!1):void 0}),t}function p(t){return e.put(r.eCommerce.uramp.email.update,t,{headers:i.getRequestHeaders()}).then(function(e){return e.data},c)}function m(){var t=a.personalInfo();return e.put(r.eCommerce.uramp.user.update,{customerId:t.customerId,firstName:t.firstName,lastName:t.lastName,username:t.username,emailAddress:_.get(t,"emails[0].emailAddress",t.username),phoneNumber:t.phoneNumber||a.defaultPhoneNumber(),opt:!0},{headers:i.getRequestHeaders()}).then(function(e){return a.updateSession({isEmailGlobalOpt:!0}),e.data},c)}function f(e){var n=_.get(a.getEmails(),"[0]");if(n){if(!d(e))return n.isOpt=!0,p(n);if(m(),!n.isOpt)return n.isOpt=!0,p(n)}return t.resolve()}function h(e){var n=_.get(a.getEmails(),"[0]");return n&&!d(e)?(n.isOpt=!1,p(n)):t.resolve()}function g(t,n,i){return e.post(r.eCommerce.uramp.sms.add,l(t,n,i)).then(function(e){return e.data},c)}var v=o("apiErrorKeyFilter");this.getEmailSubscriptions=function(){return e.get(r.eCommerce.uramp.email.preferences,{headers:i.getRequestHeaders()}).then(function(e){return e.data},c)},this.updateSubscriptions=function(t,n){return f(n).then(function(){return e.put(r.eCommerce.uramp.email.preferences,u(n),{headers:i.getRequestHeaders()}).then(function(e){return h(n),e.data},c)})},this.addNewPhoneNumber=function(e){return n.addOrUpdatePhoneNumber({number:e,phoneType:s})},this.updateSmsPreferences=function(e){return g(a.customerId(),e,!0).then(function(){a.addSmsRequestedPhone(e)},c)},this.isSmsProgramRequestedInSession=function(e){return _.includes(a.getAllSmsRequestedPhones(),e)}}t.$inject=["$http","$q","loginService","apiUrls","httpHeaderService","$filter","userService","homePhone"],e.module("paneraOrdering.myCommunicationPreferences.service",["common.utilities.constants","common.services.loginService","common.services.httpHeader.service","common.utilities.filters","common.services.userService"]).service("myCommunicationPreferencesService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(e){u.favoriteItems=e.items[0].placards,u.favoriteGroups=e.groups}var u=this,d=t("translate");u.deleteFavoriteItem=function(e,t,n){return i.show({},{closeButtonText:"NO",actionButtonText:"YES",headerText:"",bodyText:"DELETE_FAVORITE_DESC",size:"sm"}).then(function(){return a.deleteFavoriteItem(e,t,n)})},u.deleteFavoriteGroup=function(e){return i.show({},{closeButtonText:"No",actionButtonText:"Yes",headerText:"",bodyText:"DELETE_FAVORITE_DESC",size:"sm"}).then(function(){return a.deleteFavoriteGroup(e)})},u.editFavoriteItem=a.updateFavoriteItem,u.editFavoriteGroup=a.updateFavoriteGroup,u.$onInit=function(){n.onUserLoaded(e,function(t){t&&o.fetchConfig().then(function(t){s.setFavoritesServiceEnabled(t.isFavoritesServiceEnabled),r.onFavoritesChange(e,l),u.favoritesPromise=a.addFavorites()})}),c.onI18nDataChange(e,function(){u.i18n={FAVORITE_ITEMS:d("FAVORITE_ITEMS"),FAVORITE_ORDERS:d("FAVORITE_ORDERS"),MY_FAVORITES:d("MY_FAVORITES")}})}}t.$inject=["$scope","$filter","loginService","myPlacardService","modalService","configService","myFavoriteService","myFavoriteServiceApi","localeService"],e.module("account.myFavorites.component",["myFavorites.html","account.myAccountHeader","account.myOrder","common.services.loginService","common.services.myPlacardService","common.services.modalService","common.services.configService","common.services.myFavoriteService.module","common.utilities.translate","common.utilities.constants","common.services.localeService"]).component("myFavorites",{templateUrl:"myFavorites.html",controller:t,bindings:{isMenu:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){var a=this;r.fetchConfig().then(function(e){e.myGroupOrderIsEnabled||t.path(i.myAccountPages.accountInfo)}),n.onGroupOrdersDataChange(e,function(e){a.groupOrders=e}),a.newGroupOrder=function(){t.path(i.groupOrder.create)},a.sendToDashboard=function(e){o.goToDashboard(e.tokenId)}}t.$inject=["$scope","$location","loginService","configService","routes","groupOrderService"],e.module("account.myGroupOrders",["myGroupOrders.html","account.myAccountHeader","account.myGroupOrders.groupOrderPlacard","common.services.loginService","common.services.configService","paneraOrdering.groupOrder.groupOrderService"]).component("myGroupOrders",{restrict:"E",templateUrl:"myGroupOrders.html",controller:t})}(window.angular),function(e){"use strict";e.module("account.myNotifications",["myNotifications.html","common.utilities.constants","common.utilities.translate","common.services.formBuilderService","paneraCommonUi.common.loading","common.services.loginService","common.services.userService","account.myAccountHeader","schemaForm","schemaForm-formErrors"]).directive("myNotifications",[function(){var e=["$scope","$q","formBuilderService","loginService","userService",function(e,t,n,r,i){function o(){var t=e.form[1].items[1].items;_.forEach(t,function(t){var n=t.key;t.readonly=!e.notifications.optIn,n&&(e.notifications[n]=e.notifications.optIn)})}function a(){e.options={},e.schema={type:"object",title:"MyPanera Loyalty",properties:{optIn:{type:"boolean"}}},e.form=[{type:"formErrors",errors:e.errors},{type:"section",items:[{type:"section",items:[{type:"help",helpvalue:"<h2>{{MYPANERA_LOYALTY}}</h2>"},{key:"optIn",title:"EMAIL_OPT_IN_DESCRIPTION",onChange:o}]},{type:"section",readonly:!e.notifications.optIn,items:[{type:"help",helpvalue:"<h2>{{ID_LIKE_TO_RECEIVE_THE_FOLLOWING}}</h2>"}]},{type:"section",htmlClass:"col-xs-12 text-right",items:[{type:"help",condition:"showSuccess",htmlClass:"success",helpvalue:'<span class="fa fa-check"></span>{{YOUR_CHANGES_HAVE_BEEN}}'},{title:"UPDATE",type:"submit",readonly:!1}]}]}],_.forEach(i.emailPreferences().preferences,function(t){var n=t.i18nName;e.schema.properties[n]={type:"boolean"},e.form[1].items[1].items.push({key:n,title:n})}),n.preProcess(e.options,e.form)}e.notifications={},e.errors=[],e.showSuccess=!1,e.updateEmailPreferences=function(){var o={optIn:e.notifications.optIn,preferences:[]};return _.forEach(i.emailPreferences().preferences,function(t){var n=t.i18nName;o.preferences.push({i18nName:n,allow:e.notifications[n],displayName:t.displayName,id:t.id})}),e.showSuccess=!1,n.clearArray(e.errors),n.disableSubmit(e.form,!0),e.emailPrefPromise=r.updateEmailPreferences(o),e.emailPrefPromise.then(function(){e.showSuccess=!0})["catch"](function(n){return _.forEach(n,function(t){e.errors.push(t)}),t.reject(n)})["finally"](function(){n.disableSubmit(e.form,!1)})},r.onUserLoaded(e,function(t){t&&(e.emailPrefPromise=r.addEmailPreferences().then(function(){e.loyaltyCardNumber=i.loyaltyCardNumber(),e.notifications.optIn=i.emailPreferences().optIn||i.getEmailGlobalOpt(),_.forEach(i.emailPreferences().preferences,function(t){var n=t.i18nName;e.notifications[n]=t&&t.allow}),a(),e.failed=!1},function(){e.failed=!0}))})}];return{restrict:"E",scope:{},templateUrl:"myNotifications.html",controller:e}}])}(window.angular),function(e){"use strict";e.module("account.myOrder",["myOrder.html","accordion-group.html","account.myPlacard","common.utilities.translate","common.utilities.constants","menu.placard.service","common.services.cartService","common.services.modalService","common.factories.orderFlowFactory","common.services.analytics","ui.bootstrap.tpls","ui.bootstrap.accordion","paneraOrdering.checkout.checkoutAnalyticsService"]).directive("myOrder",["$location","cartService","modalService","orderFlowFactory","routes","placardService","analyticsService","checkoutAnalyticsService",function(e,t,n,r,i,o,a,s){return{restrict:"E",scope:{order:"=",placards:"=",deleteFavoriteItem:"&",deleteFavoriteGroup:"&",editFavoriteGroup:"&",editFavoriteItem:"&",eventType:"=",categorialContext:"<"},templateUrl:"myOrder.html",link:function(c){function l(){return _.some(c.order&&c.order.placards,function(e){return!e.isUnOrderable&&!e.cartItem.isUnavailable&&!e.cartItem.isProductStockout})}c.toggleAccordion=function(){c.order.isOpen=!c.order.isOpen},c.reorder=function(){r.completeOrderFlow().then(function(){var e=_.compact(_.map(c.order.placards,function(e){return e.isUnOrderable||e.cartItem.isUnavailable||e.cartItem.isProductStockout?void 0:(e.cartItem.categorialContext=o.translateCategorialContext(c.categorialContext),e.cartItem)}));c.order.placards.length!==e.length&&n.show({templateUrl:"alert.html",controller:"AlertController",size:"sm"},{closeButtonText:"NO",actionButtonText:"OK",headerText:"",bodyText:"REORDER_VALIDATION"}),_.isEmpty(e)||t.populateCalories(e).then(function(e){t.addItem(e).then(function(){s.storeReorderEvent(e,c.eventType)}),a.trackCartEvent(c.eventType)}),c.determinePath()})},c.determinePath=function(){_.includes(e.path(),i.myAccount)?e.path(i.menuMyPanera+e.path().replace(i.myAccount,"")):_.includes(e.path(),i.menuMyPanera)?e.path(e.path()):e.path(i.menu)},c.showDeleteButton=function(e){c.order.newFavoriteName=c.order.name,c.order.showDeleteButton=e,e?(c.order.isOpen=!0,_.forEach(c.order.placards,function(e){e.showDeleteButton=!0})):(c.order.isOpen=!1,_.forEach(c.order.placards,function(e){e.showDeleteButton=!1}))},c.confirmGroupDeletion=function(e){c.deleteFavoriteGroup({faveGroupId:e.id})["catch"](function(){c.showDeleteButton(!1)})},c.disabled=!l()}}}])}(window.angular),function(e){"use strict";e.module("account.myPastOrders",["myPastOrders.html","account.myOrder","account.myAccountHeader","common.utilities.translate","common.services.myPlacardService","common.services.loginService"]).directive("myPastOrders",["myPlacardService","loginService",function(e,t){return{restrict:"E",scope:{isMenu:"="},templateUrl:"myPastOrders.html",link:function(n){function r(e){n.orders=e,_.isEmpty(n.orders)||(n.orders[0].isOpen=!0)}function i(){o=!0,e.onPastOrdersChange(n,r),t.getOrderHistory()}var o=!1;t.onUserLoaded(n,function(e){e&&!o&&i()})}}}])}(window.angular),function(e){"use strict";e.module("account.myPhoneNumbers",["myPhoneNumbers.html","common.utilities.constants","common.utilities.translate","common.services.userService","common.services.loginService","common.directives.myForm","paneraCommonUi.common.loading","account.myAccountHeader"]).directive("myPhoneNumbers",[function(){var e=["$scope","$q","loginService","userService","regexes","validPhone",function(e,t,n,r,i,o){function a(){e.phoneNumberForm={id:"newPhoneNumber",submit:e.savePhoneNumber,close:e.closePhoneNumberForm,cancelLabel:"CANCEL",submitLabel:"SAVE",fields:[{i18nName:"NAME",placeholder:"NAME",path:"name",type:"text",width:11,expectedErrors:[]},{i18nName:"NUMBER",placeholder:"NUMBER",path:"number",type:"tel",needsPhoneFormatting:!0,format:"formatPhone",required:!0,width:11,clear:!0,expectedErrors:["ERROR_CODE_1113"]},{path:"customerId",type:"hidden"},{path:"originalNumber",type:"hidden"},{path:"isDefault",type:"hidden"},{path:"id",type:"hidden"},{path:"isSmsOpt",type:"hidden"}]},e.loyaltyCardNumber=r.loyaltyCardNumber(),e.phoneNumbers=r.phoneNumbers(),e["default"]={phoneNumber:r.defaultPhoneNumber()}}e.addPhoneNumber=function(){e.errors=[],e.editingPhoneNumber=!0,e.phoneNumber={customerId:r.customerId(),isDefault:!1}},e.editPhoneNumber=function(t){e.errors=[],e.editingPhoneNumber=!0,e.phoneNumber={customerId:r.customerId(),name:t.name,number:t.number,originalNumber:t.number,isDefault:t.isDefault,phoneType:t.phoneType,isSmsOpt:t.isSmsOpt}},e.deletePhoneNumber=function(t){e.errors=[];var i=_.find(r.phoneNumbers(),{number:t.number});return t.id=i?i.id:0,e.loadingPromise=n.deletePhoneNumber(t).then(function(){e.phoneNumbers=r.phoneNumbers()},function(t){e.errors=t}),e.loadingPromise},e.closePhoneNumberForm=function(){e.editingPhoneNumber=!1},e.setDefaultPhoneNumber=function(t){e.loadingPromise=n.setDefaultPhoneNumber(t).then(function(){e.phoneNumbers=r.phoneNumbers()},function(t){e.errors=t})},e.savePhoneNumber=function(a){return a.number=a.number.replace(i.nonNumbers,""),a.number.length<o?t.reject(["MY_ACCOUNT_PHONE_TOO_SHORT"]):a.number.length>o?t.reject(["MY_ACCOUNT_PHONE_TOO_LONG"]):n.addOrUpdatePhoneNumber(a).then(function(){e.phoneNumbers=r.phoneNumbers(),e["default"].phoneNumber=r.defaultPhoneNumber()},function(n){return e.errors=n,t.reject(n)})},e.phoneNumber={},n.onUserLoaded(e,function(e){e&&a()})}];return{restrict:"E",scope:{},templateUrl:"myPhoneNumbers.html",controller:e}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f){function h(e){return i.populateCalories([e]).then(function(e){return i.addItem(e)})}function g(e,t){o.resetComboItems(),e.isCombo?(_.forEach(e.cartItem.items,function(e){"side"!==e.itemType?o.setComboItems({hasItem:!0,item:e}):o.setComboSide(e)}),u.completeOrderFlow().then(function(){r.path(d.menu+s.getMyComboCategory(e.cartItem.id).toString())})):l.show({templateUrl:"builder.html",controller:"BuilderController",size:"lg"},{selectedItem:e.cartItem}).then(function(e){u.completeOrderFlow().then(function(){i.addItem(e,t),S.determinePath()})})}function v(e){u.completeOrderFlow().then(function(){S.tempItem=e,S.showOverlay=!0,e.cartItem.categorialContext=c.translateCategorialContext(S.categorialContext),n(function(){S.showOverlay=!1},850,1,!0),h(e.cartItem).then(function(){f.storeReorderEvent(e.cartItem,S.eventType),S.determinePath(),p.trackCartEvent(S.eventType)})})}function y(e,t){t.showDeleteButton=e,t.newFavoriteName=t.favoriteName}function b(e){e.isProductStockout||e.isUnavailable||e.hasSizeStockout||e.isCombo&&e.cartItem&&e.cartItem.isUnavailable?(e.ribbonName="STOCKOUT",e.ribbonClass="stockout"):e.cartItem&&e.cartItem.isCustomized||e.isCustomized?(e.ribbonName="CUSTOMIZED",e.ribbonClass="customized"):(e.ribbonName=void 0,e.ribbonClass=void 0)}function E(e){e.unavailableMessage=void 0,(e.hasStockoutComponent||e.hasUnavailableIngredients||e.hasSideStockout||e.hasUnavailableSide)&&(e.unavailableMessage="REVIEW_COMBO_ITEMS"),e.cartItem&&e.cartItem.isUnavailable&&(e.unavailableMessage="UNAVAILABLE"),_.forEach(e.cartItem&&e.cartItem.items,function(t){(t.hasStockoutComponent||t.hasUnavailableIngredients||t.hasSideStockout||t.hasUnavailableSide||t.isProductStockout||t.isUnavailable||t.hasSizeStockout)&&(e.unavailableMessage="REVIEW_COMBO_ITEMS")})}function C(e){e.hasStockoutComponent?e.unavailableMessage="PLACARD_HAS_COMPONENT_STOCKOUT":e.hasUnavailableIngredients||e.hasUnavailableSide?e.unavailableMessage="REVIEW_CUSTOMIZATIONS":e.hasSideStockout?e.unavailableMessage="PLACARD_HAS_SIDE_STOCKOUT":e.cartItem&&e.cartItem.isUnavailable?e.unavailableMessage="UNAVAILABLE":e.unavailableMessage=void 0}var S=this,w=t("translate"),T=[12,12,6,4];S.confirmItemDeletion=function(e){S.deleteFavoriteItem({faveGroupId:e.favoriteGroupId,faveId:e.favoriteId,isFavoriteGroupItem:e.isFavoriteGroupItem})["catch"](function(){e.isFavoriteGroupItem||S.showDeleteButton(!1,e)})},S.orderClick=v,S.customizeClick=g,S.showDeleteButton=y,S.nutritionPDFUrl=m.nutritionPDF,a.onI18nDataChange(e,function(){S.messages={ADDED:w("ADDED"),DESCRIPTION:w("DESCRIPTION"),NUTRITION:w("NUTRITION"),CUSTOMIZE:w("CUSTOMIZE"),EDIT:w("EDIT"),ADD_ITEM:w("ADD_ITEM"),SAVE:w("SAVE"),CANCEL:w("CANCEL")}}),e.$watch("MyPlacard.item",function(){var e=S.item,t=0;e?(b(S.item),e.isCombo&&e.cartItem&&_.forEach(e.cartItem.items,function(e){b(e)}),t=1,e.isCustomizable?(e.showCustomizeButton=!0,t+=1):e.showCustomizeButton=!1,e.isFavorite&&!e.isFavoriteGroupItem?(e.showEditButton=!0,t+=1):e.showEditButton=!1,e.buttonWidth=T[t],e.isCombo?E(e):C(e)):S.item={}},!0)}t.$inject=["$scope","$filter","$interval","$location","cartService","comboService","localeService","menuService","placardService","modalService","orderFlowFactory","routes","analyticsService","paneraUrls","checkoutAnalyticsService"],e.module("account.myPlacard",["builder.html","myPlacard.html","myPlacardNutrition.html","myPlacardDescription.html","common.factories.orderFlowFactory","common.services.cartService","menu.placard.service","common.services.comboService","common.services.menuService","common.services.modalService","common.services.localeService","common.utilities.constants","common.utilities.filters","ngRoute","common.services.analytics","ui.bootstrap.popover","ui.bootstrap.tpls","paneraOrdering.checkout.checkoutAnalyticsService"]).directive("myPlacard",function(){return{restrict:"E",scope:!0,bindToController:{item:"=",deleteFavoriteItem:"&",editFavoriteItem:"&",determinePath:"&",eventType:"=",categorialContext:"<"},templateUrl:"myPlacard.html",controllerAs:"MyPlacard",controller:t}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m){function f(e,t){return _.size(_.filter(e,{id:t}))}function h(){y.birthdayExists=!_.isNil(_.get(s.personalInfo(),"birthDay")),y.addressExists=!_.isEmpty(s.addresses())}function g(){var e,t=l.rewards();y.rewardsCount=0,y.rewards={},t.rewards&&y.rewardToBeRedeemed&&_.forEach(t.rewards,function(e){e.quantityRedeemed=f(y.rewardToBeRedeemed,e.id),e.quantityRedeemed>=e.quantity&&(e.isRedeemed=!0)}),y.isModal?(y.rewards=c.rewardCartItems(y.cart),e=_.map(y.rewards.rewards,function(e){return e.isReadyToRedeem?e:void 0}),y.rewards.rewards=_.compact(e)):y.rewards=t,_.forEach(t.rewards,function(e){y.rewardsCount=y.rewardsCount+e.quantity})}function v(){return y.birthdayExists||y.addressExists?y.birthdayExists?y.addressExists?void 0:y.i18n.PROG_REG_ADD_ADDR_ONLY_MESSAGE:y.i18n.PROG_REG_ADD_BDAY_ONLY_MESSAGE:y.i18n.PROG_REG_ADD_BDAY_AND_ADDR_MESSAGE}var y=this,b=n("translate");y.rewardClockIcon=m.myPanera.rewardIcons.clock,y.rewardToBeRedeemed=!1,y.addInformation=function(){t.path(p.myAccountInfo)},y.addAddress=function(){t.path(p.myAccountPages.addresses)},y.redeem=function(e){if(y.isModal&&!y.isSubmitted)y.selectReward({selectedReward:e}),y.isSubmitted=!0;else{var n={};o.completeOrderFlow().then(function(){t.path()!==p.checkout&&t.path(p.menuMyPaneraPages.rewards),n={orderId:a.getOrderId(),selectedReward:e,rewardToBeRedeemed:void 0},i.show({templateUrl:"rewardModal.html",controller:"RewardModalController"},n)})}},r.onUserLoaded(e,function(e){e&&(h(),g())}),l.onRewardToBeRedeemed(e,function(e){y.rewardToBeRedeemed=e,g()}),r.onRewardsDataChanged(e,function(e){_.isUndefined(e)||g()}),u.onI18nDataChange(e,function(){y.i18n={REWARDS:b("REWARDS"),AVAILABLE_RIGHT_NOW:b("AVAILABLE_RIGHT_NOW"),VISITS:b("VISITS"),WE_MISS_YOU:b("WE_MISS_YOU"),THANKS_FOR_JOINING:b("THANKS_FOR_JOINING"),UNTIL_NEXT_REWARD:b("UNTIL_NEXT_REWARD"),NO_REWARDS_AT_THIS_TIME:b("NO_REWARDS_AT_THIS_TIME"),REDEEM_A_REWARD:b("REDEEM_A_REWARD"),ADD_BIRTHDAY:b("ADD_BIRTHDAY"),ADD_ADDRESS:b("ADD_ADDRESS"),PROG_REG_ADD_BDAY_AND_ADDR_MESSAGE:b("PROG_REG_ADD_BDAY_AND_ADDR_MESSAGE"),PROG_REG_ADD_BDAY_ONLY_MESSAGE:b("PROG_REG_ADD_BDAY_ONLY_MESSAGE"),PROG_REG_ADD_ADDR_ONLY_MESSAGE:b("PROG_REG_ADD_ADDR_ONLY_MESSAGE"),COMPLETE_YOUR_REGISTRATION:b("COMPLETE_YOUR_REGISTRATION")},y.progressiveRegMsg=v()}),y.$onInit=function(){y.sidePanel||y.isModal||d.fetchConfig().then(function(e){y.pastRewardsIsEnabled=e.pastRewardsIsEnabled,y.pastRewardsIsEnabled&&(y.pastRewardsPromise=l.fetchRewardTransactions().then(function(e){y.rewardTransactions=e}))})}}t.$inject=["$scope","$location","$filter","loginService","modalService","orderFlowFactory","orderFlowService","userService","rewardService","rewardManagementService","localeService","configService","routes","staticImages"],e.module("account.myRewards",["myRewards.html","rewardModal.html","account.myRewards.rewardPlacard","account.myRewards.pastRewardPlacard.component","common.utilities.constants","common.services.loginService","common.services.modalService","common.factories.orderFlowFactory","common.services.orderFlowService","common.services.userService","common.services.rewardService","common.services.rewardManagementService","common.services.localeService","common.services.configService","common.utilities.modals.rewardModal","account.myAccountHeader"]).component("myRewards",{bindings:{sidePanel:"<",showHeader:"<",isModal:"<",cart:"<",selectReward:"&"},templateUrl:"myRewards.html",controller:t})}(window.angular),function(e){"use strict";e.module("account.myTastesAndInterests",["myTastesAndInterests.html","common.utilities.constants","common.utilities.translate","common.services.loginService","common.services.userService","common.directives.myForm","account.myAccountHeader"]).directive("myTastesAndInterests",[function(){
var e=["$scope","foodPreferences","gatherings","loginService","userService",function(e,t,n,r,i){e.updateTastesAndInterests=function(e){return r.updateTastesAndInterests(e)},e.form={id:"tastesAndInterests",submit:e.updateTastesAndInterests,submitLabel:"UPDATE",hideRequired:!0,fields:[{i18nName:"DO_YOU_HAVE_ANY_DIETARY_PREFERENCES",type:"header"},{i18nName:"FOOD_PREFERENCES",path:"foodPreferences",type:"checklist",options:t,width:4,clear:!0},{i18nName:"WHICH_TYPE_OF_GATHERING_DO_YOU_HAVE",type:"header"},{i18nName:"GATHER_PREFERENCES",path:"gatherPreference",type:"radiogroup",options:n,width:4,clear:!0},{i18nName:"WHY_DO_WE_ASK",type:"paragraph"},{i18nName:"AS_A_PANERA_MEMBER",type:"paragraph"},{i18nName:"WHILE_THESE_PREFERENCES_MAY",type:"paragraph"}]},r.onUserLoaded(e,function(t){t&&(e.loyaltyCardNumber=i.loyaltyCardNumber(),e.tastesAndInterests=i.tastesAndInterests())})}];return{restrict:"E",scope:{},templateUrl:"myTastesAndInterests.html",controller:e}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l){var u=this,d=t("translate");r.onI18nDataChange(e,function(){u.i18n={SAVE_TO_APPLE_WALLET:d("SAVE_TO_APPLE_WALLET"),YOU_CAN_NOW_SAVE_TO_APPLE_WALLET:d("YOU_CAN_NOW_SAVE_TO_APPLE_WALLET")}}),u.addToWallet=function(){u.hasError=!1,s.isAddWalletAvailable().then(function(e){e&&(n.location.href=u.passUrl),u.hasError=!e})["catch"](function(){u.hasError=!0})},a.onLoggedInChange(e,function(e){u.show=e&&o.isIosUserAgent()}),u.$onInit=function(){l.fetchConfig().then(function(e){u.isEnabled=c.hasNFCEnabled()&&e.addToAppleWalletEnabled}),u.img=i.staticImages,u.passUrl=i.apiUrls.passUrl}}t.$inject=["$scope","$filter","$window","localeService","appleWalletConstant","mediaFactory","loginService","appleWalletService","cafeLocatorFactory","configService"],e.module("paneraOrdering.appleWallet.addToAppleWallet.component",["addToAppleWallet.html","common.services.localeService","paneraOrdering.appleWallet.constants","paneraOrdering.appleWallet.service","common.factories.media","common.services.configService","common.services.loginService","common.factories.cafeLocator"]).component("addToAppleWallet",{templateUrl:"addToAppleWallet.html",controller:t,bindings:{}})}(window.angular),function(e){"use strict";e.module("builder.builderTotal",["builderTotal.html","common.services.loginService","common.utilities.translate"]).directive("builderTotal",["loginService",function(e){return{restrict:"E",scope:{btnFunction:"=",trackCustomization:"&",btnText:"=",errors:"=",isComboItem:"=",items:"=",totalPrice:"=",position:"=",saved:"<",updateSaved:"&"},templateUrl:"builderTotal.html",link:function(t){t.isLoggedIn=!1,e.onLoggedInChange(t,function(e){t.isLoggedIn=e})}}}])}(window.angular),function(e){"use strict";e.module("builder.customizationNav",["customizationNav.html","builder.customizationNav.itemGroup","builder.customizationNav.instructionGroup","builder.customizationNav.sideGroup","common.services.cafeHours","common.utilities.translate"]).directive("customizationNav",["cafeHours",function(e){return{restrict:"E",scope:{modifiers:"=",data:"=",selection:"=",sides:"=",specialInstructions:"=",popular:"=",errors:"=",info:"="},templateUrl:"customizationNav.html",link:function(t){function n(t){return t.availabilityExceptions&&t.availabilityExceptions[0]&&"lto"===t.availabilityExceptions[0].type?e.validOrderDateTime(t.availabilityExceptions[0].fromDate,t.availabilityExceptions[0].toDate):!0}t.groupSelection={instructionsSelected:!1,sideSelected:!1,customizeId:null},t.hasError=function(e){return _.find(t.errors,{modGroup:e})},t.$watch("[popular, modifiers.modGroups, sides]",function(e){var n=e[0],r=e[1];t.groupSelection.customizeId||(_.isUndefined(n)||_.isEmpty(n.items)?_.isEmpty(r)?_.isEmpty(t.sides)?t.groupSelection.instructionsSelected=!0:t.groupSelection.sideSelected=!0:t.groupSelection.customizeId=r[0].modGroupId:t.groupSelection.customizeId="popular")},!0),t.$watch("groupSelection.instructionsSelected",function(e){e===!0&&(t.groupSelection.customizeId=null,t.groupSelection.sideSelected=!1,t.info.type="",t.info.rules.minAllowed=void 0,t.info.rules.maxAllowed=void 0,t.info.groupId=null,t.info.type="instruction-selection",t.data=t.specialInstructions)},!0),t.$watch("groupSelection.sideSelected",function(e){e===!0&&(t.groupSelection.customizeId=null,t.groupSelection.instructionsSelected=!1,t.info.type="",t.info.rules.minAllowed=1,t.info.rules.maxAllowed=1,t.info.groupId=null,t.info.type="side-selection",t.data=t.sides.sideItems)},!0),t.$watch("groupSelection.customizeId",function(e){if(null!==e){var r,i=[],o={};t.groupSelection.instructionsSelected=!1,t.groupSelection.sideSelected=!1,t.info.type="","popular"===e?(t.info.groupId=null,_.forEach(t.popular.items,function(e){var r=_.find(t.modifiers.modGroups,{modGroupId:e.modGroupId})||{},a=_.find(r.modItems,{modItemId:e.modItemId});!_.isUndefined(a)&&n(a)&&(a.modGroupId=r.modGroupId,i.push(a),_.isUndefined(o[r.modGroupId])&&(o[r.modGroupId]={maxAllowed:r.maxAllowed,minAllowed:r.minAllowed}))})):(t.info.groupId=e,r=_.find(t.modifiers.modGroups,{modGroupId:e}),o={maxAllowed:r.maxAllowed,minAllowed:r.minAllowed},i=_.filter(r.modItems,n)),t.info.type="item-selection",t.info.rules=o,t.data=i}},!0),t.$watch("selection.selectedSide",function(e){_.isEmpty(t.sides)||(t.selectedSide=_.find(t.sides.sideItems,{itemId:e})||{})},!0)}}}])}(window.angular),function(e){"use strict";e.module("builder.imageBuilder",["imageBuilder.html","common.utilities.translate","common.utilities.filters"]).directive("imageBuilder",[function(){return{restrict:"E",scope:{ingredients:"=",condiments:"=",fallbackImage:"@",baseImage:"@",i18nName:"@",showStatic:"="},templateUrl:"imageBuilder.html",link:function(e){e.itemSpacing=0,e.ingredientsImagesExist=!1,e.$watch("ingredients",function(){e.ingredientsImagesExist=!_.isEmpty(e.ingredients)&&!e.showStatic},!0)}}}])}(window.angular),function(e){"use strict";e.module("builder.selections",["selections.html","common.utilities.filters","common.utilities.translate","builder.imageBuilder"]).directive("selections",[function(){return{restrict:"E",scope:{product:"=",components:"=",modifiers:"="},templateUrl:"selections.html",link:function(t){function n(){return!_.isEmpty(t.components)}function r(e,t){return!_.isEmpty(_.intersection((e||{}).imgProps||[],t))}function i(t,n){var i=_.sortBy(e.copy(t),function(e){return+(e.sortWeight||0)});return i=_.filter(i,function(e){return"removal"!==e.cssClass&&r(e,n)}),_.forEach(i,function(e){e.topImgKey&&i.push({imgKey:e.topImgKey,i18nName:e.i18nBtnLbl,imgSortWeight:1e19})}),i.reverse()}function o(n){var i=_.find(t.modifiers.modGroups,{modGroupId:n.modGroupId})||{},o=_.find(i.modItems,{modItemId:n.modItemId})||{},s=_.find(o.variants,{itemId:n.variantId}),c={};return s&&(c=e.copy(s),c.imgProps=o.imgProps||[],c.sortWeight=o.sortWeight||0,c.imgSortWeight=o.imgSortWeight||0,c.itemId=n.variantId,c.quantity=n.quantity,c.imgKey=(c.imgKey||"").toString(),r(c,["Breads"])&&(c.topImgKey=c.imgKey.toString()+"-top",c.imgKey=c.imgKey.toString()+"-bot"),r(c,["Toppings","Cheeses","Meats","Veggies"])&&(c.imgKey=-1!==c.imgKey.indexOf(a)?c.imgKey:c.imgKey+a),"No"===s.variantType||n.originalItem?c.cssClass="removal":o.isDefault&&n.variantId===o.defaultVariant||(c.cssClass="addition")),c}var a="";t.ingredients=[],t.allComponents=[],t.fallbackImage=(t.product||{}).imgKey,t.hasComponents=n,r(t.product,["Sandwich"])?a="-sw":r(t.product,["Salad"])&&(a="-bowl"),t.product&&"Dynamic"===t.product.prodDisplay?(t.showStatic=!1,t.baseImage=t.product.baseImgKey):(t.showStatic=!0,t.baseImage=null),t.$watch("components",function(n){var a=[];_.forEach(n,function(e){var t=o(e);_.isEmpty(t)||a.push(t)}),a=_.sortBy(a,function(e){return e.sortWeight}),t.allComponents=e.copy(a),r(t.product,["Static"])||(t.ingredients=i(a,["Breads","Toppings","Cheeses","Meats","Veggies"]),t.ingredients=_.sortBy(t.ingredients,function(e){return-e.imgSortWeight})),t.condiments=i(a,["Condiments"])},!0)}}}])}(window.angular),function(e){"use strict";e.module("builder.selector",["selector.html","builder.selector.itemSelection","builder.selector.instructionSelection","builder.selector.sideSelection","builder.selector.preparationSelection","builder.selector.quantitySelection"]).directive("selector",["$compile","$templateCache",function(t,n){return{restrict:"E",scope:{data:"=",selection:"=",rules:"=",info:"=",correlatedItemPrices:"=",availableSubs:"="},templateUrl:"selector.html",link:function(r,i){function o(e){return null===r.info.groupId?e.modGroupId:r.info.groupId}function a(t){var n="info.rules";return e.isDefined(o(t))&&null===r.info.groupId&&(n+="["+o(t)+"]"),n}function s(e){if(e.modItemBasis){if("qty"===e.modItemBasis.toLowerCase())return"quantity-selection";if("item"===e.modItemBasis.toLowerCase())return"item-selection"}return r.info.type}function c(){r.newScope.$destroy(),r.newScope=r.$new();var c={data:r.data,selection:r.selection,correlatedItemPrices:r.correlatedItemPrices,availableSubs:r.availableSubs},l={scopeForPopular:a,getModGroupId:o,getType:s};_.assign(c,l),e.element(i[0].children[0]).replaceWith(t(_.template(n.get("selector.html"))(c))(r.newScope))}r.newScope=r.$new(),r.$watch("[data, info.type]",function(e){var t=e[1];""!==t&&c()},!0)}}}])}(window.angular),function(e){"use strict";e.module("cafeLocator.cafeFilter",["cafeFilter.html","common.utilities.constants","common.utilities.filters","common.utilities.translate"]).directive("cafeFilter",["staticImages",function(e){return{restrict:"E",scope:{featuresFilter:"="},templateUrl:"cafeFilter.html",link:function(t){t.dropDownSelection={textDesc:"MORE"},t.filterTypes=[{iconImage:"none",iconClass:"none",hasImage:!1,iconDesc:"ALL",feature:"YES",selected:!0},{iconImage:e.orderTypeIcons.orderAtTableIcons.normal,iconClass:"icon-cafe-order-from-my-table",hasImage:!0,iconDesc:"ORDER_FROM_MY_TABLE",feature:"HasOrderFromMyTable",selected:!1},{iconImage:e.orderTypeIcons.rpuIcons.normal,iconClass:"icon-cafe-rapid-pickup",hasImage:!0,iconDesc:"RAPID_PICKUP",feature:"HasPickup",selected:!1},{iconImage:e.orderTypeIcons.deliveryIcons.normal,iconClass:"icon-cafe-delivery",hasImage:!0,iconDesc:"DELIVERY",feature:"HasDelivery",selected:!1}],t.filterDropDown=[{textDesc:"CATERING",feature:"HasCatering",selected:!1},{textDesc:"COMMUNITY_ROOMS",feature:"HasCommunityRooms",selected:!1},{textDesc:"DRIVE_THRU",feature:"HasDriveThru",selected:!1}],t.featuresFilter=t.filterTypes[0].feature,t.performAction=function(e){var n,r;if(e.iconImage)for(t.dropDownSelection.textDesc="MORE",e.selected=!0,e.iconImage=e.iconImage.replace("Orange","DarkBrown"),t.featuresFilter=e.feature,r=0;r<t.filterTypes.length;r+=1)t.filterTypes[r].iconImage!==e.iconImage&&(t.filterTypes[r].selected=!1,t.filterTypes[r].iconImage=t.filterTypes[r].iconImage.replace("DarkBrown","Orange"));else for(t.dropDownSelection.textDesc=e.textDesc,t.featuresFilter=e.feature,e.selected=!0,n=0;n<t.filterTypes.length;n+=1)t.filterTypes[n].selected=!1,t.filterTypes[n].iconImage=t.filterTypes[n].iconImage.replace("DarkBrown","Orange")}}}}])}(window.angular),function(e){"use strict";e.module("cafeLocator.cafeList",["cafeList.html","cafe.html","cafeListCafeHours.html","common.utilities.filters","common.utilities.translate","common.utilities.constants","common.directives.viewCafeHours","common.directives.pnraScrollable.directive","common.directives.pnraScrollable.service"]).directive("cafeList",["$filter","pnraScrollableService",function(e,t){return{restrict:"E",scope:{cafes:"=",btnText:"@",btnFunc:"&",linkText:"@",linkFunc:"&",displayRemoved:"=",cafeFilter:"@",centerMap:"&",showMap:"=",selectedCafe:"=?",toggleMapView:"&"},templateUrl:"cafeList.html",link:function(n){function r(e){"yes"===n.cafeFilter.toLowerCase()?(n.validCafes=n.cafes,n.removedCafes=[]):(n.validCafes=_.filter(e,function(e){return e[n.cafeFilter]&&"yes"===e[n.cafeFilter].toLowerCase()}),n.displayRemoved?n.removedCafes=_.reject(e,function(e){return e[n.cafeFilter]&&"yes"===e[n.cafeFilter].toLowerCase()}):n.removedCafes=[])}n.removedCafes=[],n.validCafes=[],n.selectCafe=function(e){n.centerMap({cafe:e}),n.selectedCafe=e},n.$watchGroup(["cafes","cafeFilter","displayRemoved"],function(i){var o=i[0];"YES"===n.cafeFilter?n.cafeFilterText="":n.cafeFilterText=e("translate")("WITH_LOWER")+" "+e("translate")(n.cafeFilter),r(o),t.scrollToTop("cafe-list")})}}}]).directive("cafe",["staticImages",function(e){return{restrict:"E",scope:{cafe:"=",btnText:"@",btnFunc:"&",linkText:"@",linkFunc:"&",disabled:"=",disabledText:"="},templateUrl:"cafe.html",link:function(t){t.showCafeImage=e.mapIcons.show}}}])}(window.angular),function(e){"use strict";e.module("cafeLocator.cafeMap",["cafeMap.html","cafeMapInfoBoxStatic.html","paneraOrdering.cafeLocator.cafeMap.cafeMapInfoBox.component","common.services.cafeSearchService","common.utilities.constants","common.utilities.translate","common.utilities.filters"]).constant("roadmapName","panerardmap").directive("cafeMap",["cafeSearchService","defaultLocation","configDefaults","roadmapName",function(e,t,n,r){function i(e){return Math.log(e)/Math.LN2}function o(e){var t=13-Math.round(i(e/6e3));return 1>t?t=1:t>20&&(t=20),t}function a(e){return e||(e=13),6e3*Math.pow(2,13-e)}var s=["$scope",function(i){i.userLocation=e.getCurrentLocation(),i.map={mapControl:{name:"mapControl"},center:{latitude:i.search&&i.search.center&&i.search.center.latitude,longitude:i.search&&i.search.center&&i.search.center.longitude},zoom:n.defaultZoom},i.refresh=!0,i.options={scrollwheel:!1,mapTypeControlOptions:{mapTypeIds:[window.google.maps.MapTypeId.ROADMAP,r]}},i.cafeInfoBoxTemplateUrl="/templates/cafeMapInfoBoxStatic.html",i.events={idle:function(e){i.search.radius=a(e.getZoom())}},i.selectCafe=function(e){i.selectedCafe=e.model},i.onWindowClose=function(){i.selectedCafe=null},i.$watch("mapCenter",function(e){e&&e.latitude&&e.longitude&&(i.map.center=e,i.map.zoom=13)},!0),i.$watch("search.radius",function(e){e&&(i.map.zoom=o(e))},!0),i.$watch("search.center",function(e){e&&(i.search.center.latitude.toFixed(4)===t.latitude.toFixed(4)&&i.search.center.longitude.toFixed(4)===t.longitude.toFixed(4)?i.map.zoom=n.defaultZoom:i.map.zoom=o(i.search.radius),i.map.center=e)},!0)}];return{restrict:"E",scope:{search:"=",mapStyle:"=",cafes:"=",mapCenter:"=",setCafe:"&",selectedCafe:"="},templateUrl:"cafeMap.html",controller:s}}])}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(){var t={};a.options={formDefaults:{validationMessage:t}},a.model={},a.errors=[],a.schema={type:"object",title:"Address",required:[],properties:{address:{type:"string"}}},a.form=[{type:"formErrors",errors:a.errors},{type:"section",htmlClass:"form-group",items:[{key:"address",title:"FIND_A_BAKERY_CAFE_WITH_CITY_STATE_OR_ZIP",placeholder:"FIND_A_BAKERY_CAFE_WITH_CITY_STATE_OR_ZIP",type:"typeAhead",typeAhead:a.getSuggestions,taOnSelect:a.onLocationSelect,taMinLength:4,taLoading:!0,taTemplate:"suggestion.html",ngModelOptions:{debounce:350},isMaterial:!0}]}],e.preProcess(a.options,a.form)}function o(){n.onI18nDataChange(t,function(){i()})}var a=this;a.onLocationSelect=function(e){a.searchText=e},a.getSuggestions=function(e){var t;return window.utilities.isANumber(e)&&(t=["(regions)"]),r.getAutocompleteList(e,t).then(function(e){return _.map(e,"description")},function(){return[]})},a.$onInit=function(){o()}}t.$inject=["formBuilderService","$scope","localeService","cafeSearchService"],e.module("app.cafeLocator.cafeSearch.component",["cafeSearch.html","suggestions.html","suggestion.html","common.services.localeService","common.services.cafeSearchService","common.services.formBuilderService","common.utilities.constants","common.utilities.translate","schemaForm","schemaForm-formErrors","schemaForm-typeahead"]).component("cafeSearch",{templateUrl:"cafeSearch.html",controller:t,bindings:{searchText:"="}})}(window.angular),function(e){"use strict";e.module("paneraOrdering.cafeLocator.cafeSelector",["cafeSelector.html","cafeLocator.cafeFilter","app.cafeLocator.cafeSearch.component","cafeLocator.cafeList","cafeLocator.cafeMap","common.directives.horizontalLinks","common.services.configService","common.services.loginService","common.services.userService","common.services.orderTypeService","common.utilities.constants","common.utilities.translate","paneraOrdering.checkout.checkoutAnalyticsService"]).directive("cafeSelector",[function(){var e=["$scope","$filter","cafeSearchService","loginService","userService","orderTypeService","defaultLocation","staticImages","configService","configDefaults","checkoutAnalyticsService",function(e,t,n,r,i,o,a,s,c,l,u){function d(t){t&&t.latitude?e.search.center.latitude=t.latitude:e.search.center.latitude=a.latitude,t&&t.longitude?e.search.center.longitude=t.longitude:e.search.center.longitude=a.longitude,t&&t.offset?e.search.center.offset=t.offset:e.search.center.offset=a.offset,e.search.radius=l.defaultRadius,_.isEmpty(e.mapCenter)&&(e.mapCenter=e.search.center)}function p(t){t&&e.requestId===t.requestId&&(e.geocode.locations=_.map(t.addresses,function(e){return{location:{latitude:e.latitude,longitude:e.longitude},formattedAddress:e.formattedAddress}}))}function m(t){n.getCafes({lat:t.center.latitude,lng:t.center.longitude,radius:t.radius}).then(function(t){e.cafeList.cafes=t})}var f=t("translate");e.error="",e.search={center:a,featuresFilter:"YES"},c.fetchConfig().then(function(t){e.search.radius=+t.defaultRadius}),e.geocode={searchText:"",locations:[],selectedLocation:null,geoLocation:{latitude:a.latitude,longitude:a.longitude,offset:a.offset}},e.cafeList={cafes:[],showMap:!1},e.selectedCafeObj={cafe:null},e.requestId=0,e.featuresFilter=e.featuresFilter||"YES",e.isLoading=!1,e.loadingMessage=f("PLEASE_WAIT"),e.isErrorLoadingCafes=!1,e.cafeLoadingErrorMessage=f("ERROR_CODE_1137"),e.globalIconCloseImage=s.globalIcons.closeIcon,e.greenDotImage=s.mapIcons.greenDot,e.mapMarkerImage=s.mapIcons.marker,r.onLoggedInChange(e,function(t){e.loggedIn=t}),o.onOrderTypeChange(e,function(){e.i18nSlogan=o.getOrderTypeDetails().i18nSlogan}),e.toggleMapView=function(t){e.cafeList.showMap=t,e.selectedCafeObj={cafe:null}},e.setCafeList=function(t){e.isErrorLoadingCafes=!1,u.removeFavCafeFromSession(),"FAVORITES"===t.i18nName?(e.isLoading=!0,r.addFavoriteCafes().then(function(){e.cafeList.cafes=i.favoriteCafes(),u.addFavCafeToSession()},function(){e.isErrorLoadingCafes=!0})["finally"](function(){e.isLoading=!1})):"RECENT"===t.i18nName?(e.isLoading=!0,r.addRecentCafes().then(function(){e.cafeList.cafes=i.recentCafes()},function(){e.isErrorLoadingCafes=!0})["finally"](function(){e.isLoading=!1})):n.getCafes({lat:e.search.center.latitude,lng:e.search.center.longitude,featureProp:e.search.featuresFilter,radius:e.search.radius}).then(function(t){e.cafeList.cafes=t})},e.myCafeLinks=[{i18nName:"NEARBY",selected:!0,action:e.setCafeList},{i18nName:"FAVORITES",selected:!1,action:e.setCafeList},{i18nName:"RECENT",selected:!1,action:e.setCafeList}],e.setCafe=function(t){e.selectCafe({cafe:t})},e.mapStyle={roadAtlasStyles:n.getRoadAtlasStyles(),cafeMarkerIcon:e.mapMarkerImage,userMarkerIcon:e.greenDotImage,markerOptions:{},cafeInfoBoxOptions:{pixelOffset:{width:-1,height:-30}}},e.setSearchCenter=d,e.setCafes=m,e.$watch("search",function(t,n){t.center.latitude.toFixed(4)!==a.latitude.toFixed(4)||t.center.longitude.toFixed(4)!==a.longitude.toFixed(4)?m(t):e.cafeList.cafes=[],(t.featuresFilter!==n.featuresFilter||e.showFeaturesFilter)&&(e.featuresFilter=t.featuresFilter)},!0),e.$watch("geocode.searchText",function(t){var r=e.geocode;t&&t.length>3&&(!r.selectedLocation||r.selectedLocation.formattedAddress!==t)?(e.requestId=e.requestId+1,n.fetchGeoLocation(t,e.requestId).then(p)):(!t||t.length<=3)&&(r.locations=[])},!0),e.$watch("geocode",function(t){var n=t.locations.length;1===n?d(t.locations[0].location):t.selectedLocation?d(t.selectedLocation.location):0===n&&t.geoLocation&&""===t.searchText?e.search.center=_.cloneDeep(t.geoLocation):0===n&&""===t.searchText&&d(e.currentLocation)},!0),e.$watch("currentLocation",function(e){(e.latitude!==a.latitude||e.longitude!==a.longitude)&&d(e)},!0)}];return{restrict:"E",scope:{showMyCafeLinks:"=",showFeaturesFilter:"=",buttonLabel:"@",linkText:"@",selectCafe:"&",mapCenter:"=",currentLocation:"=",featuresFilter:"=",displayRemoved:"=",showSlogan:"="},templateUrl:"cafeSelector.html",controller:e}}])}(window.angular),function(e){"use strict";e.module("checkout.balance",["balance.html","confirmation.html","common.services.giftCardService","common.services.modalService","common.services.localeService","common.factories.media","paneraOrdering.checkout.checkoutService","common.utilities.modals.confirmation","common.utilities.translate","common.directives.currencyInput.directive"]).directive("balance",["$filter","$q","giftCardService","modalService","localeService","checkoutService","mediaFactory","regexes",function(e,t,n,r,i,o,a,s){return{restrict:"E",scope:{cost:"=",canEdit:"=",delivery:"=",discountCode:"=",giftCards:"=",isTipEnabled:"=",tipError:"=",clearDiscounts:"&",setOrderTip:"&",acceptedTipAmount:"=",useSuggestedTipping:"<"},templateUrl:"balance.html",link:function(c){var l=!1,u=e("translate");c.tip=0,c.tipRegex=s.decimalNumber,c.hasGiftCards=c.giftCards.length>0,c.isGroupOrder=o.isGroupOrder(),c.hasDiscounts=function(){return!_.isEmpty(c.cost.discount)},c.removeGiftCard=function(e){var t=_.indexOf(c.giftCards,e);0>t||(c.giftCards.splice(t,1),n.removeGiftCardToApply(e))},c.removeDiscount=function(e){c.clearDiscounts()(e)},c.calculateBalance=function(){var e,t=+c.cost.tip;c.cost.total.taxed=c.cost.subtotal+c.cost.tax,e=t<c.cost.total.sum?c.cost.total.sum-t:0,_.forEach(c.giftCards,function(t){e>0&&(+t.giftCardBalance<=e?(t.giftCardReduction=+t.giftCardBalance,e-=+t.giftCardBalance,t.giftCardRemainingBalance=0):(t.giftCardReduction=e,t.giftCardRemainingBalance=+t.giftCardBalance-e,e=0))}),c.cost.total.balance=e+t},c.validateTip=function(){return isNaN(c.cost.tip)||0===c.cost.tip.toString().length?(c.cost.tip="0.00",t.resolve()):(c.cost.tip=parseFloat(c.cost.tip).toFixed(2),c.calculateBalance(),c.acceptedTipAmount||!c.canEdit?t.resolve({}):c.cost.tip<=.5*c.cost.subtotal?t.resolve({}):(l=!0,r.show({templateUrl:"confirmation.html",controller:"ConfirmationController",size:"sm"},{headerText:"",bodyText:"ARE_YOUR_SURE_TIP",bodyData:e("currency")(c.cost.tip)+"?",actionButtonText:"YES",closeButtonText:"NO"}).then(function(){c.acceptedTipAmount=!0,l=!1},function(){return c.acceptedTipAmount=!1,c.cost.tip=0,l=!1,o.rejectOrderTip(),t.reject({})})["catch"](function(){l=!1})))},c.$watch("balance.tip.$error",function(e){_.isObject(c.tipError)&&(c.tipError.pattern=e&&e.pattern)},!0),c.$watchCollection("[giftCards.length, cost.total.sum, cost.tip]",function(e,t){var n=e[2],r=t[2],i=e[1],o=t[1];c.hasGiftCards=c.giftCards.length>0,l||n===r&&i===o?c.calculateBalance():(n!==r&&(c.acceptedTipAmount=!1),c.validateTip()["finally"](function(){c.setOrderTip({tip:{amount:c.cost.tip,acceptedTipAmount:c.acceptedTipAmount}})}))}),i.onI18nDataChange(c,function(){o.isGroupOrder()?c.tipMessage=u(c.delivery.status?"NO_TIP_FOR_GO_DRIVER":"NO_TIP_FOR_RPU_GO"):c.tipMessage=u(c.delivery.status?"YOUR_DELIVERY_FEE_COVERS":"FEEL_FREE_TO_TIP_YOUR_BAKERY")}),a.onViewPortChange(c,function(e,t){c.popoverOptions={trigger:e||t?"click":"mouseenter"}})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){this.saveNewCreditCard=!1,this.saveNewGiftCard=!1}function l(e,t,n){var r=e.storedCards[0]||{};r.cardType&&!r.isPayPal&&(t.push(o.action.storedCreditCard),n.push(r.cardType))}function u(e,t,n){var r,i=e.giftCards[0];_.isEmpty(i)||(r=o.action.newGiftCard,r=i.isStoredGiftCard?o.action.storedGiftCard:r,r+=f.saveNewGiftCard&&" | "+o.action.savedGiftCard||"",t.push(r),n.push(o.label.giftCard))}function d(e,t,n){if(!_.isEmpty(e.creditCards[0])){var r=o.action.newCreditCard;r+=f.saveNewCreditCard&&" | "+o.action.savedCreditCard||"",t.push(r),n.push(e.creditCards[0].type)}}function p(e,t,n){var r;e.storedCards.length&&!_.isEmpty(e.storedCards[0])&&(e.storedCards[0].tokenType===a.PAYPAL_BILLING_AGREEMENT_ID?(r=h.getSessionProperty("saveNewPayPal",!1)?o.action.savedPaypal:o.action.storedPaypal,h.setSaveNewPayPal(!1),t.push(r),n.push(o.label.payPal)):e.storedCards[0].tokenType===a.PAYPAL_TOKEN&&(r=o.action.newPaypal,t.push(r),n.push(o.label.payPal)))}function m(e,t,n){_.isEmpty(e.applePay)||(t.push(o.action.applePay),n.push(o.label.applePay))}var f,h=this,g=t.driver("session");f=new c,this.trackReorders=function(e){var t,r,o=h.getSessionProperty("reorderEvents",[]);_.isEmpty(o)||(h.updateAnalyticsSession({reorderEvents:[]}),_.forEach(o,function(o){t=_.uniq(o.itemIds),r=_.intersection(e,t),_.isEqual(_.sortBy(t),_.sortBy(r))&&n.trackEvent(i.checkout[o.eventType].category,i.checkout[o.eventType].action)}))},this.trackFavCafeOrders=function(e){var t,o="favoriteCafe",a=h.getSessionProperty("isfavCafeClicked",!1);a&&(h.removeFavCafeFromSession(),t=_.map(r.favoriteCafes(),"cafeId"),_.includes(t,e)&&n.trackEvent(i.checkout[o].category,i.checkout[o].action))},this.setSaveNewPayment=function(e){_.assign(f,e)},this.setSaveNewPayPal=function(e){h.updateAnalyticsSession({saveNewPayPal:e})},this.trackPaymentTypes=function(e){var t,r,i=[],a=[];l(e,a,i),u(e,a,i),d(e,a,i),p(e,a,i),m(e,a,i),f=new c,t=_.trim(_.join(_.uniq(a)," | ")),r=_.trim(_.join(_.uniq(i)," | ")),n.trackEvent(o.event,t,r)},this.addFavCafeToSession=function(){h.updateAnalyticsSession({isfavCafeClicked:!0})},this.removeFavCafeFromSession=function(){h.updateAnalyticsSession({isfavCafeClicked:!1})},this.storeReorderEvent=function(e,t){var n,r,i,o,a;_.isEmpty(e)||(o=_.isArray(e)&&"entireOrder"||"individualItem",r=_.isArray(e)&&e||[e],n=_.map(r,"id"),i={eventType:t,orderSize:o,itemIds:n},a=h.getSessionProperty("reorderEvents",[]),a.push(i),h.updateAnalyticsSession({reorderEvents:a}))},this.updateAnalyticsSession=function(e){g.put("analytics",function(t){return t||(t={}),_.assign(t,e),t})},this.getSessionProperty=function(e,t){return g.has("analytics")&&g.get("analytics")[e]||t},this.clearAnalyticsFromSession=function(){return g.forget("analytics")},this.trackOrderTime=function(){var t,r,o=g.get("orderProcess",{});o&&o.orderWhen&&(o.orderWhen&&"now"===o.orderWhen.toLowerCase()?r=s.label.now:(t=e.utilities.isMomentToday(o.dateTime),r=t?s.label.laterToday:s.label.laterFuture),n.trackEvent(i.categories.orderDetails,s.action,r))}}t.$inject=["$window","locker","analyticsService","userService","analyticsConstants","paymentType","paymentTokenTypes","orderDetails"],e.module("paneraOrdering.checkout.checkoutAnalyticsService",["angular-locker","common.services.analytics","common.services.userService","common.services.analytics.constants","common.utilities.constants"]).service("checkoutAnalyticsService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h){function g(e){var t=u.getCustomerInfoForCheckout();t.isSmsOpt=!0,e&&(t.phone=e),u.setCustomerInfoForCheckout(t)}function v(){return c.validateIsBeforeDeadline()["catch"](function(){return n.reject("GROUP_ORDER_IS_EXPIRED")})}function y(e){return d.validateOrderTime(e)["catch"](b.showLeadTimeModal)}var b=this,E=r.driver("session"),C=e.$new(),S=t("formatPhone");this.showSmsOptInModal=function(e){var t,r=u.phoneNumbers(),i=_.find(r,{number:e.replace(/[^0-9]/g,"")}),o=n.when(),c=!1;return s.isDelivery()?i&&i.isSmsOpt?(g(),n.when({})):a.fetchConfig().then(function(i){return c=i.smsDoubleOptIn,p.show({component:"smsOptIn",size:"sm",hideContainer:!0,phoneNumber:S(e),nonEditable:!1}).then(function(e){return t=e.phoneNumber.replace(/[^0-9]/g,""),u.isLoggedIn()&&c?(_.find(r,{number:t})||(o=h.addNewPhoneNumber(t)),o.then(function(){h.updateSmsPreferences(t).then(function(){g(t)})}),n.when({})):(g(t),n.when({}))})["catch"](function(){return n.when({})})}):n.resolve()},this.isGroupOrder=c.isGroupOrder,this.handleGroupOrderErrors=c.handleGroupOrderErrors,this.trackGroupOrderGuestFlow=c.trackGuestFlow,this.trackGroupOrderSize=c.trackGroupOrderSize,this.showLeadTimeModal=function(e){var t={cafePhoneNumber:d.cafePhone(),availableTime:e.data?moment.parseZone(e.data):void 0,type:e.type};return f.showModal(t)},this.validateOrderTime=function(e){return b.isGroupOrder()?v():y(e)},this.getOrderTip=function(){return E.get("orderTip",!1)},this.setOrderTip=function(e){e&&(e.amount||e.percent||e.label)?E.put("orderTip",function(t){var n=t||{};return n=_.assign(n,e)}):E.forget("orderTip")},this.rejectOrderTip=function(){m.fire("orderTipRejected")},this.onOrderTipRejected=function(e,t){return m.register(e,"orderTipRejected",function(){t()})},this.addGroupInfoToPaymentRequest=function(e){var t=c.getGroupOrderHeader();return e.groupOrderId=t.orderId,e.groupOrderClientType=c.determineClientType(),e},this.checkIfGiftCardsAreAllowed=function(){var e=n.defer(),t=n.defer(),r=n.defer(),i=!1,o=!1;return b.isGroupOrder()?e.resolve(!1):(a.fetchConfig().then(function(n){n.gcIsEnabled?e.resolve(!0):n.authGcIsEnabled?(o=!0,t.resolve()):e.resolve(!1)}),l.onUserLoaded(C,function(e){e&&(i=!_.isEmpty(u.storedCards().giftCards),r.resolve())}),n.all([t.promise,r.promise]).then(function(){e.resolve(o&&i)})),e.promise},o.onCartChange(C,function(e,t){_.noop(e),"clear"===t&&b.setOrderTip(!1)}),i.onCafeChange(C,function(){i.isTipEnabled()||b.setOrderTip(!1)}),s.onOrderTypeChange(C,function(){i.isDefaultCafe()||i.isTipEnabled()||b.setOrderTip(!1)}),f.onPrepTimeError(C,function(e){var t={availableTime:moment.parseZone(e.data),type:e.type};f.showModal(t)}),f.onOrderSlotError(C,function(e){b.showLeadTimeModal(e)})}t.$inject=["$rootScope","$filter","$q","locker","cafeLocatorFactory","cartService","configService","orderTypeService","groupOrderService","loginService","userService","cafeHours","pnraModalService","eventHandler","orderTimeErrorService","myCommunicationPreferencesService"],e.module("paneraOrdering.checkout.checkoutService",["angular-locker","common.utilities.filters","common.factories.cafeLocator","common.services.cartService","common.services.configService","common.services.orderTypeService","common.services.loginService","common.services.userService","common.services.cafeHours","paneraCommonUi.common.modal","common.services.eventHandler","common.modules.orderTimeError","paneraOrdering.groupOrder.groupOrderService","paneraOrdering.myCommunicationPreferences.service"]).service("checkoutService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.checkout.creditCard.constants",[]).constant("ccConstants",{expiryYearPrefix:"20"})}(window.angular),function(e){"use strict";e.module("checkout.creditCard",["creditCard.html","common.factories.cafeLocator","common.services.cafeHours","common.services.formBuilderService","common.services.giftCardService","common.services.orderFlowService","common.services.userService","common.services.localeService","common.services.payPalService","common.services.configService","common.utilities.constants","common.utilities.translate","paneraOrdering.checkout.checkoutService","paneraOrdering.checkout.checkoutAnalyticsService","paneraOrdering.checkout.creditCard.constants","paneraOrdering.applePay.service","schemaForm","schemaForm-formErrors","common.modules.orderTimeError.service"]).directive("creditCard",["$filter","$q","cafeHours","formBuilderService","giftCardService","localeService","loginService","orderFlowService","userService","cardDateFormats","monthsOfYear","paneraUrls","payPalService","configService","regexes","cafeLocatorFactory","orderTypeService","checkoutService","$anchorScroll","mediaFactory","supportedPaymentType","staticImages","payPalOrderFlowStep","paymentTokenTypes","applePayService","checkoutAnalyticsService","ccConstants","orderTimeErrorService",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S,w,T,I,O,A){return{restrict:"E",scope:{balanceTipError:"=",confirmed:"=",cost:"=",creditCards:"=",giftCards:"=",payPalAccounts:"=",delivery:"=",applePayAccounts:"=",hasUnavailableItems:"=",itemExceedingQtyLimit:"=",specialInstructionsError:"=",
doPayPalRedirect:"&",submitPayment:"&",isGroupOrder:"<"},templateUrl:"creditCard.html",link:function($){function D(e){var t,n=parseFloat(_.get($.cost,"tip")||0),r=_.get($.delivery,"fee")||0,i=_.get($.cost,"discount")||0,o=_.get($.cost,"total.balance");t={subtotal:$.cost.subtotal,tax:$.cost.tax,tip:n,discount:i,otherPayment:($.cost.total.sum-o).toFixed(2),total:parseFloat(o.toFixed(2)),deliveryFee:r},T.sendPaymentRequest(e,t)}function x(){var e,t;return $.paymentType.useStoredCard&&(e=_.find(K,{tokenValue:_.get($,"model.storedCreditCards")}),t=e&&e.expDate&&e.expDate.split("/"),_.size(t)>=2)?{month:t[0],year:O.expiryYearPrefix+t[1]}:$.paymentType.useNewCard?{month:_.get($,"model.expirationDate.month"),year:_.get($,"model.expirationDate.year")}:{}}function R(){var e,t;return!$.paymentType.useStoredCard&&!$.paymentType.useNewCard||(t=x(),_.isUndefined(t.month)||_.isUndefined(t.year))?!0:(e=n.getCafeCurrentTime(),moment().year(e.year()).month(e.month()).date(1).isSameOrBefore(moment().year(t.year).month(+t.month-1).date(1)))}function k(e){r.clearArray($.errors),$.$broadcast("schemaFormValidate"),$.cost.total.balance>0?$.paymentType.useStoredCard&&_.isUndefined($.model.storedCreditCards)||_.isUndefined($.model.phoneNumber)?$.errors.push("CC_FORM_MISSING_REQUIRED"):$.paymentType.useStoredCard||e.$valid||$.errors.push("CC_FORM_MISSING_REQUIRED"):(_.isUndefined($.model.phoneNumber)||!c.isLoggedIn()&&_.isUndefined($.model.customerName))&&$.errors.push("CC_FORM_MISSING_REQUIRED"),_.isUndefined($.model.emailAddress)&&$.errors.indexOf("CC_FORM_MISSING_REQUIRED")<0&&$.errors.push("CC_FORM_MISSING_REQUIRED"),_.isUndefined($.model.phoneNumber)||$.rawPhoneNumber()&&$.errors.push("CC_CONTACT_NUMBER_REQUIRED"),R()||$.errors.push("PS_CC_INVALIDEXPIRYDATE"),!_.isEmpty($.errors)&&$.isMobile&&(y.yOffset=50,y("mobile-footer"))}function P(e){_.isUndefined(e)&&(e=["PS_SYSTEMERROR"]),_.forEach(e,function(e){_.includes($.errors,e)||$.errors.push(e)}),p.isOrderSubmitted()&&p.setOrderFlowStep(S.FAILED),$.isGroupOrder&&v.handleGroupOrderErrors($.errors),r.disableSubmit($.form,!1)}function N(){var e={};$.model.saveNewCard&&(e.isGiftCard=!1,e.cardType=$.model.cardType,e.cardHolderName=$.model.cardName,e.expDate=$.model.expirationDate.month+moment($.model.expirationDate.year,l.yyyy).format(l.yy),e.lastFour=$.showLast4($.model.cardNumber),e.cardName=$.model.cardName,e.securityCode=$.model.securityCode,e.zipCode=$.model.zipCode,e.isDefault=!1,e.cardNum=$.model.cardNumber,a.addStoredCreditCardOrGiftCard(e))}function M(e){var t=c.getCustomerInfoForCheckout(),n={giftCards:$.giftCards,creditCards:[],storedCards:$.paymentType.useStoredCard?_.filter(K,{tokenValue:$.model.storedCreditCards}):[],cost:$.cost,contactInfo:{email:$.model.emailAddress,phone:$.model.phoneNumber,name:$.model.customerName,smsOptIn:t.smsOptIn}},r=!0,i={},o={};return $.paymentType.useNewCard&&$.cost.total.balance>0&&n.creditCards.push({name:$.model.cardName,type:$.model.cardType,number:$.model.cardNumber,month:$.model.expirationDate.month,year:$.model.expirationDate.year,securityCode:$.model.securityCode,zipCode:$.model.zipCode}),$.paymentType.usePayPal&&$.cost.total.balance>0&&(p.tokenIsAuthenticated()?(n.storedCards.push({tokenValue:p.getAuthorizedToken(),tokenType:w.PAYPAL_TOKEN,isPayPal:!0}),p.setOrderFlowStep(S.SUBMITTED)):_.isEmpty($.model.storedPayPalAccount)?(c.setCustomerInfoForCheckout({firstName:$.model.customerName,phone:$.model.phoneNumber,email:$.model.emailAddress,smsOptIn:t.smsOptIn}),r=!1,o.amount=$.cost.total.balance,o.storeToken=$.model.saveNewPayPal||!1,I.setSaveNewPayPal($.model.saveNewPayPal),$.doPayPalRedirect({info:o})["catch"](function(e){_.isUndefined(e)&&(e=["PAYPAL_ERROR"]),_.forEach(e,function(e){$.errors.push(e)})})):(i=_.find(J,{tokenValue:$.model.storedPayPalAccount}),i.tokenType=w.PAYPAL_BILLING_AGREEMENT_ID,n.storedCards.push(i),p.setOrderFlowStep(S.SUBMITTED))),$.paymentType.useApplePay&&_.get(_.get($.cost,"total"),"balance")>0&&(n.applePay=e.applePay.paymentInfo,n.contactInfo={email:e.applePay.shippingContact.emailAddress,phone:e.applePay.shippingContact.phoneNumber,name:e.applePay.shippingContact.fullName}),r?(I.setSaveNewPayment({saveNewCreditCard:$.model.saveNewCard}),$.submitPayment({paymentInfo:n}).then(N,P)):void 0}function L(){var e=_.get($.model,"cardNumber",""),t=o.translate("CC_CHECKSUM_ERROR");r.validateCreditCard(e,t)}function U(){$.model.cardType=utilities.cardTypeFromNumber($.model&&$.model.cardNumber)}function F(){U(),L()}function G(){var e=_.find(K,{isDefault:!0})||K[0];return e?e.tokenValue:void 0}function B(){var e=_.find(J,{isDefault:!0})||J[0]||{};return e.tokenValue}function H(){var e,t=[],r=n.getCafeCurrentTime().year();for(e=0;10>e;e+=1)t[e]=(r+e).toString();return t}function j(){var e=[],t={newCard:{name:"USE_A_NEW_CARD",value:E.NEW_CARD},storedCard:{name:"USE_STORED_CARD",value:E.STORED_CARD},payPal:{name:'<img src="'+C.payPal.logo.small+'">',value:E.PAYPAL},applePay:{name:'<img src="'+C.applePay.logo.small+'" class="apple-pay-icon">',value:E.APPLEPAY},newCardWithIcons:{name:'<img src="'+C.creditCardIcons.all+'" height="23">',value:E.NEW_CARD}};return $.showStoredCards()?(e.push(t.storedCard),e.push(t.newCard)):e.push(t.newCardWithIcons),$.payPalIsEnabled&&$.isValidPayPalOrder&&e.push(t.payPal),$.isApplePaySupported&&e.push(t.applePay),e}function V(){var t,n,i,o=c.getCustomerInfoForCheckout(),a={},l={},d={},m={},h={},v={},y={},b={},S={},w={},T={},I={};l[tv4.errorCodes.OBJECT_REQUIRED]="CC_CARD_HOLDER_REQUIRED",l[tv4.errorCodes.STRING_PATTERN]="CC_CARD_HOLDER_INVALID_CHARACTER",d[tv4.errorCodes.STRING_LENGTH_SHORT]="CC_NUMBER_TOO_SHORT",d[tv4.errorCodes.STRING_LENGTH_LONG]="CC_NUMBER_TOO_LONG",d[tv4.errorCodes.STRING_PATTERN]="CC_NUMBER_INVALID_CHARACTER",d[tv4.errorCodes.OBJECT_REQUIRED]="CC_NUMBER_REQUIRED",d[tv4.errorCodes.CC_CHECKSUM_ERROR]="CC_CHECKSUM_ERROR",m[tv4.errorCodes.OBJECT_REQUIRED]="CC_TYPE_REQUIRED",h[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_MONTH_REQUIRED",v[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_YEAR_REQUIRED",y[tv4.errorCodes.OBJECT_REQUIRED]="CC_EMAIL_REQUIRED",y[tv4.errorCodes.STRING_PATTERN]="CC_EMAIL_INVALID_FORMAT",b[tv4.errorCodes.STRING_LENGTH_LONG]="CC_CONTACT_NUMBER_TOO_LONG",b[tv4.errorCodes.STRING_PATTERN]="CC_CONTACT_NUMBER_INVALID_CHARACTER",b[tv4.errorCodes.OBJECT_REQUIRED]="CC_CONTACT_NUMBER_REQUIRED",S[tv4.errorCodes.OBJECT_REQUIRED]="CUSTOMER_NAME_REQUIRED",S[tv4.errorCodes.STRING_PATTERN]="CUSTOMER_NAME_INVALID_CHARACTER",T[tv4.errorCodes.STRING_LENGTH_SHORT]="CVV_TOO_SHORT",T[tv4.errorCodes.STRING_LENGTH_LONG]="CVV_TOO_LONG",T[tv4.errorCodes.STRING_PATTERN]="CVV_INVALID_CHARACTER",T[tv4.errorCodes.OBJECT_REQUIRED]="CVV_REQUIRED",I[tv4.errorCodes.STRING_LENGTH_SHORT]="ZIP_CODE_TOO_SHORT",I[tv4.errorCodes.STRING_LENGTH_LONG]="ZIP_CODE_TOO_LONG",I[tv4.errorCodes.STRING_PATTERN]="ZIP_CODE_INVALID_CHARACTER",I[tv4.errorCodes.OBJECT_REQUIRED]="ZIP_CODE_REQUIRED",$.options={formDefaults:{validationMessage:a}},$.schema={type:"object",title:"Payment Information",required:["emailAddress","phoneNumber","storedCreditCards","cardName","customerName","cardNumber","expirationDate","securityCode","zipCode"],properties:{selectedPaymentType:{type:"string"},storedCreditCards:{title:Z("STORED_CREDIT_CARDS"),type:"string","enum":_.map($.storedCreditCardsDropDown,"value")},storedPayPalAccount:{title:Z("STORED_PAYPAL_ACCOUNTS"),type:"string","enum":_.map($.storedPayPalDropDown,"value")},saveNewCard:{type:"boolean"},saveNewPayPal:{type:"boolean"},emailAddress:{title:"Email Address",type:"string",pattern:f.validEmail},phoneNumber:{title:"Contact Number",type:"string",pattern:f.validPhone,maxLength:14},cardName:{title:"Card Holder Name",type:"string",pattern:f.validSpecialInstructions},customerName:{title:"Customer Name for Order",type:"string",pattern:f.validSpecialInstructions},cardNumber:r.getSharedSchemas().creditCard,securityCode:{title:"Security Code",type:"string",pattern:f.integer,minLength:3,maxLength:4},zipCode:{title:"ZIP Code",type:"string",pattern:f.postalCode,minLength:5,maxLength:10},expirationDate:{title:"Expiration Date",type:"object",required:["month","year"],properties:{month:{title:"Month",type:"string","enum":u},year:{title:"Year",type:"string","enum":H()}}}}},$.errors=[],n=[{value:void 0,name:Z("MONTH_CAPITALIZED")}].concat(r.buildTitleMap(e("orderBy")(u))),i=[{value:void 0,name:Z("YEAR_CAPITALIZED")}].concat(r.buildTitleMap(H())),$.form=[{type:"formErrors",condition:"cost.tip > 0 && (cost.total.balance - cost.tip <= 0) && errors.length < 1",alertClass:"alert-info",errors:["PLEASE_NOTE_A_CREDIT_CARD_IS_REQUIRED_FOR"]},{type:"formErrors",condition:"showCreditCardForm() && payPalIsEnabled && !isValidPayPalOrder",alertClass:"alert-info",errors:["PAYPAL_UNAVAILABLE_NUM_DAYS_OUT"],errorVariables:[$.payPalNumDaysOut]},{type:"section",htmlClass:"row",condition:"showCreditCardForm()",items:[{key:"selectedPaymentType",onChange:"updatePaymentType()",type:"radios",htmlClass:"col-xs-12 col-sm-5 store-cc-radios",notitle:!0,titleMap:j()}]},{type:"section",htmlClass:"row",condition:"showCreditCardForm() && payPalIsEnabled && !isValidPayPalOrder",items:[{key:"none",type:"radios",htmlClass:"col-xs-12 col-sm-3 disabled-cc-radios",notitle:!0,readonly:!0,titleMap:[{name:'<img src="'+C.payPal.logo.smallGrey+'">',value:E.PAYPAL}]}]},{type:"section",htmlClass:"row",condition:"showCreditCardForm()",items:[{key:"storedCreditCards",type:"select",condition:"showStoredCards() && paymentType.useStoredCard",feedback:!1,htmlClass:"col-xs-12 col-sm-5",translateTitleMap:!1,titleMap:$.storedCreditCardsDropDown,validationMessage:w},{key:"storedPayPalAccount",type:"select",condition:"showStoredPayPal() && paymentType.usePayPal",feedback:!1,htmlClass:"col-xs-12 col-sm-5",translateTitleMap:!1,titleMap:$.storedPayPalDropDown}]},{type:"formErrors",errors:$.errors},{type:"section",condition:"cost.total.balance > 0 && (paymentType.useNewCard || paymentType.usePayPal) && isLoggedIn",items:[{title:"STORE_THIS_CARD_IN_MY_ACCOUNT",condition:"paymentType.useNewCard",key:"saveNewCard",type:"checkbox",htmlClass:"col-xs-12 store-cc-checkbox"},{title:"STORE_PAYMENT_INFO_TO_MY_ACCOUNT",condition:"paymentType.usePayPal && !showStoredPayPal()",key:"saveNewPayPal",type:"checkbox",htmlClass:"col-xs-12 store-cc-checkbox"}]},{type:"section",htmlClass:"row",condition:"customerNameIsRequired()",items:[{title:"CUSTOMER_ORDER_NAME",key:"customerName",type:"text",htmlClass:"col-xs-12",placeholder:"CUSTOMER_ORDER_NAME",validationMessage:S,autocomplete:"name"}]},{type:"section",condition:"showCreditCardForm() && paymentType.useNewCard",items:[{type:"section",htmlClass:"row",items:[{title:"CARD_NUMBER",key:"cardNumber",type:"text",htmlClass:"col-xs-12 col-sm-4 col-md-4",placeholder:"CARD_NUMBER",validationMessage:d,onChange:F,imageKey:"cardType"},{key:"expirationDate",title:"EXPIRATION_DATE",htmlClass:"col-xs-12 col-sm-4 col-md-4",items:[{key:"expirationDate.month",notitle:!0,feedback:!1,type:"select",htmlClass:"col-xs-7",translateTitleMap:!1,titleMap:n,validationMessage:h},{key:"expirationDate.year",notitle:!0,feedback:!1,type:"select",htmlClass:"col-xs-5 year",translateTitleMap:!1,titleMap:i,validationMessage:v}]},{title:"SECURITY_CODE",key:"securityCode",type:"text",htmlClass:"col-xs-6 col-sm-2",placeholder:"CVV",readonly:!1,validationMessage:T,popover:{template:"securityCodeDescription.html",icon:"fa-info-circle",trigger:"mouseenter",placement:"bottom","class":"securityCodeDescription",appendToBody:!0}},{title:"BILLING_ZIP_CODE",key:"zipCode",type:"text",htmlClass:"col-xs-6 col-sm-2",placeholder:"ZIP_CODE",readonly:!1,validationMessage:I}]}]},{type:"section",htmlClass:"row",items:[{title:"CARD_HOLDER_NAME",key:"cardName",type:"text",htmlClass:"col-xs-12 col-sm-4 col-md-4",condition:"paymentType.useNewCard && showCreditCardForm() && !paymentType.useApplePay",placeholder:"CARD_HOLDER_NAME",validationMessage:l,autocomplete:"name"},{title:"EMAIL_ADDRESS_RECEIPT",key:"emailAddress",type:"text",condition:"!paymentType.useApplePay",htmlClass:"col-xs-12 col-sm-5 col-md-5",placeholder:"EMAIL_ADDRESS_RECEIPT",validationMessage:y,autocomplete:"email"},{title:"CONTACT_NUMBER",key:"phoneNumber",type:"tel",needsPhoneFormatting:!0,htmlClass:"col-xs-12 col-sm-4 col-md-3",condition:"!paymentType.useApplePay",ngModelOptions:{updateOn:"blur"},placeholder:"CONTACT_NUMBER",validationMessage:b,autocomplete:"tel"}]},{type:"section",htmlClass:"row",items:[{title:"PLACE_YOUR_ORDER",condition:"!isPayPalRedirectRequired() && !isGroupOrder && (!paymentType.useApplePay || !(cost.total.balance > 0))",type:"submit",style:"btn-primary pull-right col-xs-12 col-sm-3 col-md-3 placeOrder",readonly:!1},{title:"ADD_TO_GROUP_ORDER",condition:"!isPayPalRedirectRequired() && isGroupOrder",type:"submit",style:"btn-primary pull-right col-xs-12 col-sm-3 col-md-3 placeOrder",readonly:!1},{title:"CONTINUE_TO_PAYPAL",condition:"isPayPalRedirectRequired()",type:"submit",style:"btn-primary pull-right col-xs-12 col-sm-3 col-md-3 placeOrder",readonly:!1},{condition:"paymentType.useApplePay && cost.total.balance > 0",type:"template",payWithApple:D,template:'<div class="apple-pay-container" ng-click="form.payWithApple($event)"><image class="buy-apple-pay" src="'+C.applePay.logo.buy+'"></image></div>'}]}],g.isDelivery()&&(t=s.getDeliveryInfo()&&s.getDeliveryInfo().phoneNumber),$.model={selectedPaymentType:p.tokenIsAuthenticated()?E.PAYPAL:$.isApplePaySupported?E.APPLEPAY:G()?E.STORED_CARD:E.NEW_CARD,storedCreditCards:G(),storedPayPalAccount:B(),emailAddress:c.emailAddress()||o.email,phoneNumber:t||o.phone,customerName:o.firstName,smsOptIn:o.smsOptIn},$.updatePaymentType(),r.preProcess($.options,$.form)}function z(e){return _.compact(_.map(e,function(e){return{name:_.compact([e.cardType,e.lastFour,e.cardName?"-":void 0,e.cardName]).join(" "),value:e.tokenValue}}))}function W(e){return _.compact(_.map(e,function(e){return{name:e.cardHolderName||e.cardName,value:e.tokenValue}}))}function Y(){$.deliveryMinimum=h.getMinDeliveryAmount(),$.isDelivery=g.isDelivery(),$.isDelivery&&$.cost.subtotal<$.deliveryMinimum?$.hasMetDeliveryMinimum=!1:$.hasMetDeliveryMinimum=!0}function q(){var e,t=[$.specialInstructionsError,$.hasUnavailableItems,$.balanceTipError];Y(),e=_.size(_.compact(t))>0||!$.hasMetDeliveryMinimum||$.itemExceedingQtyLimit,r.disableSubmit($.form,e)}var K=[],J=[],Z=e("translate");$.storedCreditCardsDropdown=[],$.storedPayPalDropDown=[],$.reloadCardUrl=d.reloadCard,$.paymentType={},$.showStoredCards=function(){return $.isLoggedIn&&!_.isEmpty($.storedCreditCardsDropDown)},$.showStoredPayPal=function(){return $.isLoggedIn&&!_.isEmpty($.storedPayPalDropDown)},$.showCreditCardForm=function(){return $.cost.total.balance>0||$.cost.tip>0},$.updatePaymentType=function(){$.paymentType={useStoredCard:$.model&&$.model.selectedPaymentType===E.STORED_CARD,useNewCard:$.model&&$.model.selectedPaymentType===E.NEW_CARD,usePayPal:$.model&&$.model.selectedPaymentType===E.PAYPAL,useApplePay:$.model&&$.model.selectedPaymentType===E.APPLEPAY}},$.customerNameIsRequired=function(){return!$.isLoggedIn&&(!$.showCreditCardForm()||$.paymentType.usePayPal)},$.showLast4=function(e){return _.isString(e)?e.substring(e.length-4,e.length):""},$.rawPhoneNumber=function(){return $.model.phoneNumber.replace(/-/g,"").length<10},$.isPayPalRedirectRequired=function(){return $.paymentType.usePayPal&&!$.showStoredPayPal()},$.placeOrder=function(e,n){return k(e),_.isEmpty($.errors)?(r.disableSubmit($.form,!0),v.validateOrderTime({orderAmount:$.cost.total.sum,validationType:"order"}).then(function(){return v.showSmsOptInModal($.model.phoneNumber)}).then(function(){$.paymentType.useApplePay&&$.cost.total.balance>0?D(n):M()})["catch"](function(e){$.errors.push(e),r.disableSubmit($.form,!1)})):t.when()},m.fetchConfig().then(function(e){$.payPalIsEnabled=e.payPalIsEnabled&&h.isFeatureEnabled("payment-paypal"),$.isSmsAvailable=g.isDelivery()&&e.smsIsEnabled&&h.isFeatureEnabled("bringg"),$.payPalNumDaysOut=e.payPalNumDaysOut,$.isValidPayPalOrder=p.isValidPayPalOrder(),T.isApplePaySupported(e.applePayMerchantId).then(function(t){$.isApplePaySupported=t&&e.applePayIsEnabled&&!$.isGroupOrder,V()})}),b.onViewPortChange($,function(e){$.isMobile=e}),a.onUserLoaded($,function(e){if(e){var t=c.storedCards();K=t.creditCards,$.storedCreditCardsDropDown=z(K),J=t.payPalAccounts||[],$.storedPayPalDropDown=W(J),V()}}),a.onLoggedInChange($,function(e){$.isLoggedIn=e}),o.onI18nDataChange($,V),$.$watch("cost.total.balance",function(){$.cost.total.balance<=0&&r.clearArray($.errors),$.cost.total.balance>0&&p.tokenIsAuthenticated()&&(_.isEmpty(i.getGiftCardsToApply())||!_.isEmpty($.giftCards))&&(_.isEmpty($.giftCards)||$.giftCards[0].giftCardBalance>0?M():($.errors.push("ERROR_ZERO_BALANCE"),p.clearPayPalData()))}),T.onApplePaySubmit($,function(e){e&&M({applePay:e})}),A.onNewSlotAccepted($,function(){M()}),$.$watchCollection("[specialInstructionsError, hasUnavailableItems, cost.subtotal, balanceTipError]",q)}}}])}(window.angular),function(e){"use strict";e.module("checkout.giftCard",["giftCard.html","giftCardPin.html","common.factories.cafeLocator","common.services.formBuilderService","common.services.configService","common.services.giftCardService","common.services.loginService","common.services.userService","common.services.localeService","common.services.paymentService","paneraOrdering.checkout.checkoutAnalyticsService","common.services.recaptchaService","common.utilities.constants","common.utilities.translate","schemaForm","schemaForm-formErrors"]).directive("giftCard",["$filter","cafeLocatorFactory","configService","formBuilderService","giftCardService","localeService","loginService","paymentService","userService","recaptchaService","inputValidations","checkoutAnalyticsService",function(e,t,n,r,i,o,a,s,c,l,u,d){return{restrict:"E",scope:{giftCards:"=",cost:"="},templateUrl:"giftCard.html",link:function(p){function m(e){_.forEach(e,function(e){p.errors.push(e)})}function f(e){e.saveNewCard=!_.isUndefined(_.find(p.storedGiftCardsDropDown,{value:e.giftCardNo.toString()})),e.saveNewCard&&d.setSaveNewPayment({saveNewGiftCard:!0})}function h(e){var t,n;_.has(e,"errors")?m(e.errors):(t=_.first(e.giftCardBalance),n=_.find(p.giftCards,function(e){return e.giftCardNo===t.giftCardNo}),t.giftCardBalance<=0||!_.isUndefined(n)?p.errors.push("ERROR_ZERO_BALANCE"):(_.forEach(e.giftCardBalance,function(e){p.model.storedGiftCards?e.isStoredGiftCard=!0:e.isStoredGiftCard=!1,f(e),p.giftCards.push(e),i.addGiftCardToApply(e)}),p.model={}))}function g(e){b=e;var t=[];return _.isEmpty(b)||(t=_.map(b,function(e){return{name:_.compact(["GIFT",e.lastFour,e.cardName&&"null"!==e.cardName?"- "+e.cardName:void 0]).join(" "),value:e.cardNum}})),t}function v(){var e=_.find(b,{isDefault:!0});p.model={storedGiftCards:e?e.cardNum:void 0}}function y(){var e={},t=r.getValidationMessages().giftCard,n={},i=r.getValidationMessages().giftCardPin,a=o.translate,s=r.getSharedSchemas();n[tv4.errorCodes.OBJECT_REQUIRED]="GC_STORED_REQUIRED",p.i18n={GIFT_CARD_ENDING:a("GIFT_CARD_ENDING"),BALANCE:a("BALANCE"),REMOVE:a("REMOVE"),STORED_TO_MY_ACCOUNT:a("STORED_TO_MY_ACCOUNT"),GIFT_CARDS_NOT_AVAILABLE_CHECKOUT:a("GIFT_CARDS_NOT_AVAILABLE_CHECKOUT")},p.options={formDefaults:{validationMessage:e}},p.schema={type:"object",title:"Gift Card Information",properties:{cardNumber:s.giftCard,pinNotRequired:{type:"boolean"},gcPin:s.giftCardPin,recaptcha:{title:"Recaptcha",type:"string"},saveNewCard:{type:"boolean"}}},p.errors=[],p.form=[{type:"formErrors",errors:p.errors},{type:"section",htmlClass:"row",items:[{condition:"gcIsEnabled",key:"cardNumber",type:"text",title:"ENTER_A_GIFT_CARD",description:"GIFT_CARD_SUB_TEXT",htmlClass:"col-sm-8 col-xs-12",feedback:!0,placeholder:"CARD_NUMBER",onChange:function(){p.model.storedGiftCards=void 0},validationMessage:t},{type:"section",condition:"gcIsEnabled",htmlClass:"col-sm-4 col-xs-6 pull-right",items:[{key:"gcPin",condition:"!model.pinNotRequired",type:"text",title:"",feedback:!1,placeholder:"PIN_NUMBER",popover:{template:"giftCardPin.html",icon:"fa fa-info-circle fa-lg",trigger:"mouseenter",placement:"bottom","class":"gift-card-pin",appendToBody:!0},validationMessage:i},{key:"gcPin",condition:"model.pinNotRequired",type:"text",title:"",feedback:!1,placeholder:"PIN_NUMBER",readonly:!0,popover:{template:"giftCardPin.html",icon:"fa fa-info-circle fa-lg",trigger:"mouseenter",placement:"bottom","class":"gift-card-pin",appendToBody:!0},validationMessage:_.cloneDeep(i)},{title:"MY_CARD_HAS_NO_PIN",condition:"!gcPinRequired && !gcForm.gcPin.$invalid",key:"pinNotRequired",type:"checkbox",htmlClass:"no-pin-checkbox",onChange:function(){p.model.gcPin=void 0}}]}]},{type:"section",htmlClass:"row",condition:"gcPinRequired",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"template",template:'<div class="alert alert-info">{{form.message}}</div>',message:E("GC_PIN_ONLY_MESSAGE")}]}]},{type:"section",htmlClass:"row",items:[{condition:"authGcIsEnabled && storedGiftCardsDropDown.length > 0",feedback:!1,key:"storedGiftCards",title:"STORED_GIFT_CARDS",htmlClass:"col-xs-9",type:"select",translateTitleMap:!1,onChange:function(){p.model.cardNumber=void 0,p.model.gcPin=void 0},titleMap:p.storedGiftCardsDropDown,validationMessage:n},{condition:"authGcIsEnabled && !gcIsEnabled",title:"APPLY",type:"submit",htmlClass:"stored-gc-apply-btn"}]},{type:"section",htmlClass:"row",condition:"recaptchaIsEnabled && model.cardNumber",items:[{type:"recaptcha",key:"recaptcha",htmlClass:"col-xs-12",ngModelOptions:{recaptchaKey:l.getSiteKey(),setWidgetId:l.setRecaptchaWidgetId,alignment:"pull-right"}}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{condition:"gcIsEnabled",title:"APPLY",type:"submit",htmlClass:"pull-right"}]},{type:"section",htmlClass:"col-xs-12",condition:"isLoggedIn && (!model.storedGiftCards || model.cardNumber)",items:[{title:"STORE_THIS_CARD_IN_MY_ACCOUNT",key:"saveNewCard",type:"checkbox",htmlClass:"pull-right"}]}]}],v(),r.preProcess(p.options,p.form),r.disableSubmit(p.form)}var b=[],E=e("translate");p.giftCardNumberLimit=u.checkout.giftCardNumberLimit,p.disableApply=!1,n.fetchConfig().then(function(e){p.gcIsEnabled=e.gcIsEnabled,p.recaptchaIsEnabled=e.recaptchaIsEnabled&&!n.getAutomationMode(),p.giftCardMaxNumber=e.giftCardMaxNumber}),p.balanceInquiry=function(){var e,n,i,o;r.clearArray(p.errors),p.$broadcast("schemaFormValidate"),_.isUndefined(p.model.storedGiftCards)&&_.isUndefined(p.model.cardNumber)?p.errors.push("GC_FORM_MISSING_REQUIRED"):_.isUndefined(p.model.cardNumber)||19===p.model.cardNumber.length?p.recaptchaIsEnabled&&p.model.cardNumber&&!l.isRecaptchaValid()?p.errors.push("PLEASE_COMPLETE_RECAPTCHA"):p.model.cardNumber&&_.isEmpty(p.model.gcPin)&&!p.model.pinNotRequired&&p.errors.push(p.gcPinRequired?"GC_PIN_VALIDATION_REQUIRED":"GC_PIN_VALIDATION"):p.errors.push("GIFT_CARD_NUMBER_LENGTH"),0===p.errors.length&&(r.disableSubmit(p.form,!0),e={giftCardInquiry:[{giftCardNo:p.model.cardNumber||p.model.storedGiftCards}],cafeNo:t.getCafe().CafeId},p.model.gcPin?e.giftCardInquiry[0].giftCardPin=p.model.gcPin:p.model.storedGiftCards&&(e.customerId=c.customerId()),p.recaptchaIsEnabled&&p.model.cardNumber&&(e.recaptcha=l.getRecaptchaResponse()),p.model.saveNewCard?(o=p.model.cardNumber.substring(p.model.cardNumber.length-4),n={isGiftCard:!0,cardNum:p.model.cardNumber,lastFour:o,cardHolderName:"GIFT-"+o,cardName:"",isDefault:!1,balanceInquiry:e},i=a.addStoredCreditCardOrGiftCard(n)):i=s.getGiftCardBalance(e,!_.isUndefined(p.model.storedGiftCards)),i.then(h,m)["finally"](function(){r.disableSubmit(p.form),p.recaptchaIsEnabled&&l.resetRecaptcha(),p.errors.length>0&&(p.model.pinNotRequired=!1)}))},y(),p.removeGiftCard=function(e){var t=p.giftCards.indexOf(e);p.giftCards.splice(t,1),i.removeGiftCardToApply(e)},n.fetchConfig().then(function(e){p.gcIsEnabled=e.gcIsEnabled,p.authGcIsEnabled=e.authGcIsEnabled,p.gcPinRequired=e.gcPinRequired,p.storedGiftCardsDropDown=g(b),y()}),a.onStoredCardsChange(p,function(e){p.storedGiftCardsDropDown=g(e.giftCards),y()}),a.onUserLoaded(p,function(e){e&&(p.storedGiftCardsDropDown=g(c.storedCards().giftCards),y())}),a.onLoggedInChange(p,function(e){p.isLoggedIn=e}),o.onI18nDataChange(p,y),i.onGiftCardChange(p,y),_.forEach(p.giftCards,f)}}}])}(window.angular),function(e){"use strict";e.module("checkout.orderDetails",["checkoutOrderDetails.html","common.factories.orderFlowFactory","common.services.orderTypeService","common.utilities.translate","common.utilities.constants","common.utilities.filters"]).directive("checkoutOrderDetails",["orderFlowFactory","orderTypeService","dateTimeFormats","staticImages",function(e,t,n,r){return{restrict:"E",scope:{canEdit:"=",context:"=",orderType:"=",isMobile:"=",isGroupOrder:"<"},templateUrl:"checkoutOrderDetails.html",link:function(i){i.exactTime=i.context.time,i.mobileDate=moment(i.context.date,n.date).format(n.mobileOrderDetails),i.isDineIn=t.isDineIn(i.orderType),i.isDelivery=t.isDelivery(i.orderType),i.isRapidPickup=t.isRapidPickup(i.orderType),i.groupOrderImg=r.groupOrder.group.med.dark,i.changeOrderDetails=function(){e.change(t.getOrderTypeDetails().steps[0])}}}}])}(window.angular),function(e){"use strict";e.module("checkout.specialCode",["specialCode.html","common.services.discountService","common.services.formBuilderService","common.services.localeService","common.utilities.translate","schemaForm","schemaForm-formErrors"]).directive("specialCode",["formBuilderService","localeService","discountService",function(e,t,n){return{restrict:"E",scope:{verifyDiscountThenUpdate:"&"},templateUrl:"specialCode.html",link:function(r){function i(){var t={},n={};t[tv4.errorCodes.OBJECT_REQUIRED]="SC_REQUIRED_CODE",r.schema={type:"object",properties:{promoCode:{type:"string"}}},r.options={formDefaults:{validationMessage:n}},r.errors=[],r.form=[{type:"formErrors",errors:r.errors},{type:"section",htmlClass:"row",items:[{title:"PROMO_CODE",type:"text",key:"promoCode",htmlClass:"col-xs-9 col-sm-6",description:"DISCOUNT_SUB_TEXT",maxLength:20,validationMessage:t},{title:"APPLY",type:"submit"}]}],r.model={promoCode:""},e.preProcess(r.options,r.form)}r.applyDiscount=function(){var t=r.model.promoCode;e.clearArray(r.errors),r.$broadcast("schemaFormValidate"),_.isEmpty(t)||(_.isEmpty(n.getDiscountCode())?r.verifyDiscountThenUpdate({discountCode:t}).then(function(e){e===!0&&(r.model.promoCode=""),_.forEach(e,function(e){e.discountStatusCode&&"SPECIAL_CODE"===e.type&&e.promoCode===t&&r.errors.push(e.discountStatusCode)})}):r.errors.push("DISCOUNTS_TOOMANYDISCOUNTCODES"))},t.onI18nDataChange(r,function(){i()}),n.onDiscountCodeRemoved(r,function(){e.clearArray(r.errors)}),n.onOrderDiscountsChange(r,function(){i()})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){var s=this,c=t("translate");s.selectTipOption=function(){var e=s.tipOptions[s.selectedTipOption];e?(s.showInput=_.get(e,"showInput"),s.showInput||(s.tip=e.percent&&s.calculateTipAmount(e.percent)||e.amount,s.updateTip())):(s.showInput=!1,s.tip=void 0,s.updateTip()),n.setOrderTip({amount:_.get(e,"amount"),percent:_.get(e,"percent"),label:_.get(e,"i18nTitle")})},s.calculateTipAmount=function(e){return Math.round(100*e*(+s.subtotal+ +s.tax))/100},s.updateTip=function(){s.tip=s.tip&&s.tip.toString().replace(a.nonNumericOrDecimal,""),isNaN(s.tip)||0===s.tip.toString().length?s.tip=void 0:s.tip=parseFloat(s.tip).toFixed(2),s.onUpdate({$event:{tip:s.tip}})},s.$onInit=function(){var e=n.getOrderTip();s.tipOptions=o.getSuggestedTipOptions(),s.placeholderTip=o.getPlaceholderTip(),e?(s.tip=e.amount,s.selectedTipOption=e.percent?_.findIndex(s.tipOptions,{percent:e.percent}):e.label?_.findIndex(s.tipOptions,{i18nTitle:e.label}):_.findIndex(s.tipOptions,{amount:+e.amount})):(s.tip=void 0,s.selectedTipOption=-1)},s.$onChanges=function(){s.selectedTipOption>=0&&s.selectTipOption()},n.onOrderTipRejected(e,function(){s.selectedTipOption=-1,s.tip=void 0,s.showInput=!1}),r.onI18nDataChange(e,function(){s.i18n={LEAVE_A_TIP_FOR_YOUR_DRIVER_NOW:c("LEAVE_A_TIP_FOR_YOUR_DRIVER_NOW"),LEAVE_A_TIP_FOR_YOUR_CAFE:c("LEAVE_A_TIP_FOR_YOUR_CAFE"),NOT_YET:c("NOT_YET"),OTHER:c("OTHER"),AMOUNT:c("AMOUNT")},i.isRapidPickup()||i.isDineIn()?s.suggestedTipLabel=s.i18n.LEAVE_A_TIP_FOR_YOUR_CAFE:s.suggestedTipLabel=s.i18n.LEAVE_A_TIP_FOR_YOUR_DRIVER_NOW})}t.$inject=["$scope","$filter","checkoutService","localeService","orderTypeService","suggestedTipService","regexes"],e.module("paneraOrdering.checkout.suggestedTip.component",["suggestedTip.html","common.services.localeService","common.services.orderTypeService","paneraOrdering.checkout.checkoutService","paneraOrdering.checkout.suggestedTip.service","common.utilities.constants","ui.bootstrap.buttons"]).component("suggestedTip",{templateUrl:"suggestedTip.html",controller:t,bindings:{subtotal:"<",tax:"<",onUpdate:"&"}})}(window.angular),function(e){"use strict";e.module("paneraOrdering.checkout.suggestedTip.constants",[]).constant("stConstants",{tipOptions:{option1:[{amount:2},{amount:3},{amount:5},{i18nTitle:"OTHER",showInput:!0}],option2:[{amount:3},{amount:4},{amount:5},{amount:6},{i18nTitle:"OTHER",showInput:!0}],option3:[{i18nTitle:"NOT_YET"},{percent:.1},{percent:.15},{percent:.2},{i18nTitle:"OTHER",showInput:!0}]},groups:[{flag:"suggested-tip",groupName:"Group A"},{flag:"suggested-tip-b",groupName:"Group B"}]})}(window.angular),function(e){"use strict";function t(e,t,n,r){this.getSuggestedTipOptions=function(){return e.isFeatureEnabled(n.SUGGESTED_TIP)?t.tipOptions.option1:e.isFeatureEnabled(n.SUGGESTED_TIP_B)?t.tipOptions.option2:[]},this.trackSuggestedTipping=function(i){var o;e.hasSuggestedTipping()&&(e.isFeatureEnabled(n.SUGGESTED_TIP)&&(o=_.find(t.groups,{flag:n.SUGGESTED_TIP})),e.isFeatureEnabled(n.SUGGESTED_TIP_B)&&(o=_.find(t.groups,{flag:n.SUGGESTED_TIP_B})),r.trackSuggestedTipping(o,i))},this.getPlaceholderTip=function(){return e.isFeatureEnabled(n.SUGGESTED_TIP_B)?"10.00":void 0}}t.$inject=["cafeLocatorFactory","stConstants","enabledFeature","analyticsService"],e.module("paneraOrdering.checkout.suggestedTip.service",["common.factories.cafeLocator","paneraOrdering.checkout.suggestedTip.constants","common.utilities.constants","common.services.analytics"]).service("suggestedTipService",t)}(window.angular),function(e){"use strict";e.module("checkout.summaryPlacard",["builder.html","summaryPlacard.html","common.directives.addFavorite","common.utilities.translate","common.utilities.filters","common.services.cartService","common.services.loginService","common.services.menuService","common.services.modalService","checkout.summaryPlacard.placardInfo","common.utilities.constants"]).directive("summaryPlacard",["loginService","modalService","cartService","comboService","menuService","routes","$location",function(t,n,r,i,o,a,s){return{restrict:"E",scope:{confirmed:"=",cartItem:"=",cartIndex:"=",isCombo:"=",isMobile:"=",pickItem:"&",customizeItem:"&",isGroupOrder:"<"},templateUrl:"summaryPlacard.html",link:function(c){function l(){c.sideItem=_.find(c.cartItem.items,function(e){return"side"===e.itemType.toLowerCase()})}c.sideItem={},c.isComboProduct=!1,c.comboItems=[],c.isLoggedIn=!1,c.updateSide=function(e){r.updateCartSideItem(e,c.cartIndex)},c.customize=function(){c.isComboProduct?(i.resetComboItems(),i.setEditingComboIndex(c.cartIndex),i.setComboSide(c.sideItem),o.onComboDataChange(function(e){var t=_.find(e,{itemId:c.cartItem.id});_.forEach(c.comboItems,function(e){e.comboGroup=o.getComboGroup(e,t.comboGroups),i.setComboItems({hasItem:!0,item:e})}),o.onCategoryDataChange(function(e){var n=_.find(e,{comboId:t.comboId}).catId;s.path(a.menu+n.toString())})})):n.show({templateUrl:"builder.html",controller:"BuilderController",size:"lg"},{selectedItem:c.cartItem,btnText:"UPDATE_ITEM"}).then(function(e){c.cartItem=_.cloneDeep(e),l(),r.addItem(e,c.cartIndex)})},c.duplicateItem=function(){r.addItem(e.copy(c.cartItem))},c.removeFromCart=function(){r.removeItem(c.cartIndex)},c.$watch("cartItem.itemType",function(e){
_.isUndefined(e)||"combo"!==e.toLowerCase()?(c.isComboProduct=!1,c.comboItems=[]):(c.isComboProduct=!0,c.comboItems=_.filter(c.cartItem.items,function(e){return"side"!==e.itemType.toLowerCase()}))},!0),l(),t.onLoggedInChange(c,function(e){c.isLoggedIn=e})}}}])}(window.angular),function(e){"use strict";e.module("checkout.temptations",["preorder.html","temptations.html","menu.placard","common.factories.upsell","common.services.cartService","common.services.imageService","common.services.localeService","common.services.menuService","common.utilities.modals.preorder","common.services.cafeHours"]).directive("temptations",["cartService","cafeHours","imageService","menuService","modalService","upsellFactory",function(e,t,n,r,i,o){return{restrict:"E",scope:{},templateUrl:"temptations.html",link:function(a){function s(n){var i,o,s=e.getCart();a.placards=[],_.forEach(a.temptationItems,function(e){_.find(s,{id:e.plcIdFullPrice})||_.find(s,{id:e.plcIdDiscount})||!_.isEmpty(e.schedule)&&_.some(e.schedule,function(e){return!_.isUndefined(e)&&t.validOrderTime(e.fromTime,e.toTime,e.day)})&&(i=!_.isUndefined(e.plcIdDiscount)&&_.some(n,function(t){return _.some(t.qualifiedItems.schedule,function(t){return _.find(t.placards,{plcIdFullPrice:e.plcIdFullPrice})})}),o=r.getMyPlacard(i?e.plcIdDiscount:e.plcIdFullPrice),_.isUndefined(o)||_.isUndefined(_.get(o,"plcId"))||a.placards.push(o))})}a.placards=[],a.temptationItems=[],a.orderItem=function(t,n){return _.isEmpty(n.prepItems)?e.addItem(r.buildCartItem(t,n,!1)):i.show({controller:"PreorderController",templateUrl:"preorder.html",size:"sm"},{item:n,itemName:t.i18nName}).then(function(){return e.addItem(r.buildCartItem(t,n,!1))})},o.onUpsellChange(a,function(e){a.temptationItems=_.cloneDeep(e.temptations)}),o.onUpsellProgramChange(a,function(e){s(e),a.$applyAsync(n.lazyLoadRender)}),n.lazyLoader(a)}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){var c=this,l=t("translate");c.groupOrderRoute=o.groupOrder.create,c.groupOrderImage=a.groupOrder.group.med.white,c.isBannerDark=!0,i.onI18nDataChange(e,function(){c.i18n={NEW:l("NEW"),GROUP_ORDER:l("GROUP_ORDER"),INVITE_FRIENDS_ORDER_TOGETHER:l("INVITE_FRIENDS_ORDER_TOGETHER"),FOR_10_PEOPLE_OR_FEWER:l("FOR_10_PEOPLE_OR_FEWER")}}),r.onCafeChange(e,function(){c.showBanner=n.isGOEnabledForCafe()}),s.fetchConfig().then(function(e){c.isBannerDark=e.goBannerIsColorDark})}t.$inject=["$scope","$filter","groupOrderService","cafeLocatorFactory","localeService","routes","staticImages","configService"],e.module("dashboard.groupOrderBanner",["groupOrderBanner.html","paneraOrdering.groupOrder.groupOrderService","common.factories.cafeLocator","common.services.localeService","common.utilities.constants","common.services.configService"]).component("groupOrderBanner",{templateUrl:"groupOrderBanner.html",controller:t})}(window.angular),function(e){"use strict";e.module("dashboard.order",["order.html","common.factories.orderFlowFactory","common.services.orderTypeService","common.utilities.constants","common.utilities.translate"]).constant("deliveryNowAvailableMsg","delivery-now-available-msg").directive("order",["orderFlowFactory","orderTypeService","orderTypes","localeService","$filter","cafeLocatorFactory","deliveryNowAvailableMsg","$route",function(e,t,n,r,i,o,a,s){return{restrict:"E",replace:!1,scope:{},templateUrl:"order.html",link:function(c){c.setOrderType=function(n){c.orderTypes[n].enabled&&(t.setOrderType(c.orderTypes[n].storageKey),e.start(!1,!0))},c.deliveryAvailableNow=s.current.params.deliveryAvailableNow,o.onCafeChange(c,function(){c.showDeliveryNowAvailableMsg=o.isFeatureEnabled(a)}),r.onI18nDataChange(c,function(){var e=[],t=i("translate");_.forEach(n,function(n,r){n.visible&&(n.title=t(n.i18nName),n.description=t(n.i18nDesc),e.push(r))}),c.i18n={NOW:t("NOW"),AVAILABLE:t("AVAILABLE"),WE_DELIVER_IN_YOUR_AREA:t("WE_DELIVER_IN_YOUR_AREA")},c.orderTypeOrder=e,c.orderTypes=n})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){var e=r.getDeliveryInfo(),t={};return e&&(t={address1:e.address1,address2:e.address2,city:e.city,countryDivision:e.state,postalCode:e.postalCode,instructions:e.specialInstructions,addressType:e.addressType,addressId:e.addressName,phone:e.phoneNumber}),t}function l(){var t=n.getCafe(),r={id:t.CafeId,name:t.Name,address:t.StreetName,city:t.City,countryDivision:t.State,phoneNumber:t.Phone,postalCode:t.Zip,cafeTZ:e("timezone")(t.TimeZone),type:"FULFILLMENT"};return r}function u(){var e=a.personalInfo(),t=a.customerId(),n=a.loyaltyCardNumber();return{id:t,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,loyaltyNum:n}}this.buildGroupOrderObject=function(e){var n=l(),a=c(),d=u(),p=i.getOrderType().replace("_",""),m=o.determineClientType(),f=t.getCafeCurrentTime(),h=t.orderFulfillAt(),g=r.getLeadTime(),v=moment(h).subtract(g,"minutes"),y={groupOrderName:e.name,minParticipants:e.groupSize.min,maxParticipants:e.groupSize.max,destination:p,clientType:m,orderStartDT:f.format(s),orderFulfillmentDT:h.format(s),orderCutoffDT:v.format(s)},b={isAdminPay:e.leaderPays||!1,isAdminReview:e.leaderReview||!1},E={orderId:r.getOrderId(),cafes:[n],groupAdmin:d,groupOptions:b,groupSummary:y};return _.isEmpty(a)||(E.delivery=a),E}}t.$inject=["$filter","cafeHours","cafeLocatorFactory","orderFlowService","orderTypeService","groupOrderService","userService","isoFormat"],e.module("paneraOrdering.groupOrder.goBuilderService",["common.factories.cafeLocator","common.services.cafeHours","common.services.orderFlowService","common.services.orderTypeService","common.services.userService","common.utilities.constants","paneraOrdering.groupOrder.groupOrderService"]).service("goBuilderService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u){function d(){m.carts=m.order.guestOrders,m.isAdminOrdered=m.isAdmin&&!!_.find(m.carts,function(e){return e.customer.id===g?(e.isAdmin=!0,!0):void 0})}function p(){v=e.$on("$locationChangeStart",function(e,t){return s.isGroupOrder()?(e.preventDefault(),s.displayLeaveGroupOrderModal().then(function(){var e=t.split("//"),n=e[1];s.clearGroupOrder(),v(),n=n.substr(n.indexOf("/")),r.path(n)})):void 0})}var m=this,f=n("translate"),h=t.participantToken,g=i.customerId(),v=_.noop;m.cancelGroupOrder=function(){return l.show({templateUrl:"confirmation.html",controller:"ConfirmationController",size:"sm"},{headerText:"CANCEL_GROUP_ORDER",bodyText:"ARE_YOU_SURE_CANCEL_GROUP_ORDER",actionButtonText:"YES",closeButtonText:"NO"}).then(function(){s.cancelGroupOrder(m.order.groupOrder.tokenId).then(function(){r.path(u.index)})["catch"](function(){l.show({templateUrl:"alert.html",controller:"AlertController",backdrop:"static",keyboard:!1,size:"sm"},{headerText:"CANCEL_UNSUCCESSFUL",bodyText:"UNFORTUNATELY_WE_WERE_UNABLE_TO_COMPLETE"})})})},m.$onInit=function(){p(),m.customerInfo={customerId:g,token:h},m.isAdmin=s.isAdmin(),m.isOrderActive=a.active.indexOf(m.order.groupOrder.status)>-1,m.groupToken=h||t.groupOrderToken,m.groupOrderDeadline=m.order.groupOrder.groupSummary.orderCutoffDT,m.isLeaderPay=m.order.groupOrder.groupOptions.isAdminPay,m.isOrderPlaced=m.order.groupOrder.groupGuestOrders&&!_.isEmpty(_.find(m.order.groupOrder.groupGuestOrders,{tokenId:h})),m.contentTypes=["order","time","placingOrder"],s.setActiveToken(m.groupToken),s.trackAdminAction("View Dashboard"),d()},m.startOrder=function(){v(),s.startParticipantOrder()},s.onGroupOrderChange(e,function(e){m.order=e,d()}),c.onI18nDataChange(e,function(){m.i18n={ORDER_SETUP:f("ORDER_SETUP"),YOUR_GROUP:f("YOUR_GROUP"),CANCEL_GROUP_ORDER:f("CANCEL_GROUP_ORDER")}}),o.onLoggedInChangeOnly(e,function(e){!e&&v&&v()})}t.$inject=["$scope","$routeParams","$filter","$location","userService","loginService","groupOrderStatus","groupOrderService","localeService","modalService","routes"],e.module("paneraOrdering.groupOrder.goDashboard",["goDashboard.html","paneraOrdering.groupOrder.goDashboard.goInvite","paneraOrdering.groupOrder.goDashboard.goInfoPanel","paneraOrdering.groupOrder.goDashboard.goCartPanel","paneraOrdering.groupOrder.goDashboard.goDashboardTimes.component","paneraOrdering.groupOrder.goDashboard.goDeliveryDetails.component","paneraOrdering.groupOrder.goDeadline","common.services.loginService","common.services.localeService","common.services.modalService","common.utilities.modals.alert","common.utilities.constants","paneraOrdering.groupOrder.groupOrderService","common.services.userService"]).component("goDashboard",{templateUrl:"goDashboard.html",controller:t,bindings:{order:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(){l&&t.cancel(l)}function s(){var e=i.minsUntilExpire(u.order);0>=e?(u.isExpired=!0,u.timeDisplay=i.formatTodayDeadlineTime(e),r.displayExpiredModal(),a()):u.showCountdown&&o>=e?(u.isUnderCountdownThreshold=!0,u.timeDisplay=i.formatTodayDeadlineTime(e)):(u.isUnderCountdownThreshold=!1,u.timeDisplay=i.formatDeadlineTime(p.orderCutoffDT,d,!0))}function c(){u.isToday=i.isToday(p.orderFulfillmentDT,d),s(),l||!u.isToday||u.isExpired||(l=t(s,6e4))}var l,u=this,d=_.get(u.order,"cafes[0].cafeTZ"),p=_.get(u.order,"groupSummary",{});u.$onDestroy=function(){a()},u.$onInit=function(){n.onI18nDataChange(e,function(){c()})}}t.$inject=["$scope","$interval","localeService","groupOrderService","goDisplayService","goCutoffCountdownThreshold"],e.module("paneraOrdering.groupOrder.goDeadline",["goDeadline.html","common.services.localeService","paneraOrdering.groupOrder.groupOrderService","paneraOrdering.groupOrder.goDisplayService","paneraOrdering.groupOrder.constants"]).component("goDeadline",{templateUrl:"goDeadline.html",controller:t,bindings:{order:"<",showCountdown:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(){p.order=r.getGroupOrderHeader(),c=_.get(p.order,"cafes[0].cafeTZ",a.TimeZone),l=_.get(p.order,"groupSummary",{}),u=l.rangeInterval,p.orderFulfillmentTime=i.formatFulfilmentTime(l.orderFulfillmentDT,c,u,!0),d=r.getGuestOrdersCount(),p.i18n.X_ORDERS_SO_FAR=m(1===d?"X_ORDER_SO_FAR":"X_ORDERS_SO_FAR",[d]),p.participantsNeeded=r.determineParticipantsNeeded(),p.isGroupOrder=r.isGroupOrder()}var c,l,u,d,p=this,m=t("translate");p.viewGroupOrderDetails=function(){r.goToDashboard(r.getToken())},n.onI18nDataChange(e,function(){p.i18n={ORDER_CUTOFF:m("ORDER_CUTOFF"),FOR_DELIVERY_BY:m("FOR_DELIVERY_BY"),YOUR_GROUP:m("YOUR_GROUP"),EDIT_ORDER_SETUP:m("EDIT_ORDER_SETUP")},s()}),o.onLoggedInChange(e,function(e){e&&(p.isGroupAdmin=r.isAdmin())})}t.$inject=["$scope","$filter","localeService","groupOrderService","goDisplayService","loginService","defaultCafe"],e.module("paneraOrdering.groupOrder.goDetails",["goDetails.html","common.utilities.constants","common.services.localeService","common.services.loginService","paneraOrdering.groupOrder.groupOrderService","paneraOrdering.groupOrder.goDisplayService","paneraOrdering.groupOrder.goDeadline","common.utilities.constants"]).component("goDetails",{templateUrl:"goDetails.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(e){var t,n,r,i=function(e,t){var n=e.indexOf("AM",t||0);return n>=0?n:e.indexOf("PM",t||0)};return t=i(e),n=i(e,t+1),r={original:e,dateTime:e.substring(0,t).trim(),amPm:e.substring(t,t+2).trim()},n>-1&&(r.dateTime2=e.substring(t+2,n).trim(),r.amPm2=e.substring(n).trim()),r}this.formatStatus=function(e){if(e){var t,n,o,s=r.getCurrentTime().tz(e.cafes[0].cafeTZ);return i.active.indexOf(e.status)>-1?a(e.groupSummary.orderCutoffDT).isBefore(s)?(t="GROUP_ORDER_EXPIRED",n=!0,o="expired"):(t="GROUP_ORDER_ACTIVE",n=!1,o="active"):(t="GROUP_ORDER_EXPIRED",n=!0,o="expired"),{message:t,isExpired:n,status:o}}},this.minsUntilExpire=function(e){var t=r.getCurrentTime().tz(e.cafes[0].cafeTZ),n=a(e.groupSummary.orderCutoffDT);return n.diff(t,"m")},this.formatAddressDisplay=function(e){var t,r,i,o={};return e&&(t=!_.isUndefined(e.delivery),r=e.groupSummary.destination,i=e.cafes[0],o={orderType:n[r].i18nName,addressType:t?"Address":"Cafe",address1:t?e.delivery.address1:i.name,address2:t?e.delivery.address2:i.address,address3:t?e.delivery.city+", "+e.delivery.countryDivision+" "+e.delivery.postalCode:void 0}),o},this.formatFulfilmentTime=function(n,r,i,o){if(!o)return e("formatFulfilmentTime")(n,r,i);var a=e("formatFulfilmentTime")(n,r,i,{today:void 0,later:"X_AT_Y"});return s(t.getTrustedHtml(a))},this.isToday=function(t,n){return e("isToday")(a(t).tz(n),n)},this.formatDeadlineTime=function(n,r,i){if(!i)return e("formatDeadlineTime")(n,r);var o=e("formatDeadlineTime")(n,r,{today:void 0,later:"X_AT_Y"});return s(t.getTrustedHtml(o))},this.formatTodayDeadlineTime=function(t){return e("formatTodayDeadlineTime")(t)},this.orderTypeDisplay=function(e){if(e){var t=e.groupSummary.destination;return{orderTypeImage:o.orderTypeIcons.smallSprite,orderTypeClass:n[t].imgClass,orderType:n[t].i18nName}}}}t.$inject=["$filter","$sce","orderTypes","cafeHours","groupOrderStatus","staticImages","moment"],e.module("paneraOrdering.groupOrder.goDisplayService",["common.utilities.constants","common.services.cafeHours","paneraOrdering.groupOrder.goFilters"]).service("goDisplayService",t)}(window.angular),function(e){"use strict";var t=e.module("paneraOrdering.groupOrder.goFilters",["common.services.cafeHours","common.utilities.filters","paneraOrdering.groupOrder.constants"]);t.filter("isToday",["cafeHours",function(e){return function(t,n){var r=e.getCurrentTime().tz(n);return r.isSame(t,"day")&&r.isSame(t,"month")&&r.isSame(t,"year")}}]),t.filter("goTimeDisplay",["$filter","goDateTimeFormats",function(e,t){return function(n,r,i,o,a){var s=moment(n).tz(r).set(t.dateTime),c=e("translate"),l=e("isToday")(s,r),u=e("orderTimeDisplay")(s,a,t.time);return l?i?c(i,[u]):u:c(o,[s.format(t.date),u])}}]),t.filter("formatFulfilmentTime",["$filter","goDefaultFulfillmentRangeInterval",function(e,t){return function(n,r,i,o){return _.isUndefined(o)&&(o={today:"TODAY_AT_X",later:"GO_X_AT_Y"}),e("goTimeDisplay")(n,r,o.today,o.later,i||t)}}]),t.filter("formatTodayDeadlineTime",["$filter","goDeadlineThreshold",function(e,t){return function(n){var r=e("translate"),i=n%t,o=(n-i)/t,a="";return n>0?(o>0&&(a+=r(1===o?"X_HOUR":"X_HOURS",[o])),i>0&&(a+=r(1===i?"X_MINUTE":"X_MINUTES",[i])),a):r("TIME_EXPIRED")}}]),t.filter("formatDeadlineTime",["$filter",function(e){return function(t,n,r){return _.isUndefined(r)&&(r={today:"TODAY_BY_X",later:"BY_X_AT_Y"}),e("goTimeDisplay")(t,n,r.today,r.later,void 0)}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){var s=this,c=t("translate");s.next=function(){var e=r.defer(),t=!i.hasNextStep();s.errors=[],s.pleaseWaitPromise=e.promise,i.next().then(function(){t||e.resolve()})["catch"](function(t){e.reject(),_.forEach(t,function(e){s.errors.push(e)})})},s.previous=i.previous,i.onStepChange(e,function(e){s.currentStep=e,n.scrollTo(0,0),s.hasPrevious=i.hasPreviousStep()}),o.onI18nDataChange(e,function(){s.i18n={YOUR_GROUP_ORDER:c("YOUR_GROUP_ORDER"),PREVIOUS:c("PREVIOUS"),CONTINUE:c("CONTINUE"),LOADING:c("LOADING"),PLEASE_WAIT:c("PLEASE_WAIT")}}),s.hasPrevious=!1,s.showNavButtons=!1,s.orderFlowStep=a,i.start()}t.$inject=["$scope","$filter","$window","$q","groupOrderFlowService","localeService","orderFlowStep"],e.module("paneraOrdering.groupOrder.goFlow",["paneraOrdering.groupOrder.groupOrderFlowService","common.services.localeService","paneraOrdering.groupOrder.goFlow.goProgress","paneraOrdering.groupOrder.goFlow.goOrderType","paneraOrdering.groupOrder.goFlow.goTime","paneraOrdering.groupOrder.goFlow.goPayment","common.utilities.constants","paneraCommonUi.common.loading"]).component("goFlow",{templateUrl:"goFlow.html",controller:t})}(window.angular),function(e){"use strict";function t(e){this.request=function(t){return e.filterRequest(t)}}t.$inject=["goHttpInterceptorFilterService"],e.module("paneraOrdering.groupOrder.goHttpInterceptor",["paneraOrdering.groupOrder.goHttpInterceptor.goHttpInterceptorFilterService"]).config(["$httpProvider",function(e){e.interceptors.push("goHttpInterceptor")}]).service("goHttpInterceptor",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){var o=this,a=t("translate");o.isAdmin=r.isAdmin(),o.orderName=r.getName(),o.goToDashboard=function(){var e=r.getToken();r.goToDashboard(e)},o.cleanUpGroupOrder=function(e){e?r.removeGoOverrides():r.clearGroupOrder()},n.onI18nDataChange(e,function(){o.i18n={ORDER_HAS_BEEN_ADDED_TO_GO:a("ORDER_HAS_BEEN_ADDED_TO_GO"),VIEW_GROUP_ORDER:a("VIEW_GROUP_ORDER")}}),e.$on("$routeChangeStart",function(e,t){_.noop(e),o.cleanUpGroupOrder(t===i.groupOrder.dashboard)})}t.$inject=["$scope","$filter","localeService","groupOrderService","routes"],e.module("paneraOrdering.groupOrder.goOrderConfirmation",["goOrderConfirmation.html","paneraOrdering.groupOrder.groupOrderService","common.services.localeService"]).component("goOrderConfirmation",{templateUrl:"goOrderConfirmation.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m){function f(e){v=v||{},_.assign(v,e)}function h(){return c.fetchOrderId(!0).then(function(){var e=s.buildGroupOrderObject(v);return a.createGroupOrder(e)}).then(function(e){y.clear(),c.clearOrderNumber(),a.goToDashboard(e.tokenId),p.showNotificationBanner({timeoutMs:3e3,type:"success",displayText:"GROUP_ORDER_SET_UP",onRouteChange:!0}),a.trackAdminFlow("Completed")})}var g,v,y=this,b="groupOrderStepChange";this.isCafeSelected=c.isCafeSelected,this.getDeliveryInfo=c.getDeliveryInfo,this.getCafeTimezone=r.getTimezone,this.getOrderFlowSteps=function(){return u.groupOrder},this.getGroupSizes=function(){return d},this.selectCafe=function(e){r.setCafe(e),c.setCafeSelected(!0)},this.clearCafe=function(){c.setCafeSelected(!1),c.isDeliveryInfoSelected()&&c.setDeliveryInfo(!1)},this.getGroupOrderName=function(){return v.name},this.setGroupOrderName=function(e){f({name:e})},this.getGroupSize=function(){return v.groupSize},this.setGroupSize=function(e){f({groupSize:e}),o.setOrderAmountOverride(e.index),i.fetchCafeAvailability(),m.setGroupOrderSize(e.gaName)},this.calculateCutoffTime=function(e){return moment(e).tz(y.getCafeTimezone()).subtract(c.getLeadTime(),"minutes").toISOString()},this.getCutoffTime=function(){return v.cutoffTime},this.setCutoffTime=function(e){f({cutoffTime:e})},this.getLeaderPays=function(){return v.leaderPays},this.setLeaderPays=function(e){f({leaderPays:e})},this.getLeaderReview=function(){return v.leaderReview},this.setLeaderReview=function(e){f({leaderReview:e})},this.getSpendingLimit=function(){return v.spendingLimit},this.setSpendingLimit=function(e){f({spendingLimit:e})},this.clear=function(){v={},g=void 0,a.removeGoOverrides()},this.start=function(){var e=l.getGroupOrderTypes();y.clear(),g=u.groupOrder[0],a.addGoHttpInterceptorFilter(),_.includes(e,l.getOrderType())&&c.isCafeSelected()&&"YES"===r.getCafe().HasGroupOrderDelivery||(1===_.size(e)?l.setOrderType(e[0]):l.setOrderType("DINE_IN"),c.startNewProcess(!1,!1)),n.fire(b)},this.next=function(){return y.hasNextStep()?(g=_.find(u.groupOrder,{index:g.index+1}),n.fire(b),t.resolve({})):h()},this.previous=function(){y.hasPreviousStep()&&(g=_.find(u.groupOrder,{index:g.index-1}),n.fire(b))},this.hasPreviousStep=function(){return g&&g.index>0},this.hasNextStep=function(){return g&&g.index<_.size(u.groupOrder)-1},this.getCurrentStep=function(){return g},this.onStepChange=function(e,t){return n.register(e,b,function(){t(g)})},this.startIndividualOrder=function(e){y.clear(),a.startIndividualOrder(e)},c.onCompletedChange(e,function(e){g&&!e&&y.clear()}),this.onStepChange(e,function(e){a.trackAdminFlow(e.gaName)})}t.$inject=["$rootScope","$q","eventHandler","cafeLocatorFactory","cafeAvailabilityFactory","cafeHours","groupOrderService","goBuilderService","orderFlowService","orderTypeService","orderFlowSteps","groupOrderSizes","notificationService","analyticsService"],e.module("paneraOrdering.groupOrder.groupOrderFlowService",["common.services.eventHandler","common.factories.cafeLocator","common.services.cafeHours","common.factories.cafeAvailabilityFactory","paneraOrdering.groupOrder.groupOrderService","paneraOrdering.groupOrder.goBuilderService","common.services.orderFlowService","common.services.orderTypeService","common.utilities.constants","paneraOrdering.groupOrder.constants","paneraOrdering.notificationBanner.service","common.services.analytics"]).service("groupOrderFlowService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S,w,T,I,O,A,$){function D(e){return i.reject(j(e.data,e.status))}function x(e){H.put("groupOrder",function(t){return t=t||{},_.assign(t,e),t}),g.fire("groupOrderChangeEvent")}function R(){G||(G=e.$on("$locationChangeStart",function(e,t){var n=t.split("//"),r=n[1];return r=r.substr(r.indexOf("/")),r===h.index||r===h.cafeLocator?(e.preventDefault(),B.displayLeaveGroupOrderModal().then(function(){B.clearGroupOrder(),u.resetOrderProcess(),o.path(r)})):void 0}))}function k(){G&&(G(),G=void 0)}function P(){var e=_.get(B.getGroupOrderHeader(),"groupSummary.maxParticipants"),t=_.get(B.getGroupOrderHeader(),"groupSummary.minParticipants");return _.find(w,{max:e,min:t})||w[0]}function N(){S.setGroupOrderId(_.get(B.getGroupOrderHeader(),"orderId","").toString()),S.setGroupOrderSize(_.get(P(),"gaName"))}function M(){S.setGroupOrderId(void 0),S.setGroupOrderSize(void 0)}function L(e){var t=B.getGroupOrderHeader(),n=B.getGroupOrder();_.assign(t,e),n.groupOrder=t,F=t.tokenId,x(n)}function U(){B.addGoHttpInterceptorFilter(),s.setOrderAmountOverride(_.get(P(),"index")),s.setSkipOrderTimeValidationOverride(!0)}var F,G,B=this,H=a.driver("session"),j=n("apiErrorKeyFilter");this.cancelGroupOrder=function(e){var n=f.groupOrder.cancelGroupOrder.replace(":group-order-token",e).replace(":customer-id",v.customerId());return t({method:"DELETE",url:n}).then(function(e){return B.clearGroupOrder(),B.trackAdminAction("Cancel Group Order"),e.data})["catch"](D)},this.removeCartFromOrder=function(e,n){var r=f.groupOrder.removeCart.replace(":cart-token",e).replace(":customer-id",v.customerId()).replace(":group-order-token",n);return t({method:"DELETE",url:r}).then(function(e){return B.trackAdminAction("Remove Guest Cart"),e.data})["catch"](D)},this.getGroupOrderByToken=function(e){var n=f.groupOrder.getGroupOrderByToken.replace(":group-order-token",e).replace(":customer-id",v.customerId());return t({method:"GET",url:n}).then(function(e){return x(e.data),R(),e.data})["catch"](D)},this.createGroupOrder=function(e){return t.post(f.groupOrder.createGroupOrder,e).then(function(e){return e.data})["catch"](D)},this.getGroupOrder=function(){return H.get("groupOrder",{})},this.getGroupOrderHeader=function(){return _.get(H.get("groupOrder"),"groupOrder")||{}},this.getGroupOrderCarts=function(){return _.get(H.get("groupOrder"),"guestOrders")||[]},this.clearGroupOrder=function(){H.forget("groupOrder"),B.removeGoOverrides(),k(),M()},this.removeGoOverrides=function(){s.setOrderAmountOverride(void 0),s.setSkipOrderTimeValidationOverride(void 0),B.removeGoHttpInterceptorFilter()},this.isGroupOrder=function(){return!_.isEmpty(B.getGroupOrderHeader())},this.getToken=function(){return _.get(B.getGroupOrderHeader(),"tokenId",F)},this.getName=function(){return _.get(B.getGroupOrderHeader(),"groupSummary.groupOrderName")},this.determineParticipantsNeeded=function(){var e=B.getGuestOrdersCount();return O>e?O-e:0},this.getGuestOrdersCount=function(){var e=_.get(B.getGroupOrderHeader(),"groupGuestOrders");return _.size(e)},this.isAdmin=function(){return _.get(B.getGroupOrderHeader(),"groupAdmin.id")===v.customerId()},this.setToken=function(e){L({tokenId:e})},this.getActiveToken=function(){return B.getGroupOrderHeader().activeToken||B.getToken()},this.setActiveToken=function(e){L({activeToken:e})},this.onGroupOrderChange=function(e,t){g.register(e,"groupOrderChangeEvent",function(){t(B.getGroupOrder())})},this.startParticipantOrder=function(){var e,t;B.isGroupOrder()&&(e=B.getGroupOrderHeader(),b.fetchConfig().then(function(t){return _.size(e.groupGuestOrders)>=+t.groupOrderMaxParticipants?(o.path(h.index),B.displayCapacityModal(),i.reject({})):void 0}).then(function(){U(),N(),t=u.getRangeInterval(),c.getCafes({cafeIds:[e.cafes[0].id]}).then(function(n){n&&(l.setOrderType(e.groupSummary.destination),u.startNewProcess(!0,!0,n[0]),u.setRangeInterval(t.now,t.later),u.setDeliveryInfo(e.delivery),u.setOrderWhen("Later"),u.setOrderTime(e.groupSummary.orderFulfillmentDT),u.setComplete(!0),B.trackGuestFlow("Initialization"),o.path(h.menu))})}))},this.startIndividualOrder=function(e){B.clearGroupOrder(),u.resetOrderProcess(),l.setOrderType("RPU"),d.start(!_.isUndefined(e),!0,e,!0)},this.determineClientType=function(){switch(m.getClientType()){case $.mobile:return I.mobile;default:return I.desktop}},this.goToDashboard=function(e,t){o.path(h.groupOrder.dashboard.replace(":groupOrderToken",e).replace(":participantToken?",t||""))},this.trackAdminFlow=function(e){S.trackAdminFlow(e)},this.trackGuestFlow=function(e){S.trackGuestFlow(e)},this.trackGroupOrderSize=function(){S.trackGroupOrderSize(B.getGuestOrdersCount())},this.trackAdminAction=function(e){S.trackAdminAction(e)},this.isGOExpiredError=function(e){return _.includes(e,T.EXPIRED)},this.isGOCancelledError=function(e){return _.includes(e,T.CANCELLED_OR_INVALID)},this.isGOCapacityError=function(e){return _.includes(e,T.MAX_CAPACITY)},this.isGOMaxAmountError=function(e){return _.includes(e,T.MAX_ORDER_AMOUNT)},this.isGOEnabledForCafe=function(e){return e=e||p.getCafe(),"YES"===e.HasGroupOrderDelivery||"YES"===e.HasGroupOrderPickup},this.handleGroupOrderErrors=function(e){B.isGOCapacityError(e)?B.displayCapacityModal():B.isGOMaxAmountError(e)?B.displayMaxOrderAmountModal():B.isGOCancelledError(e)&&B.displayCancelledModal()},this.validateIsBeforeDeadline=function(){var e,t,n=B.getGroupOrderHeader();return B.isGroupOrder()?(e=s.getCurrentTime().tz(n.cafes[0].cafeTZ),t=moment(n.groupSummary.orderCutoffDT),t.isAfter(e)?i.resolve():B.displayExpiredModal()["finally"](function(){return i.reject()})):i.resolve()},this.displayLeaveGroupOrderModal=function(){return y.show({size:"sm"},{headerText:void 0,bodyText:"LEAVE_GROUP_ORDER_CONFIRM",actionButtonText:"YES",closeButtonText:"NO"})},this.displayCapacityModal=function(){return y.show({size:"sm"},{headerText:"GROUP_ORDER_FULL",bodyText:"PARTICIPANT_LIMIT_REACHED",actionButtonText:"START_YOUR_ORDER",closeButtonText:"CLOSE"}).then(function(){B.startIndividualOrder()})},this.displayMaxOrderAmountModal=function(){return b.fetchConfig().then(function(e){return y.show({size:"sm"},{headerText:"GO_AMOUNT_LIMIT_REACHED",bodyText:"MAX_ORDER_LIMIT_REACHED",bodyTextVariables:["$"+e.goMaxOrderAmount],actionButtonText:"START_YOUR_ORDER",closeButtonText:"CLOSE"}).then(function(){B.startIndividualOrder()})})},this.displayExpiredModal=function(){return y.show({size:"sm"},{headerText:"GROUP_ORDER_IS_EXPIRED",bodyText:"GROUP_ORDER_ALREADY_PLACED",actionButtonText:"START_YOUR_ORDER",closeButtonText:"CLOSE"}).then(function(){B.clearGroupOrder(),B.startIndividualOrder()})["catch"](function(){B.clearGroupOrder(),o.path(h.index)})},this.displayCancelledModal=function(){return y.show({size:"sm"},{headerText:"GO_CANCELLED_HEADER",bodyText:"GO_CANCELLED_BODY",actionButtonText:"START_YOUR_ORDER",closeButtonText:"CLOSE"}).then(function(){B.clearGroupOrder(),B.startIndividualOrder()})},this.addGoHttpInterceptorFilter=function(){var e,t=["tax/calculator","hours","order/submit"],n=t.length;C.addFilter("goBusUnit",function(r){if(r.url)for(e=0;n>e;e+=1)if(r.url.indexOf(t[e])>=0){r.params=r.params||{},r.params.busUnit=A.GROUP_ORDER;break}return r})},this.removeGoHttpInterceptorFilter=function(){C.removeFilter("goBusUnit")},E.onLoggedInChangeOnly(e,function(e){e||k()}),this.trackGoOrder=function(e){return B.displayLeaveGroupOrderModal().then(function(){B.clearGroupOrder(),u.resetOrderProcess(),r.location.href=e})},B.isGroupOrder()&&(U(),N())}t.$inject=["$rootScope","$http","$filter","$window","$q","$location","locker","cafeHours","cafeSearchService","orderTypeService","orderFlowService","orderFlowFactory","cafeLocatorFactory","mediaFactory","apiUrls","routes","eventHandler","userService","modalService","configService","loginService","goHttpInterceptorFilterService","analyticsService","groupOrderSizes","goErrors","goClientTypes","goMinParticipants","busUnit","clientTypes"],e.module("paneraOrdering.groupOrder.groupOrderService",["angular-locker","common.services.cafeHours","common.services.cafeSearchService","common.services.orderTypeService","common.services.orderFlowService","common.services.loginService","common.factories.orderFlowFactory","common.factories.cafeLocator","common.factories.media","common.services.userService","common.utilities.constants","common.utilities.filters","common.services.eventHandler","common.services.modalService","common.services.configService","paneraOrdering.groupOrder.goHttpInterceptor.goHttpInterceptorFilterService","common.services.analytics","paneraOrdering.groupOrder.constants"]).service("groupOrderService",t)}(window.angular),function(e){"use strict";e.module("menu.category",["category.html","common.services.menuService","menu.placard.service"]).directive("category",["$route","menuService","placardService","$q",function(e,t,n,r){return{restrict:"E",scope:{category:"<"},templateUrl:"category.html",link:function(i){function o(){var n=e.current&&e.current.params&&e.current.params.category||-1;return+i.category.catId===+n?!0:t.getMyParentCategory(n)&&+t.getMyParentCategory(n).catId===+i.category.catId?!0:!1}function a(e){return t.isComboCategory(e)||!_.get(e,"placards")||_.size(n.fetchPlacardData(e.placards))>0}var s=r.defer(),c=r.defer();i.categoryData={},i.isSelected=!1,i.setCategory=function(){t.setCategory(+i.category.catId)},t.onCategoryDataChange(function(e){i.categoryData=_.find(e,{catId:+(i.category&&i.category.catId)}),_.isUndefined(i.categoryData)||(i.isSelected=o()),s.resolve()}),t.onPlacardDataChange(function(){c.resolve()}),r.all([c.promise,s.promise]).then(function(){i.categoryData=a(i.categoryData)?i.categoryData:void 0})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){return{restrict:"E",scope:{comboData:"=",formatItem:"&",pickItem:"&",sides:"=",customizeItem:"&",orderItem:"="},templateUrl:"comboSummary.html",link:function(c){function l(e){var t={};return _.isEmpty(c.selectedSide)||(t={id:c.selectedSide.id||c.selectedSide.itemId,i18nName:c.selectedSide.i18nName,price:c.selectedSide.price,itemType:"side",itemQty:1,hasCustomizations:!1,allowSpecialInstr:!1,calories:{value:0,unit:"",i18nName:""}},e.items.push(t)),e}function u(){var e,t,n,i=c.formatItem({product:c.comboData,isCombo:!0}),s=0;i.itemType="combo",i.hasCustomizations=!1,i.allowSpecialInstr=!1,i.items=[],i.sides=c.sides,i.calories={value:0},e=r.getComboItems(),_.forEach(_.filter(e,"hasItem"),function(e){i.items.push(e.item),i.calories.value+=e.item.calories.value,i.calories.unit=e.item.calories.unit,i.calories.i18nName=e.item.calories.i18nName}),t=function(){s+=1,i=l(i),o.fetchCartPricing({cart:[i]},!1,s).then(function(e){e.requestId===s&&e&&e.summary&&(i.price=e.summary.subTotal)})["finally"](function(){c.cartItem=i})},n=function(){return _.some(i.items,{isProductStockout:!0})},a.updateCartItemsAvailability([i]).then(function(e){e&&(c.cartItem=e.items[0],c.hasUnavailableItems=e.hasUnavailableItems||n())})["finally"](t)}function d(){r.resetComboItems(),r.resetComboSide(),r.resetSelectedCombo(),r.resetEditingCombo(),e.path(i.menu)}function p(){_.isEmpty(c.cartItem)||(c.isSubmitted=!0,c.cartItem.categorialContext=t.translateCategorialContext({parent:c.comboData.i18nName}),n.addItem(c.cartItem,r.getEditingComboIndex()),d())}function m(e){c.selectedSide=_.isEmpty(e)?{}:e,r.setComboSide(c.selectedSide)}c.cartItem={},c.isSubmitted=!1,r.onComboItemChange(c,function(e){_.forEach(e,function(e){e.item.itemType="product",
e.item.isComboItem=!0,e.item.isCustomizable=n.isCustomizable(e.item)}),c.comboItems=e}),s.onViewPortChange(c,function(e){c.isMobile=e}),c.cancel=d,c.order=p,c.updateSide=m,_.isUndefined(r.getComboItems())&&r.resetComboItems(),_.isUndefined(r.getComboSide())&&r.resetComboSide(),c.selectedSide=r.getComboSide(),c.hasUnavailableItems=!1,c.$watch("orderItem",function(e){e===!0&&p()}),c.$watch("[comboItems, selectedSide]",function(){u()},!0)}}}t.$inject=["$location","placardService","cartService","comboService","routes","pricingService","menuService","mediaFactory"],e.module("menu.comboSummary",["comboSummary.html","placardComponentStockout.html","common.directives.sideChoice","common.services.cartService","common.services.comboService","common.services.menuService","menu.placard.service","common.services.pricingService","common.factories.media","common.utilities.constants","common.utilities.translate","ngAnimate","ui.bootstrap.popover","ui.bootstrap.tpls"]).directive("comboSummary",t)}(window.angular),function(e){"use strict";e.module("menu.menuContent",["menuContent.html","preorder.html","common.factories.orderFlowFactory","common.factories.cafeLocator","common.services.cartService","common.services.comboService","common.services.errorModalService","common.services.menuService","common.services.imageService","menu.placard.redirectPlacard.service","menu.placard.service","common.utilities.constants","common.utilities.modals.comboModal","common.utilities.filters","common.utilities.translate","menu.menuContent.categories.parentCategory","menu.menuContent.categories.curatedCategory","menu.menuContent.categories.subCategory","menu.placard","menu.comboSummary","common.services.analytics","ngRoute"]).directive("menuContent",["$location","$q","$routeParams","$document","cafeHours","cartService","comboService","errorModalService","menuService","messagesService","modalService","redirectPlacardService","orderFlowFactory","routes","imageService","cafeLocatorFactory","analyticsService","$filter","highSodiumMsg","paneraUrls","placardService",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E){return{restrict:"E",replace:!1,scope:{selectCategory:"&",customizeItem:"&",formatItem:"&",items:"=",categoryItems:"=",categoryId:"=",isRewards:"=",menuSearch:"=",isUpsell:"="},templateUrl:"menuContent.html",link:function(C){function S(){if(C.menuSearch&&C.menuSearch.length>=3){var e=_.clone(H),t=[],n=a.getComboItems(),r=a.getSelectedCombo(),i=r&&r.placards,o=i&&n&&n[0];o?_.forEach(i,function(n){t=t.concat(_.filter(e,{plcId:n}))}):t=e,t=v("menuSearch")(t,C.menuSearch),g.trackMenuSearch(C.menuSearch),C.placards=t,C.isLoading=!1}else C.placards=j,f.lazyLoader(C);f.lazyLoadRender()}function w(e,t){var n,r=[];_.forEach(e,function(e){n=void 0,n=t?c.getMyPlacard(e):_.find(H,{plcId:e}),n&&C.isRewards&&!a.getSelectedCombo()&&(n.optSets=_.filter(n.optSets,function(t){return t.itemId===e})),_.isEmpty(n)||r.push(n)}),C.placards=_.uniqBy(r,"plcId"),j=C.placards,S()}function T(e){var t=a.getComboItems()[C.nextItem],n=t&&t.comboGroup||t&&t.item&&t.item.comboGroup;return e.isDisabled&&n!==e.comboId}function I(e){T(e)||(w(e.placards),a.setSelectedCombo(e))}function O(){var e={};_.forEach(a.getComboItems(),function(t){var n=t.comboGroup||t.item&&t.item.comboGroup;_.isUndefined(n)||(_.isUndefined(e[n])&&(e[n]=0),e[n]=e[n]+1)}),_.forEach(C.comboCategories,function(t){t.isDisabled=!1,(t.maxAllowed||999)<=(e[t.comboId]||0)&&(t.isDisabled=!0)})}function A(){return _.some(C.comboCategories,function(e){return _.size(e.placards)>0?(I(e),!_.isEmpty(C.placards)):!1})}function $(e){var t=_.map(e,function(e){return c.getMyCategory(e)}),n=[];return _.forEach(t,function(e){n=e.placards,e.placards=[],e.placards=_.compact(_.map(n,function(e){return _.find(H,{plcId:e})}))}),t}function D(){_.isUndefined(C.comboData)?C.sides={}:C.sides=C.comboData.sides}function x(){H&&(_.isEmpty(C.comboData)?C.categoryData&&C.categoryData.placards?w(C.categoryData.placards):C.categoryData&&C.categoryData.catOrder?C.categories=$(C.categoryData.catOrder):_.isUndefined(C.categoryItems)?C.placards=_.filter(B,"isNavigable"):C.placards=_.compact(_.map(C.categoryItems,function(e){return _.find(B,{catId:+e.catId})})):a.getSelectedCombo()&&_.includes(C.comboData.comboGroups,a.getSelectedCombo().comboId)?I(a.getSelectedCombo()):_.isUndefined(C.comboData.placards)?_.size(C.comboCategories)>0?A():I({}):w(C.comboData.placards),j=C.placards,C.isLoading=!1,D())}function R(){C.comboData=void 0;var e;if(!_.isEmpty(G)&&C.categoryData&&C.categoryData.comboId){for(C.comboData=_.find(G,{comboId:C.categoryData.comboId}),_.size(a.getComboItems())>C.comboData.maxAllowed&&a.resetComboItems(),e=_.size(a.getComboItems());e<(C.comboData.maxAllowed||0);e+=1)a.setComboItems({hasItem:!1});C.nextItem=_.findIndex(a.getComboItems(),{hasItem:!1}),C.comboCategories=[],_.forEach(C.comboData.comboGroups,function(e){var t=_.find(G,{comboId:e});_.isUndefined(t)||C.comboCategories.push(t)}),O(),x(),_.forEach(C.comboData.sides.sideItems,function(e){e.calories=e.nutrients[0]})}}function k(){var t=C.categoryId||n.category;B&&!_.isUndefined(t)&&(C.categoryData=_.find(B,{catId:+t}),_.isUndefined(C.categoryData)?e.path(m.menu):(R(),x()))}function P(e,n){var r=C.formatItem({product:e,item:n});return e.hasCustomizations?c.fetchCustomizationData(r.id).then(function(e){return e&&(r.selectedComponents=o.getDefaultComponents(e)),o.addItem(r)})["catch"](function(){return s.showAPIFailModal("CUSTOMIZATION_UNAVAILABLE"),t.reject(["CUSTOMIZATION_UNAVAILABLE"])}):o.addItem(r)}function N(e,t){var n,r,i=a.getComboItems(),s=_.isUndefined(t)?C.nextItem:t;o.isComboItemValid(e)&&(t>=0||C.nextItem>=0)&&i&&i[s]&&(i[s].item=e,i[s].hasItem=!0,i[s].comboGroup=c.getComboGroup(e,C.comboData.comboGroups),a.setComboItemsAtIndex(i[s],s),O(),_.isUndefined(t)&&(C.nextItem=_.findIndex(a.getComboItems(),{hasItem:!1}),C.nextItem<0&&(C.viewSummary=!0,C.hasSummary=!0),n=a.getSelectedCombo().nextComboId,n&&(r=_.find(C.comboCategories,{comboId:n}),I(r),_.isEmpty(C.placards)&&A())))}function M(e,t){C.customizeItem({item:e,addItem:function(e){_.isEmpty(C.comboData)?o.addItem(e,t):N(e,t)}})}function L(e,n,r){var i;return _.isEmpty(n.preorderCustomizations)||r?p.completeOrderFlow().then(function(){return C.comboData?C.nextItem>=0?(i=C.formatItem({product:e,item:n,isCombo:!0}),e.hasCustomizations?c.fetchCustomizationData(i.id).then(function(e){i.selectedComponents=o.getDefaultComponents(e),N(i),window.utilities.blurActiveElement()})["catch"](function(){return s.showAPIFailModal("CUSTOMIZATION_UNAVAILABLE"),t.reject(["CUSTOMIZATION_UNAVAILABLE"])}):(N(i),t.when())):t.reject():P(e,n)}):u.show({controller:"PreorderController",templateUrl:"preorder.html",size:"sm"},{item:n,product:e,orderItem:L,customizeItem:M})}function U(e){var t,n,r,i=a.getComboItems()[e];!_.isUndefined(i)&&i.hasItem&&(_.isUndefined(i.comboGroup)&&(n=c.getMyPlacard(i.item.id).plcId,i.comboGroup=(_.find(C.comboCategories,{placards:[n]})||{}).comboId),t=_.find(C.comboCategories,{comboId:i.comboGroup}),t||(r=i&&i.comboGroup||i&&i.item&&i.item.comboGroup,t=_.find(C.comboCategories,{comboId:r})),C.nextItem=e,C.viewSummary=!1,C.hasSummary=!1,I(t||C.comboCategories[0]))}function F(){C.hasSummary&&(C.viewSummary=!0,C.nextItem=-1)}var G,B,H,j;C.getPlacardColumns=E.getPlacardColumns,C.menu={menuSearch:""},C.isSodiumMessageEnabled=h.isFeatureEnabled(y),C.sodiumIconImgUrl=b.sodiumWarningIcon,C.isUpsell?f.lazyLoader(C,r.find(".row.artisan-scroll")[0]):f.lazyLoader(C),C.isItem=E.isItem,C.isLoading=!0,C.hasSummary=_.isEmpty(a.getComboItems())?!1:_.findIndex(a.getComboItems(),{hasItem:!1})<0,C.viewSummary=C.hasSummary,C.comboCategories=[],C.shouldOrderItem=!1,C.setSelectedCombo=I,C.orderItem=L,C.setNextItem=U,C.viewSummaryPage=F,C.addItemToCart=P,C.customize=M,C.shouldDisableGroup=T,C.resetCombo=function(){C.comboItems=a.resetComboItems(),a.resetComboSide(),a.resetSelectedCombo(),a.resetEditingComboIndex()},C.isRedirectPlacard=function(e){return d.isRedirectPlacard(e)},a.onComboItemChange(C,function(e){C.comboItems=e}),a.onSelectedComboChange(C,function(e){C.selectedCombo=e,C.$evalAsync(function(){C.$applyAsync(f.lazyLoadRender)})}),h.onCafeChangeOnly(C,function(){C.selectedCombo&&C.resetCombo()}),_.isEmpty(C.items)?(C.$on("$locationChangeStart",function(t,n){_.size(_.filter(a.getComboItems(),"hasItem"))>0&&C.categoryData&&C.categoryData.i18nName?(t.preventDefault(),u.show({templateUrl:"comboModal.html",controller:"ComboModalController",backdrop:"static",size:"sm"},{minRequirementsMet:C.hasSummary,comboName:C.categoryData&&C.categoryData.i18nName}).then(function(t){switch(t){case"leave":var r=n.split("//"),i=r[1];i=i.substr(i.indexOf("/")),C.resetCombo(),e.path(i);break;case"review":F();break;case"order":F(),C.shouldOrderItem=!0}})):C.resetCombo()}),_.isUndefined(a.getComboItems())&&(C.comboItems=a.resetComboItems()),c.onCategoryDataChange(function(e){B=e,k(),C.$applyAsync(f.lazyLoadRender)}),c.onComboDataChange(function(e){G=e,R(),C.$applyAsync(f.lazyLoadRender)}),c.onPlacardDataChange(function(e){H=e,x(),C.$applyAsync(f.lazyLoadRender)},!0)):(c.onPlacardDataChange(function(e){H=e,w(C.items,!0),C.isLoading=!1,C.$applyAsync(f.lazyLoadRender)},!0),C.$watch("items",function(e){_.isUndefined(H)||(w(e,!0),C.isLoading=!1)},!0)),C.$watch("categoryData",function(e){if(!_.isUndefined(e)){var t=l.getMessages({useModal:!1,categoryId:e.catId});C.messages=_.filter(t,function(e){return _.isObject(e)&&i.validOrderDateTime(e.messageStartDate,e.messageEndDate)})}},!0),C.$watch("menuSearch",function(){S()})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i){return{restrict:"E",replace:!0,scope:{menuSearch:"="},templateUrl:"menuNav.html",link:function(o){function a(e){var t,r,a="";_.isUndefined(n.category)&&_.isUndefined(n.myPanera)?(o.mainMenuSelected=!0,a="OUR_MENU"):(o.mainMenuSelected=!1,t=n.category||n.myPanera,r=_.find(e,{catId:+t})||_.find(i,{key:t}),a=r&&r.i18nName||"OUR_MENU"),o.selectedCategory=a}o.categories=[],o.loggedIn=!1,o.isSelected=!1,o.routes=r,o.clearMenuSearch=function(){o.menuSearch=""},t.onLoggedInChange(o,function(e){o.loggedIn=e}),o.mainMenuSelected=_.isUndefined(n.category)&&_.isUndefined(n.myPanera),e.onCategoryDataChange(function(e){o.categories=_.sortBy(_.filter(e,"isNavigable"),"sortWeight"),o.curatedIndex=_.findLastIndex(o.categories,"curation"),a(o.categories)})}}}t.$inject=["menuService","loginService","$routeParams","routes","accountPages"],e.module("menu.menuNav",["menuNav.html","myPaneraNav.html","menu.category","menu.menuNav.myPaneraNav","common.services.menuService","common.services.loginService","common.factories.cafeLocator","ngRoute"]).directive("menuNav",t)}(window.angular),function(e){"use strict";var t=e.module("menu.placard.constants",[]);t.constant("typeConstants",{redirect:"REDIRECT",flatbread:"FLATBREAD",yp2:"YP2",curated:"CURATED"}),t.constant("placardColumns",{categoryPlacard:"col-md-4 col-sm-6 col-xs-6 category",itemPlacard:"col-md-4 col-sm-6 col-xs-12",curatedPlacard:"curated col-xs-12"}),t.constant("placardTypes",{curated:"CURATED",category:"CATEGORY",redirect:"REDIRECT",item:"ITEM","default":"CATEGORY"})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m){function f(){return!(_.isEmpty(I.item.optSets)||Boolean(I.isProductStockout)||Boolean(I.hasSizeStockout))&&Boolean(I.item.hasCustomizations||I.item.allowSpecialInstr)}function h(){return!(_.isEmpty(I.item.optSets)||Boolean(I.isProductStockout)||Boolean(I.hasSizeStockout)||Boolean(I.hasStockoutComponent)||Boolean(I.hasStockoutSide))&&Boolean(I.item.isOrderable)}function g(){return!_.isUndefined(I.comboNumber)}function v(){h()&&(g()||(I.showOverlay=!0,t(function(){I.showOverlay=!1},850,1,!0)),I.isSubmitDisabled=!0,I.orderItem({product:I.item,item:I.item.optSets[I.selected.opt]})["finally"](function(){I.isSubmitDisabled=!1}))}function y(){f()&&(I.item.optSets[I.selected.opt].isComboItem=g(),I.item.optSets[I.selected.opt].plcId=I.item.plcId,I.item.optSets[I.selected.opt].i18nDesc=I.item.i18nDesc,I.customizeItem({item:I.item.optSets[I.selected.opt]}))}function b(){I.isRewards?I.selectCategory(I.item):I.isItem(I.item)||i.setCategory(I.item.catId)}function E(){I.hasSizeStockout=Boolean(!_.isUndefined(I.selected.opt)&&I.item&&I.item.optSets&&$[I.item.optSets[I.selected.opt].itemId]&&$[I.item.optSets[I.selected.opt].itemId].isStockedOutForOrderTime),I.hasStockoutSide=Boolean(I.item&&I.item.defaultSide&&$[I.item.defaultSide.itemId]&&$[I.item.defaultSide.itemId].isStockedOutForOrderTime)}function C(){E(),I.isCustomizable=f(),I.isOrderable=h()}function S(e){I.selected.opt=e,C(),I.highSodiumFlag=I.item.optSets[I.selected.opt].highSodiumFlag}function w(){_.isEmpty(I.categorialContext)||(I.item.categorialContext=p.translateCategorialContext(I.categorialContext))}function T(){I.isNotValidAssortment=I.hasStockoutComponent&&_.some(I.item.optSets,function(e){return"ASSORTMENT"===e.menuItemType})}var I=this,O=e.defer(),A=!0,$={};I.isOpen=!1,I.paneraUrls=a,I.isSubmitDisabled=!1,I.placardBlank=s.placards.blank,I.lazyLoadRender=c.lazyLoadRender,I.highSodiumFlag=I.item&&I.item.optSets&&I.item.optSets[0].highSodiumFlag,I.isSodiumMessageEnabled=l.isFeatureEnabled(u),I.sodiumIconImgUrl=a.sodiumWarningIcon,I.isRedirectPlacard=o.isRedirectPlacard,I.isCuratedPlacard=p.isCurated,I.i18nNames=[],I.selected={opt:0},I.isProductStockout=!1,I.hasStockoutComponent=!1,I.hasSizeStockout=!1,C(),n.onStockoutChange(d,function(e){var t=e.placard[I.item.plcId];$=e.item,I.isProductStockout=Boolean(t&&t.isProductStockout&&t.isStockedOutForOrderTime),I.hasSizeStockout=Boolean(t&&_.includes(t.stockedOutOptSetIds,I.item.optSets[I.selected.opt].itemId)),I.hasStockoutComponent=Boolean(t&&t.hasStockoutComponent&&t.isStockedOutForOrderTime),T(),A||C(),O.resolve()}),r.onViewPortChange(d,function(e,t){I.trigger=e||t?"click":"mouseenter"}),e.when(O.promise).then(function(){A=!1,C()}),I.isItem=p.isItem,I.orderClick=v,I.customizeClick=y,I.categoryClick=b,I.setSelectedOpt=S,I.setCategory=i.setCategory,I.$onInit=function(){I.placardTypes=m,I.placardType=p.getPlacardType(I.item),w()}}t.$inject=["$q","$interval","stockoutFactory","mediaFactory","menuService","redirectPlacardService","paneraUrls","staticImages","imageService","cafeLocatorFactory","highSodiumMsg","$scope","placardService","placardTypes"],e.module("menu.placard",["placard.html","preorder.html","placardNutrition.html","placardDescription.html","placardComponentStockout.html","ngAnimate","common.factories.stockoutFactory","common.factories.media","common.services.menuService","menu.placard.redirectPlacard.service","common.utilities.filters","common.utilities.constants","menu.placard.service","menu.placard.curatedPlacard.component","menu.placard.constants","menu.placard.redirectPlacard","ui.bootstrap.popover","ui.bootstrap.tpls","menu.placard.itemPlacard.component","menu.placard.categoryPlacard.component"]).component("placard",{templateUrl:"placard.html",controller:t,bindings:{comboNumber:"=",item:"=",isRewards:"=",selectCategory:"&",customizeItem:"&",orderItem:"&",categorialContext:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(e){return!c.isItem(e)&&!_.isUndefined(e.catId)&&!t.isRedirectPlacard(e)}var s,c=this;this.fetchPlacardData=function(e,t){var r=[];return _.forEach(e,function(e){var i;i=t?n.getMyPlacard(e):_.find(s,{plcId:e}),_.isEmpty(i)||r.push(i)}),_.uniqBy(r,"plcId")},this.convertPlacardIds=function(e){return _.forEach(e,function(e){e.availabePlacards=c.fetchPlacardData(e.placards,!1)})},this.buildSubCategories=function(e){var t=[];return _.forEach(e.catOrder,function(e){t.push(n.getMyCategory(e))}),c.convertPlacardIds(t,!1)},this.isCurated=function(e){return e.menuItemType===r.curated},this.isItem=function(e){return!_.isUndefined(e)&&!_.isUndefined(e.plcId)&&_.isUndefined(e.catId)},this.getPlacardType=function(e){return a(e)?o.category:c.isCurated(e)?o.curated:t.isRedirectPlacard(e)?o.redirect:o.item},this.getPlacardColumns=function(e){return t.isRedirectPlacard(e)?t.figureRedirectColumnClass(e.columnSpan):c.isItem(e)&&!c.isCurated(e)?i.itemPlacard:c.isCurated(e)?i.curatedPlacard:i.categoryPlacard},this.figureCategorialContext=function(e){var t=n.getMyParentCategory(_.get(e,"catId"));return _.has(e,"catId")&&!_.isEmpty(t)?{parent:t.i18nName,sub:e.i18nName}:_.has(e,"i18nName")?{parent:e.i18nName}:{}},this.translateCategorialContext=function(t){return t.sub?e.translate(t.parent)+" - "+e.translate(t.sub):e.translate(t.parent)},n.onPlacardDataChange(function(e){s=e})}t.$inject=["localeService","redirectPlacardService","menuService","typeConstants","placardColumns","placardTypes"],e.module("menu.placard.service",["menu.placard.redirectPlacard.service","common.services.localeService","common.services.menuService","menu.placard.constants"]).service("placardService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g){function v(){y.hasCafeOrDelivery=y.isDelivery?_.get(y,"delivery.address1"):_.get(y,"cafe.City")}var y=this,b=a("orderTimeDisplay"),E=c.orderFulfillAt(),C=n.getRangeInterval();y.checkout=function(){l.path(u.checkout)},y.changeOrderInfo=function(e){if(y.hasCafeOrDelivery){var t=r.getOrderTypeDetails();_.indexOf(t.steps,e)<0&&(e=t.steps[0]),d.change(e)}else d.start()},y.$onInit=function(){y.cafe={},y.subtotal=0,y.itemCount=0,y.expand=!1,y.customizeItem=g.customizeItem,y.isDelivery=r.isDelivery(y.orderType),y.delivery=n.getDeliveryInfo(),y.cartInactiveIcon=o.image.pawIcons+"cart-inactive.svg"+o.image.renditions.original,y.cartActiveIcon=o.image.pawIcons+"cart.svg"+o.image.renditions.original,y.context={orderProcessComplete:n.isComplete(),orderType:r.getOrderTypeDetails().i18nName,orderTypeImgSrc:r.getOrderTypeDetails().imgSrc,orderWhen:n.getOrderWhen(),date:E.format(s.date),time:b(E,C.later,s.time),rangeInterval:C,leadTime:c.getLeadTime(),leadTimeRange:c.getLeadTimeRange(),cafe:t.getCafe(),delivery:n.getDeliveryInfo(),tableNumber:n.getTableNumber()},y.goDetailsOptions={isViewOrderButton:!1},y.staticImages=m,y.isGroupOrder=p.isGroupOrder(),y.isInvalidCart=!1,v(),t.onCafeChange(e,function(e){y.cafe=e,v()}),i.onI18nDataChange(e,function(){var e=a("translate");y.orderType=e(r.getOrderTypeDetails().i18nName),y.i18n={ORDER_DETAILS:e("ORDER_DETAILS"),GROUP_ORDER:e("GROUP_ORDER"),CLICK_TO_START_ORDERING:e("CLICK_TO_START_ORDERING"),ORDER_TYPE:e("ORDER_TYPE:"),DATE:e("DATE:"),TIME_READY:e("TIME_READY:"),EXPECTED_DELIVERY_TIME:e("EXPECTED_DELIVERY_TIME"),ABOUT:e("ABOUT"),AFTER_CHECKOUT:e("AFTER_CHECKOUT"),TABLE_NUMBER_TITLE:e("TABLE_NUMBER_TITLE"),CAFE_ADDRESS:e("CAFE_ADDRESS:"),DELIVERY_ADDRESS:e("DELIVERY_ADDRESS"),VIEW_DETAILS:e("VIEW_DETAILS"),NAME:e("NAME"),CHECKOUT:e("CHECKOUT"),EDIT:e("EDIT"),SELECT_CAFE:e("SELECT_CAFE"),SELECT_DATE_AND_TIME:e("SELECT_DATE_AND_TIME"),SELECT_ADDRESS:e("SELECT_ADDRESS"),TIME:e("TIME"),SELECT_TABLE_NUMBER:e("SELECT_TABLE_NUMBER")}}),n.onCompletedChange(e,function(e){y.context.orderProcessComplete=e}),r.onOrderTypeChange(e,function(){y.context.orderType=r.getOrderTypeDetails().i18nName,y.context.orderTypeImgSrc=r.getOrderTypeDetails().imgSrc,y.isDineIn=r.isDineIn(),y.isDelivery=r.isDelivery(),y.isRapidPickup=r.isRapidPickup(),v()}),n.onOrderTimeChange(e,function(){E=c.orderFulfillAt(),C=n.getRangeInterval(),y.context.date=E.format(s.date),y.context.time=b(E,C.later,s.time)}),f.onCafeAvailabilityChange(e,function(){E=c.orderFulfillAt(),C=n.getRangeInterval(),y.context.date=E.format(s.date),y.context.time=b(E,C.later,s.time),y.context.leadTime=c.getLeadTime(),y.deliveryMinimum=+t.getMinDeliveryAmount()}),h.onCartChange(e,function(e){y.cart=e,y.subtotal=0,_.forEach(y.cart,function(e){y.subtotal+=e.price}),y.itemCount=y.cart.length,y.validationErrors=h.getValidationErrors(),y.itemsExceedingQtyLimit=h.getItemsExceedingQtyLimit(),y.showCart=y.itemCount>0&&y.showCart,y.hasNotMetDeliveryMinimum=y.isDelivery&&y.subtotal<=y.deliveryMinimum,y.isInvalidCart=0===y.itemCount||!_.isEmpty(y.itemsExceedingQtyLimit)||!_.isEmpty(y.validationErrors)||y.hasNotMetDeliveryMinimum})}}t.$inject=["$scope","cafeLocatorFactory","orderFlowService","orderTypeService","localeService","apiUrls","$filter","dateTimeFormats","cafeHours","$location","routes","orderFlowFactory","groupOrderService","staticImages","cafeAvailabilityFactory","cartService","menuService"],e.module("paneraOrdering.navbar.orderHeader",["orderHeader.html","common.factories.cafeAvailabilityFactory","common.factories.cafeLocator","common.services.cartService","common.services.menuService","common.services.localeService","common.factories.orderFlowFactory","common.services.orderFlowService","common.services.orderTypeService","common.services.cafeHours","common.utilities.constants","common.utilities.filters","common.components.imageLink","paneraOrdering.groupOrder.goDetails","paneraOrdering.groupOrder.groupOrderService"]).component("orderHeader",{templateUrl:"orderHeader.html",controller:t})}(window.angular),function(e){"use strict";e.module("orderCancellation.cancelOrderDetails",["cancelOrderDetails.html","common.utilities.constants","common.utilities.translate"]).directive("cancelOrderDetails",["dateTimeFormats",function(e){return{restrict:"E",scope:{orderDetails:"="},templateUrl:"cancelOrderDetails.html",link:function(t){t.numItems=_.size(t.orderDetails.items),t.date=moment(t.orderDetails.dates.ordFulfill).format(e.date)}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){u.subscriptions=[],u.subscribeToAllLists=!1,u.loadingPromise=o.getEmailSubscriptions().then(function(e){if(e.subscriptions){var n=_.get(t.getEmails(),"[0]"),r=t.getEmailGlobalOpt(),i=n&&_.get(n,"isOpt",void 0)||r?r||n.isOpt:!1;u.subscriptions=e.subscriptions,u.subscribeToAllLists=i,u.subscriptionsOptedIn=i,_.forEach(u.subscriptions,function(e){e.originalIsSubscribed=i&&e.isSubscribed,e.isSubscribed||(u.subscribeToAllLists=!1,u.subscriptionsOptedIn=!1)}),u.subscriptionsHaveChanged=!1}})}function l(){r.onI18nDataChange(e,function(){u.i18n={SAVE_CHANGES:d("SAVE_CHANGES"),SUBSCRIBE_TO_PANERAS_NEWSLETTER:d("SUBSCRIBE_TO_PANERAS_NEWSLETTER"),WOULD_YOU_LIKE_TO_RECEIVE_EMAILS:d("WOULD_YOU_LIKE_TO_RECEIVE_EMAILS"),YES_ID_LIKE_TO_RECEIVE_EMAILS:d("YES_ID_LIKE_TO_RECEIVE_EMAILS"),PANERA_EMAILS_INCLUDING_BONUS_REWARDS:d("PANERA_EMAILS_INCLUDING_BONUS_REWARDS"),SUBSCRIBE:d("SUBSCRIBE"),SUBSCRIBED:d("SUBSCRIBED"),UNSUBSCRIBE:d("UNSUBSCRIBE")},a.onUserLoaded(e,function(e){e?c():u.subscriptions=[]})})}var u=this,d=n("translate");u.checkForSubscriptionChanges=function(e){u.subscriptionsHaveChanged=!1,_.forEach(e,function(e){e.isSubscribed=u.subscribeToAllLists}),_.forEach(e,function(e){return e.isSubscribed!==e.originalIsSubscribed?(u.subscriptionsHaveChanged=!0,!1):void 0})},u.saveSubscriptions=function(e){_.forEach(e,function(e){e.isSubscribed=u.subscribeToAllLists}),u.subscriptionErrors=[],u.loadingPromise=o.updateSubscriptions(t.customerId(),e).then(function(){u.subscriptionsOptedIn=!0,_.forEach(e,function(e){e.originalIsSubscribed=e.isSubscribed,e.isSubscribed||(u.subscriptionsOptedIn=!1)}),u.subscriptionsHaveChanged=!1,u.subscribeToAllLists?i.trackEvent(s.liteEmailOptIn.category,s.liteEmailOptIn.action,s.liteEmailOptIn.label):i.trackEvent(s.liteEmailOptOut.category,s.liteEmailOptOut.action,s.liteEmailOptOut.label)})["catch"](function(e){u.subscriptionErrors=e})},u.$onInit=function(){l()}}t.$inject=["$scope","userService","$filter","localeService","analyticsService","myCommunicationPreferencesService","loginService","liteEmailOptInConstants"],e.module("orderConfirmation.liteEmailOptIn.component",["liteEmailOptIn.html","common.services.userService","common.utilities.translate","common.services.localeService","common.services.analytics","paneraOrdering.myCommunicationPreferences.service","paneraCommonUi.common.loading","common.utilities.filters","common.services.loginService","orderConfirmation.liteEmailOptIn.constants"]).component("liteEmailOptIn",{templateUrl:"liteEmailOptIn.html",controller:t})}(window.angular),function(e){"use strict";e.module("orderConfirmation.liteEmailOptIn.constants",[]).constant("liteEmailOptInConstants",{liteEmailOptIn:{category:"Email Subscriptions",action:"Lite Email Opt In",label:"Opt In"},liteEmailOptOut:{category:"Email Subscriptions",action:"Lite Email Opt In",label:"Opt Out"}})}(window.angular),function(e){"use strict";e.module("orderFlow.customerList",["common.services.modalService","customerList.html","common.utilities.translate"]).controller("CustomerListController",["$scope","$uibModalInstance","modalOptions",function(e,t,n){e.users=n.users,e.selected={},e.selected.user=e.users[0].username,e.cancel=function(){t.dismiss("cancel")},e.signIn=function(){t.close(e.selected.user)}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(e){m.recovered=e.success,_.isEmpty(e.errors)||_.forEach(e.errors,function(e){m.emailErrors.push(e)}),n.disableSubmit(m.emailForm,!1)}function u(){var e={},t={};t[tv4.errorCodes.STRING_PATTERN]="CC_EMAIL_INVALID_FORMAT",m.emailOptions={formDefaults:{validationMessage:e}},m.emailSchema={type:"object",required:["email"],properties:{email:{type:"string",pattern:s.validEmail}}},m.emailErrors=[],m.emailForm=[{type:"formErrors",errors:m.emailErrors},{type:"section",htmlClass:"row",items:[{key:"email",type:"email",title:"EMAIL_ADDRESS",placeholder:"EMAIL_ADDRESS",htmlClass:"col-xs-12",isMaterial:!0,validationMessage:t}]},{type:"section",htmlClass:"row",items:[{type:"submit",title:"SUBMIT",htmlClass:"submit",style:"pnra-btn",readonly:!1}]}],m.emailModel={email:_.get(m,"resolve.modalOptions.response.emailAddress","")},n.preProcess(m.emailOptions,m.emailForm),_.isUndefined(m.resolve.modalOptions.response)||l(m.resolve.modalOptions.response)}function d(t){n.clearArray(m.emailErrors),e.$broadcast("schemaFormValidate"),(!t.$valid||_.isUndefined(m.emailModel.email))&&m.emailErrors.push("CC_EMAIL_INVALID_FORMAT")}function p(){r.onI18nDataChange(e,function(){m.i18n={FORGOT_PASSWORD:f("FORGOT_PASSWORD"),WE_WILL_SEND_EMAIL:f("WE_WILL_SEND_EMAIL"),EMAIL_HAS_BEEN_SENT_TO:f("EMAIL_HAS_BEEN_SENT_TO"),CLOSE:f("CLOSE"),SIGN_IN:f("SIGN_IN"),RETURN_TO:f("RETURN_TO")},u()})}var m=this,f=t("translate"),h=!1;m.recovered=!1,m.useEmailToRecover=!0,this.signIn=function(){h=!0,m.modalInstance.close()},m.cancel=function(){m.modalInstance.dismiss("cancel")},m.recoverPasswordByEmail=function(e){a.trackSendEmailBtn(),d(e),_.isEmpty(m.emailErrors)&&(n.disableSubmit(m.emailForm,!0),m.forgotPasswordPromise=i.resetPassword(m.emailModel.email).then(l))},m.$onInit=function(){o.trackLogin("Forgot Password","Initialized"),p()},m.$onDestroy=function(){h&&c.showLoginModal()}}t.$inject=["$scope","$filter","formBuilderService","localeService","forgotPasswordService","analyticsService","loginAnalyticsService","regexes","loginService"],e.module("paneraOrdering.orderFlow.forgotPassword.component",["forgotPassword.html","common.services.formBuilderService","common.services.localeService","common.services.eCommerceService","common.services.analytics","paneraOrdering.orderFlow.forgotPassword.service","common.utilities.constants","common.services.loginService","common.services.login.loginAnalytics.service","paneraCommonUi.common.loading","schemaForm","schemaForm-formErrors"]).component("forgotPassword",{templateUrl:"forgotPassword.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("paneraOrdering.orderFlow.forgotPassword",["paneraOrdering.orderFlow.forgotPassword.component","paneraOrdering.orderFlow.forgotPassword.service"])}(window.angular),function(e){"use strict";function t(e,t){this.resetPassword=function(n,r){var i={emailAddress:n},o=function(e){return _.assign(i,{success:!1,errors:e})};return e.recoverPasswordByEmail(n).then(function(e){return _.isArray(e)?o(e):_.assign(i,{success:Boolean(e===!0)})})["catch"](o)["finally"](function(){r&&t.show({component:"forgotPassword",size:"md-small",hideContainer:!1,response:i})})}}t.$inject=["eCommerceService","pnraModalService"],e.module("paneraOrdering.orderFlow.forgotPassword.service",["common.services.eCommerceService","paneraCommonUi.common.modal"]).service("forgotPasswordService",t)}(window.angular),function(e){"use strict";e.module("paneraOrdering.orderProcess",["orderProcess.html","common.services.analytics","common.factories.cafeLocator","common.factories.orderFlowFactory","common.services.cafeSearchService","common.services.configService","common.services.orderFlowService","common.services.orderTypeService","common.utilities.translate","orderFlow.orderProcess.orderTime","orderFlow.orderProcess.orderType","orderFlow.orderProcess.tableNumber","orderFlow.orderProcess.deliveryAddress"]).controller("OrderProcessController",["$scope","$location","analyticsService","cafeLocatorFactory","cartService","configService","orderFlowFactory","orderFlowService","orderTypeService","cafeSearchService","routes",function(e,t,n,r,i,o,a,s,c,l,u){e.mapCenter={},e.currentLocation=l.getCurrentLocation(),e.steps=c.getOrderTypeDetails().steps,e.mobileSteps=c.getOrderTypeDetails().mobileStep,e.activeStepIndex=0,e.enabledOrderTypes=c.getEnabledOrderTypes(),e.data={enableOrderButton:!1},e.selectOrderType=c.setOrderType,e.selectCafe=function(n,i){r.setCafe(n),s.setCafeSelected(!0),s.setOrderTypeSelected(!0),i?t.path(u.groupOrder.create):e.next()},e.next=function(){1===e.activeStepIndex&&(e.isRapidPickup||e.isDelivery)&&s.fireOrderTimeChangeEvent(s.getOrderTime()),e.activeStepIndex=e.activeStepIndex+1,e.activeStepIndex>=_.size(e.steps)&&s.setComplete(!0),e.activeStepIndex<=_.size(e.steps)&&n.trackCheckout(e.activeStepIndex)},e.previous=function(){e.activeStepIndex-1>-1&&(e.activeStepIndex=e.activeStepIndex-1)},e.informationComplete=function(){var t=!0;return _.some(e.steps,function(n){return e.hasNeededInfo(n)?void 0:(e.activeStepIndex=_.indexOf(e.steps,n),t=!1,!t)}),t},e.hasNeededInfo=function(e){var t;switch(e){case"PROCESS_ORDER_TYPE_LOCATION":t=!_.isUndefined(c.getOrderType())&&!_.isUndefined(r.getCafe())&&s.isOrderTypeSelected()&&s.isCafeSelected();break;case"PROCESS_DELIVERY_ADDRESS":t=s.isDeliveryInfoSelected();break;case"PROCESS_ENTER_TABLE_NUMBER":t=s.isTableNumberSelected();break;case"PROCESS_ORDER_TIME":t=s.isOrderTimeSelected()}return t},e.displayRemoved=!0,o.fetchConfig().then(function(t){e.groupOrderIsEnabled=t.groupOrderIsEnabled}),c.onOrderTypeChange(e,function(t){r.isOrderTypeAvailable()||s.setCafeSelected(!1),e.steps=c.getOrderTypeDetails(t).steps,e.mobileSteps=c.getOrderTypeDetails(t).mobileSteps,e.isRapidPickup=c.isRapidPickup(),e.isDineIn=c.isDineIn(),e.isDelivery=c.isDelivery(),e.featuresFilter=c.getOrderTypeDetails().feature,e.informationComplete()}),e.nextBtnKey="START_ORDERING",a.shouldAuthenticate()?a.start():_.includes(e.steps,s.getSection())?(e.activeStepIndex=_.indexOf(e.steps,s.getSection()),s.setSection(void 0),e.nextBtnKey=s.getPreviousLocation()===u.menu?"RETURN_TO_ORDER":"RETURN_TO_CHECKOUT"):e.informationComplete()?a.next():_.isEmpty(i.getCart())||s.getPreviousLocation()!==u.menu||(e.nextBtnKey="CONTINUE_ORDERING")}])}(window.angular),function(e){"use strict";function t(t,n,r,i,o,a,s,c,l,u,d,p,m,f,h){function g(){e.element(r.document.querySelector("#page-body")).css("display","block")}function v(){e.element(r.document.querySelector("#page-body")).css("display","none")}function y(){var e={},t={},n={};e[tv4.errorCodes.STRING_PATTERN]="INVALID_CHARACTER",t[tv4.errorCodes.OBJECT_REQUIRED]="LM_USER_REQUIRED",n[tv4.errorCodes.OBJECT_REQUIRED]="LM_PASSWORD_REQUIRED",S.forgotUserNameOrPasswordLink=p.forgotUserNameOrPassword,S.options={formDefaults:{validationMessage:e}},S.schema={type:"object",required:["user","password"],properties:{user:{type:"string"},password:{type:"string"}}},S.errors=[],S.form=[{type:"formErrors",errors:S.errors},{type:"section",htmlClass:"facebook-login",condition:"$ctrl.facebookLoginIsEnabled",items:[{type:"template",template:'<fb-login on-success="form.onSuccess(result)"></fb-login>',
onSuccess:S.close},{type:"template",template:'<p class="divider"><span>{{ form.message }}</span></p>',message:S.i18n.OR}]},{key:"user",type:"text",title:"EMAIL_ADDRESS",placeholder:"EMAIL_ADDRESS",isMaterial:!0,validationMessage:t,autocomplete:"email"},{key:"password",type:"password",title:"PASSWORD",placeholder:"PASSWORD",isMaterial:!0,validationMessage:n},{type:"section",items:[{type:"template",template:'<p><a ng-click="form.forgotPassword()">{{ form.message }}</a></p>',message:S.i18n.FORGOT_PASSWORD,forgotPassword:S.forgotPassword},{type:"submit",title:"SIGN_IN",style:"pnra-btn",readonly:!1}]}],S.model={},o.preProcess(S.options,S.form)}function b(e){_.forEach(e,function(e){S.errors.push(e)}),o.disableSubmit(S.form,!1)}function E(e){return c.show({templateUrl:"customerList.html",controller:"CustomerListController",size:"sm"},{users:e})}function C(e,t,n){return s.getUsersByPhone(e).then(function(e){return 1===e.length?e[0].username:e.length>1?E(e):i.reject()}).then(function(e){return s.login(e,t)}).then(S.close)["catch"](function(){return i.reject(n)})}var S=this,w=t("translate"),T=i.defer(),I=i.defer();S.cancel=function(){S.modalInstance.dismiss("cancel")},S.close=function(e){S.modalInstance.close(e)},S.guestLogin=function(){h.trackGuestLogin(),u.proceedAsGuest(),S.close()},S.login=function(){return o.clearArray(S.errors),o.disableSubmit(S.form,!0),n.$broadcast("schemaFormValidate"),S.model.user&&S.model.password?void s.login(S.model.user,S.model.password).then(S.close)["catch"](function(e){var n=t("phone")(S.model.user);return 10===_.size(n)?C(n,S.model.password,e):i.reject(e)})["catch"](b):(o.disableSubmit(S.form,!1),i.reject())},S.registerUser=function(){f.showRegistrationModal(),S.cancel()},S.forgotPassword=function(){m.show({component:"forgotPassword",size:"md-small",hideContainer:!1}),S.cancel()},S.$onInit=function(){S.guestAllowed=S.resolve.modalOptions.guestAllowed,l.fetchConfig().then(function(e){S.facebookLoginIsEnabled=e.facebookLoginIsEnabled,S.loginAvailable=e.loginAvailable,I.resolve()}),d.onViewPortChange(n,function(e){S.isMobile=e,S.isMobile?v():g()}),s.onLoggedInChange(n,function(e){e&&S.close()}),a.onI18nDataChange(n,function(){S.i18n={OR:w("OR"),SIGN_IN_TO:w("SIGN_IN_TO"),FASTER_EXPERIENCE:w("FASTER_EXPERIENCE"),PROCEED_AS_GUEST:w("PROCEED_AS_GUEST"),BEGIN_ORDER_WITHOUT_SIGN_IN:w("BEGIN_ORDER_WITHOUT_SIGN_IN"),ORDER_WITHOUT_SIGNING_IN:w("ORDER_WITHOUT_SIGNING_IN"),JOIN:w("JOIN"),EASY_AND_FREE_TO_JOIN:w("EASY_AND_FREE_TO_JOIN"),MY_PANERA_CARD:w("MY_PANERA_CARD"),SURPRISES_REWARDS:w("SURPRISES_REWARDS"),SIGN_UP:w("SIGN_UP"),LOGIN_UNAVAILABLE:w("LOGIN_UNAVAILABLE"),MYPANERA:w("MYPANERA"),MY:w("MY"),PANERA:w("PANERA"),CONTINUE_AS_GUEST:w("CONTINUE_AS_GUEST"),FORGOT_PASSWORD:w("FORGOT_PASSWORD")},T.resolve()})},S.$onDestroy=function(){S.isMobile&&g()},i.all([T.promise,I.promise]).then(y)}t.$inject=["$filter","$scope","$window","$q","formBuilderService","localeService","loginService","modalService","configService","userService","mediaFactory","paneraUrls","pnraModalService","registrationFlowService","loginAnalyticsService"],e.module("paneraOrdering.login",["pnraLogin.html","customerList.html","registration.html","common.components.social.fbJoinMyPanera","common.components.social.fbLogin","orderFlow.customerList","orderFlow.registration","paneraOrdering.orderFlow.forgotPassword","common.services.formBuilderService","common.services.localeService","common.services.loginService","common.services.userService","common.services.modalService","common.services.configService","common.factories.media","common.utilities.filters","common.utilities.translate","common.utilities.constants","schemaForm","schemaForm-formErrors","paneraCommonUi.common.modal","common.modules.registration.registrationFlow.service","common.services.login.loginAnalytics.service"]).component("pnraLogin",{templateUrl:"pnraLogin.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(){i.trackRegistration(a.DEFAULT.label,c.info.optIn),c.registering=!1,c.modalInstance.close(),n.show({templateUrl:"welcome.html",controller:"WelcomeController"},{}),o.isCampaignActive()&&o.trackReferRegister()}var c=this;c.errors=r.initializeErrors(),c.step=1,c.registering=!1,c.info={email:"",loyaltyCardNumber:"",foodPreferences:"",gather:"",loyaltyRegistrationCode:"",password:"",title:"",username:"",birthDay:"",birthMonth:"",birthYear:"",firstName:"",lastName:"",optIn:!0,phone:""},c.address={address1:"",address2:"",city:"",state:"",type:"Home",zip:"",addressIdentifier:"",addressName:"",secondaryPhone:""},c.cancel=function(){c.modalInstance.dismiss("cancel")},c.previousStep=function(){c.step-=1},c.nextStep=function(){3===c.step?c.register():c.step+=1},c.handleError=function(e){c.registering=!1,c.errors=r.initializeErrors(),_.forEach(e,function(e){c.errors.push(e)})},c.register=function(){c.registering=!0;var n=_.cloneDeep(c.info);n.addresses=[c.address],e.registerUser(n).then(function(){return t.login(c.info.username,c.info.password).then(function(){return t.addOrUpdateAddress(c.address)}).then(s,s)},c.handleError)}}t.$inject=["eCommerceService","loginService","modalService","validationFactory","registrationAnalyticsService","campaignService","regTypes"],e.module("orderFlow.registration",["welcome.html","registrationLegacy.html","orderFlow.welcome","common.services.modalService","common.services.eCommerceService","common.factories.validationFactory","common.services.loginService","common.services.campaign.service","common.utilities.translate","common.utilities.constants","common.services.analytics","orderFlow.registration.personalInfo","orderFlow.registration.accountInfo","orderFlow.registration.accountPreferences","common.modules.registration.registrationAnalytics.service"]).component("registrationLegacy",{templateUrl:"registrationLegacy.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("orderFlow.welcome",["welcome.html","common.factories.orderFlowFactory","common.services.modalService","common.services.userService","common.utilities.constants","common.utilities.translate"]).controller("WelcomeController",["$scope","$uibModalInstance","$location","orderFlowFactory","userService","routes",function(e,t,n,r,i,o){e.loggedIn=i.isLoggedIn(),e.cancel=function(){t.dismiss("cancel")},e.startOrdering=function(){t.close(),i.isLoggedIn()?r.start():n.path(o.menu)},e.manageAccount=function(){t.close(),i.isLoggedIn()?n.path(o.myAccountPages.accountInfo):r.start()}}])}(window.angular),function(e){"use strict";function t(e,t,n){function r(e){o.message=e.message,o.icon=e.icon,o.showOverlay=!0,i=t(function(){o.showOverlay=!1},e.timeout||a,1,!0)}var i,o=this,a=850;o.$onInit=function(){o.showOverlay=!1,_.isUndefined(o.overlayId)&&(o.overlayId=n.generateOverlayId()),n.onShowOverlay(e,o.overlayId,r)},o.$onDestroy=function(){i&&i.cancel()}}t.$inject=["$scope","$interval","actionOverlayService"],e.module("common.components.actionOverlay.component",["actionOverlay.html","common.components.actionOverlay.service"]).component("actionOverlay",{transclude:!0,templateUrl:"actionOverlay.html",controller:t,bindings:{overlayId:"<"}})}(window.angular),function(e){"use strict";function t(e){var t=0;this.generateOverlayId=function(){return t+=1},this.showOverlay=function(t){e.fire("showOverlayEvent",t)},this.onShowOverlay=function(t,n,r){return e.register(t,"showOverlayEvent",function(e,t){_.noop(e),(_.isUndefined(t.overlayId)||n===t.overlayId)&&r(t)})}}t.$inject=["eventHandler"],e.module("common.components.actionOverlay.service",["common.services.eventHandler"]).service("actionOverlayService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(){switch(a.linkType){case"phone":a.linkUrl="tel:+"+a.link,a.formattedLinkText=s(a.linkText.toString(),{parens:!0});break;case"email":a.linkUrl="mailto:"+a.link,a.formattedLinkText=a.linkText;break;default:a.linkUrl=a.link,a.formattedLinkText=a.linkText}}function o(){switch(a.buttonType){case"phone":a.iconImage=a.imgSrc.phone;break;case"email":a.iconImage=a.imgSrc.email;break;default:a.iconImage=void 0}}var a=this,s=e("formatPhone");a.imgSrc={email:n.globalIcons.email,phone:n.globalIcons.phone,link:n.globalIcons.link},r.onI18nDataChange(t,function(){var t=e("translate");a.titleText=t(a.title)}),a.$onInit=function(){i(),o()}}t.$inject=["$filter","$scope","staticImages","localeService"],e.module("common.components.contactCard",["contactCard.html","common.utilities.filters","common.utilities.constants","common.services.localeService"]).component("contactCard",{templateUrl:"contactCard.html",controller:t,bindings:{linkType:"@",buttonType:"@",link:"<",linkText:"<",title:"@"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(){r.onI18nDataChange(t,function(){var t=e("translate");o.i18n={GIVE_WEBSITE_FEEDBACK:t("GIVE_WEBSITE_FEEDBACK")}})}var o=this;o.showFeedbackForm=function(){n.openOpinionLabSurvey(!1,o.targetEvent.action,o.targetEvent.feedback)},o.$onInit=function(){i()}}t.$inject=["$filter","$scope","opinionLabService","localeService"],e.module("common.components.feedbackSurveyLink",["feedbackSurveyLink.html","common.utilities.filters","common.services.opinionLab.service","common.services.localeService"]).component("feedbackSurveyLink",{templateUrl:"feedbackSurveyLink.html",controller:t,bindings:{targetEvent:"<"}})}(window.angular),function(e){"use strict";e.module("common.components.imageLink",["imageLink.html"]).component("imageLink",{bindings:{options:"<"},templateUrl:"imageLink.html"})}(window.angular),function(e){"use strict";e.module("exceptionHandler",["angular-google-analytics"]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$window",function(e,t){return function(n,r){e(n,r),t.ga("send","exception",{exDescription:n.message,exFatal:!1}),t.ga("send","event","Error - AngularJS",n.message,n.stack,0,!0)}}])}]).run(["$window","Analytics",function(e,t){e.addEventListener("error",function(n){var r=n.colno?" line:"+n.lineno+", column:"+n.colno:" line:"+n.lineno;t.send("exception",{exDescription:n.message,exFatal:!1}),t.trackEvent("Error - JavaScript",n.message,n.filename+r+" -> "+e.navigator.userAgent,0,!0)})}])}(window.angular),function(e){"use strict";e.module("common.directives.addFavorite",["addFavorite.html","addFavoritePopover.html","common.services.favoriteService","common.services.formBuilderService","common.services.localeService","common.services.configService","common.services.myFavoriteService.module","common.utilities.constants","common.utilities.translate","schemaForm","ui.bootstrap.popover","ui.bootstrap.tpls"]).directive("addFavorite",["favoriteService","formBuilderService","localeService","configService","myFavoriteService","myFavoriteServiceApi","apiUrls","regexes","staticImages",function(e,t,n,r,i,o,a,s,c){return{restrict:"E",scope:{items:"=",position:"=?",updateSaved:"&?",saved:"<?",specialInstructions:"@",trackCustomization:"&"},templateUrl:"addFavorite.html",link:function(l){function u(e){_.isFunction(l.updateSaved)?l.updateSaved({isSaved:e}):l.saved=e}function d(){var e={};e[tv4.errorCodes.STRING_PATTERN]="AFP_INVALID_CHARACTER",e[tv4.errorCodes.OBJECT_REQUIRED]="AFP_NAME_REQUIRED",l.options={},l.schema={type:"object",required:["favoriteName"],properties:{favoriteName:{type:"string",pattern:s.alphaNumeric}}},l.form=[{key:"favoriteName",type:"text",title:"INSERT_FAVORITE_NAME",placeholder:"INSERT_FAVORITE_NAME",validationMessage:e},{type:"submit",title:"SAVE",style:"btn-primary pull-right",readonly:!1}],l.model={},t.preProcess(l.options,l.form)}var p;l.isOpen=!1,l.favoriteStarOrangeImage=c.myPanera.favoriteIcons.normal,l.isFavoriteOrder=_.isArray(l.items),l.saved=!1,l.iconUrl=a.image.icons,l.position="top"===l.position?"bottom":"top",l.togglePopover=function(){l.isOpen=!l.isOpen;var e;l.saved&&(e=l.isFavoriteOrder?i.deleteFavoriteGroup(p):i.deleteFavoriteItem(p),e.then(function(){u(!1),l.model={},t.disableSubmit(l.form,!1)}))},l.save=function(){var n,a,s;r.fetchConfig().then(function(e){s=e.isFavoritesServiceEnabled,o.setFavoritesServiceEnabled(e.isFavoritesServiceEnabled)})["finally"](function(){return l.$broadcast("schemaFormValidate"),_.isUndefined(l.model.favoriteName)?void 0:(t.disableSubmit(l.form,!0),n=s?i.buildFavoritesPayLoad(l.items,l.model.favoriteName,l.specialInstructions):e.buildFavoritePayload(l.items,l.model.favoriteName,l.specialInstructions),a=l.isFavoriteOrder?i.addFavoriteGroup(n):i.addFavoriteItem(n),a.then(function(e){l.trackCustomization({eventType:"favorite"}),p=s?l.isFavoriteOrder?e.favoriteOrders[0].favoriteId:e.favoriteItems[0].favoriteId:e.location.split("/").pop(),l.togglePopover(),u(!0)},function(){u(!1),t.disableSubmit(l.form,!1)}))})},n.onI18nDataChange(l,d)}}}])}(window.angular),function(e){"use strict";e.module("common.directives.addressList",["addressList.html"]).directive("addressList",[function(){return{restrict:"E",scope:{addresses:"=",selectAddress:"&"},templateUrl:"addressList.html"}}])}(window.angular),function(e){"use strict";e.module("common.directives.androidAppBanner",["androidAppBanner.html","common.utilities.constants","common.utilities.filters"]).directive("androidAppBanner",["androidAppBanner","$window","$location",function(e,t,n){return{restrict:"E",templateUrl:"androidAppBanner.html",scope:{},link:function(r){function i(){r.showAndroidBanner=t.navigator.userAgent.toLowerCase().indexOf("android")>-1||!1}r.showAndroidBanner=!1,r.androidBannerClosed=!1,r.androidLink=e.androidLink,r.motherBreadUrl=e.motherBreadUrl,r.hideAndroidBanner=function(){r.showAndroidBanner=!1},r.closeAndroidBanner=function(){r.androidBannerClosed=!0,r.hideAndroidBanner()},r.$on("$locationChangeSuccess",function(){r.androidBannerClosed||("/"===n.path()?i():r.hideAndroidBanner())})}}}])}(window.angular),function(e){"use strict";e.module("common.directives.cateringBanner",["cateringBanner.html","common.utilities.translate","common.utilities.filters","common.utilities.constants"]).directive("cateringBanner",["staticImages",function(e){return{restrict:"E",scope:{titleText:"@",titleParams:"=",supportText:"@",supportParams:"="},templateUrl:"cateringBanner.html",link:function(t){t.caterWithPaneraImage=e.orderTypeIcons.cateringIcons.caterWithPanera,t.paneraCateringImage=e.orderTypeIcons.cateringIcons.paneraCatering}}}])}(window.angular),function(e){"use strict";e.module("common.directives.checkList",[]).directive("checkList",function(){return{scope:{list:"=checkList",value:"@",separator:"@"},link:function(e,t){var n,r,i,o,a,s=function(o){n=t.prop("checked"),r=e.list||"",e.separator&&(r=r.split(e.separator)),i=r.indexOf(e.value),n&&-1===i?o?t.prop("checked",!1):r.push(e.value):n||-1===i||(o?t.prop("checked",!0):r.splice(i,1)),r=_.filter(r,"length"),e.separator&&(e.list=r.join(e.separator))};o=_.bind(s,null,!0),a=_.bind(s,null,!1),t.bind("change",function(){e.$apply(a)}),e.$watch("list",o,!0)}}})}(window.angular),function(e){"use strict";function t(e,t){return{restrict:"A",require:"ngModel",link:function(n,r,i,o){function a(){var e=c.selectionStart,t=c.selectionEnd;c.setSelectionRange(e+1,t)}function s(){var e=r.val()?r.val().replace(/[^0-9]/g,""):0;r.val((e/100).toFixed(2)),a()}var c=r[0],l=t.navigator.userAgent.toLowerCase().indexOf("firefox")>-1;o.$parsers.push(function(e){return e?e.replace(/[^0-9]/g,"")/100:0}),o.$render=function(){r.val(100*o.$viewValue),s()},l?r.bind("input",s):(r.bind("change",s),r.bind("keyup",function(){e.defer(s)}))}}}t.$inject=[],e.module("common.directives.currencyInput.directive",[]).directive("currencyInput",["$browser","$window",t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"A",scope:{needsFormatting:"=formatPhone"},require:"ngModel",link:function(t,n,r,i){function o(){_.noop(r)}function a(e){return e&&s(e)}var s=e("formatPhone"),c=n[0];i.$parsers.push(function(e){var n=a(e),r=c.selectionStart,o=c.selectionEnd+n.length-e.length;return n!==e&&t.needsFormatting?(i.$setViewValue(n),i.$render(),c.setSelectionRange(r+1,o),n):e}),o()}}}t.$inject=["$filter"],e.module("common.directives.formatPhone.directive",["common.utilities.filters"]).directive("formatPhone",t)}(window.angular),function(e){"use strict";e.module("common.directives.horizontalLinks",["horizontalLinks.html","common.utilities.translate"]).directive("horizontalLinks",[function(){return{restrict:"E",replace:!0,scope:{links:"="},templateUrl:"horizontalLinks.html",link:function(e){e.linkColSize=Math.floor(12/_.size(e.links)),e.selectLink=function(t){_.forEach(e.links,function(e){t.i18nName===e.i18nName?(e.selected=!0,e.action(e)):e.selected=!1})}}}}])}(window.angular),function(e){"use strict";e.module("common.directives.myForm",["myForm.html","common.utilities.valueByPath","common.utilities.filters","common.utilities.translate","common.directives.checkList","common.directives.formatPhone.directive","paneraCommonUi.common.loading"]).directive("myForm",[function(){var t=["$scope","$filter","valueByPath","setValueByPath",function(t,n,r,i){function o(e,t){"static"!==t.type&&t.path&&t.condition!==!1&&i(e,t.path,t.value)}function a(e){var t={};return _.forEach(e,function(e){o(t,e)}),t}function s(){t.errors=[],_.forEach(t.fields,function(e){e.errors=[]})}function c(e){s(),t.errors=[],_.forEach(e,function(e){var n=!0;_.forEach(t.fields,function(t){_.includes(t.expectedErrors,e)&&(t.errors.push(e),n=!1)}),n&&t.errors.push(e)})}t.submitDisabled=!1,t.showSuccess=!1,t.errors={},t.updateValue=function(e){_.isFunction(e.filter)&&(e.value=e.filter(e.value)),t.form.submitLabel||o(t.model,e),_.isFunction(e.onChange)&&e.onChange(e.value)},t.cancel=function(){_.isFunction(t.form.close)&&t.form.close(!1)},t.submit=function(){if(_.isFunction(t.form.submit)){t.submitDisabled=!0,t.showSuccess=!1;var e=a(t.fields);s(),t.loadingPromise=t.form.submit(e).then(function(){t.showSuccess=!0,t.submitDisabled=!1,t.errors={},_.isFunction(t.form.close)&&t.form.close(!0)},function(e){c(e),t.submitDisabled=!1})}else _.isFunction(t.form.close)&&t.form.close(!0)},t.gathering="",t.updateFields=function(){t.fields=e.copy(t.form.fields),_.forEach(t.fields,function(e){switch(e.path&&(e.value=r(t.model,e.path)),e.type){case"select":e.elementType="select",e.showLabel=!0;break;case"checkbox":e.elementType="checkbox",e.showLabel=!1;break;case"checklist":e.elementType="checklist",e.showLabel=!1,e.isGroup=!0,e._temp_=[];break;case"radiogroup":e.elementType="radiogroup",e.showLabel=!1,e.isGroup=!0;break;case"radio":e.elementType="radio",e.showLabel=!1;break;case"static":e.showLabel=!0,e.elementType="span";break;case"hidden":e.showLabel=!1,e.elementType="hidden";break;case"header":e.showLabel=!1,e.elementType="header";break;case"paragraph":e.showLabel=!1,e.elementType="p";break;case"link":e.showLabel=!1,e.elementType="a";break;case"textarea":e.showLabel=!0,e.elementType="textarea";break;case"label":e.showLabel=!0;break;default:e.pattern=_.isEmpty(e.pattern)?"":e.pattern,e.showLabel=!0,e.elementType="input",e.minLength=e.minLength||0,e.maxLength=e.maxLength||-1}e.format&&(e.filter=n(e.format),"static"!==e.type&&t.updateValue(e)),(_.isUndefined(e.width)||!(e.width>0&&e.width<=12))&&(e.width=12),e.colWidth="col-xs-"+(e.widthXs||"12")+" col-sm-"+e.width})},t.$watch("form",function(n){e.isDefined(n)&&t.updateFields()})}];return{restrict:"E",scope:{form:"=",model:"="},templateUrl:"myForm.html",controller:t}}])}(window.angular),function(e){"use strict";e.module("common.directives.nutrition",["nutrition.html","common.utilities.translate"]).directive("nutrition",[function(){return{restrict:"E",transclude:!0,scope:{nutritions:"="},templateUrl:"nutrition.html"}}])}(window.angular),function(e){"use strict";function t(t){return{scope:{},restrict:"A",link:function(n,r,i){t.onScrollChange(n,i.id,function(t){e.element(r)[0].scrollTop=t})}}}t.$inject=["pnraScrollableService"],e.module("common.directives.pnraScrollable.directive",["common.directives.pnraScrollable.service"]).directive("pnraScrollable",t)}(window.angular),function(e){"use strict";function t(e){function t(t,r){e.fire(n+t,r)}var n="pnraScrollable";this.scrollToTop=function(e){t(e,0)},this.onScrollChange=function(t,r,i){return e.register(t,n+r,function(e,t){_.noop(e),i(t)})}}t.$inject=["eventHandler"],e.module("common.directives.pnraScrollable.service",["common.services.eventHandler"]).service("pnraScrollableService",t)}(window.angular),function(e){"use strict";e.module("common.directives.sideChoice",["sideChoice.html","sides.html","common.utilities.translate","common.utilities.modals.sides","common.services.modalService","common.services.cartService","builder.selector.sideSelection","ui.bootstrap.popover","ui.bootstrap.tpls"]).directive("sideChoice",["modalService","cartService",function(e,t){return{restrict:"E",scope:{cartItemIndex:"=",isMobile:"=",selectedSide:"=",setDefault:"=",sides:"=",updateSide:"&"},templateUrl:"sideChoice.html",link:function(n){function r(e){n.selectedSide=_.find(n.sides.sideItems,{itemId:e}),n.setDefault?(n.selectedSide.isProductStockout=t.checkSideStockoutAvailability(e),n.updateSide({side:n.selectedSide})):t.updateCartSideItem(n.selectedSide,n.cartItemIndex),n.showSideSelections=!1}function i(){n.setDefault&&_.isEmpty(n.selectedSide)&&r(n.sides.defaultSide)}n.showSideSelections=!1,n.changeSide=function(){n.isMobile?n.showSideSelections=!n.showSideSelections:e.show({templateUrl:"sides.html",controller:"SidesController"},{sides:n.sides,selectedSide:n.selectedSide}).then(function(e){n.selectedSide=e,r(n.selectedSide.itemId||n.selectedSide.id)})},n.updateSelectedSide=r,i()}}}])}(window.angular),function(e){"use strict";function t(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(){_.noop(n),_.noop(e)}var o=" ";t.bind("click",function(){var e=r.$viewValue;!_.isUndefined(e)&&_.endsWith(e,o)?r.$setViewValue(e.slice(0,-1)):!_.isUndefined(e)&&!_.startsWith(e,o)&&e.length>0&&r.$setViewValue(e+o),r.$render()}),i()}}}t.$inject=[],e.module("common.directives.typeaheadActive.directive",[]).directive("typeaheadActive",t)}(window.angular),function(e){"use strict";e.module("common.directives.viewCafeHours",["viewCafeHours.html","common.utilities.filters","common.utilities.constants"]).directive("viewCafeHours",["$filter","daysOfWeek",function(e,t){return{restrict:"E",scope:{cafeHours:"="},templateUrl:"viewCafeHours.html",link:function(n){n.cafeHoursList=[];var r=moment().format("ddd"),i=e("translate"),o=e("formatCafeHours");_.forEach(t,function(e){n.cafeHoursList.push({displayName:i(e.toUpperCase()),hours:o(n.cafeHours[e]),isToday:e===r})})}}}])}(window.angular),function(e){"use strict";e.module("common.factories.cafeAvailabilityFactory",["common.factories.cafeLocator","common.services.orderTypeService","common.services.cartService","common.services.cafeHours","common.services.httpCacheService","common.utilities.filters","common.utilities.constants"]).factory("cafeAvailabilityFactory",["$q","$rootScope","$filter","cafeLocatorFactory","orderTypeService","cartService","cafeHours","httpCacheService","apiUrls","delivery","defaultCafe","cafeHoursExpireMs",function(e,t,n,r,i,o,a,s,c,l,u,d){var p={},m="cafeAvailability",f=!1,h=n("apiErrorKeyFilter");return p.fetchCafeAvailability=function(){var n=r.getCafe().cafeId,o=a.getOrderAmount(),u=r.getDistance(),p=i.getOrderType(),g=c.cafe.hours.replace(":cafeId",n).replace(":orderAmount",o).replace(":distance",u).replace(":orderType",p);return s.isRequestOutstanding(g)?e.resolve(!0):(f=!1,s.executeRequest({method:"GET",url:g},d).then(function(n){return n.data.cafeId?(a.setCafeHours(n.data.cafeHours),a.setLeadTimeRange(n.data.cafeHours),n.data.deliveryPrice?(r.setDeliveryFee(n.data.deliveryPrice.deliveryFee),n.data.deliveryPrice.minTotalOrderAmount?r.setDeliveryMinimum(n.data.deliveryPrice.minTotalOrderAmount):r.setDeliveryMinimum(l.minimumAmount)):"DELIVERY"===i.getOrderType()&&(r.setDeliveryMinimum(l.minimumAmount),r.setDeliveryFee(l.deliveryFee)),r.setEnabledFeatures(n.data.enabledFeatures),f=!0,t.$broadcast(m),!0):(a.setCafeHours({}),e.reject(n))})["catch"](function(t){return a.setCafeHours({}),e.reject(h(t.data,t.status))}))},p.onCafeAvailabilityChange=function(e,t){f&&t(),e.$on(m,function(){t()})},r.onCafeChange(t,function(e){e.CafeId!==u.CafeId&&p.fetchCafeAvailability()}),i.onOrderTypeChange(t,function(e){a.setOrderType(e)}),o.onCartChange(t,function(e){var t=_.reduce(e,function(e,t){return e+(t.price||0)},0);a.setOrderAmount(t)}),p}])}(window.angular),function(e){"use strict";e.module("common.factories.cafeLocator",["angular-locker","common.services.cafeSearchService","common.services.orderTypeService","common.services.opinionLab.service","common.services.eventHandler","common.utilities.constants","common.utilities.clientVars","geolocation","common.services.analytics"]).factory("cafeLocatorFactory",["$log","$rootScope","analyticsService","geolocation","cafeSearchService","locker","orderTypeService","eventHandler","defaultCafe","defaultLocation","localeService","opinionLabService","enabledFeature","clientVars",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m){var f,h={},g="cafe",v=o.driver("session");return h.orderTypeFeature="",a.onOrderTypeChange(t,function(e){_.isString(e)?h.orderTypeFeature=a.getOrderTypeDetails(e).feature:h.orderTypeFeature=void 0}),h.isOrderTypeAvailable=function(){var e=v.get("orderType");return _.some(h.getCafeOrderTypes(),function(t){return t===e})},h.hasSuggestedTipping=function(){return h.isFeatureEnabled(p.SUGGESTED_TIP)||h.isFeatureEnabled(p.SUGGESTED_TIP_B)},h.hasRapidDriveThru=function(){return h.isFeatureEnabled(p.RAPID_DRIVE_THRU)},h.hasNFCEnabled=function(){return h.isFeatureEnabled(p.NFC_ENABLED)},h.hasDistributedTips=function(){return h.isFeatureEnabled(p.DISTRIBUTED_TIPS)},h.isTipEnabled=function(){var e=h.getCafe();return a.isDelivery()||a.isRapidPickup()&&"true"===String(e.rpuPilotTip)||a.isDineIn()&&"true"===String(e.dineInPilotTip)||!1},h.isDefaultCafe=function(){return h.getCafe().CafeId===c.CafeId},h.setCafe=function(e){var t=h.getCafe();t&&e&&t.CafeId===e.CafeId?(f=_.cloneDeep(t),_.assign(f,e)):f=_.cloneDeep(e||t),u.updateI18nDataByVersion(f.CafeId),v.put("cafe",_.cloneDeep(f)),e&&(d.updateOpinionLabData("cafeId",e.CafeId),n.setCafeId(e.CafeId)),_.isUndefined(e)||_.isUndefined(t)||t.CafeId===e.CafeId||(s.fire(g,e),n.trackCafeSelected(e))},h.getCafe=function(){return _.isUndefined(f)&&(f=v.get("cafe",c)),f},h.onCafeChange=function(e,t){t(h.getCafe()),h.onCafeChangeOnly(e,t)},h.onCafeChangeOnly=function(e,t){s.register(e,g,function(e,n){_.noop(e),t(n)})},h.getCafeOrderTypes=function(e){var t=[];return _.isUndefined(e)&&(e=h.getCafe()),"YES"===e.HasOrderFromMyTable&&t.push("DINE_IN"),"YES"===e.HasDelivery&&t.push("DELIVERY"),"YES"===e.HasPickup&&t.push("RPU"),t},h.getDeliveryFee=function(){return h.getCafe().deliveryFee},h.setDeliveryFee=function(e){var t=h.getCafe();t.deliveryFee=e,h.setCafe(t)},h.setEnabledFeatures=function(e){var t=h.getCafe();t.enabledFeatures=e,h.setCafe(t)},h.isFeatureEnabled=function(e){var t=h.getCafe();return _.includes(t.enabledFeatures,e)},h.isOrderSlottingEnabled=function(){return h.isFeatureEnabled("order-slotting")},h.getMinDeliveryAmount=function(){return h.getCafe().minTotalOrderAmount},h.getCountry=function(){return h.getCafe().Country},h.getDistance=function(){var e=h.getCafe().Distance;return e&&e.toFixed(3)||0},h.getTimezone=function(){return h.getCafe().TimeZone},h.setDeliveryMinimum=function(e){var t=h.getCafe();t.minTotalOrderAmount=e,h.setCafe(t)},h.clearCafe=function(){f=void 0,v.forget("cafe")},h.initializeCafe=function(){var t;m.geolocationEnabled&&(t=i.getCurrentLocation(),(_.isUndefined(t)||(_.isUndefined(t.latitude)||t.latitude===l.latitude)&&(_.isUndefined(t.longitude)||t.longitude===l.longitude))&&(i.setCurrentLocation(l),r.getLocation().then(function(e){i.setCurrentLocation({latitude:e.coords.latitude,longitude:e.coords.longitude,offset:l.offset}),v.get("orderProcess").status.cafeSelected||i.getCafes({lat:e.coords.latitude,lng:e.coords.longitude,featureProp:h.orderTypeFeature||"'YES'",radius:6e3}).then(function(e){if(!_.isEmpty(e)){var t=_.min(e,"Distance");t.isClosestCafe=!0,h.setCafe(t)}})},function(t){e.info(t)})))},h.initializeCafe(),h}])}(window.angular),function(e){"use strict";var t=e.module("common.factories.holidayOrderingFactory.constants",[]);t.constant("hofConstants",{ruleDTFormat:"YYYY-MM-DD HH:mm"})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(e){return t.get(r.menu.holidayOrderingLimits.replace(":cafeId",e),{cache:!0}).then(function(t){return h[e]=t.data.rulesets,h[e]})["catch"](function(){h[e]=!1,n.log("Retrieving holiday order limits failed")})}function s(t){return _.isUndefined(h[t])?a(t):e.when(h[t])}function c(e){var t=_.map(e,"id");return _.forEach(e,function(n){return _.isEmpty(n.items)?void 0:_.union(t,c(e.items))}),t}function l(e,t){var n,r=0;return _.forEach(t,function(t){if(t.id===e&&(n=t,r+=1),t.items){var i=l(e,t.items);r+=i?i.count:0}}),r>0?{count:r,cartItem:n}:void 0}function u(e,t,n){var r,i="group"===e.ruleScope,o=_.compact(_.map(e.itemIds,function(e){return l(e,t)}));return i?(r=0,_.forEach(o,function(e){r+=e.count}),o=r>n?o[0]:!1):(o=_.filter(o,function(e){return e.count>n}),o=o[0]||!1),o}function d(e){var t=moment(e).set({hour:0,minute:0,second:0}),n=moment().utc().set({hour:0,minute:0,second:0});return t.diff(n,"days")}function p(e,t,n){var r,o=!1,a=c(e),s=d(n);return _.forEach(t,function(t){if(i>s){var n;_.forEach(t.dayOffset,function(e){s>=e.fromOffset&&s<=e.toOffset&&(n=e.qtyLimit)}),_.isUndefined(n)||_.isEmpty(_.intersection(a,t.itemIds))||(r=u(t,e,n),_.isEmpty(r)||(o={count:r.count,id:r.cartItem.id,i18nName:r.cartItem.i18nName,i18nMessage:t.i18nMessage,ruleName:t.ruleName,ruleScope:t.ruleScope,limit:n}))}}),o}function m(e,t){return _.filter(e,function(e){return t.isBetween(moment(e.ruleEffFromDate,o.ruleDTFormat),moment(e.ruleEffToDate,o.ruleDTFormat))})}function f(e,t,n){var r=!1,i=m(h[e],n);return _.isEmpty(t)||_.isEmpty(i)||(r=p(t,i,n)),r}var h={};return{fetchOrderingLimits:a,getOrderingLimits:s,isCartItemsOverLimit:f}}t.$inject=["$q","$http","splunkService","apiUrls","orderLimitMaxDayOffset","hofConstants"],e.module("common.factories.holidayOrderingFactory",["common.services.splunkService","common.utilities.constants","common.factories.holidayOrderingFactory.constants"]).factory("holidayOrderingFactory",t)}(window.angular),function(e){"use strict";e.module("common.factories.media",["common.services.eventHandler","common.utilities.constants","matchMedia"]).factory("mediaFactory",["$window","screenSize","eventHandler","clientTypes",function(e,t,n,r){function i(e){v=e,n.fire("viewPortChanged")}function o(e){e&&i("xs")}function a(e){e&&i("sm")}function s(e){e&&i("md")}function c(e){e&&i("lg")}function l(){return v}function u(){return"xs"===l()}function d(){return"sm"===l()||"xs"===l()}function p(){var t=e.navigator.userAgent;return t.match(/iPad/i)||t.match(/iPhone/i)}function m(e,t){return t(u(),d()),n.register(e,"viewPortChanged",function(){t(u(),d())})}function f(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?r.mobile:t.is("xs")||t.is("sm")?r.mobile:r.desktop;
}function h(){return f(e.navigator.userAgent||e.navigator.vendor||e.opera)}function g(){t.is("xs")?o(!0):t.is("sm")?a(!0):t.is("md")?s(!0):c(!0),t.when("xs",o),t.when("sm",a),t.when("md",s),t.when("lg",c)}var v;return g(),{onViewPortChange:m,getViewPort:l,getClientType:h,isIosUserAgent:p}}])}(window.angular),function(e){"use strict";e.module("common.factories.orderFlowFactory",["orderTypeCtrl.html","common.factories.cafeLocator","common.services.userService","common.services.modalService","common.services.orderFlowService","common.services.orderTypeService","common.services.payPalService","common.services.loginService","common.utilities.constants","orderProcess.orderType.orderType","common.services.opinionLab.service"]).factory("orderFlowFactory",["$location","$q","$rootScope","cafeLocatorFactory","modalService","orderFlowService","orderTypeService","payPalService","loginService","routes","userService","opinionLabService",function(e,t,n,r,i,o,a,s,c,l,u,d){function p(t){return t||e.path()===l.index||e.path()===l.cafeLocator||e.path()===l.orderingHelp||e.path()===l.orderFlow||e.path()===l.groupOrder.create?l.menu:e.path()}function m(){return"AUTHENTICATION"===o.getSection()&&o.setSection(void 0),c.showLoginModal().then(b.next)}function f(){return o.isCafeSelected()&&!o.isComplete()&&!o.isOrderTypeSelected()&&_.size(r.getCafeOrderTypes())>1}function h(){return i.show({templateUrl:"orderTypeCtrl.html",controller:"OrderTypeController"},{})}function g(){return!o.isComplete()||!_.isUndefined(o.getSection())}function v(){return e.path(l.orderFlow),o.whenOrderFlowCompleted()}var y,b={};return b.completeOrderFlow=function(){var e,n;return o.isComplete()?(e=t.when(),n=t.when()):(e=o.whenOrderFlowCompleted(),n=b.start()),t.all([e,n])},b.next=function(){var e;return _.some(y,function(t){return t.condition()?(e=t.action(),!0):void 0}),t.when(e)},b.start=function(e,t,n,r){var i=p(r);return o.setPreviousLocation(i),o.startNewProcess(e,t,n,i),b.next()},b.change=function(e){return o.setPreviousLocation(p()),o.setSection(e),b.next()},b.shouldAuthenticate=function(){var e=a.getOrderTypeDetails().guestAllowed;return e&&!u.isLoggedIn()&&!u.isGuest()||!e&&!u.isLoggedIn()||"AUTHENTICATION"===o.getSection()},y=[{key:"AUTHENTICATION",condition:b.shouldAuthenticate,action:m},{key:"ORDER_TYPE",condition:f,action:h},{key:"ORDER_PROCESS",condition:g,action:v}],o.onCompletedChange(n,function(t){t&&(o.fetchOrderId().then(function(e){d.updateOpinionLabData("orderId",e)}),s.isTokenAuthInProgress()||_.isUndefined(o.getPreviousLocation())||e.path(o.getPreviousLocation()),o.clearPreviousLocation())}),n.$on("$locationChangeStart",function(e,t,n){_.noop(e),_.includes(n,l.orderFlow)&&!_.includes(t,l.orderFlow)&&(o.isComplete()||o.setComplete(!1),o.applyPreviousProcess())}),b}])}(window.angular),function(e){"use strict";e.module("common.factories.stockoutFactory",["ngResource","common.utilities.constants","common.services.cafeHours","common.factories.cafeLocator","common.services.eventHandler","common.services.orderFlowService"]).factory("stockoutFactory",["$http","$rootScope","$q","apiUrls","cafeHours","cafeLocatorFactory","defaultCafe","orderFlowService","eventHandler",function(e,t,n,r,i,o,a,s,c){function l(e){return _.forEach(e,function(e){e.expiresAt&&(e.expiresAt=moment.unix(+e.expiresAt/1e3))}),e}function u(e){var t=i.orderFulfillAt();return _.forEach(e,function(e){e.isStockedOutForOrderTime=t.isBefore(e.expiresAt)}),e}function d(e,t){_.isUndefined(e)||(m.placard=u(l(e.placard||{})),m.item=u(l(e.item||{})),c.fire("StockoutData",m,t))}var p=this,m={item:{},placard:{}};return this.fetchStockoutData=function(t,i){return+t!==a.cafeId?e({method:"GET",url:r.stockout.stockout.replace(":cafeId",t),params:{},isArray:!1}).then(function(e){d(e.data,i)}):n.when({})},this.onStockoutChange=function(e,t){t(m),c.register(e,"StockoutData",function(e,n,r){_.noop(e),_.noop(n),t(m,r)})},o.onCafeChange(t,function(e){p.fetchStockoutData(e.cafeId)}),s.onOrderTimeChange(t,function(){o.getCafe().cafeId&&d(m)}),this}])}(window.angular),function(e){"use strict";e.module("common.factories.upsell",["angular-locker","common.factories.cafeLocator","common.services.cartService","common.services.loginService","common.services.userService","common.services.menuService","common.services.modalService","common.services.rewardService","common.services.payPalService","common.services.rewardManagementService","paneraCommonUi.common.modal","common.utilities.constants","common.utilities.modals.upsell","common.utilities.modals.rewardModal","rewardModal.html"]).factory("upsellFactory",["$q","$http","$location","$rootScope","apiUrls","cafeLocatorFactory","cartService","userService","rewardService","locker","loginService","payPalService","rewardManagementService","menuService","modalService","pnraModalService","routes","$routeParams",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v){function y(){return n.path()===g.checkout}function b(e,t){L.has("upsell")&&t(L.get("upsell")),e.$on("UpsellChanged",function(e,n){_.noop(e),t(n)})}function E(e){L.put("upsell",e),r.$broadcast("UpsellChanged",e)}function C(e,t){t(M),e.$on("UpsellProgramChanged",function(e,n){_.noop(e),t(n)})}function S(){r.$broadcast("UpsellProgramChanged",M)}function w(e,t,n,r){var i,o=_.cloneDeep(m.getMyPlacard(t)),s=_.find(o.optSets,{itemId:t});i=_.cloneDeep(e),i.i18nName=s.i18nName,i.id=t,_.isUndefined(r)||(i.itemQty=r),a.addItem(i,n)}function T(){var e=a.getCart(),t=_.get(c.rewardCartItems(k),"rewards"),n=_.map(t,function(t){return p.cartHasEligibleItems(e,t)});return _.size(_.flatten(n))>0}function I(){return!_.includes(h.getOpenModals(),"upsellModal")&&!p.rewardToBeRedeemed()&&s.isLoggedIn()&&T()}function O(){I()&&f.show({templateUrl:"rewardModal.html",controller:"RewardModalController"})}function A(e,t,n){var r=s.getHideUpsellModal()||Boolean(v.hideUpsellModal);_.isEmpty(e)||_.isEmpty(t)||!y()||r?y()&&"upsell"===n&&O():("add"===n||"upsell"===n)&&(_.includes(h.getOpenModals(),"upsellModal")||h.show({component:"upsellModal",size:"md",programs:e,hideContainer:!0,upsellPrograms:t.programs})["finally"](function(){_.isEmpty(h.getOpenModals())&&y()&&(O(),s.updateSession({hideUpsellModal:!0}))}))}function $(){var e,t,n,r,i,o,s,c,l,u,d=a.getCart(),p=L.get("upsell"),m=[];return _.isEmpty(p)||_.isEmpty(p.programs)||_.isEmpty(d)?void 0:(_.forEach(p.programs,function(a){if(!a.isPostSelectionProgram){if(_.isUndefined(a.prereq))return c=[],_.forEach(a.qualifiedItems.schedule,function(e){c=c.concat(e.placards)}),void(_.some(d,function(e){return!_.isUndefined(_.find(c,{plcIdFullPrice:e.id}))||_.includes(a.disqualifiedItems,e.id)})||(a.qualifiedItems.availableItems=a.qualifiedItems.maxItems,m.push(a)));for(t=_.size(a.prereq),s=void 0,l=0;t>l;l+=1){for(o=0,e=0,n=_.size(d),u=0;n>u;u+=1)_.includes(a.prereq[l].items,d[u].id)&&(e+=1,e>=a.prereq[l].qtyRequired&&(o+=1,e=0));s=_.isUndefined(s)?o:Math.min(s,o)}c=[],_.forEach(a.qualifiedItems.schedule,function(e){c=c.concat(e.placards)}),e=a.qualifiedItems.maxItems*s,_.forEach(d,function(t,n){r=_.find(c,{plcIdDiscount:t.id}),_.isUndefined(r)||(e>0&&t.itemQty<=e?e-=t.itemQty:e>0?(w(t,r.plcIdDiscount,n,e),w(t,r.plcIdFullPrice,void 0,t.itemQty-e),e=0):w(t,r.plcIdFullPrice,n))}),_.forEach(d,function(t,n){i=_.find(c,{plcIdFullPrice:t.id}),_.isUndefined(i)||(e-t.itemQty>=0?(w(t,i.plcIdDiscount,n),e-=t.itemQty):e>0&&(w(t,i.plcIdDiscount,void 0,e),w(t,t.id,n,t.itemQty-e),e=0))}),e>0&&(a.qualifiedItems.availableItems=e,m.push(a))}}),M=m,S(),L.put("upsell",p),{upsellPrograms:M,programsToRun:p})}function D(e){var t=$(),n=_.get(t,"upsellPrograms"),r=_.get(t,"programsToRun");A(n,r,e)}function x(){return M}var R,k,P=r.$new(),N=!0,M=[],L=l.driver("local"),U=e.defer(),F=e.defer();return o.onCafeChange(P,function(e){R=e.CafeId,t({method:"GET",url:i.menu.upsell.replace(":cafeId",R)}).then(function(e){E(e.data)})}),a.onCartChange(P,function(e,t){return k=e,U.resolve(),N?void(N=!1):void D(t)}),u.onRewardsDataChanged(P,function(){!y()||d.isTokenAuthInProgress()||d.isOrderSubmitted()||O(),F.resolve()}),e.all([U.promise,F.promise]).then(function(){!y()||d.isTokenAuthInProgress()||d.isOrderSubmitted()||_.includes(h.getOpenModals(),"upsellModal")||a.validateQuantityRules().then(function(e){e&&D("upsell")})}),{onUpsellChange:b,checkCartForUpsell:D,calculateUpsellData:$,getUpsellPrograms:x,onUpsellProgramChange:C}}])}(window.angular),function(e){"use strict";e.module("common.factories.validationFactory",["common.utilities.valueByPath","common.utilities.translate","common.services.eCommerceService","common.utilities.constants"]).factory("validationFactory",["$filter","$q","valueByPath","eCommerceService","regexes",function(e,t,n,r,i){function o(e,t,r){_.forEach(t,function(t){var i=t[0],o=t[1],a=t[2];a||(a="SHOULD_NOT_BE_BLANK"),n(e,o)||r.push(C(i)+" "+C(a))})}function a(e,t,r){_.forEach(t,function(t){var i=t[0],o=t[1],a=t[2],s=n(e,o);a||(a="SHOULD_NOT_CONTAIN_A_BLANK"),s&&s.indexOf(" ")>=0&&r.push(C(i)+" "+C(a))})}function s(e,t,r,i,o){var a=_.map(r,function(t){return n(e,t)});o||(o="DONT_MATCH"),1!==_.uniq(a).length&&i.push(C(t)+" "+C(o))}function c(){return[]}function l(e){for(;e.length>0;)e.pop()}function u(e){var t=/^[^ @]+@[^ \.]+\.[^ ]+$/;return e&&t.test(e)}function d(e){var t=/^[\-0-9(). ]+$/;return e&&e.match(t)&&10===e.replace(i.nonNumbers,"").length}function p(e){var t=/^[!-~]+$/;return e&&e.match(t)}function m(e){var t=/^[A-Za-z\/\s\.'\-]+$/;return e&&e.match(t)}function f(e){var t=/^[A-Za-z\d\.@_+\-]+$/;return e&&e.match(t)}function h(e,i,o){var a=n(e,i);return u(a)?r.checkEmailAvailability(a)["catch"](function(e){var t=". "+C("PLEASE_SELECT_ANOTHER_EMAIL")+".";return _.includes(e,"INVALID_EMAIL")?o.push(C(e[0],[a])+t):o.push(a+" "+C(e[0])+t),!1}):t.when(!0)}function g(e,i,o){var a,s=n(e,i);return s?f(s)?(a=encodeURIComponent(s),r.checkUsernameAvailability(a)["catch"](function(){return o.push(s+" "+C("ALREADY_EXISTS")+". "+C("PLEASE_SELECT_ANOTHER_USERNAME")+"."),!1})):(o.push(C("INVALID_USERNAME")),!1):t.when(!0)}function v(e,t,r){var i=n(e,t);u(i)||r.push(C("INVALID_EMAIL",[i])+".")}function y(e,t,r){var i=n(e,t);d(i)||r.push(C("PHONE_NUMBER")+" "+C("MUST_BE_10_DIGITS")+".")}function b(e,t,r){var i=n(e,t);p(i)||r.push(C("PASSWORD")+" "+C("MAY_ONLY_CONTAIN_LETTERS_DIGITS_AND_SPECIAL_CHARACTERS")+".")}function E(e,t,r,i){var o=n(e,t);m(o)||i.push(C(r)+" "+C("IS_INVALID")+". "+C("INVALID_CHARACTER"))}var C=e("translate");return{validateFieldsMatch:s,validateFieldsNotBlank:o,validateFieldsNotContainBlank:a,validateEmailNotUsed:h,validateUsername:g,validateEmailFormat:v,validatePhoneNumber:y,validatePassword:b,validateCustomerName:E,initializeErrors:c,clearErrors:l}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p){function m(e){h.dropdownToggle=e}function f(){i.onI18nDataChange(e,function(){var e=t("translate");h.i18n={MY_ACCOUNT:e("MY_ACCOUNT"),SIGN_IN:e("SIGN_IN"),SIGN_OUT:e("SIGN_OUT"),REGISTER:e("REGISTER"),START_YOUR_ORDER:e("START_YOUR_ORDER"),HOME:e("HOME"),LOCATIONS:e("LOCATIONS"),OUR_MENU:e("OUR_MENU"),HELPFUL_LINKS:e("HELPFUL_LINKS")},r.fetchConfig().then(function(e){e.myGroupOrderIsEnabled?h.accountPages=l:h.accountPages=_.reject(l,{i18nName:"MY_GROUP_ORDERS"})})}),s.onLoggedInChange(e,function(e){h.loggedIn=e})}var h=this;h.reRoute=function(e){n.path(u[e]),m(!1)},h.signIn=function(){o.change("AUTHENTICATION")},h.register=function(){a.showRegistrationModal()},h.signOut=function(){s.logout(!0),c.clearCart(),n.path(u.index),m(!1)},h.$onInit=function(){f(),h.paneraUrls=d,h.routes=u,h.language=i.getLanguage(),h.helpfulLinks=p.helpfulLinks,m(!1)}}t.$inject=["$scope","$filter","$location","configService","localeService","orderFlowFactory","registrationFlowService","loginService","cartService","accountPages","routes","paneraUrls","gnConstants"],e.module("common.modules.globalNavigation.component",["globalNavigation.html","common.modules.globalNavigation.constants","common.modules.globalNavigation.globalNavigationLink.component","common.utilities.translate","common.services.configService","common.services.cartService","common.services.loginService","common.services.localeService","common.factories.orderFlowFactory","common.modules.registration.registrationFlow.service"]).component("globalNavigation",{templateUrl:"globalNavigation.html",controller:t,bindings:{}})}(window.angular),function(e){"use strict";var t=e.module("common.modules.globalNavigation.constants",[]);t.constant("gnConstants",{helpfulLinks:[{links:[{i18nName:"E_GIFT_CARDS",extUrl:"https://wbiprod.storedvalue.com/WBI/clientPages/PANER_en_Lookup.jsp?host=panerabread.com"},{i18nName:"PANERA_AT_HOME",extUrl:"https://www.paneraathome.com/"},{subNav:[{links:[{i18nName:"OUR_STORIES",url:"craftsmanship/stories.html"},{i18nName:"RECIPES",url:"craftsmanship/recipes.html"}]}],i18nName:"CRAFTSMANSHIP"}]},{links:[{subNav:[{links:[{i18nName:"ABOUT_PANERA_BREAD",url:"footer/company/about-panera.html"},{i18nName:"INVESTOR_RELATIONS",url:"footer/company/investor-relations.html"},{i18nName:"PRESS_ROOM",url:"footer/company/press-room.html"},{i18nName:"FRANCHISE_INFORMATION",url:"company/franchise-overview.html"}]}],i18nName:"OUR_COMPANY"},{i18nName:"CAREERS",extUrl:"http://panerapeople.com"},{isOpinionLab:!0,extUrl:"#0"},{i18nName:"CONTACT_US",extUrl:"http://panera.custhelp.com"},{i18nName:"TERMS_OF_USE",url:"company-information/terms-of-use.html"},{i18nName:"PRIVACY_POLICY",url:"company-information/privacy-policy.html"}]}]})}(window.angular),function(e){"use strict";e.module("common.modules.globalNavigation",["common.modules.globalNavigation.component","common.modules.globalNavigation.constants","common.modules.globalNavigation.globalNavigationLink.component"])}(window.angular),function(e){"use strict";function t(e,t,n){function r(){n.onI18nDataChange(e,function(){i.title=o(i.resolve.modalOptions.titleKey),i.description=i.resolve.modalOptions.descriptionKey&&o(i.resolve.modalOptions.descriptionKey),i.buttonText=o(i.resolve.modalOptions.buttonKey)})}var i=this,o=t("translate");i.action=function(){i.modalInstance.close()},i.$onInit=function(){r()}}t.$inject=["$scope","$filter","localeService"],e.module("common.modules.notificationModal.component",["notificationModal.html","common.utilities.translate","common.services.localeService","paneraCommonUi.common.modal"]).component("notificationModal",{templateUrl:"notificationModal.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("common.modules.notificationModal",["common.modules.notificationModal.component"])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){d.time=_.get(d,"resolve.modalOptions.formattedDateTime.time"),d.date=_.get(d,"resolve.modalOptions.formattedDateTime.date"),d.type=_.get(d,"resolve.modalOptions.type"),d.originalDateTime=_.get(d,"resolve.modalOptions.originalDateTime"),d.cafePhoneNumber=_.get(d,"resolve.modalOptions.cafePhoneNumber"),d.disableSubmit=!1}function l(){return d.type===o.types.PREP_TIME?d.i18n.PREP_TIME_ERROR_TOTES:d.time?d.i18n.ORDER_TIME_IS_NOT_AVAILABLE:d.i18n.ORDER_TIME_IS_NOT_AVAILABLE_NO_SUGGESTED_TIME}function u(){n.onI18nDataChange(t,function(){d.i18n={TIME:p("TIME"),CANCEL_GO_BACK:p("CANCEL_GO_BACK"),SELECT_NEW_TIME:p("SELECT_NEW_TIME"),ACCEPT:p("ACCEPT"),PREP_TIME_ERROR_TOTES:p("PREP_TIME_ERROR_TOTES",[d.time,d.date]),DISCUSS_ALTERNATIVE_ARRANGEMENTS:p("DISCUSS_ALTERNATIVE_ARRANGEMENTS",[d.cafePhoneNumber]),ORDER_TIME_IS_NOT_AVAILABLE:p("ORDER_TIME_IS_NOT_AVAILABLE",[d.time]),ORDER_TIME_IS_NOT_AVAILABLE_NO_SUGGESTED_TIME:p("ORDER_TIME_IS_NOT_AVAILABLE_NO_SUGGESTED_TIME")},d.body=l()})}var d=this,p=e("translate");d.close=function(){d.modalInstance.close()},d.dismiss=function(){d.modalInstance.dismiss(o.changeTimeRejectMessage)},d.cancel=function(){a.trackOrderAbandoned(d.type),d.dismiss()},d.getNewTime=function(){r.change("PROCESS_ORDER_TIME"),a.trackManuallyChangeTime(d.type),d.close()},d.selectNextTime=function(){d.disableSubmit||(d.disableSubmit=!0,i.setOrderTime(d.originalDateTime.toISOString()),i.setOrderWhen("Later"),a.trackUseSuggestedTime(d.type),s.newTimeAccepted(),d.close())},d.$onInit=function(){c(),u(),a.trackModalShown(d.type)}}t.$inject=["$filter","$scope","localeService","orderFlowFactory","orderFlowService","orderTimeErrorConstants","orderTimeErrorAnalyticsService","orderTimeErrorService"],e.module("common.modules.orderTimeError.component",["orderTimeError.html","common.modules.orderTimeError.constants","common.factories.orderFlowFactory","common.services.orderFlowService","common.modules.orderTimeError.orderTimeErrorAnalytics","common.modules.orderTimeError.service"]).component("orderTimeError",{templateUrl:"orderTimeError.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("common.modules.orderTimeError.constants",[]).constant("orderTimeErrorConstants",{types:{PREP_TIME:"PREP_TIME",ORDER_SLOT:"ORDER_SLOT"},events:{SLOT_NOT_AVAILABLE:"slotNotAvailable",PREP_TIME_NOT_AVAILABLE:"prepTimeNotAvailable",NEW_TIME_ACCEPTED:"newTimeAccepted"},errors:{ORDER_SLOT_ERROR:["SLOT_UNAVAILABLE"],PREP_TIME_ERROR:["PREP_TIME_NEEDED"]},customerErrorMessages:{ORDER_SLOT:"NOT_ENOUGH_LEAD_TIME",PREP_TIME:"NOT_ENOUGH_PREP_TIME"}})}(window.angular),function(e){"use strict";e.module("common.modules.orderTimeError",["common.modules.orderTimeError.component","common.modules.orderTimeError.service","common.modules.orderTimeError.constants","common.modules.orderTimeError.orderTimeErrorAnalytics"])}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(e){var t=e.format("HH:mm a"),n=e.format("MM/DD/YY");return{time:t,date:n}}function o(e){var t=e?e.format("M/D/YY h:mm A"):void 0;return{time:t}}function a(e,t){switch(e){case r.types.PREP_TIME:return i(t);case r.types.ORDER_SLOT:return o(t);default:return o(t)}}function s(e,t){return!_.isEmpty(_.intersection(e,t))}var c;this.showModal=function(n){return t.show({component:"orderTimeError",size:"md-large",formattedDateTime:a(n.type,n.availableTime),originalDateTime:n.availableTime,type:n.type,cafePhoneNumber:n.cafePhoneNumber})["catch"](function(t){return e.reject(t)})},this.onPrepTimeError=function(e,t){return n.register(e,r.events.PREP_TIME_NOT_AVAILABLE,function(e,n){_.noop(e),t({data:n.data[0].value,type:r.types.PREP_TIME})})},this.onOrderSlotError=function(e,t){return n.register(e,r.events.SLOT_NOT_AVAILABLE,function(e,n){_.noop(e),t({data:n.data[0].value,type:r.types.ORDER_SLOT})})},this.newTimeAccepted=function(){n.fire(r.events.NEW_TIME_ACCEPTED)},this.onNewSlotAccepted=function(e,t){return n.register(e,r.events.NEW_TIME_ACCEPTED,function(){t()})},this.hasSlottingErrors=function(e){return s(e.messages,r.errors.ORDER_SLOT_ERROR)?(n.fire(r.events.SLOT_NOT_AVAILABLE,{data:e.details}),c=r.customerErrorMessages.ORDER_SLOT,!0):s(e.messages,r.errors.PREP_TIME_ERROR)?(n.fire(r.events.PREP_TIME_NOT_AVAILABLE,{data:e.details}),c=r.customerErrorMessages.PREP_TIME,!0):!1},this.getErrorMessage=function(){return c}}t.$inject=["$q","pnraModalService","eventHandler","orderTimeErrorConstants"],e.module("common.modules.orderTimeError.service",["common.modules.orderTimeError.constants","common.services.eventHandler","paneraCommonUi.common.modal"]).service("orderTimeErrorService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(e){s.images={inside:e?l.inside.mobile:l.inside.desktop,drivethru:e?l.drivethru.mobile:l.drivethru.desktop}}function a(){n.onViewPortChange(e,function(e){o(e)}),r.onI18nDataChange(e,function(){s.i18n={BUTTON:c("RDT_MODAL_BUTTON_TEXT"),TITLE:c("RDT_MODAL_TITLE"),DRIVE_THRU:c("DRIVE_THRU"),INSIDE:c("INSIDE")}})}var s=this,c=t("translate"),l=i.rapidDriveThru;s.close=function(){s.modalInstance.dismiss("cancel")},s.$onInit=function(){a()}}t.$inject=["$scope","$filter","mediaFactory","localeService","staticImages"],e.module("common.modules.rapidDriveThru.component",["rapidDriveThru.html","common.factories.media","common.services.localeService","common.utilities.constants"]).component("rapidDriveThru",{templateUrl:"rapidDriveThru.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("common.modules.rapidDriveThru",["common.modules.rapidDriveThru.component","common.modules.rapidDriveThru.service"])}(window.angular),function(e){"use strict";function t(e){this.showModal=function(){e.show({component:"rapidDriveThru",size:"md-small"})}}t.$inject=["pnraModalService"],e.module("common.modules.rapidDriveThru.service",["common.modules.rapidDriveThru.component","paneraCommonUi.common.modal"]).service("rapidDriveThruService",t)}(window.angular),function(e){"use strict";function t(e,t){function n(){r.loading=t.getOrderDetailsForReceipt(e.maskedOrderId).then(function(e){r.order=e})["catch"](function(e){r.errors=e})}var r=this;r.$onInit=function(){n()}}t.$inject=["$routeParams","receiptService"],e.module("common.modules.receipt.component",["receipt.html","common.modules.receipt.service","paneraCommonUi.common.pnraReceipt","paneraCommonUi.common.locale","paneraCommonUi.common.loading","common.utilities.error","ngRoute"]).component("receipt",{templateUrl:"receipt.html",controller:t,bindings:{}})}(window.angular),function(e){"use strict";e.module("common.modules.receipt.constants",[]).constant("receiptConstants",{errors:{ORDER_ID_IS_REQUIRED:"ORDER_ID_IS_REQUIRED"},rangeIntervals:{DELIVERY:{ASAP:10,LATER:15}}})}(window.angular),function(e){"use strict";e.module("common.modules.receipt",["common.modules.receipt.service","common.modules.receipt.component"])}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(e){var t=moment(_.get(e,"dates.ordStart")),n=moment(_.get(e,"dates.ordFulfill")),o=_.get(e,"summary.destination"),s=_.get(e,"summary.priority"),c=_.get(i.rangeIntervals,o+"."+s),l=_.sumBy(_.get(e,"orderDiscounts"),"amount");return _.merge(e,{isDelivery:"DELIVERY"===o,isPickup:"RPU"===o,isDineIn:"DINE_IN"===o,dates:{startDate:t.format(r.date),startTime:t.format(r.time),fulfillDate:n.format(r.date),fulfillTime:a(n,c,r.time)},displayCafe:_.get(e,"cafes[0]"),customer:{contactName:_.get(e,"customer.firstName")+" "+_.get(e,"customer.lastName")},orderDiscounts:l})}var a=t("orderTimeDisplay");this.getOrderDetailsForReceipt=function(t){return t?n.getOrderDetails(t).then(o):e.reject([i.errors.ORDER_ID_IS_REQUIRED])}}t.$inject=["$q","$filter","orderMgmtService","dateTimeFormats","receiptConstants"],e.module("common.modules.receipt.service",["common.services.orderMgmtService","common.utilities.filters","common.modules.receipt.constants"]).service("receiptService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(){var e=_.cloneDeep(v.model);return e.phoneNumber=_.get(e,"phoneNumber","").replace(/-/g,""),e}function u(){var t,n=l();return e.$broadcast("schemaFormValidate"),t=v.regForm.$valid,10!==_.size(n.phoneNumber)&&(t=!1,v.model.phoneNumber=n.phoneNumber),{isValid:t,regDetails:n}}function d(){var e=o.getValidationMessages().phoneNumber,t=o.getValidationMessages().password,n=o.getValidationMessages().emailAddress,r=o.getValidationMessages().firstName,i=o.getValidationMessages().lastName,a=o.getValidationMessages().loyaltyCard,s=o.getValidationMessages().loyaltyRegCode,c=o.getValidationMessages().streetAddress,l=o.getValidationMessages().birthday,u={};v.options={formDefaults:{validationMessage:u}},v.model={hasEmailOpt:!0,hasLoyaltyCard:!0,phoneNumber:_.get(v,"resolve.modalOptions.customerInfo.phoneNumber",""),emailAddress:_.get(v,"resolve.modalOptions.customerInfo.emailAddress",""),firstName:_.get(v,"resolve.modalOptions.customerInfo.firstName",""),lastName:_.get(v,"resolve.modalOptions.customerInfo.lastName","")},v.errors=[],v.schema={type:"object",title:"Registration",required:["phoneNumber","emailAddress","firstName","lastName","address","password"],properties:{phoneNumber:v.sharedSchema.phoneNumber,cardNumber:v.sharedSchema.loyaltyCardNumber,cardRegCode:v.sharedSchema.cardRegCode,emailAddress:v.sharedSchema.emailAddress,firstName:v.sharedSchema.firstName,lastName:v.sharedSchema.lastName,password:v.sharedSchema.password,address:v.sharedSchema.address,addressSecond:v.sharedSchema.addressSecond,birthday:v.sharedSchema.birthday,hasLoyaltyCard:{type:"boolean"},hasEmailOpt:{type:"boolean"}}},v.form=[{type:"formErrors",errors:v.errors},{type:"section",htmlClass:"row",condition:"$ctrl.isFullReg",items:[{type:"template",template:'<h3 class="col-xs-9 col-md-10">{{ form.howYoullSignInI18n }}</h3><p class="col-xs-3 col-md-2 required">&ast; {{ form.requiredI18n }}</p>',howYoullSignInI18n:v.i18n.HOW_YOULL_SIGN_IN,requiredI18n:v.i18n.REQUIRED}]},{type:"section",htmlClass:"form-group",items:[{key:"emailAddress",title:"EMAIL_ADDRESS",condition:'$ctrl.showExtraField("emailAddress")',placeholder:"EMAIL_ADDRESS",type:"text",isMaterial:!0,validationMessage:n},{key:"password",condition:"$ctrl.regType.source !== $ctrl.regTypes.FACEBOOK.source",title:"PASSWORD",placeholder:"PASSWORD",type:"password",isMaterial:!0,validationMessage:t}]},{type:"section",htmlClass:"row",condition:"$ctrl.isFullReg",items:[{type:"template",template:'<h3 class="col-xs-12">{{ form.aBitAboutYouI18n }}</h3>',aBitAboutYouI18n:v.i18n.A_BIT_ABOUT_YOU}]},{type:"section",htmlClass:"form-group",items:[{key:"firstName",title:"FIRST_NAME",condition:'$ctrl.showExtraField("firstName")',placeholder:"FIRST_NAME",type:"text",isMaterial:!0,validationMessage:r},{key:"lastName",title:"LAST_NAME",condition:'$ctrl.showExtraField("lastName")',placeholder:"LAST_NAME",type:"text",isMaterial:!0,validationMessage:i},{key:"address",title:"STREET_ADDRESS",condition:'$ctrl.showExtraField("address")',placeholder:"STREET_ADDRESS",type:"typeAhead",typeAhead:v.getSuggestions,taOnSelect:v.onAddressSelect,taMinLength:4,taLoading:!0,taTemplate:"suggestion.html",ngModelOptions:{debounce:350},isMaterial:!0,validationMessage:c},{key:"addressSecond",title:"STREET_ADDRESS_SECOND",condition:'$ctrl.showExtraField("addressSecond") && model.address',placeholder:"STREET_ADDRESS_SECOND",type:"text",isMaterial:!0},{key:"phoneNumber",title:"PHONE_NUMBER",condition:'$ctrl.showExtraField("phoneNumber")',placeholder:"PHONE_NUMBER",type:"tel",needsPhoneFormatting:!0,validationMessage:e,isMaterial:!0,onChange:"$ctrl.formatPhone(modelValue)"},{type:"template",condition:'$ctrl.showExtraField("phoneNumber")',template:'<span class="phone-lookup">{{form.message}}</span>',message:y("USE_PHONE_LOOKUP_REWARDS")},{key:"birthday",title:"BIRTHDAY_FORMAT",condition:'$ctrl.showExtraField("birthday")',placeholder:"BIRTHDAY_FORMAT",type:"text",isMaterial:!0,onChange:"$ctrl.formatBirthday(modelValue)",validationMessage:l},{type:"template",condition:'$ctrl.showExtraField("birthday")',template:'<span class="phone-lookup">{{ form.message }}</span>',message:v.i18n.WELL_CELEBRATE_YOUR_SPECIAL_DAY},{type:"section",htmlClass:"row",condition:"$ctrl.isFullReg",items:[{type:"template",template:'<h3 class="col-xs-12">{{ form.registerMyPaneraI18n }}</h3>',registerMyPaneraI18n:v.i18n.REGISTER_A_MY_PANERA_CARD}]},{key:"hasLoyaltyCard",title:"HAVE_A_MYPANERA_CARD",type:"checkbox",htmlClass:"col-xs-12 hasCard pnra-checkbox",disableSuccessState:!0,disableErrorState:!0},{key:"cardNumber",type:"tel",title:"LITE_REG_CARD_NUMBER",placeholder:"LITE_REG_CARD_NUMBER",condition:"model.hasLoyaltyCard",isMaterial:!0,htmlClass:"col-xs-8 card-number",validationMessage:a},{key:"cardRegCode",type:"tel",title:"REG_CODE",placeholder:"REG_CODE",condition:"model.hasLoyaltyCard",htmlClass:"col-xs-4",isMaterial:!0,validationMessage:s},{type:"section",htmlClass:"row",condition:"$ctrl.isFullReg",items:[{type:"template",template:'<h3 class="col-xs-12">{{ form.myPaneraEmailsI18n }}</h3>',myPaneraEmailsI18n:v.i18n.MY_PANERA_EMAILS}]},{key:"hasEmailOpt",title:"SIGN_UP_GET_REWARDS",type:"checkbox",htmlClass:"col-xs-12 signup pnra-checkbox",disableSuccessState:!0,disableErrorState:!0},{type:"section",htmlClass:"col-xs-12 canada-container",condition:"$ctrl.regType.source === $ctrl.regTypes.FACEBOOK.source",items:[{type:"template",template:'<p class="canada-txt top-padding">{{form.canadianResidentI18n}}&nbsp;<a href ng-click="form.fullReg()">{{form.signUpHereI18n}}</a></p>',canadianResidentI18n:v.i18n.CANADIAN_RESIDENT,signUpHereI18n:v.i18n.SIGN_UP_HERE,fullReg:v.fullReg}]},{type:"section",htmlClass:"btn-container",items:[{type:"submit",fieldHtmlClass:"pnra-btn",title:"JOIN_NOW"}]}]}],o.preProcess(v.options,v.form)}function p(){switch(v.regType.source){case s.FACEBOOK.source:v.subtitle=v.showExtraField("emailAddress")?v.i18n.FB_REG_PAGE_DESC_EMAIL_REQUIRED:v.i18n.FB_REG_PAGE_DESC,v.title=v.i18n.LITE_REG_PAGE_TITLE;break;case s.LITE.source:v.subtitle=v.i18n.LITE_REG_PAGE_DESC,v.title=v.i18n.LITE_REG_PAGE_TITLE;break;default:v.subtitle=v.i18n.FULL_REG_SUBTITLE_DESC,v.title=v.i18n.JOIN_MYPANERA}}function m(){v.isFullReg=v.regType.source===v.regTypes.DEFAULT.source||!v.regType}function f(){p(),m(),d(),c.trackViews(v.regType.label)}function h(){n.onI18nDataChange(e,function(){v.i18n={LITE_REG_PAGE_TITLE:y("LITE_REG_PAGE_TITLE"),LITE_REG_PAGE_DESC:y("LITE_REG_PAGE_DESC"),FB_REG_PAGE_DESC:y("FB_REG_PAGE_DESC"),FB_REG_PAGE_DESC_EMAIL_REQUIRED:y("FB_REG_PAGE_DESC_EMAIL_REQUIRED"),JOIN_NOW:y("JOIN_NOW"),SIGN_UP_HERE:y("SIGN_UP_HERE"),CANADIAN_RESIDENT:y("CANADIAN_RESIDENT"),REGISTRATION_DISCLAIMER:y("REGISTRATION_DISCLAIMER"),JOIN_MYPANERA:y("JOIN_MYPANERA"),FULL_REG_SUBTITLE_DESC:y("FULL_REG_SUBTITLE_DESC"),HOW_YOULL_SIGN_IN:y("HOW_YOULL_SIGN_IN"),REQUIRED:y("REQUIRED"),A_BIT_ABOUT_YOU:y("A_BIT_ABOUT_YOU"),WELL_CELEBRATE_YOUR_SPECIAL_DAY:y("WELL_CELEBRATE_YOUR_SPECIAL_DAY"),REGISTER_A_MY_PANERA_CARD:y("REGISTER_A_MY_PANERA_CARD"),MY_PANERA_EMAILS:y("MY_PANERA_EMAILS"),ALREADY_HAVE_AN_ACCOUNT:y("ALREADY_HAVE_AN_ACCOUNT"),SIGN_IN:y("SIGN_IN")},f()})}function g(){switch(v.resolve.modalOptions.type){case s.FACEBOOK:v.regType=s.FACEBOOK;break;case s.LITE:v.regType=s.LITE;break;default:v.regType=s.DEFAULT}}var v=this,y=t("translate");v.regTypes=s,v.register=function(){var t=u();t.isValid?(o.clearArray(v.errors),t.regDetails=i.buildRegObject(t.regDetails,v.addressObject),v.registrationPromise=v.resolve.modalOptions.action(t.regDetails).then(function(e){v.modalInstance.close(e)})["catch"](function(e){_.forEach(e,function(e){v.errors.push(e)}),o.disableSubmit(v.form,!1)})):e.$broadcast("schemaFormValidate")},v.launchLoginModal=function(){a.show({component:"pnraLogin",size:"lg-small",guestAllowed:!0}),v.modalInstance.dismiss()},v.formatPhone=function(e){v.model.phoneNumber=o.formatPhone(e)},v.formatBirthday=function(e){v.model.birthday=o.formatBirthday(e)},v.onAddressSelect=function(e){r.formatGeoAddress(e).then(function(e){v.addressObject=e})},v.fullReg=function(){v.regType=s.DEFAULT,f()},v.showExtraField=function(e){var t=_.get(v,"resolve.modalOptions.customerInfo",{});switch(v.regType.source){case s.LITE.source:return _.isUndefined(t[e])&&_.has(t,e);case s.FACEBOOK.source:return _.isUndefined(t[e])&&_.has(t,e);default:return!0}},v.$onInit=function(){v.sharedSchema=o.getSharedSchemas(),v.getSuggestions=r.getAddressSuggestions,g(),h()}}t.$inject=["$scope","$filter","localeService","addressService","registrationService","formBuilderService","pnraModalService","regTypes","registrationAnalyticsService"],e.module("common.modules.registration.component",["registration.html","suggestions.html","suggestion.html","common.utilities.translate","common.services.address.service","common.services.localeService","common.services.formBuilderService","common.modules.registration.service","orderFlow.registration","common.utilities.constants","schemaForm-typeahead","paneraCommonUi.common.modal","paneraCommonUi.common.loading","common.modules.registration.registrationAnalytics.service"]).component("registration",{templateUrl:"registration.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl;e.module("common.modules.registration.constants",[]).constant("registrationConstants",{
apiUrls:{register:n+"uramp/register"},errors:{ERROR_USERNAME_TAKEN:"ERROR_USERNAME_TAKEN",ERROR_EMAILADDRESS_TAKEN:"ERROR_EMAILADDRESS_TAKEN"}})}(window.angular,window),function(e){"use strict";e.module("common.modules.registration",["common.modules.registration.component","common.modules.registration.promptLiteRegistration.component","common.modules.registration.registrationFlow.service","common.modules.registration.service","common.modules.registration.registrationAnalytics.service"])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(e){var t={};return t.errors=_.map(e.errors,function(e){return e.description=e.reasonCode,e}),t}function l(t,n,r){var i=c(r.data),o=u(i,r.status);return s.trackRegistration(t,n,o),e.reject(o)}var u=n("apiErrorKeyFilter"),d=this;this.buildRegObject=function(e,t){var n=_.cloneDeep(e);return t?n.address=r.buildAddressUrampObject(n,t):n.address={},delete n.addressSecond,_.get(n,"birthday")&&(n.birthday=i.buildBirthdayUrampObject(n.birthday)),n},this.register=function(e,n){return e.regSource=n.source,t.post(o.apiUrls.register,e).then(function(){s.trackRegistration(e,n.label),a.fire("userRegistered",{emailAddress:e.emailAddress,password:e.password})})["catch"](function(t){return l(e,n,t)})},this.isEmailAlreadyExistsError=function(e){return _.includes(e,o.errors.ERROR_USERNAME_TAKEN)||_.includes(e,o.errors.ERROR_EMAILADDRESS_TAKEN)},this.handleEmailOrUsernameRegistrationFailure=function(e){return d.isEmailAlreadyExistsError(e)?[o.errors.ERROR_EMAILADDRESS_TAKEN]:e},this.onRegistration=function(e,t){return a.register(e,"userRegistered",function(e,n){_.noop(e),t(n)})},this.promptLogin=function(){a.fire("promptLogin")},this.onPromptLogin=function(e,t){return a.register(e,"promptLogin",function(e){_.noop(e),t()})}}t.$inject=["$q","$http","$filter","addressService","birthdayService","registrationConstants","eventHandler","registrationAnalyticsService"],e.module("common.modules.registration.service",["common.modules.registration.constants","common.modules.registration.registrationAnalytics.service","common.services.address.service","common.services.birthday.service","common.services.eventHandler","common.utilities.filters","paneraCommonUi.common.modal"]).service("registrationService",t)}(window.angular),function(e){"use strict";e.module("common.modules.address.constants",[]).constant("addressConstants",{supportedCountries:[{code:"CA",fullCountryName:"Canada"},{code:"US",fullCountryName:"United States"}],errors:{ADDRESS_LINE_ONE_IS_REQUIRED:"ADDRESS_LINE_ONE_IS_REQUIRED",PLEASE_ENTER_A_VALID_ADDRESS:"PLEASE_ENTER_A_VALID_ADDRESS"}})}(window.angular),function(e){"use strict";function t(e,t){function n(e){return e?{addressLine1:_.get(e,"address1"),city:_.get(e,"city"),country:_.find(t.supportedCountries,{code:_.get(e,"country")}).fullCountryName,state:_.get(e,"state"),zip:_.get(e,"postalCode"),addressType:"Residential"}:{}}this.getAddressSuggestions=function(t){return _.isUndefined(t)?[]:e.getAutocompleteList(t,["address"]).then(function(e){return _.map(e,"description")},function(){return[]})},this.buildAddressUrampObject=function(e,t){var n=_.cloneDeep(t);return e&&t&&(n.addressLine2=_.get(e,"addressSecond"),n.firstName=_.get(e,"firstName"),n.lastName=_.get(e,"lastName"),n.primaryPhone=_.get(e,"phoneNumber")),n},this.buildAddressLegacyObject=function(e){var t={};return _.assign(t,e,{addressLine1:_.get(e,"addressLine1")})},this.formatGeoAddress=function(t){return e.fetchGeoLocation(t).then(function(e){return n(_.get(e,"addresses[0]"))})},this.handleErrors=function(e){return _.includes(e,t.errors.ADDRESS_LINE_ONE_IS_REQUIRED)?[t.errors.PLEASE_ENTER_A_VALID_ADDRESS]:e}}t.$inject=["cafeSearchService","addressConstants"],e.module("common.services.address.service",["common.services.cafeSearchService","common.modules.address.constants"]).service("addressService",t)}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl;e.module("common.services.allergensService.constants",[]).constant("allergensConstants",{apiUrls:{getAllergens:n+"allergens"}})}(window.angular,window),function(e){"use strict";function t(e,t,n,r){function i(){var r=t.apiUrls.getAllergens;return n.get(r).then(function(e){return e.data.allergens})["catch"](function(){return e.reject([])})}function o(e){return _.map(e,function(e){return{i18nName:e.i18nName,translatedName:r.translate(e.i18nName)}})}var a;this.getAllergens=function(){return a?e.resolve(_.map(a,"i18nName")):i().then(function(e){return a=o(e),_.map(e,"i18nName")})["catch"](function(t){return e.resolve(t)})},this.formatAllergensForCart=function(e){return _.map(e,function(e){return _.find(a,{i18nName:e})})},this.formatAllergensForBuilder=function(e){return _.map(e,"i18nName")}}t.$inject=["$q","allergensConstants","$http","localeService"],e.module("common.services.allergensService.service",["common.services.allergensService.constants","common.services.localeService"]).service("allergensService",t)}(window.angular),function(e){"use strict";e.module("common.services.analytics.constants",[]).constant("analyticsConstants",{categories:{groupOrder:"Group Order",orderDetails:"Order Details",suggestedTip:"Suggested Tipping",login:"Login",upsell:"Upsell"},suggestedTip:{category:"Suggested Tipping",submit:{action:"Submit"}},nonSuggestedTip:{category:"Non-Suggested Tipping",submit:{action:"Submit",label:"No Group"}},survey:{deliveryOrder:"delivery survey",deliveryDefaultLabel:"Satisfied",generic:"survey",genericDefaultLabel:"Ordering Experience",noComments:"No comments provided."},cart:{favoriteOrder:{action:"Add Favorite Order to Cart",category:"Favorites"},favoriteItem:{action:"Add Favorite Item to Cart",category:"Favorites"},pastOrder:{action:"Add Past Order to Cart",category:"Past Orders"}},checkout:{favoriteOrder:{action:"Ordered Using Favorite Order",category:"Favorites"},favoriteItem:{action:"Ordered Using Favorite Item",category:"Favorites"},pastOrder:{action:"Ordered from pastOrders",category:"Past Orders"},favoriteCafe:{action:"Used favCafe to place an order",category:"Favorites"}},favoriteItem:{add:"Add Favorite Item",update:"Update Favorite Item","delete":"Delete Favorite Item"},favoriteOrder:{add:"Add Favorite Order",update:"Update Favorite Order","delete":"Delete Favorite Order"},dimensions:{survey:"dimension6",noteToDriver:"dimension7",groupOrderSize:"dimension8",orderType:"dimension9",orderId:"dimension1",customerId:"dimension4",loginRegType:"dimension10",accountErrors:"dimension11",regEmailOpt:"dimension12",cafeId:"dimension13",groupOrderId:"dimension14",validAddress:"dimension15",validBirthday:"dimension16",orderTimeViolation:"dimension17"},metrics:{surveyRating:"metric1",tip:"metric3",groupOrderGuestTotal:"metric4",numEmailsFound:"metric5"}}).constant("paymentType",{event:"Payment Types",action:{storedCreditCard:"Used Stored Credit Card",storedGiftCard:"Used Stored Gift Card",storedPaypal:"Used Stored Paypal",newCreditCard:"Used New Credit Card",newGiftCard:"Used New Gift Card",newPaypal:"Used New Paypal",savedCreditCard:"Saved New Credit Card",savedGiftCard:"Saved New Gift Card",savedPaypal:"Saved New Paypal",applePay:"Used Apple Pay"},label:{giftCard:"Gift Card",payPal:"PayPal",applePay:"ApplePay"}}).constant("orderDetails",{action:"Set Order Time",label:{now:"Now Order",laterToday:"Later Today Order",laterFuture:"Later Future Order"}})}(window.angular),function(e){"use strict";function t(e,t){function n(e){var n="(Order: "+e.orderId+") ";return n+=e.comment||t.survey.noComments}function r(e,n){return e!==t.survey.deliveryOrder?t.survey.genericDefaultLabel:_.isUndefined(n.reason)?t.survey.deliveryDefaultLabel:n.reason}function i(e,i){var o={};o[t.dimensions.survey]=n(i),o[t.metrics.surveyRating]=i.rating,a.trackEvent(e,"submit",r(e,i),i.rating,!1,_.omit(o,_.isUndefined))}function o(e){a.trackEvent(e,"load","Ordering Experience",0,!1)}var a=this;this.trackEvent=function(t,n,r,i,o,a){i=i||0,a=_.isUndefined(a)?void 0:a,o=o||!1,e.trackEvent(t,n,_.toString(r),i,o,a)},this.deliverySurveySubmit=function(e){i(t.survey.deliveryOrder,e)},this.genericSurveySubmit=function(e){i(t.survey.generic,e)},this.trackBringgSource=function(e){a.trackEvent("Bringg","Source",e)},this.deliverySurveyLoaded=function(){o(t.survey.deliveryOrder)},this.genericSurveyLoaded=function(){o(t.survey.generic)},this.trackBringgNote=function(e){var n={};n[t.dimensions.noteToDriver]=e.note,a.trackEvent("Bringg","Track Order","Send Driver Note",e.orderId,!1,n)},this.trackBringgTrackButtonDisplayed=function(e,t){a.trackEvent("Bringg","Displayed Track Order Button",t,e)},this.trackBringgLoaded=function(e){a.trackEvent("Bringg","Track Order","Initialization",e)},this.setGroupOrderSize=function(n){e.set(t.dimensions.groupOrderSize,n)},this.setGroupOrderId=function(n){e.set(t.dimensions.groupOrderId,n)},this.setOrderId=function(n){e.set(t.dimensions.orderId,n)},this.trackSuccessfulOrder=function(e){a.trackEvent("Order","Successful Transaction",e)},this.trackFailedOrder=function(e){a.trackEvent("Order","Failed Transaction",JSON.stringify(e))},this.trackTransaction=function(t){e.trackTransaction(t.orderId,void 0,t.orderTotal,_.isUndefined(t.tax)?"0.00":t.tax.toFixed(2),t.shipping,JSON.stringify(t.discountCode),void 0,void 0,void 0)},this.trackAddFavoriteItem=function(e){a.trackEvent("Favorites",t.favoriteItem.add,e.itemId+" - "+e.name,e.quantity)},this.trackFavoritesAction=function(e,n){var r=n?t.favoriteOrder:t.favoriteItem;a.trackEvent("Favorites",r[e])},this.trackCafeSelected=function(e){a.trackEvent(t.categories.orderDetails,"Set Cafe",(e.cafeId||e.CafeId)+" - "+e.Name)},this.trackOrderType=function(e){a.trackEvent(t.categories.orderDetails,"Set Order Type",e)},this.trackOrderDetailsReset=function(){a.trackEvent(t.categories.orderDetails,"Reset Order Details")},this.trackOrderDetailsRevert=function(){a.trackEvent(t.categories.orderDetails,"Revert Order Details")},this.trackOrderTime=function(e){a.trackEvent(t.categories.orderDetails,"Set Order Time",e)},this.trackMenuSearch=function(e){a.trackEvent("Menu","Search",e,1,!1,{})},this.trackHiringSubmit=function(){a.trackEvent("Hiring","submit","Tell a Friend",0,!1)},this.trackHiringLoad=function(){a.trackEvent("Hiring","load","Tell a Friend",0,!1)},this.trackFailedRefund=function(e){a.trackEvent("Order","Failed Refund",JSON.stringify(e))},this.trackDetail=function(){e.trackDetail()},this.trackHolidayOrderingOverLimit=function(e){a.trackEvent("Holiday Ordering","Limit Exceeded (modal)",e,0,!1)},this.trackCartChange=function(t){e.trackCart(t)},this.trackAdminFlow=function(e){a.trackEvent(t.categories.groupOrder,"Admin Flow",e)},this.trackGuestFlow=function(e){a.trackEvent(t.categories.groupOrder,"Guest Flow",e)},this.trackAdminAction=function(e){a.trackEvent(t.categories.groupOrder,"Admin Action",e)},this.trackUnavailableTimes=function(e){a.trackEvent("Order Slotting",e,"Unavailable Times",0,!1)},this.addProduct=function(t){e.addProduct(t.id,t.name,t.category,t.brand,t.variant,t.price,t.itemQty,t.coupon)},this.setUser=function(t){e.set("&uid",t)},this.setCustomerId=function(n){e.set(t.dimensions.customerId,n)},this.setCurrency=function(){e.set("&cu","USD")},this.setOrderType=function(n){e.set(t.dimensions.orderType,n)},this.setLanguage=function(t){e.set("language",t)},this.setCafeId=function(n){e.set(t.dimensions.cafeId,n)},this.trackPaymentMethod=function(e){a.trackEvent("Payment","Method",e,0,!1)},this.trackCheckout=function(t){e.trackCheckout(t)},this.trackSuggestedTipping=function(e,n){a.trackEvent(t.suggestedTip.category,t.suggestedTip.submit.action,e.groupName,n)},this.trackNonSuggestedTip=function(e){a.trackEvent(t.nonSuggestedTip.category,t.nonSuggestedTip.submit.action,t.nonSuggestedTip.submit.label,e)},this.trackCartEvent=function(e){a.trackEvent(t.cart[e].category,t.cart[e].action)},this.trackGroupOrderSize=function(e){a.trackEvent(t.categories.groupOrder,"Group Size",e)},this.trackGuestOrder=function(e){var n=e&&e.cost&&e.cost.total,r={};r[t.metrics.groupOrderGuestTotal]=n.balance,a.trackEvent(t.categories.groupOrder,"Guest Order details","OrderId and OrderTotal",0,!1,r)},this.trackLogin=function(e,n){a.trackEvent(t.categories.login,e,n,0,!1)},this.trackUpsell=function(e,n){a.trackEvent(t.categories.upsell,e,n,0,!1)}}t.$inject=["Analytics","analyticsConstants"],e.module("common.services.analytics",["angular-google-analytics","common.services.analytics.constants"]).service("analyticsService",t)}(window.angular),function(e){"use strict";function t(e){function t(){e.$on("$routeChangeSuccess",function(){!function(e,t,n,r,i){var o,a,s;e[i]=e[i]||[],o=function(){var t={ti:"5224017"};t.q=e[i],e[i]=new UET(t),e[i].push("pageLoad")},a=t.createElement(n),a.src=r,a.async=1,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o(),a.onload=a.onreadystatechange=null)},s=t.getElementsByTagName(n)[0],s.parentNode.insertBefore(a,s)}(window,document,"script","//bat.bing.com/bat.js","uetq")})}function n(){t()}n()}t.$inject=["$rootScope"],e.module("common.services.bing.service",["common.utilities.constants"]).service("bingService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(t){var n=_.pick(t,["birthDay","birthMonth","birthYear"]),a={method:"POST",headers:i.getRequestHeaders(),url:o.eCommerce.uramp.user.birthday,data:n};return r(a).then(function(e){return e})["catch"](function(t){return e.reject(t)})}this.buildBirthdayUrampObject=function(e){return e&&_.includes(e,"/")&&e.length>=3?{birthMonth:e.substring(0,2),birthDay:e.substring(3,5)}:{}},this.updateUserBirthday=function(r){return n.fetchConfig().then(function(n){var i=_.isNil(t.personalInfo().birthDay)&&n.urampIsEnabled;return i?a(r):e.resolve()})}}t.$inject=["$q","userService","configService","$http","httpHeaderService","apiUrls"],e.module("common.services.birthday.service",["common.services.httpHeader.service","common.services.userService","common.services.configService","common.utilities.constants"]).service("birthdayService",t)}(window.angular),function(e){"use strict";e.module("common.services.cafeHours",["common.factories.cafeLocator","common.services.orderFlowService","common.services.orderTypeService","common.utilities.serverTime","common.utilities.filters","common.utilities.constants","common.utilities.clientVars","common.services.configService"]).factory("cafeHours",["$q","$filter","$http","cafeLocatorFactory","orderFlowService","orderTypeService","serverTime","apiUrls","largeLeadTimeThreshold","defaultLeadTime","$window","splunkService","locker","clientVars","configService",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f){function h(){return moment().subtract(a.getTimeOffset(),"milliseconds")}function g(e,t){var n=N,i=!_.isEmpty(t)&&P.test(t)?e.format(n.split(" ")[0])+" "+t:e.format(n);return moment.tz(i,n,r.getTimezone())}function v(e){return r.isOrderSlottingEnabled()&&!u.utilities.isMomentToday(e)}function y(e){var t=e.format("MM/DD/YYYY");return _.find(I&&I.availableSlots,{slotDate:t})||{}}function b(t){var i,a=t.format("YYYY-MM-DD"),c=o.getOrderType(),l=$.getOrderAmount(),u=r.getCafe().cafeId,p=_.get(y(t),"slotRanges[0]",{});return i=s.cafe.orderSlots.replace(":cafeId",u).replace(":slotDate",a).replace(":openTime",p.startTime||"00:00").replace(":closeTime",p.endTime||"00:00").replace(":orderType",c).replace(":orderAmount",l),n.get(i).then(function(e){return _.get(e.data,"slotRanges")})["catch"](function(t){return d.log("Call to fetch order-slotting-1.5 failed for cafeId: "+u,t),e.reject(t)})}function E(t){var i=r.getCafe().cafeId,a=r.getDistance(),u=o.getOrderType(),d=s.cafe.hours.replace(":cafeId",i).replace(":orderAmount",t).replace(":distance",a).replace(":orderType",u);return n({method:"GET",url:d}).then(function(t){var n,r,i=$.getLeadTime(),o=t.data.cafeHours&&t.data.cafeHours[x.name],a=o&&o.leadTime||l;return a>i&&a>=c?(n=$.getCafeCurrentTime(),r={availableTimes:[n.add(a,"minutes")],cafePhoneNumber:$.cafePhone()},e.reject(r)):!0})}function C(t,o,a){var l,u=s.cafe.validateOrderTime,d={cafeId:r.getCafe().cafeId.toString(),orderType:x.name,orderId:i.getOrderId(),orderAmount:t,fulfillmentPriority:i.getOrderPriority().toLowerCase(),fulfillmentSlot:o.format()},p=[],m=$.getOrderLeadTime(t);return n({method:"POST",url:u,data:d}).then(function(t){var n=t.data;return n.slotAvailable?!0:(n.availableSlots?p=_.map(n&&n.availableSlots,function(e){return g(moment(e.slotDate,"MM/DD/YYYY"),e.slotTime).tz(r.getTimezone())}):(n.previousSlot&&p.push(moment(n.previousSlot).tz(r.getTimezone())),n.nextSlot&&p.push(moment(n.nextSlot).tz(r.getTimezone()))),"checkout"===a&&_.get(m,"leadTime")<c?!0:(_.get(m,"leadTime")>=c&&(l=$.cafePhone()),e.reject(p)))})["catch"](function(){var t={availableTimes:p,cafePhoneNumber:l};return e.reject(t)})}function S(t,n,r){return e.when(L.promise,function(i){return i?C(t,n,r):e.resolve()})}function w(t,n,r){return e.when(L.promise,function(i){return i?E(t,n,r):e.resolve()})}var T,I,O,A,$={},D={RPU:{name:"rpu",timeStep:5,timeStepUnit:"minutes",dateRange:30,dateRangeUnit:"days",validateOrderTime:!0},DINE_IN:{name:"dinein",timeStep:5,timeStepUnit:"minutes",dateRange:30,dateRangeUnit:"days",validateOrderTime:!1},DELIVERY:{name:"delivery",timeStep:15,timeStepUnit:"minutes",dateRange:30,dateRangeUnit:"days",validateOrderTime:m.validateDeliveryOrderTime},EXPRESS:{name:"express",timeStep:5,timeStepUnit:"minutes",dateRange:30,dateRangeUnit:"days",validateOrderTime:!0}},x=D[o.getOrderType()],R=0,k=t("abbrDayOfWeek"),P=new RegExp("^[0-2][0-9]:[0-5][0-9]$"),N="MM/DD/YYYY HH:mm",M=p.driver("session"),L=e.defer();return $.getCurrentTime=h,$.toCafeTime=g,$.cafePhone=function(){return r.getCafe().Phone},$.getLeadTime=function(){return i.getLeadTime()||l},$.getLeadTimeRange=function(){var e=$.getLeadTime()+" "+x.timeStepUnit;return M.get("leadTimeRange",e)},$.setLeadTimeRange=function(e){return M.put("leadTimeRange",e[x.name].convertedLeadTime)},$.getOrderLeadTime=function(e){return _.find(i.getOrderAmountLeadTimes(),function(t){return t.minOrderAmount>=e})},$.isCafeAvailable=function(){return I&&I.available},$.getOrderMoment=function(e){var t=r.getTimezone();return e=e||i.getOrderTime()||h(),t?moment(e).tz(t):e},$.getCafeCurrentTime=function(){var e=r.getTimezone(),t=e?h().tz(e):h();return t.seconds()>=30&&t.add(1,"minute"),t.seconds(0),t.milliseconds(0),t},$.getOrderTime=function(){var e=$.getCafeCurrentTime();return e.minutes(Math.ceil(e.minutes()/x.timeStep)*x.timeStep%60),e.seconds(0),e.milliseconds(0),e},$.getOrderTimeWithLead=function(e){var t;return t=_.isUndefined(e)||e?$.getOrderTime():$.getCafeCurrentTime(),t.clone().add($.getLeadTime(),"minutes")},$.orderFulfillAt=function(){var e=i.getOrderWhen();return e&&"Now"!==e?$.getOrderMoment():$.getOrderTimeWithLead(!1)},$.getHours=function(e){var t=I&&I.hours||{};return _.isUndefined(e)?t:t[e]},$.getSlotRanges=function(t){var n=_.cloneDeep(y(t));return n&&v(t)?b(t).then(function(e){return n.slotRanges=e,n})["catch"](function(){return n}):e.resolve(n)},$.isOpen=function(){var e,t,n=$.getCafeCurrentTime(),r=k(n),i=!1;return I.openNow&&_.forEach($.getHours(r),function(r){if(e=g(n,r.open),t=g(n,r.close),!n.isBefore(e)&&!n.isAfter(t)){var o=y(n).slotRanges,a=_.find(o,function(e){return g(n,e.endTime).isAfter(n)});i=!_.isEmpty(a)}}),i},$.getExceptionMessage=function(e){return y(e).exceptionMessage},$.getOrderTimes=function(e){var t,n,r,i,o,a,s,c,l,u=[];return $.getSlotRanges(e).then(function(d){if(t=d,n=I.slotInterval||10,r=$.getHours(e.format("ddd")),i=_.flatten(_.map(t.slotRanges,function(t){return[g(e,t.startTime),g(e,t.endTime)]})),o=!1,a=$.getCafeCurrentTime(),r)for(s=!_.isEmpty(t.slotRanges)&&g(e,t.slotRanges[0].startTime)||g(e,r[0].open),c=!_.isEmpty(t.slotRanges)&&g(e,t.slotRanges[t.slotRanges.length-1].endTime)||g(e,r[0].close),l=i.shift();s.isBefore(c);)l&&!l.isAfter(s)&&(o=!o,l=i.shift()),a.isBefore(s)&&u.push({orderTime:s.clone(),isAvailable:o}),s.add(n,"minutes");return u})},$.getOrderDates=function(){return _.map(I&&I.availableSlots,function(e){return moment(e.slotDate,"MM/DD/YYYY")})},$.setCafeHours=function(e){T=e,_.isUndefined(e)?I=void 0:(I=T[x.name],_.isUndefined(I)||(i.setLeadTime(I.leadTime,I.leadTimes),i.setLargeOrderLeadTimes(I.largeOrderLeadTimes),o.isDelivery()&&I.rangeInterval&&i.setRangeInterval(I.rangeInterval.deliveryAsapRangeInMinutes,I.rangeInterval.deliveryLaterRangeInMinutes)))},$.setOrderType=function(e){x=D[e],T&&(I=T[x.name])},$.setOrderAmount=function(e){R=e},$.setOrderAmountOverride=function(e){O=e},$.setSkipOrderTimeValidationOverride=function(e){A=e},$.getOrderAmount=function(){return O||R},$.validOrderTime=function(e,t,n){var i,o,a=$.orderFulfillAt();return _.isUndefined(r.getTimezone())?!1:n&&n!==a.format("ddd").toLowerCase()?!1:(i=g($.getOrderMoment(),e),o=g($.getOrderMoment(),t),i.day(n||a.day()),o.day(n||a.day()),!a.isAfter(o)&&!a.isBefore(i))},$.validOrderDateTime=function(e,t){var n,i;return _.isUndefined(r.getTimezone())?!1:(n=moment(e,"YYYY-MM-DD HH:mm").tz(r.getTimezone()),i=moment(t,"YYYY-MM-DD HH:mm").tz(r.getTimezone()),$.getOrderMoment().isAfter(n)&&$.getOrderMoment().isBefore(i))},f.fetchConfig().then(function(e){L.resolve(e.checkSlotting)}),$.validateOrderTime=function(t){var n=R,r=t.validationType,o=this.orderFulfillAt();return!x.validateOrderTime||A?e.when(!0):"checkout"===r&&"Now"===i.getOrderWhen()?w(n,o,r):S(n,o,r)},$}])}(window.angular),function(e){"use strict";e.module("common.modules.cafeSearch.constants",[]).constant("cafeSearchConstants",{maximumDeliveryRadius:8e4,latLngOffset:.05,places:{supportedCountries:["us","ca"],supportedTypes:["address"]}})}(window.angular),function(e){"use strict";e.module("common.services.cafeSearchService",["ngResource","angular-locker","common.services.configService","common.services.scriptElementService","common.modules.cafeSearch.constants","common.utilities.constants"]).service("cafeSearchService",["$q","$resource","locker","apiUrls","staticImages","scriptElementService","configService","cafeSearchConstants","configDefaults",function(t,n,r,i,o,a,s,c,l){function u(){return I.get("currentLocation")}function d(e){I.put("currentLocation",{latitude:e.latitude,longitude:e.longitude,offset:e.offset})}function p(e,n){var r=t.defer(),i=u(),o=i.latitude,a=i.longitude;return C.getPlacePredictions({componentRestrictions:{country:c.places.supportedCountries},input:e,location:new google.maps.LatLng(o,a,!1),radius:l.googleMapRadius,types:n||["geocode"]},function(e,t){t===google.maps.places.PlacesServiceStatus.OK?r.resolve(e):r.reject(t)}),r.promise}function m(e){return e&&!e.geometries?{latitude:e.coordinates[1],longitude:e.coordinates[0]}:e&&e.geometries?{latitude:e.geometries[0].coordinates[1],longitude:e.geometries[0].coordinates[0]}:{}}function f(e){var t,n,r=_.get(e,"geometries[1].coordinates[0]"),i=[];if(e&&(!e.geometries||!r))return{};if(e&&e.geometries&&r){for(n={id:"id_"+e.geometries[0].coordinates[1]+e.geometries[0].coordinates[0],visible:!0,editable:!1,draggable:!1,geodesic:!1,stroke:{weight:2,color:"#6060FB"},path:[]},t=0;t<r.length;t+=1)i.push({latitude:r[t][1],longitude:r[t][0]});return n.path=i,n}}function h(e){var t=i.google.maps,n=e.properties;if(_.isString(n.Hours))try{n.Hours=JSON.parse(n.Hours)}catch(r){n.Hours={}}else n.Hours={};return n.orderTypeIcons=[],"YES"===n.HasDelivery&&n.orderTypeIcons.push(o.orderTypeIcons.deliveryIcons.selected),"YES"===n.HasPickup&&n.orderTypeIcons.push(o.orderTypeIcons.rpuIcons.selected),"YES"===n.HasOrderFromMyTable&&n.orderTypeIcons.push(o.orderTypeIcons.orderAtTableIcons.selected),n.Icon=o.mapIcons.marker,n.Location=m(e.geometry),n.polygon=f(e.geometry),n.showWindow=!1,n.singleLineAddress=n.StreetName+", "+n.City+", "+n.State+" "+n.Zip,n.getDirectionsUrl=function(){var e="St Louis, MO 63127",r=t+e+"/"+n.singleLineAddress;return r},n.cafeId=n.cafeId||+n.CafeId,n.maxModifications=_.isNumber(+n.maxModifications)&&!_.isNaN(+n.maxModifications)?+n.maxModifications:0,n}function g(e){return _.map(e.features,h)}function v(e){var t=_.inRange(e.lng,-180,180)&&"0.00"!==e.lng,n=_.inRange(e.lat,-90,90)&&"0.00"!==e.lat;return t&&n}function y(r){if(r=e.copy(r),r.lat=r.lat||"0.00",r.lng=r.lng||"0.00",r.featureProp=r.featureProp||"'YES'",!v(r)&&_.isEmpty(r.cafeIds)&&_.isEmpty(r.address))return t.reject({error:"Invalid Request"});if(S&&w&&T&&O[S+"_"+w+"_"+T]&&Math.abs(S-r.lat)<=c.latLngOffset&&Math.abs(w-r.lng)<=c.latLngOffset&&T===r.radius&&_.isEmpty(r.cafeIds)&&_.isEmpty(r.address))return O[S+"_"+w+"_"+T];_.isArray(r.cafeIds)?r.cafeIds=r.cafeIds.join(" "):(r.radius=r.radius||0,r.searchRadius=Math.max(r.radius,c.maximumDeliveryRadius));var i,o,a=!_.isUndefined(r.cafeIds),l=s.getConfigData();return i=l.baseUrl+l.searchUrl+(a?l.searchNoRadius:l.searchRadius),o=n(i,{},{find:{method:"GET",cache:!0}}).find(r).$promise.then(g),S=r.lat,w=r.lng,T=r.radius,O[S+"_"+w+"_"+T]=o,o}function b(){return n("data/googlemaps/roadAtlasStyles.json",{},{all:{method:"GET",params:{},isArray:!0,cache:!0}}).all()}function E(e,t){var r=i.cafe.geocoding;return n(r,{address:e},{get:{method:"GET",cache:!0}}).get().$promise.then(function(e){return e.requestId=t,e})}var C,S,w,T,I=r.driver("session"),O={};return a.loadGoogleMaps().then(function(){C=new google.maps.places.AutocompleteService}),{getCurrentLocation:u,setCurrentLocation:d,getCafes:y,getRoadAtlasStyles:b,fetchGeoLocation:E,getAutocompleteList:p}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,v,y,b,_,E,C,S,w,T){var I=t.defer(),O=t.defer(),A=t.defer(),$=t.defer();g=this,g.nutrientsCaloriesFilter=n("nutrientsCaloriesFilter"),g.sessionStorage=u.driver("session"),g.analyticsService=a,g.opinionLabService=o,g.cafeHours=s,g.menuService=c,g.userService=y,g.rewardManagementService=b,g.eventHandler=_,g.discountService=f,g.discountCodes=E,g.routes=C,g.itemUnavailable=S,g.nutritionService=w,g.modalService=l,g.cafeLocatorFactory=p,g.holidayOrderingFactory=m,g.$log=e,g.$rootScope=i,g.validationErrors=[],g.ruleGroups=T,g.$q=t,g.pricingService=h,g.translate=n("translate"),g.$location=r,g.itemStockoutData={},g.placardStockoutData={},g.initialization=!0,g.totalErrors=0,v.onOrderTimeChange(i,function(){g.initialization||(g.validateCartItems(),g.validateQuantityRules()),$.resolve()}),d.onStockoutChange(i,function(e,t){g.itemStockoutData=e.item,g.placardStockoutData=e.placard,g.initialization||"checkout"===t||g.validateCartItems(),I.resolve()}),c.onPlacardDataChange(function(){g.initialization||g.validateCartItems(),O.resolve()}),g.cafeLocatorFactory.onCafeChange(i,function(){g.initialization||(g.itemDataByItemIdByProductId={},g.modGroupByModGroupIdByProductId={},g.validateCartItems(),g.updatePrices(),g.validateQuantityRules()),g.updatePrices(),A.resolve()}),t.all([I.promise,O.promise,A.promise,$.promise]).then(function(){g.initialization=!1,g.validateCartItems(),g.validateQuantityRules()})}function n(e,t){var n=_.get(e,"id",!1);return n?g.nutritionService.fetchNutritionData(e,t,g.cafeLocatorFactory.getCafe().cafeId).then(function(e){return e.requestId===t?g.nutrientsCaloriesFilter(e.nutrition):void 0}):g.$q.reject()}function r(e){var t=[];return _.isUndefined(e.items)||_.isArray(e.items)?_.isUndefined(e.items)||_.forEach(e.items,function(e,n){var i=r(e),o={};i!==!0&&(o["child"+n.toString()]=i,t.push(o))}):t.push("items expected to be an array."),_.isUndefined(e.itemType)||_.isString(e.itemType)||t.push("itemType expected to be a string."),_.isUndefined(e.id)?t.push("id is required."):_.isNumber(e.id)||t.push("id expected to be a number"),_.isUndefined(e.i18nName)?t.push("i18nName is required."):_.isString(e.i18nName)||t.push("i18nName expected to be a string."),_.isUndefined(e.itemQty)?t.push("itemQty is required."):_.isNumber(e.itemQty)||t.push("itemQty is expected to be a number."),_.isUndefined(e.hasCustomizations)?t.push("hasCustomizations is required."):_.isBoolean(e.hasCustomizations)||t.push("hasCustomizations is expected to be a boolean."),_.isUndefined(e.allowSpecialInstr)?t.push("allowSpecialInstr is required."):_.isBoolean(e.allowSpecialInstr)||t.push("allowSpecialInstr is expected to be a boolean."),g.menuService.isItemAvailable(e)||t.push("item is not available for the selected time"),_.size(t)>0?t:!0}function i(e){var t,n,r=!1,i=_.cloneDeep(e);return t=g.menuService.getMyPlacard(e.id),_.isUndefined(t)?(g.validationErrors.push("isUnavailable"),i.isUnavailable=!0,r=!0):n=t.plcId,!n||_.isUndefined(g.placardStockoutData)||_.isUndefined(g.placardStockoutData[n])?(i.isProductStockout||i.hasStockoutComponent)&&(i.isProductStockout=!1,i.hasStockoutComponent=!1,r=!0):g.placardStockoutData[n].isStockedOutForOrderTime?(Boolean(i.isProductStockout)!==Boolean(g.placardStockoutData[n].isProductStockout)&&(i.isProductStockout=g.placardStockoutData[n].isProductStockout,r=!0),Boolean(i.hasStockoutComponent)!==Boolean(g.placardStockoutData[n].hasStockoutComponent)&&(i.hasStockoutComponent=g.placardStockoutData[n].hasStockoutComponent,r=!0),i.isProductStockout&&g.validationErrors.push("isProductStockout"),i.hasStockoutComponent&&(g.checkItemAvailability(i)&&(r=!0),i.hasStockoutComponent=!_.isEmpty(_.intersection(g.validationErrors,g.itemUnavailable.states)))):((i.isProductStockout||i.hasStockoutComponent)&&(r=!0),i.isProductStockout=!1,i.hasStockoutComponent=!1),r=r||g.checkItemAvailability(i),r?i:void 0}function o(e,t,n){g.sessionStorage.put("cart",t),e.fireCartChangeEvent(n)}function a(e){var t=_.get(e,"ruleScope");return t===g.ruleGroups.ITEM?g.translate(e.i18nName):e.ruleName}function s(e){var t=e.limit,n=g.cafeLocatorFactory.getCafe().Phone,r=a(e);return[t,r,n]}function c(e){var t={backdrop:!0,keyboard:!0,modalFade:!0,size:"sm",templateUrl:"alert.html",controller:"AlertController"},n={closeButtonText:"NO",actionButtonText:"OK",headerText:void 0,bodyText:e.i18nMessage,model:s(e)};g.modalService.show(t,n)}function l(e){var t={backdrop:!0,keyboard:!0,modalFade:!0,size:"sm",templateUrl:"alert.html",controller:"AlertController"},n={closeButtonText:"NO",actionButtonText:"OK",headerText:void 0,bodyText:"INVALID_ITEM",model:[g.translate(e.i18nName)]};g.modalService.show(t,n)}function u(){return g.getCart().length}function d(e){"clear"!==e&&g.opinionLabService.updateOpinionLabData("numberOfItems",u())}function p(e,t){g.createEcommProducts([e]),g.analyticsService.trackCartChange(t.toLowerCase())}function m(e){var t;_.forEach(e,function(e){t={id:e.id,name:g.translate(e.i18nName),category:e.categorialContext,brand:void 0,variant:g.translate(e.i18nModLbl),price:e.price,itemQty:e.itemQty||1,coupon:e.coupon},g.analyticsService.addProduct(t)})}function f(e,t,n){var r,i,o=g.userService.isLoggedIn()?g.rewardManagementService.rewardToBeRedeemed():!1,a=g.rewardManagementService.getCartItemIds([e[t]]);e.splice(t,1),_.forEach(o,function(t){"remove"!==n||_.isEmpty(_.intersection(t.cartItem,a))||(r=_.find(g.rewardManagementService.rewards().rewards,{discCode:t.discCode}),i=g.rewardManagementService.cartHasEligibleItems(e,r),i.length<1&&(g.rewardManagementService.removeRewardsFromSession(t),g.discountService.removeSpecificOrderDiscount(t)))})}function h(e){return(_.isEmpty(e.sides)||_.isEmpty(e.selectedComponents)||_.isUndefined(e.collapseMods)||_.isEmpty(e.items))&&"combo"!==e.itemType&&!e.isUnavailable&&e.hasCustomizations?g.menuService.fetchCustomizationData(e.id).then(function(t){return t.sides=t.sides||{sideItems:[]},_.isEmpty(e.sides)&&(e.sides=_.cloneDeep(t.sides),_.forEach(e.sides.sideItems,function(e){e.calories=e.nutrients[0]})),e.collapseMods=t.product.collapseMods,_.isUndefined(e.selectedComponents)?e.selectedComponents=g.getDefaultComponents(t):t.product.sendDefaults&&_.isEmpty(e.items)&&(e.items=_.sortBy(g.buildItemsFromComponents(e.selectedComponents),"sortWeightCart")),e.items=_.sortBy(e.items,"sortWeightCart"),e},function(){return e}):(e.items=_.sortBy(e.items,"sortWeightCart"),g.$q.when(e))}var g,v=e.module("common.services.cartService",["common.services.analytics","angular-locker","common.services.cafeHours","common.factories.cafeLocator","common.factories.holidayOrderingFactory","common.factories.stockoutFactory","common.services.discountService","common.services.eventHandler","common.services.menuService","common.services.modalService","common.services.pricingService","common.services.orderFlowService","common.services.userService","common.services.rewardManagementService","common.utilities.constants","common.services.opinionLab.service","common.services.nutritionService"]);
t.prototype.populateCalories=function(e){var t=0;return g.$q.all(_.map(e,function(e){return t+=1,n(e,t).then(function(t){return e.calories=t,e})}))},t.prototype.getDefaultComponents=function(e){return _.compact(_.map(e&&e.product&&e.product.defaultItems,function(t){return g.componentFromId(t.itemId,t.qty,!0,e)}))},t.prototype.updateCartSideItem=function(e,t){var n,r,i=g.getCart();_.isEmpty(i)||(n=i[t],r=_.findIndex(n.items,function(e){return"side"===e.itemType.toLowerCase()}),n.items[r].id=e.id||e.itemId,n.items[r].i18nName=e.i18nName,n.items[r].calories=e.calories||{},n.items[r].price=e.price,g.addItem(n,t))},t.prototype.modGroupByModGroupId=function(e){var t,n,r=e.pkid.productId;return _.isUndefined(this.modGroupByModGroupIdByProductId)&&(this.modGroupByModGroupIdByProductId={}),this.modGroupByModGroupIdByProductId[r]||(t=e&&e.modifiers&&e.modifiers.modGroups,n={},_.forEach(t,function(e){n[e.modGroupId]=e}),this.modGroupByModGroupIdByProductId[r]=n),this.modGroupByModGroupIdByProductId[r]},t.prototype.itemDataByItemId=function(e){var t,n,r=e.pkid.productId;return _.isUndefined(this.itemDataByItemIdByProductId)&&(this.itemDataByItemIdByProductId={}),this.itemDataByItemIdByProductId[r]||(t=e&&e.modifiers&&e.modifiers.modGroups,n={},_.forEach(t,function(e){_.forEach(e.modItems,function(t){_.forEach(t.variants,function(r){n[r.itemId]={modGroup:e,modItem:t,variant:r}})})}),this.itemDataByItemIdByProductId[r]=n),this.itemDataByItemIdByProductId[r]},t.prototype.getItemData=function(e,t){return this.itemDataByItemId(t)[e]},t.prototype.getModGroup=function(e,t){return this.modGroupByModGroupId(t)[e]},t.prototype.getSideData=function(e,t){var n=t&&t.sides&&t.sides.sideItems;return _.find(n,{itemId:e})},t.prototype.componentFromId=function(e,t,n,r){var i,o,a=g.getItemData(e,r),s=r.product,c=a&&a.modItem.modItemBasis,l=a&&a.modItem.sortWeight,u=!1;return a&&!s.sendDefaults&&"qty"===c.toLowerCase()&&"regular"===a.variant.variantType.toLowerCase()&&(u=!0,l+=.5),"Prep"===c&&(n=a&&a.modItem&&a.modItem.isDefault),i=_.find(a&&a.modItem&&a.modItem.availabilityExceptions,{type:"lto"}),o=a&&{modGroupId:a.modGroup&&a.modGroup.modGroupId,modItemId:a.modItem&&a.modItem.modItemId,variantId:a.variant&&a.variant.itemId,quantity:t||a.modItem&&a.modItem.defaultQty||1,i18nName:a.variant&&a.variant.i18nName,sortWeight:l,sortWeightCart:a.modItem&&a.modItem.sortWeightCart,isDefault:n,modItemBasis:c,addDefaultVariant:u},i&&(o.fromDate=i.fromDate,o.toDate=i.toDate),o&&"Qty"===o.modItemBasis&&(o.defaultQuantity=a.modItem.defaultQty||0),o},t.prototype.itemDetailsFromItems=function(e,t){var n;return _.map(e,function(e){var r,i;return e=_.cloneDeep(e),r=g.getSideData(e.id,t),r?(e.i18nName=r.i18nName,e.price=r.price,e.itemQty=1,e.itemType="side",e.hasCustomizations=!1,e.allowSpecialInstr=!1,e.isAvailable=!0):(i=g.getItemData(e.id,t),i&&(e.i18nName=i.variant.i18nName,e.itemType="no"===(i.variant.variantType||"").toLowerCase()?"remove":"add",e.price=i.variant.price,e.itemQty=e.quantity||e.itemQty,e.hasCustomizations=!1,e.allowSpecialInstr=!1,e.sortWeightCart=i.modItem.sortWeightCart,n=_.find(i&&i.modItem&&i.modItem.availabilityExceptions,{type:"lto"}),n?e.isAvailable=g.cafeHours.validOrderDateTime(n.fromDate,n.toDate):e.isAvailable=!0)),e})},t.prototype.findMissingDefaultItems=function(e,t){var n,r=t.modifiers.modGroups,i={};return _.forEach(e,function(e){var n=g.getItemData(e.id,t),r=n&&n.modGroup.modGroupId;i[r]=(i[r]||0)+e.quantity}),n=_.compact(_.flatten(_.map(r,function(e){var t=e.minAllowed-(i[e.modGroupId]||0);return _.map(e.modItems,function(e){var n,r;return t>0&&e.isDefault?(n=_.find(e.variants,{itemId:e.defaultVariant}),r=Math.min(e.defaultQty,t),t-=r,{id:n.itemId,quantity:r,type:"PRODUCT",items:[],specialInstructions:{yourName:"",specialInstructions:""}}):void 0})})))},t.prototype.buildComponentsFromIds=function(e,t){var n,r,i,o={},a=[],s=t&&t.product&&t.product.sendDefaults,c=t&&t.product&&t.product.menuItemType;return s||(a=g.getDefaultComponents(t)),"ASSORTMENT"===c&&(n=g.findMissingDefaultItems(e,t),e=e.concat(n)),a=a.concat(_.map(e,function(e){var n=e.quantity||e.itemQty;return g.componentFromId(e.id,n,!1,t)})),r=_.uniq(_.map(a,"modItemId")),a=_.map(r,function(e){var t=_.filter(a,{modItemId:e});return t.length>1&&!t[1].addDefaultVariant&&(t=_.slice(t,1)),t}),a=_.flatten(a),i=_.uniq(_.map(a,"modGroupId")),a=_.map(i,function(e){var n=g.getModGroup(e,t),r=_.filter(a,{modGroupId:e});return r.length>n.maxAllowed&&(r=_.slice(r,r.length-n.maxAllowed)),r}),a=_.sortBy(_.flatten(a),"sortWeight"),o.items=g.itemDetailsFromItems(e,t),o.selectedComponents=a,o},t.prototype.checkSideStockoutAvailability=function(e){return Boolean(g.itemStockoutData[e]&&g.itemStockoutData[e].isStockedOutForOrderTime)},t.prototype.checkItemAvailability=function(e){var t,n,r,i=!1;return t=!_.isEmpty(g.itemStockoutData)&&g.itemStockoutData[e.id]&&g.itemStockoutData[e.id].isStockedOutForOrderTime,n=_.find(e.items,function(e){return"side"===e.itemType.toLowerCase()}),n=n&&!_.isUndefined(n.id)&&g.itemStockoutData[n.id]&&g.itemStockoutData[n.id].isStockedOutForOrderTime,r=_.some(e.selectedComponents,function(e){var t=!1,n=g.itemStockoutData[e.modItemId]&&g.itemStockoutData[e.modItemId].isStockedOutForOrderTime&&e.quantity>0;return e.fromDate&&e.toDate&&(t=!g.cafeHours.validOrderDateTime(e.fromDate,e.toDate)),n||t}),t&&g.validationErrors.push("hasUnavailableSize"),n&&g.validationErrors.push("hasUnavailableSide"),r&&g.validationErrors.push("hasUnavailableIngredients"),Boolean(e.hasUnavailableSize)!==Boolean(t)&&(e.hasUnavailableSize=t,i=!0),Boolean(e.hasUnavailableSide)!==Boolean(n)&&(e.hasUnavailableSide=n,i=!0),Boolean(e.hasUnavailableIngredients)!==Boolean(r)&&(e.hasUnavailableIngredients=r,i=!0),i},t.prototype.validateCartItems=function(){var e=_.cloneDeep(g.getCart());return g.validationErrors=[],_.isEmpty(e)?g.$q.when(!0):(_.forEach(e,function(t,n){"combo"===t.itemType.toLowerCase()?(_.forEach(t.items,function(e,n){e=i(e),_.isUndefined(e)||(t.items[n]=e)}),t.items=_.uniq(t.items)):t=i(t),_.isUndefined(t)||(e[n]=t)}),e=_.uniq(e),g.menuService.updateCartItemsAvailability(e).then(function(t){e=t.items,t.hasUnavailableItems&&g.validationErrors.push("isUnavailable"),(g.totalErrors!==g.validationErrors.length||t.items)&&(o(g,e,"update"),g.totalErrors=g.validationErrors.length)})["catch"](function(){_.noop()}).then(function(){return g.validationErrors=_.uniq(g.validationErrors),g.eventHandler.fire("CartValidation",g.validationErrors),_.isEmpty(g.validationErrors)?!0:g.$q.reject(g.validationErrors)}))},t.prototype.updatePrices=function(e,t){g.validationErrors=[];var n,r=e||g.getCart(),i=[],a=0,s=g.rewardManagementService.getRewardToBeRedeemed(),c=g.discountService.getDiscountCode();return _.isEmpty(s)||s.forEach(function(e){i.push({type:g.discountCodes.reward,promoCode:e.promoCode})}),c&&i.push({type:g.discountCodes.discountCode,promoCode:c}),n={cart:r,discounts:i,customer:{id:g.userService.customerId(),loyaltyNum:g.userService.loyaltyCardNumber()}},a+=1,g.pricingService.fetchCartPricing(n,!1,a).then(function(e){e.requestId===a&&(_.forEach(r,function(t){var n=_.find(e.items,{itemId:t.id});n&&(t.price=n.totalPrice)}),g.pricingService.handleRewardPricingSuccess(e,r,t),r=g.updateCartItemPrices(r,e.items))})["finally"](function(){o(g,r,t||"update")})},t.prototype.validateQuantityRules=function(e,t){var n=e||g.getCart();return g.itemsOverQtyLimit=void 0,g.holidayOrderingFactory.getOrderingLimits(g.cafeLocatorFactory.getCafe().cafeId).then(function(){var e=g.holidayOrderingFactory.isCartItemsOverLimit(g.cafeLocatorFactory.getCafe().cafeId,n,g.cafeHours.orderFulfillAt());return _.isEmpty(e)?!0:(g.itemsOverQtyLimit={i18nMessage:e.i18nMessage,model:s(e)},g.analyticsService.trackHolidayOrderingOverLimit(e.ruleName),_.includes(g.$location.path(),g.routes.orderFlow)||"remove"===t||c(e),!1)})},t.prototype.onCartValidation=function(e,t){return g.eventHandler.register(e,"CartValidation",function(e,n){_.noop(e),t(n)})},t.prototype.getItemsExceedingQtyLimit=function(){return g.itemsOverQtyLimit},t.prototype.getValidationErrors=function(){return g.validationErrors},t.prototype.clearCart=function(){o(this,[],"clear"),g.setOrderSpecialInstructions(!1)},t.prototype.getCart=function(){return this.sessionStorage.get("cart",[])},t.prototype.addItem=function(e,t){var n,i,o=g.getCart(),a=[],s=[];return i=_.isUndefined(t)?"add":"update",_.isArray(e)?a=e:a.push(e),s=_.map(a,function(e){return n=r(e),n===!0?(e=_.cloneDeep(e),h(e).then(function(e){var n=t>=0&&t<_.size(o)&&o[t];return n?(f(_.cloneDeep(o),t,"update"),o.splice(t,1,e),void p(o[t],"remove")):(o.push(e),void p(o[t||o.length-1],"add"))})):(g.$log.error("Attempting to add an invalid item to the cart.",n),g.$q.reject(e))}),g.$q.all(s).then(function(){return g.validateQuantityRules(o,i).then(function(e){return e?g.updatePrices(o,i):void 0})},l)},t.prototype.isComboItemValid=function(e){var t=r(e);return _.isArray(t)?(g.$log.error("Attempting to add an invalid item to the cart.",t),l(e),!1):t},t.prototype.isCustomizable=function(e){return!e.isUnavailable&&Boolean("combo"===e.itemType||e.hasCustomizations||e.allowSpecialInstr)},t.prototype.updateCartItemPrices=function(e,t){var n=_.cloneDeep(e);return _.forEach(n,function(e){var n=_.filter(t,{itemId:e.id});_.forEach(n,function(t){var n=[],r=[];return r=_.map(t.childItems,"itemId"),_.forEach(t.childItems,function(e){r=_.union(r,_.map(e.childItems,"itemId"))}),n=_.map(e.items,"id"),_.forEach(e.items,function(e){n=_.union(n,_.map(e.items,"id"))}),_.isEmpty(_.xor(n,r))&&_.size(e.items)===_.size(t.childItems)?void(e.price=t.totalPrice):void 0}),e.isCustomizable=g.isCustomizable(e)}),n},t.prototype.buildItemsFromComponents=function(e){return _.map(e,function(e){return{id:e.variantId,i18nName:e.i18nName,itemType:"default",itemQty:e.quantity,hasCustomizations:!1,allowSpecialInstr:!1,sortWeightCart:e.sortWeightCart}})},t.prototype.removeItem=function(e){var t={closeButtonText:"NO",actionButtonText:"YES",headerText:"REMOVE_ITEM_FROM_CART",bodyText:void 0},n=this.getCart(),r="remove";return g.modalService.show({size:"sm"},t).then(function(t){t===!0&&e>=0&&e<n.length&&(p(n[e],r),f(_.cloneDeep(n),e,r),n.splice(e,1),g.validateQuantityRules(n,r),g.updatePrices(n,r))})},t.prototype.getOrderSpecialInstructions=function(){return g.sessionStorage.get("orderSpecialInstructions",!1)},t.prototype.setOrderSpecialInstructions=function(e){e?g.sessionStorage.put("orderSpecialInstructions",e):g.sessionStorage.forget("orderSpecialInstructions")},t.prototype.onCartChange=function(e,t,n){n||t(g.getCart()),g.eventHandler.register(e,"cartChange",function(e,n,r){_.noop(e),t(n,r),d(r)})},t.prototype.fireCartChangeEvent=function(e){g.eventHandler.fire("cartChange",g.getCart(),e)},t.prototype.createEcommProducts=m,v.service("cartService",["$log","$q","$filter","$location","$rootScope","opinionLabService","analyticsService","cafeHours","menuService","modalService","locker","stockoutFactory","cafeLocatorFactory","holidayOrderingFactory","discountService","pricingService","orderFlowService","userService","rewardManagementService","eventHandler","discountCodes","routes","itemUnavailable","nutritionService","ruleGroups",t])}(window.angular),function(e){"use strict";e.module("common.services.comboService",["angular-locker","common.services.eventHandler"]).service("comboService",["locker","eventHandler",function(e,t){var n=e.driver("session"),r=this;this.getComboItems=function(){return _.isUndefined(n.get("comboItems"))&&r.resetComboItems(),n.get("comboItems")},this.setComboItems=function(e){n.put("comboItems",function(t){return t?(t.push(e),t):[e]}),t.fire("comboItemsEventName",r.getComboItems())},this.setComboItemsAtIndex=function(e,i){n.put("comboItems",function(t){return t[i]=e,t}),t.fire("comboItemsEventName",r.getComboItems())},this.resetComboItems=function(){n.put("comboItems",[]),t.fire("comboItemsEventName",[])},this.onComboItemChange=function(e,n){t.register(e,"comboItemsEventName",function(e,t){_.noop(e),n(t)}),n(r.getComboItems())},this.getEditingComboIndex=function(){return _.isUndefined(n.get("editingComboIndex"))&&n.put("editingComboIndex",void 0),n.get("editingComboIndex")},this.setEditingComboIndex=function(e){n.put("editingComboIndex",e),t.fire("editingComboIndexEventName",e)},this.resetEditingComboIndex=function(){n.forget("editingComboIndex"),t.fire("editingComboIndexEventName",void 0)},this.onEditingComboIndexChange=function(e,n){t.register(e,"editingComboIndexEventName",function(e,t){_.noop(e),n(t)}),n(r.getEditingComboIndex())},this.getComboSide=function(){return _.isUndefined(n.get("comboSide"))&&n.put("comboSide",void 0),n.get("comboSide")},this.setComboSide=function(e){n.put("comboSide",e),t.fire("comboSideEventChangeName",e)},this.resetComboSide=function(){n.put("comboSide",{}),t.fire("comboSideEventChangeName",{})},this.onComboSideChange=function(e,n){t.register(e,"comboSideEventChangeName",function(e,t){_.noop(e),n(t)}),n(r.getComboSide())},this.getSelectedCombo=function(){return _.isUndefined(n.get("selectedCombo"))&&n.put("selectedCombo",{}),n.get("selectedCombo")},this.setSelectedCombo=function(e){n.put("selectedCombo",e),t.fire("selectComboChangeName",e)},this.resetSelectedCombo=function(){n.put("selectedCombo",{}),t.fire("selectComboChangeName",{})},this.onSelectedComboChange=function(e,n){t.register(e,"selectComboChangeName",function(e,t){_.noop(e),n(t)}),n(r.getSelectedCombo())},this.getEditingCombo=function(){return _.isUndefined(n.get("editingCombo"))&&r.resetEditingCombo(),n.get("editingCombo")},this.setEditingCombo=function(e){n.put("editingCombo",e),t.fire("editingComboChangeName",e)},this.resetEditingCombo=function(){n.forget("editingCombo"),t.fire("editingComboChangeName",void 0)},this.onEditingComboChange=function(e,n){t.register(e,"editingComboChangeName",function(e,t){_.noop(e),n(t)}),n(r.getEditingCombo())}}])}(window.angular),function(e){"use strict";e.module("common.services.configService",["common.services.splunkService","common.utilities.constants","angular-locker"]).constant("configDefaults",{GMESearch:"&radius=:radius",googleSelectQuery:"?longitude=:lng&latitude=:lat&limit=25&sortOrder=ASC&sortColumn=Distance",GMESearchNoRadius:"",defaultZoom:4,defaultRadius:24e3,googleMapRadius:24e3,googleMapRadiusMax:160934,surveyPercent:"0.05",payPalIsEnabled:!1,payPalRedirectUrl:"",payPalNumDaysOut:10,sessionExpiration:18e5,sessionExpirationWarn:3e5,gcInquiryMax:3,hiringBannerEnabled:!1,hiringBannerTellAFriendEnabled:!1,apiVersion:1,dataVersion:1,gcIsEnabled:!0,authGcIsEnabled:!0,recaptchaIsEnabled:!1,smsIsEnabled:!1,deliveryTrackingIsEnabled:!1,multipleRewardsIsEnabled:!1,pastRewardsIsEnabled:!1,groupOrderIsEnabled:!1,groupOrderMaxParticipants:10,myGroupOrderIsEnabled:!1,communicationPreferencesEnabled:!1,menuTransitionsMessageIsEnabled:!1,applePayMerchantId:"merchant.com.prod.panera.bread1",applePayIsEnabled:!1,allergensIsEnabled:!1,goBannerIsColorDark:!0,goMaxOrderAmount:200,facebookLoginIsEnabled:!1,giftCardMaxNumber:4}).service("configService",["$q","$http","splunkService","apiUrls","$rootScope","$route","locker","configDefaults",function(e,t,n,r,i,o,a,s){function c(){return _.isEmpty(f)&&(f={baseUrl:r.google.searchByLocation,searchUrl:s.googleSelectQuery,searchNoRadius:s.GMESearchNoRadius,searchRadius:s.GMESearch,defaultZoom:s.defaultZoom,defaultRadius:s.defaultRadius,googleMapRadius:s.googleMapRadius,googleMapRadiusMax:s.googleMapRadiusMax,surveyPercentage:s.surveyPercent,payPalIsEnabled:s.payPalIsEnabled,payPalRedirectUrl:s.payPalRedirectUrl,payPalNumDaysOut:s.payPalNumDaysOut,sessionExpiration:s.sessionExpiration,sessionExpirationWarn:s.sessionExpirationWarn,gcInquiryMax:s.gcInquiryMax,hiringBannerEnabled:s.hiringBannerEnabled,hiringBannerTellAFriendEnabled:s.hiringBannerTellAFriendEnabled,apiVersion:s.apiVersion,dataVersion:s.dataVersion,gcIsEnabled:s.gcIsEnabled,authGcIsEnabled:s.authGcIsEnabled,recaptchaIsEnabled:s.recaptchaIsEnabled,smsIsEnabled:s.smsIsEnabled,deliveryTrackingIsEnabled:s.deliveryTrackingIsEnabled,multipleRewardsIsEnabled:s.multipleRewardsIsEnabled,pastRewardsIsEnabled:s.pastRewardsIsEnabled,groupOrderIsEnabled:s.groupOrderIsEnabled,groupOrderMaxParticipants:s.groupOrderMaxParticipants,myGroupOrderIsEnabled:s.myGroupOrderIsEnabled,menuTransitionsMessageIsEnabled:s.menuTransitionsMessageIsEnabled,applePayMerchantId:s.applePayMerchantId,applePayIsEnabled:s.applePayIsEnabled,allergensIsEnabled:s.allergensIsEnabled,goBannerIsColorDark:s.goBannerIsColorDark,goMaxOrderAmount:s.goMaxOrderAmount,facebookLoginIsEnabled:s.facebookLoginIsEnabled,giftCardMaxNumber:s.giftCardMaxNumber}),f}function l(e){g.put("automationMode",e)}function u(){return g.get("automationMode",!1)}function d(){return"delivery.panerabread.com"===document.location.host}function p(){return t({method:"GET",url:r.payment.publicKey,cache:!0}).then(function(e){return f=e.data,h.put("versionInfo",{apiVersion:f.apiVersion,dataVersion:f.dataVersion}),f})["catch"](function(t,r){return n.info("configService.fetchConfig failed "+t.data+r),e.resolve(c())})}function m(e){d()||_.isUndefined(e.automationMode)||l("true"===e.automationMode)}var f={},h=a.driver("local"),g=a.driver("session");return i.$on("$locationChangeSuccess",function(e){_.noop(e),m(o.current.params)}),{getConfigData:c,fetchConfig:p,getAutomationMode:u,setAutomationMode:l,setAutomationModeIfNotProd:m,isProd:d}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(t){var n=new e.URLSearchParams,r=new e.FormData,i={method:"POST"};return _.isUndefined(t.password)?(n.append("grantType","password"),t.additionalData=n,i.credentials=t):(r.append("username",t.id),r.append("password",t.password),r.append("grantType","password"),i.credentials="include",i.body=r),i}var a=this,s=t("translate");this.requireUserMediation=function(){return a.isBrowserCompatible()?e.navigator.credentials.preventSilentAccess()||e.navigator.credentials.requireUserMediation():void 0},this.storeCredentials=function(t){a.isBrowserCompatible()&&e.navigator.credentials.store(t)},this.isBrowserCompatible=function(){return!_.isUndefined(e.navigator.credentials)&&!_.isUndefined(e.fetch)},this.createCredentials=function(t,n){return a.isBrowserCompatible()?new e.PasswordCredential({id:t,password:n,name:s("PANERA"),iconUrl:i.smartLock}):{id:t,password:n}},this.loginWithFetch=function(t){var i,a=n.defer();return e.fetch(r.sso.unencodeAuth,o(t)).then(function(e){e.json().then(function(t){i={data:t,status:e.status},e.ok?a.resolve(i):a.reject(i)})}),a.promise},this.login=function(){return a.isBrowserCompatible()?(a.requireUserMediation(),e.navigator.credentials.get({password:!0,mediation:"optional"}).then(function(e){return e?a.loginWithFetch(e):n.reject()})):n.reject()}}t.$inject=["$window","$filter","$q","apiUrls","staticImages"],e.module("common.services.credential.management.service",["common.utilities.constants"]).service("credentialManagementService",t)}(window.angular),function(e){"use strict";e.module("common.services.discountService",["angular-locker","common.services.eventHandler","common.utilities.constants"]).service("discountService",["$rootScope","locker","eventHandler","discountCodes",function(e,t,n,r){function i(){m.forget("orderDiscounts")}function o(){return m.get("orderDiscounts",!1)}function a(){var e=_.find(o(),{type:r.discountCode});return e&&e.promoCode||!1}function s(e){var t=o();t?t.push(e):t=[e],m.put("orderDiscounts",_.compact(t)),n.fire("orderDiscounts")}function c(t){var n,a,c,l;n=o(),a=_.filter(n,function(e){return e.promoCode===t.promoCode&&e.discCode===t.discCode}).splice(1),c=_.filter(n,function(e){return e.promoCode!==t.promoCode&&e.discCode!==t.discCode}),i(),l=_.union(c,a),_.forEach(l,function(e){s(e)}),t.type===r.discountCode&&e.$broadcast("discountCodeRemoved")}function l(e){var t={};_.isEmpty(e)||e.forEach(function(e){e.discountStatusCode||(t={name:e.name,promoCode:e.promoCode,amount:e.amount,discCode:e.discCode,type:e.type},s(t))})}function u(){var e=0,t=o();return _.forEach(t,function(t){e+=t.amount}),e}function d(e,t){e.$on("discountCodeRemoved",function(){t()})}function p(e,t){t(o()),n.register(e,"orderDiscounts",function(){t(o())})}var m=t.driver("session");return{populateOrderDiscounts:l,getDiscountCode:a,clearOrderDiscounts:i,getOrderDiscounts:o,setOrderDiscounts:s,removeSpecificOrderDiscount:c,onDiscountCodeRemoved:d,onOrderDiscountsChange:p,getTotalDiscountAmount:u}}])}(window.angular),function(e){"use strict";var t=e.module("common.services.eCommerceService.constants",[]);t.constant("eCommerceConstants",{legacyUpdateUserProps:["first-name","last-name","email-address","phone-number","birth-year","birth-month","birth-day"],urampUpdateUserProps:{emailAddress:"emailAddress",phoneNumber:"phoneNumber",customerId:"customerId",username:"username",firstName:"firstName",lastName:"lastName",opt:"opt",isEmailGlobalOpt:"isEmailGlobalOpt"}})}(window.angular),function(e){"use strict";function t(e){var t="",n="";return _.forEach(e,function(e,r){void 0!==e&&null!==e&&(t+=n+encodeURIComponent(r)+"="+encodeURIComponent(e),n="&")}),t}e.module("common.services.eCommerceService",["common.utilities.constants","common.utilities.filters","common.services.encryptionService","common.services.myFavoriteService.constants","common.services.urampHttp.service","common.services.httpHeader.service","common.services.birthday.service","common.services.eCommerceService.constants","ngResource"]).service("eCommerceService",["$http","apiUrls","$q","$filter","encryptionService","birthdayService","urampHttpService","foodPreferences","cardDateFormats","regexes","rewardTransactions","supportedPaymentType","httpHeaderService","eCommerceConstants",function(e,n,r,i,o,a,s,c,l,u,d,p,m,f){function h(e){return r.reject(Ae(e.data,e.status))}function g(e,t){var n={};return _.forEach(t,function(t,r){_.has(e,r)&&!_.get(n,t)&&_.set(n,t,_.get(e,r))}),n}function v(e,t){var n=g(e,ve);return n.customerId=t,n}function y(e){var t=g(e,Oe);return t.isPayPal=!1,t.isGiftCard=!1,"gift"===t.cardType.toLowerCase()?(t.isGiftCard=!0,t.cardNum=t.tokenValue,t.cardType=void 0,t.tokenValue=void 0,t.tokenType=void 0):"pypl"===t.cardType.toLowerCase()?t.isPayPal=!0:t.expDate=moment(t.expDate,l.mmYy).format(l.mmYyWithSlash),t}function b(e){var t=g(e,ge);return _.isString(t.contactPhone)&&(t.contactPhone=(t.contactPhone||"").replace(u.nonNumbers,"")),t}function E(e,t){function r(t,n){return{method:n,url:t.addressUrl.replace(":customer-id",e).replace(":address-id",c.id),data:t.data,headers:m.getRequestHeaders(t.contentType||o)}}var i,o="application/json;charset=utf-8",a={},c=b(t);return c.id?(i="PUT",a.addressUrl=n.eCommerce.uramp.address.get):(i="POST",a.addressUrl=n.eCommerce.uramp.address.add),a.data=c,a=r(a,i),s.executeUrampRequest(a,"address").then(function(t){return v(t.data,e)},h)}function C(e,t){var r={method:"DELETE",url:n.eCommerce.uramp.address["delete"].replace(":customer-id",e).replace(":address-id",t),headers:m.getRequestHeaders()};return s.executeUrampRequest(r,"address").then(null,h)}function S(t,r){return e({method:"POST",url:n.eCommerce.resetPassword,headers:m.getRequestHeaders(),data:{password:t,token:r}}).then(null,h)}function w(e){var t,n;return t=g(e,Ce),_.isString(t["birth-day"])&&(t["birth-day"]=("0"+t["birth-day"]).slice(-2)),_.isString(t["birth-month"])&&(t["birth-month"]=("0"+t["birth-month"]).slice(-2)),_.isString(t.username)&&(t.username=t.username.trim()),_.isString(t["phone-number"])&&(t["phone-number"]=(t["phone-number"]||"").replace(u.nonNumbers,"")),t["commerce-opt-in"]=e.optIn,n=g(e,we),_.forEach(["birth-day","birth-month"],function(e){_.isString(n[e])&&(n[e]=("0"+n[e]).slice(-2))}),_.isEmpty(n["card-number"])&&delete n["card-number"],_.isEmpty(n["reg-code"])&&delete n["reg-code"],_.isEmpty(n)||(t.loyalty=n),_.isArray(t.addresses)&&(t.addresses=_.map(t.addresses,function(e){return b(e)})),t}function T(e){var t={creditCards:[],giftCards:[],payPalAccounts:[]};return _.forEach(e,function(e){e.isGiftCard?t.giftCards.push(e):e.isPayPal?t.payPalAccounts.push(e):(e.expDate=moment(e.expDate,l.mmYy).format(l.mmYyWithSlash),t.creditCards.push(e))}),t}function I(e){var t,n=[],r=g(e,Se);return _.assign(r,g(e["loyalty-card"],Te)),r.birthMonth=r.birthMonth&&r.birthMonth.replace(/^0+/,""),r.birthDay=r.birthDay&&r.birthDay.replace(/^0+/,""),_.isString(r.foodPreferences)&&(n=r.foodPreferences.split(",")),r.foodPreferences=_.compact(_.map(n,function(e){return c[e]})),delete r.loyalty,r.addresses=_.map(e.addresses,function(e){return v(e,r.customerId)}),t=_.map(r.storedCards,y),r.storedCards=T(t),_.isUndefined(e.socialIntegration)||(r.socialIntegration=e.socialIntegration),r}function O(t){var n=w(t);return e({method:"POST",url:me,data:n,headers:m.getRequestHeaders()}).then(function(e){return I(e.data)},h)}function A(e){var t={method:"PUT",url:n.eCommerce.uramp.user.update,data:g(e,f.urampUpdateUserProps),headers:m.getRequestHeaders()};return s.executeUrampRequest(t,"customer").then(function(){return a.updateUserBirthday(e)},h)}function $(t,r,i){var o={"current-password":r,"new-password":i},a=n.eCommerce.changePassword.replace(":customer-id",t);return e({method:"PUT",url:a,data:o,headers:m.getRequestHeaders()}).then(null,h)}function D(t){var r=n.eCommerce.forgotPassword,i={emailAddress:t};return e({method:"POST",data:i,url:r,headers:m.getRequestHeaders()}).then(function(e){return e.data.errors?e.data.errors:e.data.valid},h)}function x(e){var t={method:"GET",headers:m.getRequestHeaders(),url:n.eCommerce.uramp.user.get.replace(":customer-id",e)};return s.executeUrampRequest(t,"customer").then(function(e){return I(e.data)},h)}function R(t){var r=n.eCommerce.checkUsernameAvailability.replace(":username",t);return e({method:"GET",url:r}).then(function(){return!0},h)}function k(t){var r=n.eCommerce.checkEmailAvailability,i={emailAddress:t};return e({method:"POST",data:i,url:r}).then(function(){return!0},h)}function P(t){var i,o=[fe,he];return i=_.map(o,function(r){var i;return t=r(t),i=n.eCommerce.usersByPhone.replace(":phone",t),e({method:"GET",url:i}).then(function(e){return e.data&&e.data.accounts||[]},function(){return[]})}),r.all(i).then(function(e){return _.flatten(e)},h)}function N(e){return e=_.map(e,function(e){return"null"===e.name&&(e.name=null),g(e,be)}),e.length>1&&_.find(e.slice(0,-1),{number:e[e.length-1].number})&&(e=e.slice(0,-1)),e}function M(){var e={method:"GET",url:n.eCommerce.uramp.phone.get};return s.executeUrampRequest(e,"phones").then(function(e){return N(e.data)},function(e){return e.data.errors&&e.data.errors[0]&&"1145"===e.data.errors[0]["error-code"]?[]:h(e)})}function L(e){var t={method:"POST",url:n.eCommerce.uramp.phone["delete"],data:{phoneNumber:e.number,id:e.id},headers:m.getRequestHeaders()};return s.executeUrampRequest(t,"phone")}function U(e){var t=e.originalNumber,r=!_.isUndefined(t),i=g(e,ye),o={headers:m.getRequestHeaders(),data:i};return r?(o.method="PUT",o.url=n.eCommerce.uramp.phone.update):(o.method="POST",o.url=n.eCommerce.uramp.phone.add),s.executeUrampRequest(o,"phone").then(null,h)}function F(e){var t=g(e,ye),r={headers:m.getRequestHeaders(),data:t};return r.method="POST",r.url=n.eCommerce.uramp.phone["default"],s.executeUrampRequest(r,"phone").then(null,h)}function G(e){var t=g(e,Ee);return _.isString(t.description)||(t.description=""),t}function B(t){function r(e){var t=G(e.data);return t.customerId=o,t}var i,o=t.customerId,a=n.eCommerce.favorites.cafe.replace(":customer-id",o).replace(":cafe-id",t.cafeId);return i=g(t,_e),_.isUndefined(i.store_desc)&&(i.store_desc="favorite"),_.isUndefined(i.is_default)&&(i.is_default=!1),e({method:"PUT",url:a,data:i,headers:m.getRequestHeaders()}).then(r,h)}function H(t){var r=n.eCommerce.favorites.cafes.replace(":customer-id",t);return e({method:"GET",url:r,headers:m.getRequestHeaders()}).then(function(e){return _.map(e.data,G)},function(e){return 404===e.status?[]:h(e)})}function j(t,r){var i=n.eCommerce.favorites.cafe.replace(":customer-id",t).replace(":cafe-id",r);return e({method:"DELETE",url:i,headers:m.getRequestHeaders()}).then(null,h)}function V(e){var t;return t={"food-preferences":e?e.join(","):""}}function z(t,r,i){var o=V(i),a=n.eCommerce.foodPreferences.replace(":customer-id",t).replace(":card",r);return e({method:"PUT",url:a,data:o,headers:m.getRequestHeaders()}).then(null,h)}function W(e){var t;return e&&"None"!==e||(e=""),t={"gather-preference":e}}function Y(t,i,o){if(o){var a=W(o),s=n.eCommerce.gatherPreference.replace(":customer-id",t).replace(":card",i);return e({method:"PUT",url:s,data:a,headers:m.getRequestHeaders()}).then(null,h)}return r.resolve()}function q(e,t,n){return r.all([z(e,t,n.foodPreferences),Y(e,t,n.gatherPreference)])}function K(e){var t={};return t.optIn=e.isEmailGlobalOpt===!0,t.preferences=_.map(e.subscriptions||[],function(e){return{id:e.id,i18nName:"EMAIL_PREFERENCE_"+e.subscriptionCode,displayName:e.displayName,allow:e.isSubscribed}}),t}function J(e){var t={};return t["opt-in"]=e.optIn?!0:!1,t.subscriptions=_.map(e.preferences||[],function(e){return{subscriptionCode:e.i18nName.split("_")[2],displayName:e.displayName,isSubscribed:e.allow,id:e.id}}),t}function Z(){var t=n.eCommerce.uramp.email.preferences;return e({method:"GET",url:t,headers:m.getRequestHeaders()}).then(function(e){return K(e.data)},h)}function Q(t,r,i){var o=J(t),a=n.eCommerce.uramp.email.preferences,s=r;return s.isEmailGlobalOpt=o["opt-in"],s.opt=o["opt-in"],s.emailAddress=_.get(r,"emails[0].emailAddress",r.username),s.phoneNumber=r.phoneNumber||i,A(s).then(function(){return o["opt-in"]===!0?e({method:"PUT",url:a,data:o})["catch"](h):void 0},h)}function X(r,i){return e({method:"POST",url:n.sso.auth,data:t({username:encodeURIComponent(r),password:i,grantType:i}),headers:m.getRequestHeaders("application/x-www-form-urlencoded")}).then(function(e){return e.data},h)}function ee(t){return e({method:"POST",url:n.sso.logout,data:{accessToken:t}}).then(function(e){return e.data},h)}function te(t){var r=n.sso.token;return e({method:"POST",url:r,data:{accessToken:t},headers:m.getRequestHeaders()}).then(function(e){return e.data},h)}function ne(t){var r=n.eCommerce.rewards.replace(":cafe-id",t);return e.get(r,{headers:m.getRequestHeaders()}).then(function(e){return e},h)}function re(t,r){var i=n.eCommerce.rewardTransactions.replace(":customer-id",t).replace(":loyalty-num",r).replace(":date-start",d.dateStart).replace(":limit",d.limit);return e.get(i,{headers:m.getRequestHeaders()}).then(function(e){return e},h)}function ie(t){var r=n.orderMgmt.history.replace(":custNo",t);return e({method:"GET",url:r,headers:m.getRequestHeaders()})}function oe(t){var r=n.eCommerce.groupOrdering.getMyGroupOrders.replace(":customer-id",t);return e({method:"GET",url:r,headers:m.getRequestHeaders()})}function ae(t){var r=n.eCommerce.storedCards.get.replace(":customer-id",t);return e({method:"GET",url:r,headers:m.getRequestHeaders()}).then(function(e){return T(e.data)},h)}function se(t){return e({method:"POST",url:n.payPal.getPayPalToken,data:t,headers:m.getRequestHeaders("application/json")}).then(function(e){return e.data},h)}function ce(t){return e({method:"POST",url:n.payPal.getPayPalBillingAgreementInfo,data:t,headers:m.getRequestHeaders("application/json")}).then(function(e){return e.data},h)}function le(e,t){var n=o.encryptCreditCard(e.cardNum,e.cardHolderName,e.expDate,e.securityCode,e.zipCode,t);return{encryptedBlock:n,encryptedBlockDataType:"JAVA"}}function ue(t,r){var i,a=n.eCommerce.storedCards.add.replace(":customer-id",t),s={method:"POST",url:a,data:r,headers:m.getRequestHeaders()},c=function(e){return e.data};return r.isGiftCard?e(s).then(c,h):(i=_.cloneDeep(r),o.fetchPublicKey().then(function(t){return i.creditCardInfo=le(i,t),i.cardNum=void 0,i.securityCode=void 0,i.zipCode=void 0,s.data=i,e(s).then(c,h)}))}function de(t,r){var i,o;return r.isGiftCard?i=r.cardNum:(i=r.tokenValue,r.cardNum=void 0),o=n.eCommerce.storedCards.update.replace(":customer-id",t).replace(":stored-card-id",i),e({method:"PUT",url:o,
data:r,headers:m.getRequestHeaders()}).then(function(e){return e.data},h)}function pe(e,t){var r={cardType:t.isGiftCard?p.GIFT:t.cardType,tokenValue:t.isGiftCard?t.cardNum:t.tokenValue,lastFour:t.lastFour},i={method:"POST",headers:m.getRequestHeaders(),url:n.eCommerce.uramp.storedCards["delete"],data:r};return s.executeUrampRequest(i).then(function(e){return e.data},h)}var me=n.eCommerce.addUser,fe=i("phone"),he=i("formatPhone"),ge={additionalInfo:"additionalInfo",addressLine1:"addressLine1",addressLine2:"addressLine2",addressType:"addressType",city:"city",contactPhone:"contactPhone",country:"country",id:"id",name:"name",state:"state",zip:"zip",isDefault:"isDefault",isValid:"isValid"},ve=_.invert(ge),ye={number:"phone-number",name:"name",isDefault:"isDefault",phoneType:"phoneType",id:"id",customerId:"customerId",countryCode:"countryCode",extension:"extension",isCallOpt:"isCallOpt",isSmsOpt:"isSmsOpt",isValid:"isValid",smsPreferences:"smsPreferences"},be=_.invert(ye),_e={cafeId:"store_number",description:"store_desc",status:"store_status",isDefault:"is_default"},Ee=_.invert(_e),Ce={customerId:"customer-id",username:"username",password:"password",firstName:"firstName",lastName:"lastName",phone:"phone-number",emails:"emails",optIn:"opt-in",birthDay:"birth-day",birthMonth:"birth-month",birthYear:"birth-year",loyalty:"loyalty",addresses:"addresses",storedCards:"credit-cards",title:"title",type:"user-type",cellPhone:"cell-phone",smsOptIn:"sms-opt-in",favoriteGroups:"favorite-groups",isEmailGlobalOpt:"isEmailGlobalOpt"},Se=_.invert(Ce),we={loyaltyCardNumber:"card-number",loyaltyRegistrationCode:"reg-code",gatherPreference:"gather",foodPreferences:"food-prefs",optIn:"opt-in",birthDay:"birth-day",birthMonth:"birth-month",birthYear:"birth-year"},Te=_.invert(we),Ie={cardName:"card-name",tokenValue:"token",tokenType:"processor",cardType:"cc-type",expDate:"exp-date",cardHolderName:"cardholder-name",lastFour:"last-four",isDefault:"is-default"},Oe=_.invert(Ie),Ae=i("apiErrorKeyFilter");return ve.id="id",ve.addressType="addressType",Se["cust-billing-id"]="customerId",Se.cust_billing_id="customerId",Se["email-opt-in"]="optIn",Se["loyalty-card"]="loyalty",Se["home-phone"]="phone",{registerUser:O,getUser:x,checkUsernameAvailability:R,checkEmailAvailability:k,getUsersByPhone:P,getPhoneNumbers:M,deletePhoneNumber:L,addOrUpdatePhoneNumber:U,setDefaultPhoneNumber:F,addOrUpdateFavoriteCafe:B,getFavoriteCafes:H,deleteFavoriteCafe:j,addOrUpdateAddress:E,deleteAddress:C,resetPassword:S,updateFoodPreferences:z,updateGatherPreference:Y,updateTastesAndInterests:q,getEmailPreferences:Z,updateEmailPreferences:Q,getSessionWithAuth:X,getSessionWithToken:te,deleteSsoToken:ee,getRewards:ne,getRewardTransactions:re,getPastOrders:ie,updateUser:A,changePassword:$,recoverPasswordByEmail:D,getStoredCards:ae,addStoredCreditCardOrGiftCard:ue,updateStoredCard:de,deleteStoredCard:pe,getPayPalToken:se,getPayPalBillingAgreementInfo:ce,getGroupOrders:oe}}])}(window.angular),function(e){"use strict";function t(e,t,n,r){this.sendHiringEmail=function(i){return e.post(r.eCommerce.hiring.email,i).then(function(e){return e.data})["catch"](function(e){return n.info("emailService.sendHiringEmail sendHiringEmail failed "+e.data+" Status: "+e.status),t.reject(e)})}}t.$inject=["$http","$q","splunkService","apiUrls"],e.module("common.services.emailService",["common.services.splunkService","common.utilities.constants"]).service("emailService",t)}(window.angular),function(e,t){"use strict";function n(e,n,r,i){function o(){return r.fetchConfig().then(function(e){return e.publicKey},function(t){return n.info("encryptionService.fetchPublicKey failed "+t),e.reject(t)})}function a(e,n,r,o,a,s){var c,l=new t({default_key_size:i});return l.setPublicKey(s),c={creditCardNo:e,cardHolderName:n,expiryDate:r,cvvCode:o,postalCode:a},l.encrypt(JSON.stringify(c))}function s(e,n){var r=new t({default_key_size:i});return r.setPublicKey(n),r.encrypt(e)}return{fetchPublicKey:o,encryptCreditCard:a,encryptValue:s}}n.$inject=["$q","splunkService","configService","encryptDefaultKeySize"],e.module("common.services.encryptionService",["ngResource","common.services.splunkService","common.services.configService","common.utilities.constants"]).service("encryptionService",n)}(window.angular,window.JSEncrypt),function(e){"use strict";e.module("common.services.errorModalService",["common.services.modalService","common.utilities.constants"]).service("errorModalService",["$location","modalService","routes",function(e,t,n){function r(r){if(e.path()!==n.index){var i={backdrop:!0,keyboard:!0,modalFade:!0,size:"sm",templateUrl:"alert.html",controller:"AlertController"},o={closeButtonText:"NO",actionButtonText:"OK",headerText:"ERROR",bodyText:r};t.show(i,o),e.path(n.index)}}function i(e){var n={backdrop:!1,keyboard:!0,modalFade:!0,size:"sm",templateUrl:"alert.html",controller:"AlertController"},r={selfDestruct:e,model:[],closeButtonText:"NO",actionButtonText:"CONTINUE",headerText:"WARNING",bodyText:"SESSION_EXPIRY_SOON"};return t.show(n,r)}return{showAPIFailModal:r,showSessionTimeoutModal:i}}])}(window.angular),function(e){"use strict";e.module("common.services.eventHandler",[]).service("eventHandler",["$rootScope",function(e){function t(t,n,r){var i=e.$on(n,r);return t.$on("$destroy",function(){i()}),i}function n(t,n,r){e.$emit(t,n,r)}return{register:t,fire:n}}])}(window.angular),function(e){"use strict";e.module("common.services.favoriteService",[]).service("favoriteService",[function(){var e=this;this.buildFavoritePayload=function(t,n,r){var i,o,a=[],s=_.isArray(t);return t=s?t:[t],_.forEach(t,function(t){o={quantity:t.itemQty,name:t.i18nName,itemId:t.id},_.isUndefined(t.specialInstructions)||_.isEmpty(t.specialInstructions)||(o.specialInstructions=t.specialInstructions),_.isEmpty(t.items)||(o.favoriteItems=e.buildFavoritePayload(t.items)),a.push(o)}),_.isUndefined(n)?a:(i={},s?(i.type="order",i.favoriteItems=a,_.isEmpty(r)||(i.specialInstructions={specialInstructions:r})):_.assign(i,a[0]),i.name=n,i)}}])}(window.angular),function(e){"use strict";function t(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="STREET_ADDRESS_REQUIRED",e[tv4.errorCodes.STRING_PATTERN]="ADDRESS_INVALID_PATTERN",e}function n(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="PROVIDE_A_PHONE_NUMBER",e[tv4.errorCodes.STRING_PATTERN]="CC_CONTACT_NUMBER_INVALID_CHARACTER",e[tv4.errorCodes.STRING_LENGTH_LONG]="CC_CONTACT_NUMBER_TOO_LONG",e[tv4.errorCodes.STRING_LENGTH_SHORT]="MY_ACCOUNT_PHONE_TOO_SHORT",e}function r(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="BIRTHDAY_PLEASE_PROVIDE",e[tv4.errorCodes.STRING_PATTERN]="BIRTHDAY_INVALID_PATTERN",e[tv4.errorCodes.STRING_LENGTH_SHORT]="BIRTHDAY_INVALID_PATTERN",e[tv4.errorCodes.STRING_LENGTH_LONG]="BIRTHDAY_INVALID_PATTERN",e}function i(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="LM_PASSWORD_REQUIRED",e[tv4.errorCodes.STRING_LENGTH_SHORT]="PASSWORD_TOO_SHORT",e[tv4.errorCodes.STRING_LENGTH_LONG]="PASSWORD_TOO_LONG",e[tv4.errorCodes.STRING_PATTERN]="PASSWORD_CHARACTERS_CONTAIN",e}function o(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="CC_EMAIL_REQUIRED",e[tv4.errorCodes.STRING_PATTERN]="CC_EMAIL_INVALID_FORMAT",e}function a(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="FIRST_NAME_REQUIRED",e[tv4.errorCodes.STRING_PATTERN]="FIRST_NAME_INVALID",e}function s(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="LAST_NAME_REQUIRED",e[tv4.errorCodes.STRING_PATTERN]="LAST_NAME_INVALID",e}function c(){var e={};return e[tv4.errorCodes.STRING_PATTERN]="MY_PANERA_CARD_INVALID",e[tv4.errorCodes.STRING_LENGTH_SHORT]="LOYALTY_LENGTH_SHORT",e[tv4.errorCodes.STRING_LENGTH_LONG]="LOYALTY_LENGTH_LONG",e}function l(){var e={};return e[tv4.errorCodes.STRING_PATTERN]="MY_PANERA_REG_CODE_INVALID",e[tv4.errorCodes.STRING_LENGTH_SHORT]="MY_PANERA_REG_CODE_LENGTH",e[tv4.errorCodes.STRING_LENGTH_LONG]="MY_PANERA_REG_CODE_LENGTH",e}function u(){var e={};return e[tv4.errorCodes.OBJECT_REQUIRED]="GC_CARD_NUMBER_REQUIRED",e[tv4.errorCodes.STRING_LENGTH_LONG]="GC_NUMBER_TOO_LONG",e[tv4.errorCodes.STRING_LENGTH_SHORT]="GC_NUMBER_TOO_LONG",e[tv4.errorCodes.STRING_PATTERN]="GC_INVALID_CHARACTER",e}function d(){var e={};return e[tv4.errorCodes.STRING_LENGTH_LONG]="GC_PIN_TOO_LONG",e[tv4.errorCodes.STRING_PATTERN]="GC_PIN_INVALID_CHARACTER",e}e.module("common.services.formBuilder.constants",["common.utilities.constants"]).constant("formBuilderConstants",{validationMessages:{phoneNumber:n(),password:i(),emailAddress:o(),firstName:a(),lastName:s(),loyaltyCard:c(),loyaltyRegCode:l(),streetAddress:t(),birthday:r(),giftCard:u(),giftCardPin:d()},validation:{birthday:{DEFAULT_YEAR:1804}}})}(window.angular),function(e){"use strict";e.module("common.services.formBuilderService",["common.utilities.constants","common.utilities.translate","common.services.formBuilder.constants"]).service("formBuilderService",["$filter","regexes","formBuilderConstants","$rootScope",function(e,t,n,r){function i(t){return t&&t.indexOf("<img")>-1?t:e("translate")(t)}var o,a=this,s={formDefaults:{feedback:["{ 'fa': true, 'fa-asterisk': form.required && !hasSuccess() && !hasError(),","'fa-check': hasSuccess()}"].join(""),ngModelOptions:{debounce:350},validationMessage:{DEFAULT:"ERROR"}}},c=e("formatPhone"),l=e("formatBirthday");o=function(e){return function(t){for(var n,r=t.length,i=1,o=0;r;)r-=1,i=1^i,n=parseInt(t.charAt(r),10),o+=i?e[n]:n;return o&&o%10===0}}([0,2,4,6,8,1,3,5,7,9]),_.isUndefined(tv4.errorCodes.CC_CHECKSUM_ERROR)&&(tv4.defineError("CC_CHECKSUM_ERROR",10201,"CC_CHECKSUM_ERROR"),tv4.defineKeyword("isCreditCard",function(e,t){return t&&_.isString(e)&&!o(e)?{code:tv4.errorCodes.CC_CHECKSUM_ERROR,message:"credit card number invalid"}:null})),this.preProcess=function(n,r){_.merge(n,s),_.isUndefined(n)||_.isUndefined(n.formDefaults)||_.isUndefined(n.formDefaults.validationMessage)||_.forEach(n.formDefaults.validationMessage,function(t,r){n.formDefaults.validationMessage[r]=e("translate")(t)}),_.forEach(r,function(n){_.isUndefined(n.title)||""===n.title||(n.title=e("translate")(n.title)),_.isUndefined(n.placeholder)||(n.placeholder=e("translate")(n.placeholder)),!_.isUndefined(n.helpvalue)&&_.isString(n.helpvalue)&&(n.helpvalue=n.helpvalue.replace(t.i18nVariables,function(t,n){return _.noop(t),e("translate")(n)})),_.isUndefined(n.description)||(n.description=e("translate")(n.description)),_.isUndefined(n.validationMessage)||_.forEach(n.validationMessage,function(t,r){n.validationMessage[r]=e("translate")(t).toString()}),!_.isUndefined(n.translateTitleMap)&&!n.translateTitleMap||_.isUndefined(n.titleMap)||(_.isArray(n.titleMap)?_.forEach(n.titleMap,function(e,t){n.titleMap[t].name=i(e.name)}):_.isObject(n.titleMap)&&_.forEach(n.titleMap,function(t,r){n.titleMap[r]=e("translate")(t)})),_.isUndefined(n.items)||a.preProcess(void 0,n.items)})},this.buildTitleMap=function(e){var t=[];return _.forEach(e,function(e){t.push({value:e,name:e})}),t},this.clearArray=function(e){for(;e.length>0;)e.pop()},this.disableSubmit=function(e,t){_.forEach(e,function(e){"submit"===e.type?e.readonly=t:e.items&&a.disableSubmit(e.items,t)})},this.getSharedSchemas=function(){return{phoneNumber:{type:"string",maxLength:12,minLength:10},loyaltyCardNumber:{type:"string",pattern:t.numbersOnly,maxLength:16,minLength:12},cardRegCode:{type:"string",pattern:t.numbersOnly,maxLength:4,minLength:4},emailAddress:{type:"string",pattern:t.validEmail},firstName:{type:"string",pattern:t.validName},birthday:{type:"string",pattern:t.birthday,maxLength:5,minLength:4},address:{type:"string",pattern:t.address},addressSecond:{type:"string"},lastName:{type:"string",pattern:t.validName},password:{type:"string",minLength:6,maxLength:20,pattern:t.password},creditCard:{title:"Card Number",type:"string",pattern:t.validCard,minLength:13,maxLength:16},giftCard:{title:"Card Number",type:"string",pattern:t.validCard,maxLength:19,minLength:19},giftCardPin:{title:"GiftCard Pin",type:"string",pattern:t.integer,maxLength:4}}},this.formatPhone=function(e){return c(e)},this.formatBirthday=function(e){if(e&&!_.includes(e,"/")&&e.length>=3){var t={birthMonth:e.substring(0,2),birthDay:e.substring(2,4)};return l(t)}return e},this.getYearOptions=function(e,t){return _.map(new Array(t),function(t,n){return _.noop(t),(+e-n).toString()})},this.isValidBirthday=function(e){var t=[e.birthYear||n.validation.birthday.DEFAULT_YEAR,e.birthMonth,e.birthDay].join("-");return moment(t).isValid()},this.validateCreditCard=function(e,t){var n=a.getSharedSchemas().creditCard;return _.size(e)>=n.minLength&&_.size(e)<=n.maxLength&&!o(e)?void r.$broadcast("schemaForm.error.cardNumber",t,t):void r.$broadcast("schemaForm.error.cardNumber",t,!0)},this.getValidationMessages=function(){return _.cloneDeep(n.validationMessages)}}])}(window.angular),function(e){"use strict";e.module("common.services.giftCardService",["angular-locker"]).factory("giftCardService",["locker","$rootScope",function(e,t){function n(e){c.put("giftCardsToApply",e),t.$broadcast(l)}function r(){return c.get("giftCardsToApply",[])}function i(e){var t=_.cloneDeep(r()),i={giftCardNo:e.giftCardNo,isStoredGiftCard:e.isStoredGiftCard,giftCardBalance:e.giftCardBalance,status:e.status};t.push(i),n(t)}function o(e){var t=_.cloneDeep(r());_.remove(t,function(t){return t.giftCardNo===e.giftCardNo}),n(t)}function a(){n([])}function s(e,t){t(),e.$on(l,function(){t()})}var c=e.driver("session"),l="giftCardChangedEvent";return{addGiftCardToApply:i,getGiftCardsToApply:r,removeGiftCardToApply:o,clearGiftCards:a,onGiftCardChange:s}}])}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=t("httpCache"),a=t("expireCache"),s=[];this.executeRequest=function(t,c,l){var u=t.url;return!l&&i.cacheIsValid(u)?n.resolve(o.get(u)):(s.push(u),e(t).then(function(e){return o.put(u,e),a.put(u,r().add(c,"milliseconds").toISOString()),e})["finally"](function(){_.pull(s,u)}))},this.cacheIsValid=function(e){var t=a.get(e),n=r();return t&&r(t).isAfter(n)||!1},this.isRequestOutstanding=function(e){return s.indexOf(e)>=0}}t.$inject=["$http","$cacheFactory","$q","moment"],e.module("common.services.httpCacheService",["common.utilities.constants"]).service("httpCacheService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r){this.getRequestHeaders=function(i){var o={},a=r.search(),s=_.get(a,"ssoToken")||e.get("ssoToken"),c=_.get(a,"busUnit");return s&&(o.access_token=s),t.customerId()>0&&(o[n.customerId]=t.customerId()),c&&(o[n.busUnit]=c),i&&(o["Content-Type"]=i),o}}t.$inject=["$kookies","userService","httpHeaders","$location"],e.module("common.services.httpHeader.service",["common.services.userService","common.utilities.constants","ngKookies"]).service("httpHeaderService",t)}(window.angular),function(e){"use strict";function t(t,n,r,i,o){function a(e,t){var n="unknown",r="/",o=".jpg",a=i.image.damUrl,s=d?i.image.renditions.mobile:i.image.renditions.original;switch(t){case"builder":n=e||"unknown",o=".png",r=a+i.image.ingredient;break;case"placard":n=e||"unknown",r=a+i.image.placard,o=".jpg";break;case"combo":n=e||"unknown",r=i.image.combos,o=".jpg";break;case"campaign":n=e||"unknown",r=i.image.campaign,o=".jpg";break;case"category":n=e||"unknown",r=a+i.image.category,o=".png";break;case"curation":n=e||"unknown",r=a+i.image.category,o=".jpg";break;case"curation-placard":n=e||"unknown",r=a+i.image.curation.placard,o=".jpg";break;case"curation-icon":n=e||"unknown",r=a+i.image.categoryMisc,o=".png",s=d?i.image.renditions.mobileTransparent:i.image.renditions.original;break;case"communication":n=e||"unknown",r=a+i.image.categoryMisc,o=".jpg";break;case"banner":n=e||"unknown",r=a+i.image.categoryMisc,o=".jpg";break;case"reward":n=(e&&"reward")+e||"default",r=a+i.image.rewards,o=".jpg";break;case"credit-card":n=e||"unknown",r=a+i.image.categoryMisc,o=".png";break;case"upsell":n=e||"unknown",r=a+i.image.upsell,o=".jpg";break;case"icon":n=e||"unknown",r=a+i.image.icons,o=".png"}return r+n+o+s}function s(){o.echo.render()}function c(){o.echo.init({offsetBottom:250})}function l(t,i){var a;r.isIosUserAgent()?a=n(s,250):(e.element(i||o).bind("scroll",s),e.element(i||o).bind("click",s),e.element(i||o).bind("mouseenter",s),t.$applyAsync(s)),t.$on("$destroy",function(){a?n.cancel(a):e.element(i||o).unbind("scroll")})}var u=t.$new(),d=!1;return r.onViewPortChange(u,function(e){d=e}),c(),s(),{createImageUrl:a,lazyLoadRender:s,lazyLoadInit:c,lazyLoader:l}}t.$inject=["$rootScope","$interval","mediaFactory","apiUrls","$window"],e.module("common.services.imageService",["common.utilities.constants","common.factories.media"]).service("imageService",t)}(window.angular),function(e){"use strict";var t=e.module("common.services.kenshoo.constants",[]);t.constant("kenshooConstants",{apiId:"538",token:"40ee1a56-ebcf-422b-bbcb-c07942d9e0f2",conversionType:"conv",currency:"USD"})}(window.angular),function(e){"use strict";function t(e,t,n){this.trackConversion=function(r){_.isUndefined(e.kenshoo)||e.kenshoo.trackConversion(n.apiId,n.token,{conversionType:n.conversionType,revenue:r.orderTotal,currency:n.currency,orderId:r.orderId,promoCode:r.discountCode,orderType:t.getOrderType().replace("_","")})}}t.$inject=["$window","orderTypeService","kenshooConstants"],e.module("common.services.kenshoo.service",["common.services.splunkService","common.services.orderTypeService","common.services.kenshoo.constants"]).service("kenshooService",t)}(window.angular),function(e){"use strict";e.module("common.services.lightningBoltService",["common.utilities.constants","common.services.orderFlowService","common.services.orderTypeService","common.services.cartService","common.services.splunkService"]).service("lightningBoltService",["$rootScope","$window","$location","apiUrls","routes","orderFlowService","orderTypeService","cartService","splunkService","$http",function(e,t,n,r,i,o,a,s,c,l){function u(e,n){_.isEmpty(n)||_.forEach(n,function(r,i){(!e||r.id.indexOf(e)>=0)&&r.parentNode===t.document.body&&t.document.body.removeChild(n[i])})}function d(){return o.getOrderId()||"[TRANSACTION ID]"}function p(){var e=s.getCart(),t=0;return _.forEach(e,function(e){t+=e.price}),t}function m(){var e=a.getOrderType();return"order_type="+e}function f(){t.lbTrans=d(),t.lbValue=p(),t.lbData=m()}function h(){var e,o,a=t.document.getElementById("lightningBolt"),s=_.compact(t.document.getElementsByTagName("iframe")),d=_.compact(t.document.getElementsByTagName("script"));a?(u(null,s),u("lightning_bolt_",d),l({method:"GET",url:r.analytics.lightningBolt,cache:!0}).then(function(r){var s=r.data;"true"===s.lightningBoltEnabled&&(n.path()!==i.orderConfirmation&&f(),e=Math.random().toString().substring(2,12),t.lbLoaded=!1,o=t.document.createElement("script"),o.type="text/javascript",o.id="lightning_bolt_"+e,o.async=!0,o.src=s.lightningBoltUrl,a.parentNode.insertBefore(o,a))})):c.info("lightningBoltService.initialize failed to find script element")}e.$on("$locationChangeSuccess",function(){h()})}])}(window.angular),function(e){"use strict";e.module("common.services.localeService",["common.utilities.constants","paneraCommonUi.common.locale.service"]).service("localeService",["$rootScope","$http","$q","splunkService","apiUrls","locker","defaultCafe","pnraLocaleService",function(e,t,n,r,i,o,a,s){function c(e){return _.find(C,{value:e.value})}function l(e){return e||a.CafeId}function u(e,o,a){o=l(o);var s=a&&a.dataVersion?i.i18n.phrasesByVersion.replace(":version",a.dataVersion):i.i18n.phrases;return t.get(s.replace(":id",e).replace(":cafeId",o),{cache:!0}).then(function(e){return e.data},function(e){return r.log("Call to fetch i18n phrase catalog failed",e),n.reject(e.status)})}function d(t,n,r){n=l(n),u(t.value,n,r).then(function(t){s.setI18nData(t),S||(S=!0,T.resolve()),e.$broadcast(w)})}function p(){return S?n.resolve():T.promise}function m(){return S}function f(e){var t=E.get("language");e.value=e.value.replace("_","-"),_.isEqual(t,e)||_.isUndefined(t)||d(e),E.put("language",e)}function h(){var e=E.get("language");return e&&c(e)||(e=C[0],f(e)),e}function g(e){return s.getI18nValue(e)}function v(e,t){e.$on(w,function(){t()}),m()&&t()}function y(e,t){E=e,C=t,d(h())}function b(e){var n=E.get("language"),r=this,o=s.getCurrentVersionId();e=l(e),o?t.get(i.i18n.version.replace(":cafeId",e),{cache:!0}).then(function(t){o!==+t.data.dataVersion&&r.setI18nData(n,e,t.data)}):r.setI18nData(n,e)}var E,C,S,w="i18nDataChanged",T=n.defer();return E=o.driver("local"),{translate:g,setI18nData:d,isI18nDataSet:m,updateLanguage:f,waitForI18nDataLoad:p,onI18nDataChange:v,getLocales:function(){return C},getLanguage:h,init:y,getI18nData:u,updateI18nDataByVersion:b}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f){function h(e){return"product"!==e.itemType||_.find(X.placards.available,{optSets:[{itemId:e.id}]})}function g(){return _.union(X.placards.unavailable,X.placards.available)}function v(){return _.union(X.categories.unavailable,X.categories.available)}function y(e){var t=_.find(X.categories.available,{comboId:e});return t&&t.catId}function b(e,t){var n=_.find(X.combos,function(n){return!_.isEmpty(_.intersection(t,[n.comboId]))&&!_.isEmpty(_.intersection(n.placards,[e.plcId]))});return n&&n.comboId}function E(e){return _.cloneDeep(_.find(X.categories.available,{catId:e}))||{}}function C(e){return _.cloneDeep(_.find(X.categories.available,{catOrder:[+e]}))||{}}function S(e){return _.cloneDeep(_.find(X.placards.available,{optSets:[{itemId:e}]}))||{}}function w(e){return r(p.menu.categories,{cafeId:e},{get:{method:"GET",params:{},isArray:!1,cache:!0}}).get().$promise}function T(e){return r(p.menu.categoriesSchedules,{cafeId:e},{get:{method:"GET",params:{},isArray:!1,cache:!0}}).get().$promise["catch"](function(){return{}})}function I(e){var t,n=v();return _.forEach(n,function(n){_.includes(n.placards,e.plcId)&&(t=n.schedule||n.schedules)}),t}function O(e,t){var n,r,i=!0,a=o.getOrderMoment(),s=a.format("ddd").toLowerCase(),c=_.find(e,{dayOfWeek:s});return!_.isEmpty(t)&&_.isObject(t)&&(t.scheduleDisplayUntil=void 0,t.scheduleDisplayAfter=void 0,t.hasInvalidSchedule=!1),_.isEmpty(c)?_.isEmpty(e)||(i=!1):i=o.validOrderTime(c.fromTime,c.toTime,c.dayOfWeek),t&&!_.isEmpty(c)&&c.fromTime!==c.toTime&&(n=o.toCafeTime(a,c.fromTime),r=o.toCafeTime(a,c.toTime),n.isAfter(a)||"00:00"!==c.fromTime?t.scheduleDisplayAfter=n.format("H:mm A"):t.scheduleDisplayUntil=r.format("H:mm A")),!i}function A(e){var t=d.getOrderTypeDetails(),n=!1;return _.forEach(e,function(e){switch(e.type.toLowerCase()){case"lto":o.validOrderDateTime(e.fromDate,e.toDate)||(n=!0);break;case"destination":e.destination&&e.destination.toLowerCase()===t.dataKey.toLowerCase()&&(n=!0)}}),n}function $(e,t){var n,r,i={};return i.available=[],i.unavailable=[],_.forEach(e,function(e){var o=e.schedule||e.schedules;_.isUndefined(o)&&"placard"===t&&(o=I(e)),n=O(o,e),r=A(e.availabilityExceptions),n||r?(e.hasInvalidSchedule=n,e.hasAvailabilityExceptions=r,i.unavailable.push(_.cloneDeep(e))):i.available.push(_.cloneDeep(e))}),_.forEach(i,function(e,t){i[t]=_.sortBy(e,"sortWeight")}),i}function D(e){X.categories=$(e,"category"),i.$broadcast("categoryData",X.categories.available)}function x(){var e=a.getCafe().CafeId;t.all([w(e),T(e)]).then(function(e){var t=_.map(e[0].categories,function(t){var n=_.find(e[1].categories,{catId:t.catId});return _.isEmpty(n)||(t.schedule=_.map(n.schedules,function(e){return e=_.cloneDeep(e),e.categoryId=t.catId,e})),t});D(t)})}function R(e){return r(p.menu.products,{cafeId:e},{get:{method:"GET",params:{},isArray:!1,cache:!0}}).get().$promise}function k(e){return r(p.menu.placardAvailability,{cafeId:e},{get:{method:"GET",params:{},isArray:!1,cache:!0}}).get().$promise.then(function(e){return e.placards},function(e){return 500===e.status?t.reject():[]})}function P(e){X.placards=$(e,"placard"),i.$broadcast("placardData",X.placards.available)}function N(){var e=a.getCafe().CafeId;t.all([R(e),k(e)]).then(function(e){var t=_.map(e[0].placards,function(t){var n=_.find(e[1],{plcId:t.plcId});return _.isUndefined(n)||(_.isEmpty(n.availabilityExceptions)||(t.availabilityExceptions=n.availabilityExceptions),_.isEmpty(n.schedules)||(t.schedule=n.schedules)),t});P(t)},function(){u.applyPreviousProcess(),s.showAPIFailModal("GENERIC_UNEXPECTED_ERROR")})}function M(e){var r=p.menu.customizations,i=a.getCafe().CafeId;return r=r.replace(":cafeId",i).replace(":itemId",e),n.get(r,{cache:!0}).then(function(e){return e.data},function(){return t.reject()})}function L(){r(p.menu.combos,{cafeId:a.getCafe().CafeId},{get:{method:"GET",params:{},isArray:!1,cache:!0}}).get({},function(e){X.combos=e.combo,i.$broadcast("comboData",X.combos)})}function U(e){return e=_.compact(e),_.isEmpty(e)?t.when([]):n({method:"POST",url:p.menu.productDetails.replace(":cafeId",a.getCafe().CafeId),data:e,cache:!0}).then(function(e){return e.data})["catch"](function(){return[]})}function F(e){return e===f}function G(e,t,n){var r;_.forEach(e,function(e){r=_.find(t,{productId:e.id}),_.isEmpty(r)||(e.isUnavailable=!r.isAvailable||A(r.availabilityExceptions)||O(r.schedule)||F(r.discountContext)&&!n,G(e.items,t,!0))})}function B(e){return _.some(e,function(e){return e.isUnavailable||B(e.items)})}function H(e,t){return _.uniq(_.flatten(_.map(e,function(e){var n=[];return _.isUndefined(e.itemType)||(_.isUndefined(t)||_.some(t,function(t){return t.toLowerCase()===e.itemType.toLowerCase()}))&&(n.push(e.id),_.isEmpty(e.items)||(n=n.concat(H(e.items,t)))),n})))}function j(e){var n=_.cloneDeep(e),r=H(n,["side","product","combo","assortment"]);return _.isEmpty(r)?t.when({items:n,hasUnavailableItems:!1}):U(r).then(function(e){return G(n,e),{items:n,hasUnavailableItems:B(n,e)}})}function V(e){_.isEmpty(X.categories.available)||e(X.categories.available),i.$on("categoryData",function(t,n){_.noop(t),e(n)})}function z(e,t){t?e(_.union(X.placards.available,_.filter(X.placards.unavailable,function(e){return!A(e.availabilityExceptions)&&(e.scheduleDisplayAfter||e.scheduleDisplayUntil)}))):X.placards.available.length>0&&e(X.placards.available),i.$on("placardData",function(t,n){_.noop(t),e(n)})}function W(e){_.isEmpty(X.combos)||e(X.combos),i.$on("comboData",function(t,n){_.noop(t),e(n)})}function Y(t){return _.isEmpty(X.categories.available)?!1:_.isUndefined(t)?(e.path(m.menu),!1):(e.path(m.menu+t),!0)}function q(e,t,n){c.show({templateUrl:"builder.html",controller:"BuilderController",size:"lg"},{selectedItem:e,btnText:n}).then(function(e){l.completeOrderFlow().then(function(){t(e)})})}function K(e,t,n,r,i){var o=e.nutr?e.nutr[0]:e.calories,a={id:e.id||e.itemId||e.comboId,i18nName:e.i18nName,itemType:t,itemQty:e.quantity||n,ignoreNutr:e.ignoreNutr||!1,calories:{i18nName:o?o.i18nName:"",unit:o?o.unit:"",value:o?+o.value:0},price:e.price?+e.price:0,hasCustomizations:r,allowSpecialInstr:i};return a}function J(e,t,n){var r,i=t||e;return r=K(i,_.isUndefined(e.comboId)?(t||{}).menuItemType||"product":"combo",1,e.hasCustomizations,e.allowSpecialInstr),r.imgKey=i.imgKey,r.i18nModLbl=i.i18nBtnLbl,r.items=[],r.categorialContext=e.categorialContext||void 0,r.selectedComponents=i.selectedComponents,r.improvedIngrFlag=Boolean(i.improvedIngrFlag),r.orderQtyLimitGroup=_.result(_.find(e.optSets,"orderQtyLimitGroup"),"orderQtyLimitGroup"),r.hasCustomizations=e.hasCustomizations,r.allowSpecialInstr=e.allowSpecialInstr,r.plcId=e.plcId,e.defaultSide&&!n&&r.items.push(K(e.defaultSide,"side",1,e.hasCustomizations,e.allowSpecialInstr)),_.forEach(e.defaultBuild,function(t){r.items.push(K(t,"add",1,e.hasCustomizations,e.allowSpecialInstr))}),r}function Z(e){return"COMBO"===_.get(e,"catMenuType")}function Q(){D(v()),P(g())}var X={categories:{unavailable:[],available:[]},placards:{unavailable:[],available:[]},combos:[]};return u.onOrderTimeChange(i,Q),a.onCafeChange(i,Q),{addCategoryData:x,addPlacardData:N,buildCartItem:J,customizeItem:q,fetchComboData:L,fetchCustomizationData:M,fetchProductDetails:U,getAllCategories:v,getAllPlacards:g,getItemIds:H,getMyCategory:E,getMyComboCategory:y,getMyParentCategory:C,getMyPlacard:S,hasAvailabilityExceptions:A,hasInvalidSchedule:O,isItemAvailable:h,onCategoryDataChange:V,onComboDataChange:W,onPlacardDataChange:z,setCategory:Y,setIsUnavailableOnItems:G,updateCartItemsAvailability:j,getComboGroup:b,isComboCategory:Z}}t.$inject=["$location","$q","$http","$resource","$rootScope","cafeHours","cafeLocatorFactory","errorModalService","modalService","orderFlowFactory","orderFlowService","orderTypeService","apiUrls","routes","comboComponentIdentifier"],e.module("common.services.menuService",["common.factories.cafeLocator","common.factories.orderFlowFactory","common.services.cafeHours","common.services.errorModalService","common.services.modalService","common.services.orderFlowService","common.services.orderTypeService","common.utilities.constants","common.utilities.filters","ngResource"]).service("menuService",t)}(window.angular),function(e){"use strict";e.module("common.services.messagesService",["alert.html","angular-locker","common.services.cafeHours","common.factories.cafeLocator","common.services.menuService","paneraCommonUi.common.modal","common.services.splunkService","common.utilities.modal.message","common.utilities.constants","ngRoute"]).service("messagesService",["$resource","$rootScope","$routeParams","$q","apiUrls","cafeHours","cafeLocatorFactory","locker","menuService","pnraModalService","splunkService","routes","clientTypes",function(e,t,n,r,i,o,a,s,c,l,u,d,p){function m(e){t.$broadcast("MessagesChanged",e),w.resolve()}function f(e){T.put("messages",e),m(e)}function h(e){return _.filter(e,function(e){var t;try{t=JSON.parse(_.get(e,"clientType","[]").replace(/\'/g,'"'))}catch(n){t=[]}return-1!==_.findIndex(t,function(e){return e.toUpperCase()===p.desktop})})}function g(t){e(i.cafe.messages).get({cafeId:t},function(e){var t=h(e.messages);f(t)},function(e){u.info("messagesService.fetchMessages Error: "+e.status+" - "+e.data)})}function v(e){return _.filter(T.get("messages",{}),e||{})}function y(e,t){t(v()),e.$on("MessagesChanged",function(e,n){_.noop(e),t(n)})}function b(){var e,t,n=v({useModal:!0}),r=I.get("optOut",[]);_.isEmpty(n)||(_.some(n,function(n){if(o.validOrderDateTime(n.messageStartDate,n.messageEndDate)||_.some(n.schedule,function(e){return o.validOrderTime(e.fromTime,e.toTime,e.day)}))switch(t=c.getMyCategory(n.categoryId),n.scope.toLowerCase()){case"category":+E===+n.categoryId?e=n:t&&t.catOrder&&t.catOrder.indexOf(+E)>-1&&(e=n)}return e}),e&&!_.includes(r,e.messageId)&&l.show({component:"message",size:"md-small",hideContainer:!1,messageObject:e,showOptOut:!0}).then(function(t){t&&(r.push(e.messageId),I.put("optOut",_.uniq(r)))}))}var E,C=r.defer(),S=r.defer(),w=r.defer(),T=s.driver("session"),I=s.driver("local"),O=!0;t.$on("$locationChangeSuccess",function(e,t){_.noop(e),E=Number(t.split(d.menu).pop()),_.isNaN(E)&&(E=void 0),O?C.resolve():b()}),c.onCategoryDataChange(function(){O?S.resolve():b()}),a.onCafeChange(t,function(e){g(e.CafeId),O||b()}),r.all([C.promise,S.promise,w.promise]).then(function(){b(),O=!1}),this.getMessages=v,this.onMessagesChange=y}])}(window.angular),function(e){"use strict";e.module("common.services.modalService",["confirmation.html","common.factories.media","common.utilities.modals.confirmation","ui.bootstrap.modal"]).service("modalService",["$rootScope","$uibModal","$window","$q","mediaFactory",function(t,n,r,i,o){var a,s={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"confirmation.html",controller:"ConfirmationController"},c={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"},l=[],u={close:_.noop},d=t.$new();this.getOpenModalControllers=function(){return l},this.show=function(t,o){var d={},p={};return _.assign(d,s,t),_.assign(p,c,o),_.includes(l,d.controller)?i.reject():(a&&(e.element(r.document.body).removeAttr("style"),d.size="md"),d.resolve={modalOptions:function(){return p}},l.push(d.controller),u=n.open(d),u.result["finally"](function(){_.pull(l,d.controller)}))},this.close=function(){
u.close()},o.onViewPortChange(d,function(e){a=e})}])}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl;e.module("common.services.myFavoriteService.constants",[]).constant("favoriteConstants",{apiUrl:{items:{get:n+"favorites/customer/:customer-id",add:n+"favorites/:customerId/favoriteitem",update:n+"favorites/:customerId/favoriteitem/:favoriteItemId","delete":n+"/favorites/:customerId/favoriteitem/:favoriteItemId"},orders:{add:n+"favorites/:customerId/favoriteorder",update:n+"favorites/:customerId/favoriteorder/:favoriteOrderId","delete":n+"/favorites/:customerId/favoriteorder/:favoriteOrderId"}},legacyApiUrls:{favorites:{items:{get:n+"users/:customer-id/favorites",add:n+"users/:customer-id/favorites/:groupId",update:n+"users/:customer-id/favorites/:groupId/:favoriteId","delete":n+"users/:customer-id/favorites/:groupId/:favoriteId"},groups:{add:n+"users/:customer-id/favorites",update:n+"users/:customer-id/favorites/:groupId","delete":n+"users/:customer-id/favorites/:groupId"}}},type:{item:"menu",order:"order"},appName:"Retail"})}(window.angular,window),function(e){"use strict";function t(e,t,n,r,i,o){function a(e,t){var n={id:t.itemId,quantity:t.quantity,items:[],specialInstructions:{yourName:t.msgPreparedFor,specialInstructions:t.msgKitchen},favoriteId:t.favoriteItemId,favoriteGroupId:e.favoriteId||void 0,favoriteName:e.favoriteName||void 0};return _.forEach(t.childItems,function(t){n.items.push(a(e,t))}),n}function s(e,t){var n=[],r={id:e.favoriteId,total:0,isFavorite:!0,name:e.favoriteName,type:t,isOpen:!1};return"menu"===t?n.push(e.item):n=e.order.items,r.items=_.map(n,function(t){return a(e,t)}),r}function c(e){return _.map(e,function(e){return s(e,o.type.item)})}function l(e){return _.map(e,function(e){return s(e,o.type.order)})}function u(t,n,r,i){var o,a={},s=[];return t?(o=_.find(e.favoritesServiceResponse().favoriteOrders,function(e){return e.favoriteId===n}),_.isEmpty(o)||(s.push(o),a.favoriteOrders=s,a.favoriteOrders[0].favoriteName=i)):(o=_.find(e.favoritesServiceResponse().favoriteItems,function(e){return e.favoriteId===r||e.favoriteId===n}),_.isEmpty(o)||(s.push(o),a.favoriteItems=s,a.favoriteItems[0].favoriteName=i)),_.isEmpty(a)?void 0:(a.pkid={customerId:e.customerId()},a)}function d(t,n){var r,o,a,s=e.favoritesServiceResponse();return a=_.find(s.favoriteOrders,{favoriteId:t}),r=_.get(a,"order.items"),_.remove(r,{favoriteItemId:n}),_.isEmpty(r)?void 0:(o={pkid:s.pkid,favoriteIdSequence:s.favoriteIdSequence,favoriteItems:[],favoriteOrders:[a]},i.updateFavoriteGroupApi(e.customerId(),t,null,o).then(p.addFavorites))}var p=this;this.addFavorites=function(r){return i.getFavoritesApi(e.customerId()).then(function(t){return e.updateSession({favorites:t.data}),n.fire("favoritesDataChanged"),r&&r.data})["catch"](function(e){t.info("myFavoriteService.addFavorites getFavorites failed "+e)})},this.addFavoriteItem=function(t,n){return r.trackAddFavoriteItem(t),i.addFavoriteItemApi(e.customerId(),t,n).then(p.addFavorites)},this.updateFavoriteItem=function(t,n,o){var a;return r.trackFavoritesAction("update",!1),i.getFavoritesServiceEnabled()&&(a=u(!1,t,n,o)),i.updateFavoriteItemApi(e.customerId(),t,n,o,a).then(p.addFavorites)},this.deleteFavoriteItem=function(t,n,o){return r.trackFavoritesAction("delete",!1),o&&i.getFavoritesServiceEnabled()?void d(t,n):i.deleteFavoriteItemApi(e.customerId(),n,t).then(p.addFavorites)},this.addFavoriteGroup=function(t){return r.trackFavoritesAction("add",!0),i.addFavoriteGroupApi(e.customerId(),t).then(p.addFavorites)},this.updateFavoriteGroup=function(t,n){var o;return r.trackFavoritesAction("update",!0),i.getFavoritesServiceEnabled()&&(o=u(!0,t,null,n)),i.updateFavoriteGroupApi(e.customerId(),t,n,o).then(p.addFavorites)},this.deleteFavoriteGroup=function(t){return r.trackFavoritesAction("delete",!0),i.deleteFavoriteGroupApi(e.customerId(),t).then(p.addFavorites)},this.onFavoritesDataChange=function(t,r){return r(e.favorites()),n.register(t,"favoritesDataChanged",function(){r(e.favorites())})},this.getSavedOrders=function(t){var n,r,i;return _.forEach(t.favoriteOrders,function(e){_.forEach(e.order.items,function(e){e.favoriteItemId=_.uniqueId()})}),e.updateSession({favoritesServiceResponse:t}),r=c(t.favoriteItems),i=l(t.favoriteOrders),n=_.concat(r,i)},this.buildFavoritesPayLoad=function(t,n,r){var i,a={},s=[],c=_.isArray(t);return t=c?t:[t],_.forEach(t,function(e){i={item:{quantity:e.itemQty,name:e.i18nName,itemId:e.id,hasCustomizations:e.hasCustomizations,type:e.itemType.toUpperCase()}},_.isUndefined(e.specialInstructions)||_.isEmpty(e.specialInstructions)||(i.item.msgPreparedFor=e.specialInstructions.yourName,i.item.msgKitchen=e.specialInstructions.specialInstructions),("ADD"===i.item.type||"REMOVE"===i.item.type)&&(i.item.type="INGREDIENT"),_.isEmpty(e.items)||(i.item.childItems=p.buildFavoritesPayLoad(e.items)),c&&(i=i.item),s.push(i)}),_.isUndefined(n)?s:(a={pkid:{customerId:e.customerId()}},c?(a.favoriteOrders=[{favoriteName:n,createdByApp:o.appName,order:{items:s}}],_.isEmpty(r)||(a.favoriteOrders[0].order.summary={specialInstructions:r})):(a.favoriteItems=s,a.favoriteItems[0].createdByApp="Retail",a.favoriteItems[0].favoriteName=n),a)}}t.$inject=["userService","splunkService","eventHandler","analyticsService","myFavoriteServiceApi","favoriteConstants"],e.module("common.services.myFavoriteService",["common.services.userService","common.services.splunkService","common.services.eventHandler","common.services.analytics","common.services.myFavoriteServiceApi","common.services.myFavoriteService.constants"]).service("myFavoriteService",t)}(window.angular),function(e){"use strict";e.module("common.services.myFavoriteService.module",["common.services.myFavoriteService","common.services.myFavoriteServiceApi","common.services.myFavoriteService.constants"])}(window.angular),function(e){"use strict";function t(e,t,n){var r;this.setFavoritesServiceEnabled=function(e){r=e},this.getFavoritesServiceEnabled=function(){return r},this.getFavoritesApi=function(i){var o=(r?t.apiUrl.items.get:t.legacyApiUrls.favorites.items.get).replace(":customer-id",i);return e({method:"GET",url:o,headers:n.getRequestHeaders()})},this.addFavoriteItemApi=function(i,o,a){var s=r?t.apiUrl.items.add.replace(":customerId",i):t.legacyApiUrls.favorites.items.add.replace(":customer-id",i).replace(":groupId",a||"menu");return e({method:"POST",url:s,data:o,headers:n.getRequestHeaders()})},this.updateFavoriteItemApi=function(i,o,a,s,c){var l=r?t.apiUrl.items.update.replace(":customerId",i).replace(":favoriteItemId",o):t.legacyApiUrls.favorites.items.update.replace(":customer-id",i).replace(":groupId",o||"menu").replace(":favoriteId",a),u=r?c:{name:s};return e({method:"PUT",url:l,data:u,headers:n.getRequestHeaders()})},this.deleteFavoriteItemApi=function(i,o,a){var s=r?t.apiUrl.items["delete"].replace(":customerId",i).replace(":favoriteItemId",a):t.legacyApiUrls.favorites.items["delete"].replace(":customer-id",i).replace(":groupId",a||"menu").replace(":favoriteId",o);return e({method:"DELETE",url:s,headers:n.getRequestHeaders()})},this.addFavoriteGroupApi=function(i,o){var a=r?t.apiUrl.orders.add.replace(":customerId",i):t.legacyApiUrls.favorites.groups.add.replace(":customer-id",i);return e({method:"POST",url:a,data:o,headers:n.getRequestHeaders()})},this.updateFavoriteGroupApi=function(i,o,a,s){var c=r?t.apiUrl.orders.update.replace(":customerId",i).replace(":favoriteOrderId",o):t.legacyApiUrls.favorites.groups.update.replace(":customer-id",i).replace(":groupId",o),l=r?s:{name:a,type:"order"};return e({method:"PUT",url:c,data:l,headers:n.getRequestHeaders()})},this.deleteFavoriteGroupApi=function(i,o){var a=r?t.apiUrl.orders["delete"].replace(":customerId",i).replace(":favoriteOrderId",o):t.legacyApiUrls.favorites.groups["delete"].replace(":customer-id",i).replace(":groupId",o);return e({method:"DELETE",url:a,headers:n.getRequestHeaders()})}}t.$inject=["$http","favoriteConstants","httpHeaderService"],e.module("common.services.myFavoriteServiceApi",["common.services.myFavoriteService.constants","common.services.httpHeader.service"]).service("myFavoriteServiceApi",t)}(window.angular),function(e){"use strict";e.module("common.services.myPlacardService",["ngResource","common.services.loginService","common.services.cartService","common.services.userService","common.services.rewardManagementService","common.services.menuService","common.services.pricingService","common.services.orderFlowService","common.services.configService","common.factories.cafeLocator","common.factories.stockoutFactory","common.utilities.constants","common.services.myFavoriteService"]).service("myPlacardService",["$filter","$q","$rootScope","cartService","loginService","menuService","orderFlowService","configService","pricingService","stockoutFactory","userService","rewardManagementService","myFavoriteService",function(e,t,n,r,i,o,a,s,c,l,u,d,p){function m(){return t.all([K.promise,X.promise,q.promise])}function f(){return t.all([m(),Z.promise,Q.promise,J.promise])}function h(e){if(!_.isObject(e))try{e=JSON.parse(e)}catch(t){e=[]}return e}function g(e){var t={id:e.itemId,quantity:e.quantity,type:e.type,items:[],specialInstructions:{yourName:e.msgPreparedFor||"",specialInstructions:e.msgKitchen||""}};return _.isArray(e.childItems)?_.forEach(e.childItems,function(e){t.items.push(g(e))}):e.childItems&&t.items.push(g(e.childItems)),t}function v(e){var n,r=[],i=[];return _.forEach(e,function(e){_.forEach(e.placards,function(e){e.cartItem&&!e.isUnavailable&&i.push(e.cartItem)})}),o.updateCartItemsAvailability(i).then(function(i){return i&&(_.forEach(i.items,function(e){e.cartItemIds=d.getCartItemIds([e])}),r=_.map(e,function(e){return n=_.map(e.placards,function(e){var n=d.getCartItemIds([e.cartItem]);return _.forEach(i.items,function(t){!_.isEmpty(n)&&_.isEmpty(_.difference(n,t.cartItemIds))&&_.size(n)===_.size(t.cartItemIds)&&(e.cartItem=_.cloneDeep(t))}),e.isUnavailable||!e.cartItem||e.cartItem.isCustomized?t.when(e):c.fetchCartPricing({cart:[e.cartItem]},!0).then(function(t){return e.cartItem.price=t.summary.subTotal,e},function(){return e})}),t.all(n).then(function(t){return e.placards=t,e})})),_.isEmpty(r)?t.when(e):t.all(r).then(function(e){var t=[],n=0;return _.forEach(e,function(e){t=_.union(t,_.compact(_.map(e.placards,function(e){return e.cartItem.isCustomized?(e.cartItem.pricingIndex=n,n+=1,e.cartItem):void 0})))}),_.isEmpty(t)?e:c.fetchItemsPricing(t).then(function(t){return _.forEach(e,function(e){_.forEach(e.placards,function(e){e.cartItem.pricingIndex>=0&&t[e.cartItem.pricingIndex]&&(e.cartItem.price=t[e.cartItem.pricingIndex].modifiedItemPricing.totalPrice)})}),e})})},function(){return e})}function y(e){var r=v(e);t.when(r).then(function(e){u.updateSession({pastOrders:e}),n.$broadcast("pastOrdersChanged")})}function b(e){var r,i;r=v(e.groups),i=v([{placards:e.items}]),t.all({groups:t.when(r),items:t.when(i)}).then(function(e){u.updateSession({myFavorites:e}),n.$broadcast("favoritesChanged")})}function E(e){var t={i18nName:"",unit:"Cal",value:0};return"product"===e.itemType||"assortment"===e.itemType?e.optSets[0]&&e.optSets[0].nutr&&(t.i18nName=e.optSets[0].nutr[0].i18nName,t.unit=e.optSets[0].nutr[0].unit,t.value=e.optSets[0].nutr[0].value):(t.i18nName="NTR2",t.unit="Cal",_.forEach(e.items,function(e){t.value+=e.calories.value||0})),t}function C(e,t){_.forEach(e.items,function(n){var r=_.find(t,{id:n.id});r&&r.isAvailable||("SIDE"===n.type?e.hasUnavailableSide=!0:e.hasUnavailableIngredients=!0)})}function S(e){var t=!1;return"assortment"!==e.itemType?_.forEach(e.items,function(e){e.itemType&&_.includes(["add","remove","variant"],e.itemType.toLowerCase())&&(t=!0)}):t=_.some(e.selectedComponents,function(e){return"Qty"===e.modItemBasis?e.quantity!==e.defaultQuantity:"Prep"===e.modItemBasis?!e.isDefault:void 0}),t}function w(e,t){if("combo"===e.itemType)e.calories=E(e),e.items=_.map(e.items,function(n){return"side"===n.itemType&&n.isUnavailable&&(e.hasUnavailableSide=!0),w(n,t)});else if(("product"===e.itemType||"assortment"===e.itemType)&&!e.isUnavailable&&e.hasCustomizations){var n,i;i=_.find(t,{productId:e.id}),i?(e.sides=i.sides,n=r.buildComponentsFromIds(e.items,i),e.selectedComponents=n.selectedComponents,C(e,n.items),"assortment"===e.itemType?e.items=r.buildItemsFromComponents(e.selectedComponents):e.items=n.items):e.items=[]}return e.isCustomized=S(e),e.price=Math.round(100*_.reduce(e.items,function(e,t){return e+t.price},e.price))/100,e}function T(e,t){return e.isUnavailable||(e.cartItem=w(e.cartItem,t),e.hasUnavailableIngredients=e.cartItem.hasUnavailableIngredients,e.hasUnavailableSide=e.cartItem.hasUnavailableSide),e}function I(e,t){return t&&(e.favoriteId||e.favoriteGroupId)&&(t.isFavorite=!0,t.favoriteGroupId=e.favoriteGroupId,t.favoriteId=e.favoriteId||void 0,t.favoriteName=e.favoriteName||void 0),t}function O(e,t,n){var r,i=_.find(t&&t.combos,{comboId:n}),o=i&&i.sides&&_.find(i.sides.sideItems,{itemId:e.id}),a=e.itemType;return _.isEmpty(a)&&(a=_.isString(e.type)?e.type.toLowerCase():o?"side":"product"),r={allowSpecialInstr:!1,cartItem:{},defaultSide:null,hasCustomizations:!1,i18nDesc:"",i18nName:o?o.i18nName:"",id:e.id,imgKey:"",isCombo:!1,isCustomizable:!1,isItemAvailable:!1,isOrderable:Boolean(o),isProductStockout:!o,isUnavailable:!o,itemType:a,items:[],logicalName:"",opSetsAreButtons:!1,optSets:[],pageSpan:0,plcId:e.id,price:o?o.price:0,quantity:e.quantity}}function A(e,t){var n=_.cloneDeep(e);return n.itemType="product",n.isCombo=!1,n.isUnavailable=!1,n.optSets=_.filter(n.optSets,function(e){return e.itemId===t.id}),n.specialInstructions=_.cloneDeep(t.specialInstructions),n.items=_.cloneDeep(t.items),n.quantity=t.quantity,n.id=t.id,n}function $(e,t,n){var r,i,a={};return _.isEmpty(t.items)?(r=o.getMyPlacard(t.id),a=_.isEmpty(r)?O(t,e,n):A(r,t)):(i=_.find(e.combos,{comboId:t.id}),i?(a=_.cloneDeep(i),a.specialInstructions=_.cloneDeep(t.specialInstructions),a.itemType="combo",a.isCombo=!0,a.items=[],a.hasCustomizations=!0,a.allowSpecialInstr=!0,a.isOrderable=!0,a.isUnavailable=!1,a.quantity=t.quantity,_.forEach(t.items,function(t){var n=$(e,t,a.comboId);a.items.push(n)}),_.forEach(a.items,function(e){!e.isUnavailable&&e.isOrderable||"side"===e.itemType||(a.isOrderable=!1)})):(r=o.getMyPlacard(t.id),a=_.isEmpty(r)?O(t):A(r,t))),a=I(t,a)}function D(e,t){var n=$(t,e);return n.isUnavailable?[e.id]:n.isCombo?_.compact(_.map(n.items,function(e){return e.isUnavailable&&e.id})):[]}function x(e,t){var n=_.find(t,{productId:e.id}),r=O(e);return n&&(r.i18nDesc=n.i18nDesc,r.i18nName=n.i18nName,r.imgKey=n.imgKey,r.price=n.price),e.favoriteGroupId&&(r=I(e,r)),r}function R(e){var t,n={allowSpecialInstr:e.allowSpecialInstr?!0:!1,calories:{i18nName:"",unit:"",value:0},hasCustomizations:e.hasCustomizations?!0:!1,i18nModLbl:"",i18nName:e.i18nName,id:0,ignoreNutr:e.ignoreNutr||!1,imgKey:e.imgKey,isUnavailable:e.isUnavailable,itemQty:e.quantity,itemType:e.itemType,items:e.items,orderQtyLimitGroup:_.result(_.find(e.optSets,"orderQtyLimitGroup"),"orderQtyLimitGroup"),price:e.price,selectedComponents:void 0,sides:[],specialInstructions:e.specialInstructions};return"combo"===e.itemType?(n.hasCustomizations=!0,n.i18nName=e.i18nName,n.id=e.comboId,n.isCombo=!0,n.itemType="combo",n.items=_.map(e.items,R)):"product"!==e.itemType||e.isUnavailable?(n.i18nName=e.i18nName,n.id=e.id,n.price=e.price):(t=e.optSets[0],n.calories=E(e),n.i18nModLbl=t&&t.i18nBtnLbl,n.i18nName=t&&t.i18nName,n.id=t&&t.itemId,n.imgKey=t&&t.imgKey,n.itemType=t&&t.menuItemType&&"assortment"===t.menuItemType.toLowerCase()?"assortment":"product",n.menuItemType=n.itemType,n.plcId=e.plcId,n.price=t&&t.price),n}function k(e,t,n){var r;return r=_.cloneDeep($(t,e)),r&&!r.isUnavailable?r.items=_.map(r.items,function(e){return e.isUnavailable&&(e=x(e,n)),e}):r=x(e,n),r.cartItem=R(r),r}function P(e){var t=[];return"combo"===e.itemType?t=_.flatten(_.map(e.items,function(e){return P(e)})):"product"!==e.itemType&&"assortment"!==e.itemType||e.isUnavailable||e.hasCustomizations&&(t=[e.id]),t}function N(e){var n;return n=_.map(e,function(e){return o.fetchCustomizationData(e).then(function(e){return e=_.cloneDeep(e),e.productId=e.pkid&&e.pkid.productId,e.sides=e.sides||{sideItems:[]},_.forEach(e.sides.sideItems,function(e){e.calories=e.nutrients[0]}),e.product=e.product||{},e.modifiers=e.modifiers||{},e.product.hasNoDefaultModifications?e.defaultComponents=[]:e.defaultComponents=r.getDefaultComponents(e),e})["catch"](function(){_.noop()})}),t.all(n).then(function(e){return _.compact(e)})}function M(e,t,n){return _.map(e,function(e){var r=_.map(e.items,function(e){return k(e,t,n)});return e.placards=_.compact(r),e})}function L(e){var t,n,r=o.getMyPlacard(e.id),i=[];return r=r&&r.plcId,t=Y.placardStockout[r]&&Y.placardStockout[r].isStockedOutForOrderTime,e.isProductStockout=t&&Y.placardStockout[r].isProductStockout,e.hasStockoutComponent=t&&Y.placardStockout[r].hasStockoutComponent,_.isEmpty(e.selectedComponents)?e.cartItem&&e.cartItem.selectedComponents&&(i=e.cartItem.selectedComponents):i=e.selectedComponents,n=_.some(i,function(e){return Y.itemStockout[e.modItemId]&&Y.itemStockout[e.modItemId].isStockedOutForOrderTime}),n?e.hasStockoutComponent=!0:_.isEmpty(i)||(e.hasStockoutComponent=!1),e.hasSizeStockout=Boolean(!_.isUndefined(e.id)&&Y.itemStockout[e.id]&&Y.itemStockout[e.id].isStockedOutForOrderTime),Boolean(e.isProductStockout||e.hasStockoutComponent||e.hasSizeStockout)}function U(e){var t;t=e.cartItem&&_.find(e.cartItem.items,function(e){return e.itemType&&"side"===e.itemType.toLowerCase()}),e.hasSideStockout=!1,L(e),e.isCombo&&e.cartItem?_.forEach(e.cartItem.items,function(t,n){var r=e.items[n];t.itemType&&"side"===t.itemType.toLowerCase()?e.hasSideStockout=L(t):(L(t),t.isUnavailable&&(e.hasUnavailableIngredients=!0),(t.hasStockoutComponent||t.hasSizeStockout||t.isProductStockout)&&(e.hasStockoutComponent=!0)),r.isProductStockout=t.isProductStockout,r.hasStockoutComponent=t.hasStockoutComponent,r.hasSizeStockout=t.hasSizeStockout,r.isUnavailable=t.isUnavailable}):t&&(e.hasSideStockout=L(t)),e.isCustomizable=(e.hasCustomizations||e.allowSpecialInstr)&&!e.isProductStockout&&!e.hasSizeStockout&&!e.isUnavailable,(e.hasStockoutComponent||e.isProductStockout||e.hasSideStockout||e.hasUnavailableSide||e.hasUnavailableIngredients||e.hasSizeStockout||e.isUnavailable)&&(e.isOrderable=!1),e.isUnOrderable=!e.isOrderable,e.cartItem.hasStockoutComponent=e.hasStockoutComponent,e.cartItem.hasSideStockout=e.hasSideStockout,e.cartItem.isProductStockout=e.isProductStockout}function F(e,t){var n=_.flatten(_.map(e,function(e){return _.flatten(_.map(e.items,function(e){return D(e,t)}))}));return o.fetchProductDetails(n).then(function(n){return e=M(e,t,n),_.flatten(_.map(e,function(e){return _.flatten(_.map(e.placards,function(e){return P(e.cartItem)}))}))}).then(N).then(function(t){return _.forEach(e,function(e){_.forEach(e.placards,function(e){T(e,t),U(e)})}),e})}function G(t){var n,r=h(u.orderHistory());n=_.map(r,function(e){var t={total:e.summary.totalPrice,date:"",cafes:e.cafes,placards:[],isOpen:!1};return e.dates&&e.dates.ordFulfill&&(t.date=moment(e.dates.ordFulfill).toDate()),t.items=_.map(e.items,g),t}),_.isEmpty(n)||F(n,t).then(function(t){y(e("orderBy")(t,"-date"))})}function B(e){var t={id:e.itemId,quantity:e.quantity,items:[],specialInstructions:e.specialInstructions,favoriteId:e.groupId?e.id:void 0,favoriteGroupId:e.groupId||e.id,favoriteName:e.name||void 0};return _.forEach(e.favoriteItems,function(e){t.items.push(B(e))}),t}function H(e,t,n){var r;b({items:[],groups:[]}),r=n?p.getSavedOrders(e):_.map(e,function(e){var t={id:e.id,total:0,isFavorite:!0,name:e.name,type:e.type,placards:[],isOpen:!1};return t.items=_.map(e.favoriteItems,B),t}),_.isEmpty(r)||F(r,t).then(function(e){var t={items:[],groups:[]};_.forEach(e,function(e){"menu"===e.type?_.forEach(e.placards,function(e){e.isFavoriteGroupItem=!1,t.items.push(e)}):(_.forEach(e.placards,function(t){t.isFavoriteGroupItem=!0,t.isUnavailable||(e.isFavoriteGroupItem=!0,e.total+=t.cartItem.price)}),t.groups.push(e))}),b(t)})}function j(){!ee&&u.isLoggedIn()&&(G(Y),s.fetchConfig().then(function(e){H(Y.favorites,Y,e.isFavoritesServiceEnabled)}))}function V(e,t){t(u.myPastOrders()),e.$on("pastOrdersChanged",function(){t(u.myPastOrders())})}function z(e,t){e.$on("favoritesChanged",function(){t(u.myFavorites())})}function W(e){return m().then(function(){var t={items:e};return F([t],Y).then(function(e){var t=_.map(e[0].placards,"cartItem");return t})})}var Y={},q=t.defer(),K=t.defer(),J=t.defer(),Z=t.defer(),Q=t.defer(),X=t.defer(),ee=!0;return i.onLoggedInChangeOnly(n,function(e){e||(Y.favorites={})}),i.onPastOrdersDataChange(n,function(){j(),J.resolve()}),p.onFavoritesDataChange(n,function(e){Y.favorites=e,j(),Z.resolve()}),a.onOrderTimeChange(n,function(){j(),Q.resolve()}),o.onPlacardDataChange(function(e){Y.placards=e,j(),q.resolve()}),o.onComboDataChange(function(e){Y.combos=e,K.resolve()}),l.onStockoutChange(n,function(e){Y.placardStockout=e.placard,Y.itemStockout=e.item,j(),X.resolve()}),f().then(function(){ee=!1,j()}),{onPastOrdersChange:V,onFavoritesChange:z,parsePastOrdersJSON:h,createCartFromOrder:W}}])}(window.angular),function(e){"use strict";e.module("common.services.nutritionService",["common.services.pricingService","common.utilities.filters","common.utilities.constants"]).service("nutritionService",["$http","$q","$filter","apiUrls","pricingService",function(e,t,n,r,i){function o(e){return t.reject(a(e.data,e.status))}var a=n("apiErrorKeyFilter");this.fetchNutritionData=function(t,n,a){var s=r.menu.nutrition.replace(":cafeId",a);return e.post(s,i.cleanCartItem(t)).then(function(e){return{requestId:n,nutrition:e.data}})["catch"](o)}}])}(window.angular),function(e){"use strict";function t(e){e.opinionLabData={},this.openOpinionLabSurvey=function(t,n,r,i){return _.isUndefined(e.OOo)?void 0:t&&!i?e.OOo.oo_entry_launch():e.OOo.inlineFeedbackShow(new e.Event(n),r)},this.updateOpinionLabData=function(t,n){e.opinionLabData[t]=n},this.clearOpinionLabData=function(t){e.opinionLabData={customerId:t}}}t.$inject=["$window"],e.module("common.services.opinionLab.service",[]).service("opinionLabService",t)}(window.angular),function(e){"use strict";e.module("common.services.orderFlowService",["common.services.analytics","angular-locker","common.factories.cafeLocator","common.services.orderMgmtService","common.services.orderTypeService"]).service("orderFlowService",["$q","$rootScope","analyticsService","cafeLocatorFactory","locker","orderMgmtService","orderTypeService",function(e,t,n,r,i,o,a){function s(e){h.put("orderProcess",function(t){return t.status.cafeSelected=e,t}),e||r.clearCafe()}function c(){h.put("savedProcess",h.get("orderProcess")),h.put("savedOrderType",a.getOrderType()),h.put("savedCafe",r.getCafe())}function l(){h.forget("savedProcess"),h.forget("savedOrderType"),h.forget("savedCafe")}var u={status:{}},d=this,p="orderFlowComplete",m="cafeSelected",f="orderTimeChange",h=i.driver("session");this.isComplete=function(){var e=d.getOrderProcess();return(_.isUndefined(e.status)||_.isUndefined(e.status.complete))&&h.put("orderProcess",function(t){return t.status.complete=!1,e=t,t}),e.status.complete},this.setComplete=function(e){h.put("orderProcess",function(t){return t.status.complete=e,t}),t.$broadcast(p,e)},this.onCompletedChange=function(e,t){e.$on(p,function(e,n){_.noop(e),t(n)}),t(d.isComplete())},this.whenOrderFlowCompleted=function(){var n=e.defer(),r=t.$on(p,function(e,t){_.noop(e),r(),t?n.resolve():n.reject()});return n.promise},this.isCafeSelected=function(){var e=d.getOrderProcess().status.cafeSelected;return _.isUndefined(e)&&(e=!1,h.put("orderProcess",function(t){return t.status.cafeSelected=e,t})),e},this.setCafeSelected=function(e){d.isCafeSelected()!==e&&(s(e),t.$broadcast(m,e))},this.onCafeSelectedChange=function(e,t){e.$on(m,function(e,n){_.noop(e),t(n)}),t(d.isCafeSelected())},this.isOrderTypeSelected=function(){var e=d.getOrderProcess(),t=e.status.orderTypeSelected;return _.isUndefined(t)&&h.put("orderProcess",function(n){return n.status.orderTypeSelected=t,e=n,n}),e.status.orderTypeSelected},this.setOrderTypeSelected=function(e){h.put("orderProcess",function(t){return t.status.orderTypeSelected=e,t})},this.getPreviousLocation=function(){return d.getOrderProcess().status.prevLocation},this.setPreviousLocation=function(e){h.put("orderProcess",function(t){return t.status.prevLocation=e,t})},this.clearPreviousLocation=function(){h.put("orderProcess",function(e){return e.status.prevLocation=void 0,e})},this.getSection=function(){return d.getOrderProcess().status.section},this.setSection=function(e){h.put("orderProcess",function(t){return t.status.section=e,t})},this.getOrderProcess=function(){return h.get("orderProcess")},this.resetOrderProcess=function(){h.put("orderProcess",_.cloneDeep(u)),t.$broadcast(f,void 0)},this.startNewProcess=function(e,t,i,o){if(d.isComplete()&&(c(),n.trackOrderDetailsReset()),d.resetOrderProcess(),d.setPreviousLocation(o),s(e),_.isUndefined(t)||d.setOrderTypeSelected(t),!_.isUndefined(i)){r.setCafe(i);var l=r.getCafeOrderTypes(i);1===_.size(l)&&(a.setOrderType(l[0]),d.setOrderTypeSelected(!0))}},this.hasPreviousProcess=function(){return!_.isUndefined(h.get("savedProcess"))},this.applyPreviousProcess=function(){d.isComplete()||(d.hasPreviousProcess()?(h.put("orderProcess",h.get("savedProcess")),a.setOrderType(h.get("savedOrderType")),r.setCafe(h.get("savedCafe")),n.trackOrderDetailsRevert()):d.resetOrderProcess()),l()},this.getOrderId=function(){return d.getOrderProcess().orderNumber},this.setOrderNumber=function(e){h.put("orderProcess",function(t){return t.orderNumber=e,t})},this.clearOrderNumber=function(){h.forget("orderNumber")},this.fetchOrderId=function(t){var r,i=h.get("savedProcess");return!t&&i?(r=i.orderNumber,h.put("orderProcess",function(e){return e.orderNumber=i.orderNumber,e}),e.resolve(r)):(r=h.get("orderNumber"),!t&&r?(d.setOrderNumber(r),e.resolve(r)):o.getOrderNumber().then(function(e){return h.put("orderNumber",e),d.setOrderNumber(e),n.setOrderId(e),e}))},this.getOrderWhen=function(){return h.get("orderProcess",{}).orderWhen||""},this.setOrderWhen=function(e){h.put("orderProcess",function(t){return t.orderWhen=e,t})},this.getOrderPriority=function(){var e=this.getOrderWhen().toUpperCase();return e&&"NOW"!==e?e:"ASAP"},this.getTableNumber=function(){var e=d.getOrderProcess();return _.isUndefined(e.tableNumber)&&h.put("orderProcess",function(t){return t.tableNumber=0,e=t,t}),e.tableNumber},this.setTableNumber=function(e){h.put("orderProcess",function(t){return t.tableNumber=e,t})},this.getDeliveryInfo=function(){return d.getOrderProcess().deliveryInfo||{}},this.setDeliveryInfo=function(e){h.put("orderProcess",function(t){return t.deliveryInfo=e,t})},this.getOrderTime=function(){return d.getOrderProcess().dateTime},this.fireOrderTimeChangeEvent=function(e){var r=d.getOrderProcess(),i=r.orderWhen&&"now"===r.orderWhen.toLowerCase()?"Now":e;t.$broadcast(f,e),n.trackOrderTime(i)},this.setOrderTime=function(e,t){var n=d.getOrderProcess();(n.dateTime!==e||_.isUndefined(e))&&(h.put("orderProcess",function(t){return t.dateTime=e,n=t}),t||d.fireOrderTimeChangeEvent(e))},this.getLeadTime=function(){return d.getOrderProcess().leadTime},this.setRangeInterval=function(e,t){h.put("orderProcess",function(n){return n.rangeInterval={now:e,later:t},n})},this.getRangeInterval=function(){return d.getOrderProcess().rangeInterval||{}},this.getOrderAmountLeadTimes=function(){return d.getOrderProcess().leadTimes},this.setLeadTime=function(e,t){h.put("orderProcess",function(n){return n.leadTime=e,n.leadTimes=t,n})},this.setLargeOrderLeadTimes=function(e){h.put("orderProcess",function(t){return t.largeOrderLeadTimes=e,t})},this.getLargeOrderLeadTimes=function(){return _.get(d.getOrderProcess(),"largeOrderLeadTimes",[])},this.onOrderTimeChange=function(e,t){e.$on(f,function(e,n){_.noop(e),t(n)}),t(d.getOrderTime())},this.isDeliveryInfoSelected=function(){return!_.isEmpty(this.getDeliveryInfo().address1)},this.isTableNumberSelected=function(){return this.getTableNumber()>0},this.isOrderTimeSelected=function(){var e=d.getOrderProcess();return _.isUndefined(e.orderWhen)?!1:"Now"===e.orderWhen?!0:!_.isUndefined(e.dateTime)},_.isUndefined(d.getOrderProcess())&&d.resetOrderProcess()}])}(window.angular),function(e){"use strict";e.module("common.services.orderMgmtService",["common.utilities.constants","common.utilities.filters"]).factory("orderMgmtService",["$filter","$http","$q","$window","apiUrls",function(e,t,n,r,i){function o(t){return n.reject(e("apiErrorKeyFilter")(t.data,t.status))}function a(t){var r={messages:e("apiErrorKeyFilter")(t.data,t.status),details:t.data.errors[0].details};return n.reject(r)}function s(){return t.post(i.orderMgmt.orderId).then(function(e){return e.data&&e.data.orderNum},o)}function c(e,n){var r=i.orderMgmt.submit;return t.post(r,e,{headers:{token:n}}).then(function(e){return e.data},a)}function l(e){return t.post(i.orderMgmt.cancel.replace(":orderId",e)).then(function(e){return e.data},o)}function u(e){return t.get(i.orderMgmt.orderDetails.replace(":encryptedOrderId",r.encodeURIComponent(e))).then(function(e){return e.data},o)}return{getOrderDetails:u,getOrderNumber:s,submitOrder:c,cancelOrder:l}}])}(window.angular),function(e){"use strict";e.module("common.services.orderTypeService",["common.services.analytics","common.services.opinionLab.service","angular-locker","common.services.eventHandler","common.utilities.constants"]).constant("orderTypeOrder",["RPU","DELIVERY","DINE_IN","EXPRESS"]).service("orderTypeService",["eventHandler","locker","clientVars","orderTypes","analyticsService","opinionLabService",function(e,t,n,r,i,o){var a="orderTypeChange",s=t.driver("session"),c=this;this.resetOrderType=function(){s.put("orderType",n.defaultOrderType),e.fire(a,n.defaultOrderType)},this.getOrderType=function(e){return _.isUndefined(e)?(_.isUndefined(s.get("orderType"))&&c.resetOrderType(),s.get("orderType")):e},this.getFormattedOrderType=function(e){return c.getOrderType(e).toLowerCase().replace("_"," ")},this.setOrderType=function(t){i.setOrderType(t),i.trackOrderType(t),t!==s.get("orderType")&&(s.put("orderType",t),e.fire(a,t))},this.onOrderTypeChange=function(t,n){e.register(t,a,function(e,t){_.noop(e),n(t)}),n(c.getOrderType()),o.updateOpinionLabData("orderType",c.getOrderType())},this.getOrderTypeDetails=function(e){return _.isUndefined(e)?r[c.getOrderType()]:r[e]},this.getEnabledOrderTypes=function(){return _.compact(_.map(r,function(e){return e.enabled?e.storageKey:void 0}))},this.getGroupOrderTypes=function(){return _.compact(_.map(r,function(e){return e.enabledForGroup?e.storageKey:void 0}))},this.getVisibleOrderTypes=function(){return _.compact(_.map(r,function(e){return e.visible?e.storageKey:void 0}))},this.isRapidPickup=function(e){return"RPU"===c.getOrderType(e)},this.isDelivery=function(e){return"DELIVERY"===c.getOrderType(e)},this.isDineIn=function(e){return"DINE_IN"===c.getOrderType(e)},this.isExpress=function(e){return"EXPRESS"===c.getOrderType(e)}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p){function m(e){y.put("payPalOrderFlowData",e)}function f(){return y.get("payPalOrderFlowData",{})}function h(){var e=f();return!_.isEmpty(e.token)&&e.isAuthorized===!0}function g(){var e=l.getConfigData(),t=!_.isEmpty(e)&&e.payPalRedirectUrl;return t}var v=this,y=d.driver("session");this.setOrderFlowStep=function(e){var t=_.cloneDeep(f());t.step=e,m(t)},this.clearPayPalData=function(){m({})},this.getAuthorizedToken=function(){return h()&&f().token},this.tokenIsAuthenticated=function(){return h()&&f().step===p.AUTHENTICATED},this.isOrderSubmitted=function(){return f().step===p.SUBMITTED},this.isTokenAuthInProgress=function(){var e=f().step;return!_.isUndefined(e)&&(e===p.TOKEN_AUTH_REQUESTED||e===p.AUTHENTICATED)},this.storeToken=function(){var e=f();return v.tokenIsAuthenticated()?(v.setOrderFlowStep(p.STORING_TOKEN),
c.addPayPalToken(e.token)["finally"](function(){v.clearPayPalData()})):t.when()},this.authenticatePayPalForOrder=function(e,n){var o={cafeNo:i.getCafe().CafeId,returnUrl:r.location.href+"?authorized=true",cancelUrl:r.location.href+"?authorized=false",amount:e,currencyCode:"USD",showBillingAgreement:n};return a.getPayPalToken(o).then(function(e){return e&&e.tokenValue?(v.setOrderFlowStep(p.TOKEN_AUTH_REQUESTED),void(r.location.href=g()+e.tokenValue)):(u.info("payPalService.authenticatePayPalForOrder failed no token was returned"),t.reject(["PAYPAL_ERROR"]))})["catch"](function(e){return u.info("payPalService.authenticatePayPalForOrder failed "+e),t.reject(e)})},this.parsePayPalTokenParams=function(){var t=n.current.params,r={token:t.token,isAuthorized:"true"===t.authorized};_.isUndefined(r.token)||(r.isAuthorized?(r.step=p.AUTHENTICATED,m(r)):v.clearPayPalData(),e.search("token",null),e.search("authorized",null),e.search("PayerID",null),s.fire("tokenAuthComplete"))},this.onTokenAuthComplete=function(e,t,n){return n||t(),s.register(e,"tokenAuthComplete",function(){t()})},this.isValidPayPalOrder=function(){var e=l.getConfigData(),t=o.getOrderMoment().clone(),n=o.getCafeCurrentTime().clone();return!_.isEmpty(e)&&t.subtract(+e.payPalNumDaysOut,"days").isBefore(n)},this.isCancelledBillAgreementIdError=function(e){return _.some(e,function(e){return"PS_PP_CANCELLEDBILLINGAGREEMENTID"===e})}}t.$inject=["$location","$q","$route","$window","cafeLocatorFactory","cafeHours","eCommerceService","eventHandler","loginService","configService","splunkService","locker","payPalOrderFlowStep"],e.module("common.services.payPalService",["common.services.eCommerceService","common.factories.cafeLocator","common.services.cafeHours","common.services.eventHandler","common.services.loginService","common.services.configService","common.services.splunkService","angular-locker","common.utilities.constants"]).service("payPalService",t)}(window.angular),function(e){"use strict";e.module("common.services.paymentService",["ngResource","common.factories.media","common.factories.cafeLocator","common.services.cafeHours","common.services.cartService","common.services.encryptionService","common.services.orderFlowService","common.services.orderMgmtService","common.services.orderTypeService","common.services.splunkService","common.services.kenshoo.service","common.services.userService","common.services.localeService","common.utilities.constants","common.utilities.filters","common.services.analytics","paneraOrdering.checkout.suggestedTip.service","common.utilities.translate","common.modules.orderTimeError"]).factory("paymentService",["$filter","$q","$http","cafeHours","mediaFactory","cafeLocatorFactory","cartService","userService","encryptionService","orderFlowService","orderMgmtService","orderTypeService","kenshooService","splunkService","suggestedTipService","localeService","apiUrls","isoFormat","configService","$kookies","analyticsService","errorCodes","orderTimeErrorService",function(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S){function w(e){return t.reject(U(e.data,e.status))}function T(e){var n=s.gcInquiryAttempts(),r=_.get(e.data,"giftCardBalance[0].errorCode");return s.setGCInquiryAttempts(n+1),r?t.reject(U([r],e.status)):w(e)}function I(e){return n({method:"POST",url:g.payment.getTokens,data:e}).then(function(e){return e.data},w)}function O(e,r){var i=g.payment.balance,o={};return+s.gcInquiryAttempts()>=+y.getConfigData().gcInquiryMax?t.when({status:"fail"}).then(function(){return t.reject(["GC_ATTEMPTS_EXCEEDED"])}):(r&&s.isLoggedIn()&&(i=i+"/auth?customerId="+s.customerId(),M=M||b.get("ssoToken"),o.token=M),y.isProd()||(o.automationMode=y.getAutomationMode()),n({method:"POST",url:i,headers:o,data:e}).then(function(e){return e.data},T))}function A(t,n){var r={itemId:t.id,name:e("translate")(t.i18nName).toString(),portion:t.i18nModLbl?e("translate")(t.i18nModLbl).toString():"",type:"",allergens:t.allergens||[],amount:t.price,quantity:t.itemQty||1,salesTaxAmount:void 0,msgKitchen:_.isEmpty(t.specialInstructions)?"":t.specialInstructions.specialInstructions,msgPreparedFor:_.isEmpty(t.specialInstructions)?"":t.specialInstructions.yourName,msgPackagedFor:_.isEmpty(t.DestLegacy)?"":t.DestLegacy.replace("_","")},i=_.find(n,{itemNumber:t.id});switch(t.originalItemId&&(r.originalItemId=t.originalItemId),t.itemType.toLowerCase()){case"add":r.type="INGREDIENT",r.custType="ADDED";break;case"remove":r.type="INGREDIENT",r.custType="REMOVED";break;case"side":r.type="SIDE",r.custType=null;break;case"product":r.type="PRODUCT",r.custType=null;break;case"assortment":r.type="ASSORTMENT",r.custType=null;break;case"combo":r.type="COMBO",r.custType=null;break;default:r.type="INGREDIENT"}return r.salesTaxAmount=i?i.amount:void 0,r.childItems=_.isEmpty(t.items)?[]:_.map(t.items,function(e){return A(e,n)}),r}function $(e){var t=e.split(" "),n=_.size(t);return L=n>1,{firstName:t[0],lastName:t[n-1]}}function D(t,n,a){var c,u,p,m,f,h,g=o.getCafe(),y=s.personalInfo(),b=s.customerId(),E=s.loyaltyCardNumber(),C=t.cartItems,S=d.getOrderType().replace("_",""),w=t.contactInfo,T=t.creditCards,I=t.storedCards,O=e("cleanSpecialInstructions")(t.specialInstructions),D=t.discountCode,x=t.price,R=t.groupOrderId,k=t.groupOrderClientType,P=t.priority,N=t.identityProvider;return p={id:b||0,firstName:y.firstName||"",lastName:y.lastName||"",email:w&&w.email||"",phone:w&&w.phone||"",loyaltyNum:E||"",smsOptIn:w&&w.smsOptIn||!1,identityProvider:N},T&&T[0]?(u=$(T[0].name),p.firstName=u.firstName,p.lastName=u.lastName):_.isEmpty(I)||I[0].isPayPal||!I[0].cardHolderName?w&&w.name&&(u=$(w.name),p.firstName=u.firstName,p.lastName=u.lastName):(u=$(I[0].cardHolderName),p.firstName=u.firstName,p.lastName=u.lastName),m=l.getDeliveryInfo(),m&&(h={customerName:p.firstName+" "+p.lastName,address1:m.address1,address2:m.address2,city:m.city,countryDivision:m.state,postalCode:m.postalCode,instructions:m.specialInstructions,addressType:m.addressType,addressId:m.addressName,phone:m.phoneNumber}),f={orderId:l.getOrderId(),summary:{status:"NEW",destination:S,taxServiceVer:1,clientType:i.getClientType(),specialInstructions:O,subTotal:x.subtotal,tax:_.isUndefined(x.tax)?"0.00":x.tax.toFixed(2),tip:x.tip||0,totalPrice:x.total.sum.toFixed(2),currencyCode:"USD",priority:P,leadTime:l.getLeadTime()},dates:{ordStart:r.getCafeCurrentTime().format(v),ordFulfill:r.orderFulfillAt().format(v)},cafes:[{id:g.CafeId,pagerNum:l.getTableNumber(),name:g.Name,address:g.StreetName,city:g.City,countryDivision:g.State,phoneNumber:g.Phone,postalCode:g.Zip,cafeTZ:e("timezone")(g.TimeZone),type:"FULFILLMENT"}],customer:p,delivery:h,items:[],payment:{creditCards:n||[],giftCards:a||[]}},f.items=_.map(C,function(e){return c=A(e,x.taxes)}),D&&D.length>0&&(f.orderDiscounts=D),R&&(f.groupOrderId=R,f.isGroupGuestOrder=!0,f.summary.clientType=k),f}function x(e){var n,r=0,i=[],o=e.price,a=e.creditCards,s=e.storedCards,l=e.giftCards;return _.forEach(l,function(e){e.giftCardReduction>=0&&i.push({cardNum:e.giftCardNo.toString(),amount:e.giftCardReduction.toFixed(2)})}),n=_.map(s,function(e){return r+=1,{sequenceNum:r,amount:+o.total.balance.toFixed(2),tokens:[{tokenValue:e.tokenValue,tokenType:e.tokenType,cardType:e.cardType,expDate:_.isEmpty(e.expDate)?void 0:e.expDate.replace("/",""),cardHolderName:e.cardHolderName,lastFour:e.lastFour}]}}),_.isEmpty(e.applePay)||(r+=1,n=[{sequenceNum:r,amount:o.total.balance.toFixed(2),encBlock:JSON.stringify(e.applePay),encBlockType:"APAY"}]),_.isEmpty(a)?t.when({ccBlock:n,gcBlock:i}):c.fetchPublicKey().then(function(e){return n=n.concat(_.map(a,function(t){r+=1;var n=c.encryptCreditCard(t.number,t.name,t.month+t.year.toString().substring(2),t.securityCode,t.zipCode,e);return{sequenceNum:r,amount:o.total.balance.toFixed(2),encBlock:n,encBlockType:"JAVA"}})),{ccBlock:n,gcBlock:i}},function(){return t.reject({message:"PS_SYSTEMERROR"})})}function R(e,t){var n={orderId:e.orderId,orderTotal:t.total.sum,tax:t.tax,discountCode:e.discountCode,shipping:0};return a.createEcommProducts(a.getCart()),t.tip&&+t.tip>0&&f.trackSuggestedTipping(+t.tip),p.trackConversion(n),E.trackTransaction(n),E.setOrderId(e.orderId),E.trackSuccessfulOrder(e.orderId),l.clearOrderNumber(),e}function k(e){return _.includes(e,C.duplicateOrderFound)}function P(e){return h.waitForI18nDataLoad().then(function(){return x(e).then(function(n){var r=e.price,i=D(e,n.ccBlock,n.gcBlock);return u.submitOrder(i,M).then(function(e){return e.customer=i.customer,e.customer.hasLastName=L,R(e,r)})["catch"](function(e){var n=_.get(e,"message");return E.trackFailedOrder(n),S.hasSlottingErrors(e)?t.reject([S.getErrorMessage()]):k(n)?(i.maskedOrderId=e.maskedOrderId,R(i,r)):_.size(n)>0?t.reject(n):t.reject(["PS_SYSTEMERROR"])})})["catch"](function(e){var n=_.get(e,"message");return m.info("paymentService.handlePayment no gift cards or credit cards supplied"),E.trackFailedOrder(n),t.reject(e)})})}function N(e,r){var i=D(e,"",""),o=JSON.stringify(i),a=F[o],s=g.tax.calc;return a?t.when({requestId:r,tax:a}):n({method:"POST",url:s,data:i}).then(function(e){return F[o]=e.data,{requestId:r,tax:e.data}},w)}var M,L,U=e("apiErrorKeyFilter"),F={};return{getTokens:I,getGiftCardBalance:O,handlePayment:P,getTax:N,buildOrderObj:D,taxRequest:F}}])}(window.angular),function(e){"use strict";e.module("common.services.pricingService",["common.factories.cafeLocator","common.services.discountService","common.services.orderTypeService","common.services.rewardManagementService","common.services.splunkService","common.services.cafeHours","common.utilities.constants","common.services.modalService","common.utilities.filters"]).service("pricingService",["$filter","$http","$q","apiUrls","cafeLocatorFactory","discountService","orderTypeService","rewardManagementService","splunkService","cafeHours","isoFormat","modalService",function(e,t,n,r,i,o,a,s,c,l,u,d){function p(e){var t="PRODUCT";return e&&(t=_.includes(["add","remove","variant","default"],e.toLowerCase())?"INGREDIENT":e.toUpperCase()),t}function m(e){return _.map(e,function(e){var t={itemId:e&&e.id,type:p(e.itemType),quantity:e.itemQty||1,childItems:_.isEmpty(e.items)&&_.isEmpty(e.childItems)?[]:m(e.items||e.childItems)};return t})}function f(e){var t=_.cloneDeep(e),n=m([t])[0];return n}function h(e){var t=e.cart,n=e.customer,r=e.discounts,o=e.orderId,s=i.getCafe()||{},c={orderId:o||null,summary:{status:"NEW",destination:a.getOrderType().replace("_",""),currencyCode:"USD"},dates:{ordStart:l.getCafeCurrentTime().format(u),ordFulfill:l.orderFulfillAt().format(u)},cafes:[{id:s.CafeId||0,type:"FULFILLMENT"}],customer:n||{},items:m(t),payment:{giftCards:[],creditCards:[]},orderDiscounts:r||[]};return c}function g(o){var a,s=_.map(o,f),l=i.getCafe().cafeId,u=JSON.stringify({cafeId:l,items:s});return a=S[u],a?n.when(a):t.post(r.eCommerce.itemsPricing.replace(":cafeId",l),s).then(function(e){return S[u]=e.data,e.data})["catch"](function(t){return c.info("pricingService.fetchItemsPricing fetchItemsPricing failed "+t.data+" Status: "+t.status),n.reject(e("apiErrorKeyFilter")(t.data,t.status))})}function v(e){var t={bodyText:_.get(e,"discountStatusCode","DISCOUNT_INELIGIBLE_MODAL_BODY"),headerText:"DISCOUNT_INELIGIBLE"};return"WALLET_CODE"===e.type&&(t={bodyText:_.get(e,"discountStatusCode","REWARD_INELIGIBLE_MODAL_BODY"),headerText:"REWARD_INELIGIBLE"}),t}function y(e){var t,n=_.compact(_.filter(e,"discountStatusCode"));_.size(n)>0&&(t=v(n[0]),d.show({templateUrl:"alert.html",controller:"AlertController",backdrop:"static",keyboard:!1,size:"sm"},{headerText:t.headerText,bodyText:t.bodyText}),s.removeRewardToBeRedeemed())}function b(i,o,a){var s,l,u,d=_.last(i.cart);return o&&d&&d.price?(s={summary:{subTotal:d.price}},n.when(s)):(l=JSON.stringify(h(i)),u=S[l],u?(u.requestId=a,n.when(u)):_.isEmpty(i.cart)?n.when(i):t.post(r.eCommerce.rewardPricing,l).then(function(e){return S[l]=e.data,e.data.requestId=a,y(e.data.orderDiscounts),e.data})["catch"](function(t){return c.info("pricingService.fetchCartPricing fetchCartPricing failed "+t.data+" Status: "+t.status),n.reject(e("apiErrorKeyFilter")(t.data,t.status))}))}function E(e,o){var a,s=i.getCafe().CafeId,l=r.eCommerce.itemPricing.replace(":cafeId",s),u=f(e),d=JSON.stringify(u);return S[s]=S[s]||{},a=S[s][d],a?(a.requestId=o,n.when(a)):t({method:"POST",url:l,data:u}).then(function(e){return S[s][d]=e.data,_.isObject(e.data)?e.data.requestId=o:e.data={requestId:o},e.data})["catch"](function(e){return c.info("pricingService.fetchCartItemPricingfetchCartItemPricing failed "+e.data+" Status: "+e.status),n.reject(e.data)})}function C(e,t,n){var r=e.orderDiscounts||e.discounts;o.clearOrderDiscounts(),s.removeRewardToBeRedeemed(),"remove"===n&&_.isEmpty(e.items)||(o.populateOrderDiscounts(r),s.populateRewardToBeRedeemed(e.items,r,t))}var S={};return{fetchCartPricing:b,fetchItemsPricing:g,fetchCartItemPricing:E,cleanCartItem:f,getItemType:p,cartPricingRequest:S,buildPricingRequestObj:h,handleRewardPricingSuccess:C}}])}(window.angular),function(e){"use strict";function t(e,t){var n;this.getSiteKey=function(){return t.siteKey},this.resetRecaptcha=function(){e.reload(n)},this.isRecaptchaValid=function(){return!_.isEmpty(e.getResponse(n))},this.setRecaptchaWidgetId=function(e){n=e},this.getRecaptchaResponse=function(){return e.getResponse(n)}}t.$inject=["vcRecaptchaService","recaptcha"],e.module("common.services.recaptchaService",["common.utilities.constants","vcRecaptcha"]).service("recaptchaService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l){function u(e,t){var n,r;return t=_.forEach(t,function(t){var i=moment(t.expiryDate,"MM/DD/YY");t.promoCode===e.promoCode&&t.discCode===e.discCode&&(!n||i.isBefore(n))&&t.quantity>0&&(n=i,r=t.id,t.quantity-=1)}),{expiryDate:n,id:r,eligibleRewards:t}}function d(e,t,n,r){var i,o={};return r=r||_.cloneDeep(h.rewards().rewards),_.isEmpty(e)||e.forEach(function(e){e&&(!_.isEmpty(e.discounts)&&s.indexOf(e.custType)<0&&e.discounts.forEach(function(i){if(i.type===c.reward){var a=u(i,r),s=n||e.itemId;r=a.eligibleRewards,o={cartItem:h.getCartItemIds([_.find(t,{id:s})]),name:i.name,promoCode:i.promoCode,amount:i.amount,expiryDate:a.expiryDate,id:a.id,discCode:i.discCode},h.setRewardToBeRedeemed(o)}}),_.isEmpty(e.childItems)||(i=l.indexOf(e.type)>-1?[_.find(e.childItems,"discounts",!_.isEmpty)]:e.childItems,d(i,t,e.itemId,r)))}),r}function p(e,t){var n={},r=h.rewardToBeRedeemed(),i=_.map(r,function(e){return{promoCode:e.promoCode,discountCode:e.discountCode}});_.isEmpty(e)||e.forEach(function(e){if(!e.discountStatusCode&&e.type===c.reward){var r,o=_.find(i,{promoCode:e.promoCode,discountCode:e.discountCode});o||(r=u(e,t),t=r.eligibleRewards,n={cartItem:"ORDER",name:e.name,promoCode:e.promoCode,amount:e.amount,expiryDate:r.expiryDate,id:r.id,quantity:r.quantity,discCode:e.discCode},h.setRewardToBeRedeemed(n))}})}function m(e){var t={};return _.forEach(e,function(e){t.hasOwnProperty(e)?t[e]+=1:t[e]=1}),t}var f=t.driver("session"),h=this;this.setRewardToBeRedeemed=function(e){var t=h.rewardToBeRedeemed();t?t.push(e):t=[e],f.put("rewardToBeRedeemed",t),n.fire("rewardToBeRedeemed")},this.removeRewardsFromSession=function(e){var t,r,i,o=h.rewardToBeRedeemed(),a=0,s={};t=_.filter(o,function(t){return t.promoCode!==e.promoCode&&t.discCode!==e.discCode}),r=_.filter(o,function(t){return t.promoCode===e.promoCode&&t.discCode===e.discCode}),_.forEach(r,function(e,t){(_.isUndefined(s.expiryDate)||moment(s.expiryDate,"MM/DD/YY").isBefore(moment(e.expiryDate)))&&(s=e,a=t)}),_.pullAt(r,a),i=_.compact(_.union(t,r)),h.removeRewardToBeRedeemed(),_.forEach(i,function(e){h.setRewardToBeRedeemed(e)}),n.fire("rewardToBeRedeemed")},this.populateRewardToBeRedeemed=function(e,t,n){var r=d(e,n);p(t,r)},this.getRewardToBeRedeemed=function(){var e=h.rewardToBeRedeemed(),t=[];return _.forEach(e,function(e){var n=_.find(h.rewards().rewards,{promoCode:e.promoCode});_.isEmpty(n)||t.push({saleLineItemId:null,type:n.type,name:n.name,id:n.id,promoCode:n.promoCode,amount:n.amount,discCode:n.discCode,prerequisite:n.prerequisite,discountScope:n.discountScope,walletCodeImageLocation:null,status:null,itemPurchaseId:null,deliveryPurchaseId:null})}),t},this.rewardToBeRedeemed=function(){return f.get("rewardToBeRedeemed",!1)},this.removeRewardToBeRedeemed=function(){f.forget("rewardToBeRedeemed")},this.onRewardToBeRedeemed=function(e,t,r){r||t(h.rewardToBeRedeemed()),n.register(e,"rewardToBeRedeemed",function(){t(h.rewardToBeRedeemed())})},this.getCartItemIds=function(e){var t=[];return _.forEach(e,function(e){t.push(e.id),t=_.union(t,h.getCartItemIds(e.items))}),t},this.getAllCartItemIds=function(e){var t=[];return _.forEach(e,function(e){t.push(e.id),t=_.concat(t,h.getCartItemIds(e.items))}),t},this.rewards=function(){var e,t=r.rewards(),n=0,i=h.getRewardsRedeemedOnSubmit();return t.rewards=_.map(t.rewards,function(e){return e.id=n,n+=1,e}),_.isEmpty(i)||_.forEach(i,function(n){e=void 0,_.forEach(t.rewards,function(t,r){(t.id===n.id||t.promoCode===n.promoCode&&moment(t.expiryDate,"MM/DD/YY").isSame(moment(n.expiryDate)))&&(t.quantity-=1),t.quantity<=0&&(e=r)}),e>=0&&t.rewards.splice(e,1)}),t},this.fetchRewardTransactions=function(){var t=r.getRewardTransactions();return _.isEmpty(t)?o.getRewardTransactions(r.customerId(),r.loyaltyCardNumber()).then(function(e){return r.updateSession({rewardTransactions:e.data}),e.data})["catch"](function(t){return i.info("rewardManagementService.fetchRewardTransactions failed "+t),e.reject(t)}):e.when(t)},this.getRewardsRedeemedOnSubmit=function(){return f.get("rewardsRedeemedOnSubmit",[])},this.setRewardRedeemedOnSubmit=function(e){var t=h.getRewardsRedeemedOnSubmit();f.put("rewardsRedeemedOnSubmit",_.concat(e,t))},this.rewardCanBeApplied=function(e,t,n){if(!_.isEmpty(t)&&e){var r,i,o,s={},c={},l=0,u=!0;return _.forEach(t,function(e){l+=e.price}),l-n>0?(r=h.rewardToBeRedeemed(),i=h.getAllCartItemIds(t),r?(o=_.flatten(_.map(_.filter(r,{promoCode:e.promoCode}),"cartItem")),s=m(o),c=m(i),_.forEach(s,function(e,t){e>=c[t]&&(u=!1)}),u):!0):e.discountScope===a.ORDER_LEVEL?!1:_.isEmpty(h.cartHasEligibleItems(t,e))}return!0},this.cartHasEligibleItems=function(e,t){var n=h.getCartItemIds(e),r=_.union(_.map(t.eligibleItems,function(e){return e.itemId}),_.map(t.eligibleComboItems,function(e){return e.itemId}));return _.intersection(r,n)}}t.$inject=["$q","locker","eventHandler","userService","splunkService","eCommerceService","rewardType","ignoreRewardItemTypes","discountCodes","singleRewardItemType"],e.module("common.services.rewardManagementService",["angular-locker","common.services.eventHandler","common.services.userService","common.services.splunkService","common.services.eCommerceService","common.utilities.constants"]).service("rewardManagementService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(e,t){var n=[];return _.forEach(e,function(e){_.isEmpty(_.intersection([e.id],t))?_.isEmpty(_.intersection(i.getCartItemIds(e.items),t))||n.push(e):n.push(e)}),n}function l(e){var t=_.union(_.map(e.eligibleItems,"itemId"),_.map(e.eligibleComboItems,"itemId")),n=_.map(e.requiredItems,"itemId"),r=[],i=[],o=!1,a=!1,l=[],u=!1,d=s.getCart();return r=c(d,t),i=c(d,n),!_.isEmpty(r)&&_.isEmpty(e.requiredItems)?u=!0:_.isEmpty(r)||_.isEmpty(e.requiredItems)||(_.isEmpty(i)?u=!1:(_.forEach(r,function(e){var t=_.find(i,{id:e.id});t?l.push(t):o=!0}),o&&(a=!0),_.size(l)>1?(o=!0,a=!0):_.size(l)>0&&_.size(i)>_.size(l)&&(o=!0,a=!0),u=o&&a)),u}this.buildCartItem=n.buildCartItem,this.customizeItem=n.customizeItem,this.rewardCartItems=function(){var e=i.rewards();return _.forEach(e.rewards,function(e){("ORDER_LEVEL"===e.discountScope||"MINIMUM_ORDER_AMOUNT"===e.prerequisite||l(e))&&(e.isReadyToRedeem=!0)}),e},this.redeem=function(n,s,c){var l,u=[{type:a.reward,promoCode:s.promoCode}],d=t.getOrderDiscounts();return _.forEach(d,function(e){u.push({type:e.type,promoCode:e.promoCode})}),l={cart:n,customer:{id:r.customerId(),loyaltyNum:r.loyaltyCardNumber()},discounts:u,orderId:c},_.isEmpty(n)?"ORDER_LEVEL"===s.discountScope||"MINIMUM_ORDER_AMOUNT"===s.prerequisite?(i.setRewardToBeRedeemed({cartItem:"ORDER",discCode:s.discCode,id:s.id,promoCode:s.promoCode,itemDiscAmt:0}),e.when()):void 0:o.fetchCartPricing(l).then(function(e){return o.handleRewardPricingSuccess(e,n)},function(){})}}t.$inject=["$q","discountService","menuService","userService","rewardManagementService","pricingService","discountCodes","cartService"],e.module("common.services.rewardService",["common.services.discountService","common.services.menuService","common.services.userService","common.services.rewardManagementService","common.services.pricingService","common.services.cartService","common.utilities.constants"]).service("rewardService",t)}(window.angular),function(e){"use strict";e.module("common.services.savedOrderService",["angular-locker"]).service("savedOrderService",["locker",function(e){var t=e.driver("session");this.getSavedOrder=function(){return t.get("savedOrder",{})},this.setSavedOrder=function(e){t.put("savedOrder",e)},this.resetSavedOrder=function(){t.put("savedOrder",{})}}])}(window.angular),function(e){"use strict";e.module("common.services.scriptElementService",["common.services.configService"]).service("scriptElementService",["$q","$window","configService",function(e,t,n){function r(e){var n=t.document.createElement("script");n.src="https://"+e,t.document.body.appendChild(n)}function i(){t.$buoop={vs:{i:8,f:15,o:12.1,s:5.1},c:2,reminder:0},r("browser-update.org/update.min.js")}function o(){r("maps.googleapis.com/maps/api/js?libraries=places&client=gme-panerallc&callback=initializeGoogleMaps")}function a(){r("www.panerabread.com/content/dam/panerabread/vendors/opinionlab/scripts/opinionlab-final.js")}function s(){r("google.com/recaptcha/api.js?onload=initializeRecaptcha")}function c(){r("connect.facebook.net/en_US/all.js")}var l=e.defer(),u=e.defer(),d=e.defer();t.initializeGoogleMaps=function(){l.resolve()},t.initializeRecaptcha=function(){u.resolve(),t.vcRecaptchaApiLoaded()},t.fbAsyncInit=function(){d.resolve(t.FB)},this.loadScriptElements=function(){i(),o(),s(),a(),n.fetchConfig().then(function(e){e.facebookLoginIsEnabled&&c()})},this.loadGoogleMaps=function(){return l.promise},this.loadRecaptcha=function(){return u.promise},this.loadFacebookLogin=function(){return d.promise}}])}(window.angular),function(e){"use strict";e.module("common.services.socialFlow.service.constants",[]).constant("socialFlowConstants",{socialFlowTypes:{faceBook:"FB"},modalOptions:{FB_VERIFY_ACCOUNT:{component:"fbVerifyAccount",size:"md-small"}}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(){v={}}function u(){return l(),e.reject()}function d(){return{emailAddress:_.get(v,I),firstName:_.get(v,O),lastName:_.get(v,A),phoneNumber:void 0}}function p(){return _.isArray(_.get(v,w))?(n.trackException(_.get(v,w)),!0):!1}function m(){return p()?(r.show({component:"notificationModal",size:"md-small",titleKey:"FACEBOOK_LOGIN_UNAVAILABLE_TITLE",descriptionKey:"FACEBOOK_LOGIN_UNAVAILABLE_DESC",buttonKey:"OK"}),e.reject()):_.get(v,E)&&_.isEmpty(_.get(v,T))?(o.launchFacebookRegistration(i.registerWithFacebook,_.get(v,y),d()),e.reject()):r.show(_.assign(_.cloneDeep(c.modalOptions.FB_VERIFY_ACCOUNT),{loginResponse:_.get(v,w),userInfo:a.personalInfo()}))}function f(){return _.get(v,C)?_.includes(_.get(v,w),s.errors.SOCIAL_INTEGRATION_ALREADY_EXISTS)?(r.show({component:"notificationModal",size:"md-small",titleKey:"FACEBOOK_INTEGRATION_ALREADY_EXISTS",buttonKey:"OK"}),n.trackException(_.get(v,w)),!0):_.get(a.getSocialIntegration(),"facebookIntegration.facebookId"):a.isLoggedIn()}function h(){return i.loginWithFacebook(_.get(v,y))["catch"](function(t){return _.set(v,w,t),e.reject()})}function g(n){return _.get(v,S)?i.disassociateFacebook(_.get(n,"customerId")):(_.set(v,E,_.get(n,"register",_.get(v,E))),_.isUndefined(_.get(v,y))?t.login().then(function(e){return _.includes(e.grantedScopes,"email")?(_.set(v,y,e.accessToken),h()["catch"](g)):r.show({component:"notificationModal",size:"md-small",titleKey:"OOPS_SOMETHING_WENT_WRONG_EXCLAMATION",descriptionKey:"FACEBOOK_EMAIL_NOT_GRANTED_DESC",buttonKey:"SIGN_IN"}).then(g)}):f()?e.resolve():m().then(g)["catch"](u))}var v,y="socialToken",b="socialType",E="register",C="associate",S="disassociate",w="loginResponse",T=w+".matches",I=w+".facebook.email",O=w+".facebook.first_name",A=w+".facebook.last_name";this.start=function(t){switch(l(),_.set(v,b,t.type),_.set(v,C,t[C]),_.set(v,S,t[S]),_.get(v,b)){case c.socialFlowTypes.faceBook:return g(t);default:return e.resolve()}},this.associate=function(t,n){switch(_.get(v,b)){case c.socialFlowTypes.faceBook:return i.associateFacebook(_.get(v,y),t,n);default:return e.resolve()}}}t.$inject=["$q","facebookService","fbAnalyticsService","pnraModalService","socialService","registrationFlowService","userService","socialConstants","socialFlowConstants"],e.module("common.services.socialFlow.service",["common.services.social.service","common.services.social.service.constants","common.services.userService","common.services.facebook.service","paneraCommonUi.common.modal","common.components.social.facebook.fbVerifyAccount","common.modules.registration","common.services.socialFlow.service.constants","common.modules.notificationModal","common.services.facebook.fbAnalytics.service"]).service("socialFlowService",t)}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl;e.module("common.services.social.service.constants",[]).constant("socialConstants",{apiUrls:{login:n+"social/login",associate:n+"social/associate",register:n+"social/register",disassociate:n+"social/disassociate"},socialTypes:{faceBook:"FACEBOOK"},errors:{SOCIAL_INTEGRATION_ALREADY_EXISTS:"SOCIAL_INTEGRATION_ALREADY_EXISTS",REQUEST_TIMEOUT:"REQUEST_TIMEOUT"}})}(window.angular,window),function(e){"use strict";function t(e,t,n,r,i,o,a){function s(t){return e.reject(u(t.data,t.status))}function c(n,a,c){return t.post(n,a).then(function(t){var n=_.get(t,"data",{});return c?n.accessToken?i.isLoggedIn()?n.customerId===i.customerId()?(r.setActiveSession(n,l),r.refreshUser()):e.reject([o.errors.SOCIAL_INTEGRATION_ALREADY_EXISTS]):r.setActiveSession(n,l):e.reject(t.data):r.refreshUser()},s)}var l,u=n("apiErrorKeyFilter");this.registerWithFacebook=function(e,t){var n={phone:t.phoneNumber,emailAddress:t.emailAddress,optIn:t.hasEmailOpt,loyaltyCardNumber:t.cardNumber,loyaltyRegistrationCode:t.cardRegCode,socialToken:e,socialTokenType:o.socialTypes.faceBook};return l=a.FACEBOOK,c(o.apiUrls.register,n,!0)},this.associateFacebook=function(e,t,n){var r={socialToken:e,socialTokenType:o.socialTypes.faceBook,username:t,password:n};return l=a.FACEBOOK,c(o.apiUrls.associate,r,!0)},this.disassociateFacebook=function(e){var t={customerId:e};return c(o.apiUrls.disassociate,t,!1)},this.loginWithFacebook=function(e){var t={socialToken:e,socialTokenType:o.socialTypes.faceBook};return l=a.FACEBOOK,c(o.apiUrls.login,t,!0)}}t.$inject=["$q","$http","$filter","loginService","userService","socialConstants","identityProviders"],e.module("common.services.social.service",["common.services.loginService","common.services.userService","common.services.social.service.constants","common.utilities.constants"]).service("socialService",t)}(window.angular),function(e){"use strict";e.module("common.services.splunkService",[]).service("splunkService",["$log",function(e){this.log=function(t){e.log(t)},this.info=function(t){e.info(t)},this.warn=function(t){e.warn(t)},this.error=function(t){e.error(t)},this.debug=function(t){e.debug(t)}}])}(window.angular),function(e){"use strict";function t(e){function t(t){e.trackUnavailableTimes(t)}var n=!1,r=this;this.setHasUnavailableTimes=function(e){n=e},this.getHasUnavailableTimes=function(){return n},this.trackUnavailableTimes=function(){r.getHasUnavailableTimes()||(r.setHasUnavailableTimes(!0),t("Presented With Unavailable Times"))},this.trackContinuedOrder=function(){r.getHasUnavailableTimes()&&(r.setHasUnavailableTimes(!1),t("Proceeded to Menu"))}}t.$inject=["analyticsService"],e.module("common.services.unavailableTime.unavailableTimeService.service",["common.services.analytics"]).service("unavailableTimeService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(e,t){if(t)switch(e){case"GET":return{responseConverter:c[t].convertToLegacy};case"POST":case"PUT":return{requestConverter:c[t].convertToUramp,responseConverter:c[t].convertToLegacy};default:return{}}return{}}function s(e,t){return _.assign(e,a(e.method,t))}var c={customer:n,address:r,phone:i,phones:o};this.isUrampEnabled=function(){return t.fetchConfig().then(function(e){return e.urampIsEnabled})},this.executeUrampRequest=function(t,n){return _.flow(s,e)(t,n)}}t.$inject=["$http","configService","pnraUrampCustomerConverter","pnraUrampAddressConverter","pnraUrampPhoneConverter","pnraUrampPhonesConverter"],e.module("common.services.urampHttp.service",["paneraCommonUi.common.converters.uramp","common.services.configService"]).service("urampHttpService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(e,t){return a.has("session")&&a.get("session")[e]||t}var a=e.driver("session"),s=this;this.resetSessionStorage=function(e){e!==i.TOKEN_EXPIRATION&&(a.clean(),t.setCurrentLocation({}),r.resetOrderProcess(),n.resetOrderType())},this.clearGuest=function(){a.put("guestSelected",!1)},this.proceedAsGuest=function(){a.put("guestSelected",!0)},this.isGuest=function(){return a.get("guestSelected",!1)},this.updateSession=function(e){a.put("session",function(t){return t||(t={}),_.assign(t,e),t})},this.rewards=function(){return o("rewards",{})},this.getRewardTransactions=function(){return o("rewardTransactions",{})},this.addresses=function(){return o("addresses",!1)},this.address=function(){return o("addresses",[])[0]||{addressType:"Residential"}},this.emailAddress=function(){var e=o("emails",[])[0];return e&&e.emailAddress},this.getEmails=function(){var e=o("emails",[]);return e},this.addSmsRequestedPhone=function(e){var t=a.get("smsRequestedPhones",[]);t.push(e),a.put("smsRequestedPhones",t)},this.getAllSmsRequestedPhones=function(){return a.get("smsRequestedPhones",[])},this.getSmsRequestedPhone=function(e){return _.find(a.get("smsRequestedPhones",[]),{number:e})},this.phoneNumbers=function(){return o("phoneNumbers",[])},this.defaultPhoneNumber=function(){return _.get(_.find(s.phoneNumbers(),{isDefault:!0}),"number")||_.get(s.phoneNumbers()[0],"number")||_.get(s.personalInfo(),"phone")},this.emailPreferences=function(){return o("emailPreferences",{})},this.getEmailGlobalOpt=function(){return _.get(a.get("session"),"isEmailGlobalOpt")},this.updateEmailPreferences=function(e,t){s.updateSession({emailPreferences:e,optIn:t})},this.favoriteCafes=function(){return o("favoriteCafes",[])},this.defaultFavoriteCafe=function(){var e=_.find(s.favoriteCafes(),{isDefault:!0});return e},this.recentCafes=function(){return o("recentCafes",[])},this.orderHistory=function(){return o("orderHistory",[])},this.myGroupOrders=function(){return o("groupOrders",[])},this.recentAddresses=function(){var e=[],t=["addressLine1","addressLine2","name","city","state","zip"];return _.forEach(_.compact(_.map(s.orderHistory(),"delivery")),function(t){e.push({addressLine1:t.addressLine1,addressLine2:t.addressLine2,name:t.name,city:t.city,state:t.countryDivision,zip:t.zip,addressType:t.addressType,contactPhone:t.contactPhone,additionalInfo:t.instructions})}),_.uniqWith(e,function(e,n){return _.isEqual(_.pick(e,t),_.pick(n,t))})},this.isLoggedIn=function(){return o("isLoggedIn",!1)},this.isUserLoaded=function(){return o("isUserLoaded",!1)},this.favorites=function(){return o("favorites",[])},this.tastesAndInterests=function(){return{foodPreferences:o("foodPreferences",[]),gatherPreference:o("gatherPreference","")}},this.loyaltyCardNumber=function(){return o("loyaltyCardNumber")},this.customerId=function(){var e=o("customerId");return _.isUndefined(e)?0:+e;
},this.personalInfo=function(){return _.pick(a.get("session"),["customerId","email","name","firstName","lastName","phone","username","birthDay","birthMonth","birthYear"])},this.clearSession=function(){a.forget("session")},this.accessToken=function(){return o("accessToken")},this.storedCards=function(){return o("storedCards",{giftCards:[],creditCards:[]})},this.myPastOrders=function(){return o("pastOrders",[])},this.myFavorites=function(){return o("myFavorites",{items:[],groups:[]})},this.gcInquiryAttempts=function(){return a.get("gcInquiry")||0},this.setGCInquiryAttempts=function(e){a.put("gcInquiry",e)},this.getCustomerInfoForCheckout=function(){var e=a.get("customerInfoForCheckout",{});return e.email=e.email||this.emailAddress(),e.phone=e.phone||this.defaultPhoneNumber(),e},this.setCustomerInfoForCheckout=function(e){a.put("customerInfoForCheckout",e)},this.clearCustomerInfoForCheckout=function(){a.forget("customerInfoForCheckout")},this.getIdentityProvider=function(){return o("identityProvider")},this.getSocialIntegration=function(){return o("socialIntegration")},this.favoritesServiceResponse=function(){return o("favoritesServiceResponse",{})},this.getHideUpsellModal=function(){return o("hideUpsellModal",!1)},this.getOptIn=function(){return o("optIn",!1)}}t.$inject=["locker","cafeSearchService","orderTypeService","orderFlowService","sessionResetReason"],e.module("common.services.userService",["angular-locker","common.services.cafeSearchService","common.services.orderTypeService","common.services.orderFlowService","common.utilities.constants"]).service("userService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(e){y.put("activeSession",e)}function l(e){v.sessionTimeout=e,c(!0)}function u(){c(!1),e.cancel(v.sessionTimeout)}function d(e,t){u(),l(e),t&&i.getSessionWithToken(o.accessToken())}function p(){n.showSessionTimeoutModal(h).then(function(){d(e(p,g,1),!0)},function(){u(),r.logout(!0)})}function m(){return y.get("activeSession",!1)}var f,h,g,v=this,y=a.driver("session");return v.$rootScope=t,r.onLoggedInChange(t,function(t){t&&!m()?s.fetchConfig().then(function(t){f=+t.sessionExpiration,h=+t.sessionExpirationWarn,g=f-h,d(e(p,g,1),!1)}):u()}),{}}t.$inject=["$interval","$rootScope","errorModalService","loginService","eCommerceService","userService","locker","configService"],e.module("common.services.userSessionMgmtService",["angular-locker","common.services.errorModalService","common.services.modalService","common.services.loginService","common.services.eCommerceService","common.services.userService","common.utilities.constants","common.services.configService"]).service("userSessionMgmtService",t)}(window.angular),function(e){"use strict";e.module("common.utilities.clientVars",["common.utilities.clientVars.provider"])}(window.angular),function(e){"use strict";e.module("common.utilities.clientVars.provider",["paneraOrdering.appBanner","common.utilities.constants","paneraOrdering.dashboard.component","paneraOrdering.orderProcess","orderProcess.html"]).provider("clientVars",["staticHeaders","busUnit",function(e,t){var n={defaultOrderType:"RPU",lockerNamespace:"PaneraOrdering",geolocationEnabled:!0,showBrowseMenu:!0,busUnit:t.RETAIL,validateDeliveryOrderTime:!0,i18nKeys:{pageTitle:"PAGE_TITLE"},routeConfig:{index:{template:"<dashboard></dashboard>",appBannerContext:e.dashboard},orderFlow:{templateUrl:"orderProcess.html",controller:"OrderProcessController",i18nTitle:"START_YOUR_ORDER",resolve:{googleMapsLoaded:["scriptElementService",function(e){return e.loadGoogleMaps()}]}}},googleAnalytics:{accounts:{"delivery.panerabread.com":"UA-12177097-29","delivery-preprod.panerabread.com":"UA-12177097-33","delivery-qarc.panerabread.com":"UA-12177097-33","default":"UA-12177097-24"}}};this.setClientVars=function(e){_.merge(n,e)},this.getClientVars=function(){return n},this.$get=function(){return n}}])}(window.angular),function(e,t){"use strict";var n=t.env.foundApiProxyUrl,r="panerabread/menu/delivery-categories/",i="panerabread/menu/delivery-categories/combo-categories-noncommerce/",o="panerabread/menu/delivery-categories/misc/",a="panerabread/icons/social/",s="panerabread/menu/rapid-drive-thru/",c="panerabread/menu/group-ordering/icons/",l="panerabread/menu/delivery/icons/",u="panerabread/menu/delivery/misc/",d=t.env.webUIurl,p=d+"en-us",m=t.env.imageDamUrl,f=t.env.imageRenditions,h=t.env.cookieDomain,g=t.utilities.isSecureCookie(h),v=t.env.unknownKeyPrefix,y=18e5,b="https://www.google.com/maps/dir/",_={CafeId:"500000",cafeId:5e5,TimeZone:"America/Chicago",maxModifications:5},E={GROUP_ORDER_TYPE:{i18n:"ORDER_SETUP",gaName:"Location",index:0},GROUP_TIME:{i18n:"GROUP_TIME",gaName:"Time",index:1}};e.module("common.utilities.constants",[]).constant("orderLimitMaxDayOffset",30).constant("defaultLeadTime",10).constant("unknownKeyPrefix",v).constant("currentUrl",document.location.host).constant("prodEnvironments",["delivery.panerabread.com","delivery1.panerabread.com"]).constant("appConfig",{notifyReleaseStages:["DEVRC","QARC","UAT","PREPROD","PROD"],releaseStage:"development",appVersion:"1.36.3"}).constant("cookieOptions",{expires:y/864e5,path:"/",domain:h,secure:g}).constant("isoFormat","YYYY-MM-DDTHH:mm:ssZZ").constant("defaultLocation",{latitude:39.5,longitude:-98.35,offset:.2}).constant("highSodiumMsg","high-sodium-messaging").constant("defaultCafe",_).constant("addressTypesMapping",{HOME:"HOME",RSD:"HOME",RESIDENTIAL:"HOME",WORK:"WORK",BUSINESS:"WORK",BUS:"WORK",COLLEGE_CAMPUS:"COLLEGE_CAMPUS",CAMPUS:"COLLEGE_CAMPUS",APARTMENT:"HOME",APT:"HOME",OTHER:"OTHER",OTH:"OTHER"}).constant("homePhone","Residential").constant("addressTypes",["HOME","WORK","COLLEGE_CAMPUS","OTHER"]).constant("rapidPickupRadiusMax",40233.6).constant("deliveryRadiusMax",0).constant("largeLeadTimeThreshold",60).constant("caloriesNutrientId",2).constant("encryptDefaultKeySize",2048).constant("averageCheck",12).constant("goDeadlineThreshold",60).constant("cafeHoursExpireMs",1e4).constant("apiUrls",{webUIUrl:d,globalNav:n+"globalnav",groupOrder:{getGroupOrderByToken:n+"group-order/:group-order-token/customer/:customer-id",getGroupOrderCarts:n+"group-order/carts/:group-order-token",createGroupOrder:n+"group-order",removeCart:n+"group-order/:group-order-token/cart/:cart-token/customer/:customer-id",cancelGroupOrder:n+"group-order/cancel/:group-order-token/customer/:customer-id"},campaigns:{refer:n+"campaign/refer"},eCommerce:{addUser:n+"users",itemPricing:n+"pricing/:cafeId",itemsPricing:n+"items/pricing/:cafeId",rewardPricing:n+"cart/pricing/",address:n+"users/:customer-id/addresses/:address-id",deleteAddress:n+"users/:customer-id/addresses/:address-id",addAddress:n+"users/:customer-id/addresses",uramp:{address:{get:n+"users/uramp/:customer-id/addresses/:address-id","delete":n+"users/uramp/:customer-id/addresses/:address-id",add:n+"users/uramp/:customer-id/addresses"},user:{get:n+"users/uramp/:customer-id",birthday:n+"uramp/birthday",update:n+"users/uramp/update"},storedCards:{"delete":n+"users/uramp/stored-cards/delete"},phone:{get:n+"uramp/users/phones",add:n+"uramp/users/phones",update:n+"uramp/users/phones","delete":n+"uramp/users/phones/delete","default":n+"/uramp/users/phones/default"},email:{preferences:n+"uramp/customer/subscriptions",update:n+"uramp/users/emailaddress"},sms:{add:n+"uramp/user/smspreference"}},changePassword:n+"users/:customer-id/change_password",forgotPassword:n+"users/forgot-password",user:n+"users/:customer-id",updateUser:n+"users/:customer-id",checkUsernameAvailability:n+"users/check-username/:username",checkEmailAvailability:n+"users/check-email",usersByPhone:n+"users/by-phone/:phone",rewards:n+"rewards/:cafe-id",rewardTransactions:n+"rewards/:customer-id/:loyalty-num/transactions?dateStart=:date-start&limit=:limit",phones:n+"users/:customer-id/phones",phone:n+"users/:customer-id/phones/:phone-number",addPhone:n+"users/:customer-id/phones",foodPreferences:n+"users/:customer-id/loyalty/:card/preferences/food",gatherPreference:n+"users/:customer-id/loyalty/:card/preferences/gather",getEmailPreferences:n+"users/:customer-id/preferences/email",emailPreferences:n+"users/:customer-id/loyalty/:card/preferences/email",favorites:{cafes:n+"users/:customer-id/favorites/cafes",cafe:n+"users/:customer-id/favorites/cafes/:cafe-id",items:{get:n+"users/:customer-id/favorites",add:n+"users/:customer-id/favorites/:groupId",update:n+"users/:customer-id/favorites/:groupId/:favoriteId","delete":n+"users/:customer-id/favorites/:groupId/:favoriteId"},groups:{add:n+"users/:customer-id/favorites",update:n+"users/:customer-id/favorites/:groupId","delete":n+"users/:customer-id/favorites/:groupId"}},storedCards:{get:n+"users/:customer-id/stored-cards",add:n+"users/:customer-id/stored-cards",update:n+"users/:customer-id/stored-cards/:stored-card-id","delete":n+"users/:customer-id/stored-cards/delete"},groupOrdering:{getMyGroupOrders:n+"group-order/:customer-id"},hiring:{email:n+"hiring/tellafriend"},resetPassword:n+"reset_password_by_token"},cafe:{availability:n+"cafe/hours/:cafeId",messages:n+"messages/:cafeId",validateOrderTime:n+"cafe/is-slot-available",hours:n+"cafe/:cafeId/hours/:orderAmount/:orderType/:distance",orderSlots:n+"cafe/:cafeId/slots/:slotDate/:openTime/:closeTime/:orderType/:orderAmount",geocoding:n+"geocoding"},sso:{auth:n+"auth",unencodeAuth:n+"unencoded/auth",token:n+"token",logout:n+"logout"},menu:{categories:n+":cafeId/categories",categoriesSchedules:n+":cafeId/categories/schedule",combos:n+":cafeId/products/combo",customizations:n+":cafeId/:itemId/customizations",holidayOrderingLimits:n+":cafeId/quantityrules",nutrition:n+"nutrition/:cafeId",nutritionForItem:n+"nutrition/:cafeId/:itemId",placardAvailability:n+"placard/scheduleandavailability/:cafeId",productDetails:n+"item/scheduleandavailability/:cafeId",products:n+":cafeId/products",unavailable:n+"placards/:itemId",upsell:n+"upsell/:cafeId"},i18n:{phrases:n+":cafeId/i18nService/:id",version:n+"menu/version/i18nPhraseCatalog/:cafeId/",phrasesByVersion:n+":cafeId/i18nService/:id/:version/i18nPhraseCatalog"},stockout:{stockout:n+":cafeId/stockout"},google:{searchByLocation:n+"search/cafes",maps:b,recaptcha:n+"recaptcha/validate"},payment:{balance:n+"rest/balance/inquiry",payment:n+"rest/payment",authorize:n+"rest/authorize",getTokens:n+"rest/tokens",publicKey:n+"config/data"},payPal:{getPayPalToken:n+"payment/paypal/token",getPayPalBillingAgreementInfo:n+"payment/paypal/billingagreement"},orderMgmt:{orderId:n+"next/order/id",submit:n+"order/submit",cancel:n+"order/:orderId/cancel?enforceLeadTime=true",orderDetails:n+"order?maskedOrderId=:encryptedOrderId",history:n+"orders/customer/:custNo?numOrders=10"},tax:{calc:n+"tax/calculator"},image:{damUrl:m,placard:"menu/grid/",combos:m+i,category:r,categoryMisc:o,upsell:o+"upsell/",campaign:m+"exact-target/",ingredient:"menu/ingredients/",icons:"icons/commerce/",rewards:"rewards/",curation:{placard:"menu/curated-menu-items/"},renditions:{original:f.original,mobile:f.mobile,mobileTransparent:f.mobileTransparent},pawIcons:m+"panerabread/menu/paw/icons/"},analytics:{lightningBolt:"/foundation-api/lightningbolt"}}).constant("rewardType",{ORDER_LEVEL:"ORDER_LEVEL"}).constant("singleRewardItemType",["COMBO"]).constant("ignoreRewardItemTypes",["ADDED","SUBSTITUTED"]).constant("staticImages",{creditCardIcons:{all:m+o+"credit-card-logos.jpeg"+f.original},giftCardIcons:{giftCard:m+o+"gift_card.jpg"+f.original},rapidDriveThru:{inside:{desktop:m+s+"inside.png"+f.original,mobile:m+s+"inside.png"+f.mobileTransparent},drivethru:{desktop:m+s+"drivethru.png"+f.original,mobile:m+s+"drivethru.png"+f.mobileTransparent}},ogImage:m+o+"og.jpg",smartLock:m+a+"credential-logo.svg"+f.original,faviconIcon:m+o+"favicon.ico",globalIcons:{closeIcon:m+o+"global_icon_close.png"+f.original,logoIcons:{normal:m+o+"logo.png"+f.original,small:m+o+"logo_small.png"+f.original,svg:m+o+"logo.svg"+f.original},yogurt:m+o+"yogurt.png"+f.original,confirm:m+o+"confirmation-check-large.svg"+f.original,checkWhite:m+o+"check-white.svg"+f.original,email:m+c+"email.svg"+f.original,link:m+c+"Link.svg"+f.original,phone:m+l+"phone-call.svg"+f.original},pageNotFound:m+o+"PageNotFound.png"+f.original,orderTypeIcons:{cateringIcons:{caterWithPanera:m+o+"caterWithPanera.png"+f.original,paneraCatering:m+o+"paneraCatering.png"+f.original},deliveryIcons:{normal:m+o+"deliveryOrange.png"+f.original,selected:m+o+"deliveryDarkBrown.png"+f.original},orderAtTableIcons:{normal:m+o+"orderAtTableOrange.png"+f.original,selected:m+o+"orderAtTableDarkBrown.png"+f.original},rpuIcons:{normal:m+o+"rpuOrange.png"+f.original,selected:m+o+"rpuDarkBrown.png"+f.original},smallSprite:m+o+"orderTypes.png"+f.original},mapIcons:{greenDot:m+o+"green-dot.png"+f.original,marker:m+o+"map_marker.png"+f.original,show:m+o+"show.png"+f.original},myPanera:{arrowRight:m+o+"arrow-right.png"+f.original,favoriteIcons:{normal:m+o+"favoriteStarOrange.png"+f.original,selected:m+o+"favoriteStarDarkBrown.png"+f.original},foodPlate:m+o+"food-plate.png"+f.original,rewardIcons:{clock:m+o+"rewardsClock.png"+f.original,generic:m+o+"reward-generic.png"+f.original,logo:m+o+"rewards.png"+f.original},signUp:m+o+"sign-up.png"+f.original},placards:{blank:m+o+"placard-blank.gif"+f.original},payPal:{logo:{small:m+o+"paypal-cc-accepting-35x24.png"+f.original,medium:m+o+"paypal-cc-accepting-50x34.png"+f.original,smallGrey:m+o+"paypal-cc-accepting-35x24-black-and-white.png"+f.original}},applePay:{logo:{small:m+o+"apple-pay.png"+f.original,buy:m+o+"buy-with-apple-pay.png"+f.original}},groupOrder:{group:{med:{white:m+c+"group-order-med-white.svg"+f.original,dark:m+c+"group-order-med.svg"+f.original},small:{white:m+c+"group-order-small-white.svg"+f.original,orange:m+c+"group-order-small-orange.svg"+f.original,dark:m+c+"group-order-small.svg"+f.original}},confirm:{white:m+c+"confirmation-check.svg"+f.original}},cityscape:m+u+"cityscape.png"+f.original,vegan:m+o+"vegan-icon.svg"+f.original}).constant("orderTypeIcons",{rpu:m+o+"icon-cafe-rapid-pickup.png"+f.original,delivery:m+o+"icon-cafe-delivery.png"+f.original,dinein:m+o+"icon-cafe-order-from-my-table.png"+f.original}).constant("orderTypes",{RPU:{i18nName:"RAPID_PICKUP",i18nDesc:"RAPID_PICKUP_DESC",imgClass:"rapid-pickup",imgSrc:m+o+"rpuDarkBrown.png"+f.original,storageKey:"RPU",feature:"HasPickup",steps:["PROCESS_ORDER_TYPE_LOCATION","PROCESS_ORDER_TIME"],mobileSteps:["MOBILE_PROCESS_ORDER_TYPE_LOCATION","MOBILE_PROCESS_ORDER_TIME"],guestAllowed:!0,visible:!0,enabled:!0,enabledForGroup:!1,groupFeature:"HasPickup",i18nSlogan:"CAFE_FOR_PICK_UP",dataKey:"rpu"},DELIVERY:{i18nName:"DELIVERY",i18nDesc:"DELIVERY_DESC",imgClass:"delivery",imgSrc:m+o+"deliveryDarkBrown.png"+f.original,storageKey:"DELIVERY",feature:"HasDelivery",steps:["PROCESS_DELIVERY_ADDRESS","PROCESS_ORDER_TIME"],guestAllowed:!0,visible:!0,enabled:!0,enabledForGroup:!0,groupFeature:"HasDelivery",dataKey:"delivery"},DINE_IN:{i18nName:"ORDER_FROM_MY_TABLE",i18nDesc:"ORDER_FROM_MY_TABLE_DESC",imgClass:"dine-in",imgSrc:m+o+"orderAtTableDarkBrown.png"+f.original,storageKey:"DINE_IN",feature:"HasOrderFromMyTable",steps:["PROCESS_ORDER_TYPE_LOCATION","PROCESS_ENTER_TABLE_NUMBER"],guestAllowed:!0,visible:!0,enabled:!0,enabledForGroup:!1,i18nSlogan:"WHERE_YOU_ARE",dataKey:"dinein"},EXPRESS:{i18nName:"EXPRESS",i18nDesc:"EXPRESS_DESC",imgClass:"express",imgSrc:m+o+"rpuDarkBrown.png"+f.original,storageKey:"EXPRESS",feature:"HasExpress",steps:["PROCESS_ORDER_TYPE_LOCATION","PROCESS_ORDER_TIME"],guestAllowed:!1,visible:!1,enabled:!1,enabledForGroup:!1,dataKey:"express"}}).constant("usStates",["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]).constant("regexes",{username:/^[a-zA-Z0-9.\-'&#$%^*/:?;|()=@_]+$/,password:/^\S+$/g,validEmail:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,validPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,validCard:/^[0-9]+$/,input:/^[a-zA-Z0-9 ]*$/,i18nVariables:/{{\s*(.*?)\s*}}/g,alphaNumeric:/^[a-z0-9\s]+$/i,specialInstructions:/[!@#$\%^|&*()\?<>]/g,validSpecialInstructions:/^((?![!@#$%^&*()?<>]).)*$/,decimalNumber:/^\d*\.?\d*$/,integer:/^\d+\.?\d*$/,tableNumber:/^[1-9]+\d*$/,postalCode:/^[-a-z0-9\s]+$/i,nonNumericOrDecimal:/[^0-9\.]+/,nonNumbers:/[^0-9]/g,validName:/^[^0-9]/g,numbersOnly:/^[0-9]+$/,birthday:/^(0?[1-9]|1[0-2]){1}\/?(0?[1-9]|1[0-9]|2[0-9]|3[0-1]){1}$/g,address:/^\d/}).constant("paneraUrls",{main:d,images:m+o,panera2u:"http://www.panera2u.com/",caSupplyChainAct:p+"/company-information/california-supply-chain-act.html",nutritionAllergenStatement:p+"/company-information/allergen-and-nutrition-information.html",catering:"https://catering.panerabread.com/",contactUs:"https://panera.custhelp.com/",faqs:p+"/customer-service/contact-us.html#mypanera_faq",privacyPolicy:p+"/company-information/privacy-policy.html",termsOfUse:p+"/company-information/terms-of-use.html",forgotUserNameOrPassword:p+"/home.html?allowmobile=true#forgotpassword",reloadCard:"https://panerabread.ourgiftcards.com/",participatingLocations:p+"/mypanera/find-a-panera.html",nutritionPDF:d+"content/dam/panerabread/documents/nutrition/Panera-Nutrition.pdf",campaign:d+"content/dam/panerabread/exact-target/",groupOrderInvite:":protocol://:hostUrl/group/:token",deliveryTrackerUrl:env.deliveryTrackerUrl+"/deliveryTracker/#!/track?orderId=",sodiumWarningIcon:m+o+"sodium-warning-icon.png"}).constant("androidAppBanner",{androidLink:p+"/company/misc/android-redirect.html",motherBreadUrl:m+"panerabread/mobile/app-logo/app-logo-130x130/AppLogo.png"+f.original}).constant("routes",{index:"/",campaign:"/campaign",login:"/login",register:"/register",forgotPassword:"/forgotPassword",menu:"/menu/category/",menuRoute:"/menu/category/:category?",cafeLocator:"/cafeLocations/",orderFlow:"/orderProcess/",groupOrder:{create:"/orderProcess/group",dashboard:"/group/:groupOrderToken/:participantToken?"},checkout:"/checkout/",addToCart:"/addToCart",cartLinks:"/cartLinks",orderCancellation:"/orderCancellation",orderConfirmation:"/orderConfirmation/",orderingHelp:"/orderingHelp/",myAccount:"/account/",myAccountInfo:"/account/my_account_info",myAccountRoute:"/account/:page",myAccountPages:{accountInfo:"/account/my_account_info",addresses:"/account/my_addresses",phoneNumbers:"/account/my_phone_numbers",cards:"/account/my_payment_methods",pastOrders:"/account/my_past_orders",favorites:"/account/my_favorites",cafes:"/account/my_cafes",notifications:"/account/my_notifications",tastesAndInterests:"/account/my_tastes_and_interests",rewards:"/account/my_rewards",groupOrders:"/account/my_group_orders"},myPanera:"/myPanera/",menuMyPanera:"/menu/myPanera/",menuMyPaneraRoute:"/menu/myPanera/:myPanera",menuMyPaneraPages:{rewards:"/menu/myPanera/my_rewards",pastOrders:"/menu/myPanera/my_past_orders",favorites:"/menu/myPanera/my_favorites",groupOrders:"/menu/myPanera/my_group_orders"},resetPassword:"/resetPassword/",pageNotFound:"/404",startOrder:"/startOrder/:cafeId?",receipt:"/receipt"}).constant("dateTimeFormats",{date:"M/D/YYYY",time:"h:mm A",localTime:"HH:mm",mobileOrderDetails:"dddd MM/DD",serverTime:"DD MMM YYYY HH:mm:ss Z",dateAtTime:"M/D dddd @ hh:mm A"}).constant("rewardTransactions",{dateStart:t.moment().subtract(3,"months").format("YYYY-MM-DD"),limit:10}).constant("moment",t.moment).constant("daysOfWeek",["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]).constant("monthsOfYear",["01","02","03","04","05","06","07","08","09","10","11","12"]).constant("monthsOfYearOptionsI18n",[{i18nKey:"MONTH_OPTION_01",value:"01"},{i18nKey:"MONTH_OPTION_02",value:"02"},{i18nKey:"MONTH_OPTION_03",value:"03"},{i18nKey:"MONTH_OPTION_04",value:"04"},{i18nKey:"MONTH_OPTION_05",value:"05"},{i18nKey:"MONTH_OPTION_06",value:"06"},{i18nKey:"MONTH_OPTION_07",value:"07"},{i18nKey:"MONTH_OPTION_08",value:"08"},{i18nKey:"MONTH_OPTION_09",value:"09"},{i18nKey:"MONTH_OPTION_10",value:"10"},{i18nKey:"MONTH_OPTION_11",value:"11"},{i18nKey:"MONTH_OPTION_12",value:"12"}]).constant("daysOfMonth",["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]).constant("foodPreferences",{1:"Dairy Free",2:"Gluten Free",3:"Low Fat",4:"Low Sodium",5:"Low Sugar",6:"Vegetarian"}).constant("gatherings",["Meet Friends and Family","Book Club","Mother & Toddler","Business Meetings","Study Groups","Community Meetings","Work Alone","Other"]).constant("accountPages",[{i18nName:"MY_ACCOUNT_INFO",key:"my_account_info"},{i18nName:"MY_ADDRESSES",key:"my_addresses"},{i18nName:"MY_PHONE_NUMBERS",key:"my_phone_numbers"},{i18nName:"MY_PAYMENT_METHODS",key:"my_payment_methods"},{i18nName:"MY_PAST_ORDERS",key:"my_past_orders"},{i18nName:"MY_GROUP_ORDERS",key:"my_group_orders"},{i18nName:"MY_FAVORITES",key:"my_favorites"},{i18nName:"MY_CAFES",key:"my_cafes"},{i18nName:"MY_NOTIFICATIONS",key:"my_notifications"},{i18nName:"MY_COMMUNICATION_PREFERENCES",key:"my_communication_preferences"},{i18nName:"MY_TASTES_AND_INTERESTS",key:"my_tastes_and_interests"},{i18nName:"MY_REWARDS",key:"my_rewards"}]).constant("inputValidations",{checkout:{giftCardNumberLimit:19}}).constant("supportedCardTypes",["AMEX","MAST","VISA","DISC"]).constant("supportedPaymentType",{STORED_CARD:"STORED_CARD",NEW_CARD:"NEW_CARD",PAYPAL:"PAYPAL",GIFT:"GIFT",APPLEPAY:"APPLEPAY"}).constant("payPalOrderFlowStep",{TOKEN_AUTH_REQUESTED:"TOKEN_AUTH_REQUESTED",AUTHENTICATED:"AUTHENTICATED",SUBMITTED:"SUBMITTED",SUCCEEDED:"SUCCEEDED",STORING_TOKEN:"STORING_TOKEN",FAILED:"FAILED"}).constant("orderFlowStep",E).constant("orderFlowSteps",{groupOrder:[E.GROUP_ORDER_TYPE,E.GROUP_TIME]}).constant("busUnit",{GROUP_ORDER:"group-order",RETAIL:"retail",DEFAULT:"retail"}).constant("groupOrderStatus",{active:["NEW","IN_PROGRESS"],inactive:["FINISHED","EXPIRED"]}).constant("paymentTokenTypes",{PAYPAL_BILLING_AGREEMENT_ID:"PAYPAL_BILLING_AGREEMENT_ID",PAYPAL_TOKEN:"PAYPAL_TOKEN"}).constant("cardDateFormats",{mmYyWithSlash:"MM/YY",mmYy:"MMYY",mm:"MM",yy:"YY",yyyy:"YYYY"}).constant("i18nVariables",{myPanera:'<span class="my-panera">My</span>Panera'}).constant("discountCodes",{reward:"WALLET_CODE",discountCode:"SPECIAL_CODE"}).constant("delivery",{deliveryFee:2.5,minimumAmount:5}).constant("clientTypes",{mobile:"MOBILE_WEB",desktop:"WEB"}).constant("loginTypes",{standard:"Standard",smartlock:"Google SmartLock"}).constant("recaptcha",{siteKey:"6Lf7uRYTAAAAAPk_TYnfRhv7lVgmrrj6FT5oEYZ5"}).constant("headers",{ifModifiedSince:{date:"Mon, 26 Jul 1997 05:00:00 GMT"}}).constant("comboComponentIdentifier","ComboComponent").constant("itemUnavailable",{states:["hasUnavailableSize","hasUnavailableSide","hasUnavailableIngredients","isProductStockout","isUnavailable"],message:"YOU_HAVE_ADDED_ITEMS_THAT_ARE_PRESENTLY_UNAVAILABLE"}).constant("ruleGroups",{ITEM:"item",GROUP:"group"}).constant("fbAppId",654701894587547).constant("defaultTimeout",3e4).constant("validPhone",10).constant("customerServiceInfo",{contactUrl:"https://panera.custhelp.com/app/ask",phone:8553726372,contactEmail:"help@panerabread.com"}).constant("errorCodes",{duplicateOrderFound:"DUPLICATE_ORDER_FOUND"}).constant("enabledFeature",{SUGGESTED_TIP:"suggested-tip",SUGGESTED_TIP_B:"suggested-tip-b",NFC_ENABLED:"nfc-enabled",DISTRIBUTED_TIPS:"distributed-tips",RAPID_DRIVE_THRU:"rapid-drive-thru"}).constant("assortmentsCodes",{creamCheese:301}).constant("socialTypes",{FACEBOOK:"FB"}).constant("regTypes",{FACEBOOK:{label:"Facebook Registration",source:"Facebook"},DEFAULT:{label:"Regular Registration",source:"Full"},LITE:{label:"Lite Registration",source:"Lite"}}).constant("identityProviders",{PANERA:"PANERA",FACEBOOK:"FACEBOOK",GOOGLE_SMARTLOCK:"GOOGLE_SMARTLOCK"}).constant("customizationEvent",{actions:{added:" IngredientAdded ",removed:" IngredientRemoved ",light:" IngredientSubstituted as light ",extra:" IngredientSubstituted as extra ",ontheside:" IngredientSubstituted as on the side ",sideChanged:"defaultSideChanged ",instructionsAdded:"specialInstructionsAdded ",freeModExceeded:"Free Modifications Limit Exceeded"},category:"Customizations"}).constant("sessionResetReason",{TOKEN_EXPIRATION:"TOKEN_EXPIRATION"}).constant("httpHeaders",{customerId:"X-Customer-Id",busUnit:"X-Business-Unit"}).constant("invalidOrderTimeConstants",{PREP_TIME:"PREP_TIME_NOT_AVAILABLE",ORDER_SLOT:"ORDER_SLOT_NOT_AVAILABLE"})}(window.angular,window),function(e){"use strict";e.module("common.utilities.error",["error.html"]).directive("error",[function(){return{restrict:"E",transclude:!0,scope:{},templateUrl:"error.html"}}])}(window.angular),function(e){"use strict";var t=e.module("common.utilities.filters",["common.services.localeService","common.services.imageService","common.services.cafeHours","common.utilities.constants","common.utilities.filters.service"]);t.filter("menuSearch",["$filter",function(e){return function(t,n,r){var i=_.filter(t,function(t){var i=_.filter(t.optSets,function(t){var i=e("translate")(t.i18nName),o=e("translate")(t.i18nDesc),a=t.imgKey;return(i&&i.toString().indexOf(n)>=0||o&&o.toString().indexOf(n)>=0||a&&a.toString().indexOf(n)>=0)&&!(!t.price||t.price<=0||!r&&t.isComboComponent||r&&!t.isComboComponent||t.isUpsell)});return i&&i.length>0});return i}}]),t.filter("isNumber",function(){return function(e){return new RegExp("[0-9\\.]+").test(e)}}),t.filter("isCafeId",["$filter",function(e){return function(t){return t&&6===t.length&&e("isNumber")(t)}}]),t.filter("leadTimeDisplay",[function(){return function(e,t){return t?e+" - "+(e+t):e&&e.toString()}}]),t.filter("orderTimeDisplay",[function(){return function(e,t,n){return t?e.format(n)+" - "+moment(e).add(t,"minutes").format(n):e.format(n)}}]),t.filter("timezone",[function(){return function(e){var t="";switch(e){case"America/Chicago":t="CST6CDT";break;case"America/Los_Angeles":t="PST8PDT";break;case"America/Phoenix":t="America/Phoenix";break;case"America/Denver":t="MST7MDT";break;case"America/New_York":t="EST5EDT"}return t}}]),t.filter("inRange",function(){return function(e,t,n){return t+n>e&&t>e-n}}),t.filter("isUserName",["regexes",function(e){return function(t){return new RegExp(e.username).test(t)}}]),t.filter("cleanSpecialInstructions",["regexes",function(e){return function(t){return t?t.replace(e.specialInstructions,""):t}}]),t.filter("isPassword",["regexes",function(e){return function(t){return new RegExp(e.password).test(t)}}]),t.filter("distance",[function(){return function(e){return _.isNumber(e)?(e/1609.344).toFixed(2)+" mi":""}}]),t.filter("todayHours",["localeService","filtersService",function(e,t){return function(n){if(n){var r=moment().format("ddd"),i=n[r];return i&&i.open!==i.close?e.translate("OPEN_TODAY")+" "+t.formatTimeRange(i.open,i.close,e.translate("TIME_FORMAT")):e.translate("CLOSED_TODAY")}return void 0}}]),t.filter("formatCafeHours",["localeService","filtersService",function(e,t){return function(n){return n&&n.open&&n.close&&n.open!==n.close?t.formatTimeRange(n.open,n.close,e.translate("TIME_FORMAT")):e.translate("CLOSED")}}]),t.filter("usage",["imageService",function(e){return function(t,n){return e.createImageUrl(t,n)}}]),t.filter("upcharge",["currencyFilter",function(e){return function(t,n){return 0>t?" -"+e(-t,n):t>0?" +"+e(t,n):""}}]),t.filter("phone",["regexes",function(e){return function(t){return t&&t.replace(e.nonNumbers,"")}}]),t.filter("formatPhone",["regexes",function(e){return function(t,n){return n=n||{},t&&(t=t.replace(e.nonNumbers,""),t.length>6?t=(n.parens?"(":"")+t.slice(0,3)+(n.parens?") ":"-")+t.slice(3,6)+"-"+t.slice(6):t.length>3&&(t=t.slice(0,3)+"-"+t.slice(3,6))),t}}]),t.filter("formatBirthday",[function(){return function(e){return e&&e.birthMonth&&e.birthDay?e.birthMonth+"/"+e.birthDay:""}}]),t.filter("abbrDayOfWeek",["daysOfWeek",function(e){return function(t){return e[t.isoWeekday()-1]}}]),t.filter("nutrientsCaloriesFilter",["caloriesNutrientId",function(e){return function(t,n){var r;return _.isObject(n)||(n={}),r=_.find(t,{nutrientId:e})||n,{i18nName:r.i18nName||"",unit:r.unit||"",value:r.value?+r.value:0}}}]),t.filter("apiErrorKeyFilter",["itemUnavailable",function(e){function t(e){return e.match(/^unable to authenticate/)?"ERROR_CODE_10001":e.match(/^unable to locate session/)?"ERROR_CODE_10002":r[e]||e}function n(){return"PS_SYSTEMERROR"}var r={"session invalid":"ERROR_CODE_10003","Invalid Food Preferences":"ERROR_CODE_10004","Invalid Gathering Preferences":"ERROR_CODE_10005"};return function(r,i){return _.isEmpty(r)&&_.isUndefined(i)?["PS_SYSTEMERROR"]:_.isObject(r)?_.isArray(r.errors)?_.map(r.errors,function(e){return _.has(e,"description")?e.description.toUpperCase().replace(/( |\.)/g,"_"):"ERROR_CODE_"+e["error-code"]}):r.error?[t(r.error)]:r.status?[t(r.status)]:r.errorMessage?[n(r.errorMessage)]:_.isEmpty(r)&&i?["ERROR_CODE_"+i]:_.isArray(r)&&_.isString(r[0])?_.map(r,function(t){return _.isEmpty(_.intersection([t],e.states))?t.toUpperCase().replace(/( |\.)/g,"_"):e.message}):r:_.isUndefined(i)?["PS_SYSTEMERROR"]:["ERROR_CODE_"+i]}}]),t.filter("unique",function(){return function(e,t){return _.uniqBy(e,t)}})}(window.angular),function(e){"use strict";function t(){var e=this;this.formatTime=function(e,t){if(e&&"am pm"===t){var n,r=e.split(":"),i=parseInt(r[0],10);return 12>i?n="am":(i-=12,n="pm"),0===i?r[0]="12":r[0]=i.toString(),r.join(":")+" "+n}return e},this.formatTimeRange=function(t,n,r){var i=e.formatTime(t,r),o=e.formatTime(n,r);return"am pm"===r&&i.substr(i.length-2)===o.substr(o.length-2)&&(i=i.substr(0,i.length-3)),i+" - "+o}}e.module("common.utilities.filters.service",[]).service("filtersService",t)}(window.angular),function(e){"use strict";e.module("common.utilities.httpInterceptor",["angular-locker","common.utilities.serverTime","common.utilities.constants","common.utilities.clientVars","ngKookies"]).constant("versionDelimiter","-").constant("partialUrls",["categories","products","combos","i18nService","customizations","foundation-api/upsell","messages"]).config(["$httpProvider",function(e){e.interceptors.push("httpInterceptor")}]).factory("httpInterceptor",["locker","serverTime","versionDelimiter","partialUrls","defaultTimeout","httpHeaders","$kookies","clientVars",function(e,t,n,r,i,o,a,s){var c,l,u=!1,d=r.length,p=e.driver("local");return{request:function(e){for(u=!1,c=0;d>c;c+=1)if(u=u||e.url&&e.url.indexOf(r[c])>=0){l=l||p.get("versionInfo"),e.params=e.params||{},e.params.version=l&&l.apiVersion+n+l.dataVersion;break}return e.headers[o.busUnit]=e.headers[o.busUnit]||s.busUnit,e.headers[o.customerId]=a.get("customerId")||0,e.timeout=i,e.requestConverter&&(e.data=e.requestConverter(e.data)),e},response:function(e){return e.headers("date")&&e.config.url.indexOf("cafe")>=0&&t.setServerTime(e.headers("date")),e.config.responseConverter&&(e.data=e.config.responseConverter(e.data)),e}}}])}(window.angular),function(e){"use strict";function t(e){var t=this;this.currentOffset=0,this.setServerTime=function(n){t.currentOffset=moment.utc().diff(moment.utc(n,e.serverTime),"milliseconds")},this.getTimeOffset=function(){return t.currentOffset}}t.$inject=["dateTimeFormats"],e.module("common.utilities.serverTime",["common.utilities.constants"]).service("serverTime",t)}(window.angular),function(e){"use strict";e.module("common.utilities.translate",["common.utilities.constants","common.services.splunkService","common.services.localeService"]).filter("translate",["$sce","localeService","splunkService","regexes","i18nVariables","appConfig","unknownKeyPrefix",function(e,t,n,r,i,o,a){var s,c,l;return l=function(l,u){return s=_.includes(o.notifyReleaseStages,o.releaseStage),_.isString(l)||(l=""),c=t.translate(l),l.length>0&&_.isString(c)?c=c.replace(r.i18nVariables,function(e,t){return _.noop(e),!_.isEmpty(t)&&Number(t)?u[t-1]:!_.isEmpty(t)&&_.isString(t)?i[t]:""}):s?(t.isI18nDataSet()&&n.info("UnknownI18nKey"+a+l),c=l.replace(/_/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();
})):c=a+l,e.trustAsHtml(c)},l.$stateful=!0,l}])}(window.angular),function(e){"use strict";e.module("common.utilities.valueByPath",[]).value("valueByPath",function(e,t){var n,r;return t=t.replace(/'?\]/g,"").replace(/\['?/g,"."),n=t.split("."),r=e,_.forEach(n,function(e){r=_.isObject(r)?r[e]:void 0}),r}).value("setValueByPath",function(e,t,n){var r,i,o;t=t.replace(/'\]/g,"").replace(/\['/g,"."),r=t.split("."),i=r.pop(),o=e,_.forEach(r,function(e){var t,n=e.match(/^([^[]+)+\[([0-9]+)\]$/);n&&(e=n[1],t=n[2],_.isUndefined(o[e])&&(o[e]=[]),o=o[e],e=t),_.isUndefined(o[e])&&(o[e]={}),o=o[e]}),o[i]=n})}(window.angular),function(e){"use strict";function t(e,t){var n=this;n.desktopImgSrc=t.staticImages.desktopImg,n.mobileImgSrc=t.staticImages.mobileImg,n.closeModal=function(){e.close()}}t.$inject=["$uibModalInstance","mtConstants"],e.module("paneraOrdering.account.menuTransitionsAlert.mtModal.controller",["mtModal.controller.html","paneraOrdering.account.menuTransitionsAlert.constants"]).controller("MtModalController",t)}(window.angular),function(e){"use strict";e.module("account.myCards.card",["card.html","common.services.formBuilderService","common.services.localeService","common.services.modalService","common.services.cafeHours","common.utilities.translate","common.utilities.constants","schemaForm","schemaForm-formErrors"]).directive("card",["$filter","formBuilderService","localeService","modalService","cafeHours","monthsOfYear","supportedCardTypes","cardDateFormats","paneraUrls","staticImages",function(e,t,n,r,i,o,a,s,c,l){return{restrict:"E",scope:{cardInfo:"=",gcIsEnabled:"=",setDefaultCreditCard:"&",deleteStoredCard:"&",updateStoredCard:"&"},templateUrl:"card.html",link:function(u){function d(){var e,t=[],n=i.getCafeCurrentTime().year();for(e=0;10>e;e+=1)t[e]=(n+e).toString();return t}function p(){var n,r,i={},c={},l={},p={},m={},f={};c[tv4.errorCodes.OBJECT_REQUIRED]="CC_CARD_HOLDER_REQUIRED",l[tv4.errorCodes.STRING_LENGTH_LONG]="CC_NUMBER_TOO_LONG",l[tv4.errorCodes.STRING_PATTERN]="CC_NUMBER_INVALID_CHARACTER",l[tv4.errorCodes.OBJECT_REQUIRED]="CC_NUMBER_REQUIRED",p[tv4.errorCodes.OBJECT_REQUIRED]="CC_TYPE_REQUIRED",m[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_MONTH_REQUIRED",f[tv4.errorCodes.OBJECT_REQUIRED]="CC_EXP_YEAR_REQUIRED",u.options={formDefaults:{validationMessage:i}},u.schema={type:"object",title:"Edit Credit Card",required:["cardHolderName","expirationDate"],properties:{cardHolderName:{title:"Card Holder Name",type:"string"},cardName:{title:"Card Nick Name",type:"string"},cardType:{title:"Card Type",type:"string","enum":a},cardNum:{title:"Card Number",type:"string"},expirationDate:{title:"Expiration Date",type:"object",required:["month","year"],properties:{month:{title:"Month",type:"string","enum":o},year:{title:"Year",type:"string","enum":d()}}}}},u.errors=[],n=[{value:void 0,name:e("translate")("MONTH_CAPITALIZED")}].concat(t.buildTitleMap(e("orderBy")(o))),r=[{value:void 0,name:e("translate")("YEAR_CAPITALIZED")}].concat(t.buildTitleMap(d())),u.form=[{type:"section",htmlClass:"row",items:[{type:"formErrors",errors:u.errors}]},{type:"section",htmlClass:"row",items:[{title:"CARD_NICK_NAME",key:"cardName",type:"text",htmlClass:"col-xs-12 col-sm-5",placeholder:"CARD_NICK_NAME"},{title:"CARD_HOLDER_NAME",key:"cardHolderName",type:"text",htmlClass:"col-xs-12 col-sm-7",placeholder:"CARD_HOLDER_NAME",validationMessage:c},{title:"CARD_NUMBER",feedback:!1,key:"cardNum",type:"text",htmlClass:"col-xs-12 col-sm-4",placeholder:"CARD_NUMBER",readonly:!0,validationMessage:l,imageKey:"cardType"},{key:"expirationDate",title:"EXPIRATION_DATE",htmlClass:"col-xs-12 col-sm-4",items:[{key:"expirationDate.month",notitle:!0,feedback:!1,type:"select",htmlClass:"col-xs-6",translateTitleMap:!1,titleMap:n,validationMessage:m},{key:"expirationDate.year",notitle:!0,feedback:!1,type:"select",htmlClass:"col-xs-6",translateTitleMap:!1,titleMap:r,validationMessage:f}]}]},{type:"section",htmlClass:"row",items:[{title:"CANCEL",type:"button",onClick:"cancel()",style:"btn-default col-xs-5 col-sm-2 add-stored-cc",readonly:!1},{title:"SAVE",type:"submit",style:"btn-primary col-xs-5 col-sm-2 add-stored-cc",readonly:!1}]}],u.model={cardName:u.cardInfo.cardName,cardHolderName:u.cardInfo.cardHolderName,cardType:u.cardInfo.cardType,cardNum:"XXXX-XXXX-XXXX-"+u.cardInfo.lastFour,expirationDate:{month:moment(u.cardInfo.expDate,s.mmYyWithSlash).format(s.mm),year:moment(u.cardInfo.expDate,s.mmYyWithSlash).format(s.yyyy)}},t.preProcess(u.options,u.form)}function m(){var e={},n={};n[tv4.errorCodes.OBJECT_REQUIRED]="GC_CARD_NUMBER_REQUIRED",n[tv4.errorCodes.STRING_LENGTH_LONG]="GC_NUMBER_TOO_LONG",u.options={formDefaults:{validationMessage:e}},u.schema={type:"object",title:"Edit Gift Card",required:["cardNum"],properties:{cardName:{title:"Card Nick Name",type:"string"},cardNum:{title:"Card Number",type:"string",maxlength:19}}},u.errors=[],u.form=[{type:"section",htmlClass:"row",items:[{type:"formErrors",errors:u.gcErrors}]},{type:"section",htmlClass:"row",items:[{title:"CARD_NICK_NAME",key:"cardName",type:"text",htmlClass:"col-xs-12 col-sm-5",placeholder:"CARD_NICK_NAME",readonly:!1},{title:"CARD_NUMBER",key:"cardNum",type:"text",htmlClass:"col-xs-12 col-sm-7",placeholder:"CARD_NUMBER",readonly:!0,validationMessage:n}]},{type:"section",htmlClass:"row",items:[{title:"CANCEL",type:"button",onClick:"cancel()",style:"btn-default col-xs-5 col-sm-2 btn-stored-gc",readonly:!1},{title:"SAVE",type:"submit",style:"btn-primary pull-right col-xs-5 col-sm-2 btn-stored-gc",readonly:!1}]}],u.model={cardName:u.cardInfo.cardName,cardNum:u.cardInfo.cardNum},t.preProcess(u.options,u.form)}var f=e("translate");u.showEditFormBool=!1,u.disableDeleteBtn=!1,u.paneraUrls=c,u.payPalLogo=l.payPal.logo.medium,u.cancel=function(){u.showEditFormBool=!1},u.showEditForm=function(){u.showEditFormBool=!0},u.deleteCard=function(){r.show({size:"sm"},{closeButtonText:"NO",actionButtonText:"YES",headerText:void 0,bodyText:"DELETE_FAVORITE_DESC"}).then(function(){u.disableDeleteBtn=!0,u.deleteStoredCard({card:u.cardInfo}).then(function(){u.disableDeleteBtn=!1})})},u.updateCard=function(e,t){var n;t?n=u.cardInfo:(n=u.model,n.tokenValue=u.cardInfo.tokenValue),n.tokenType=u.cardInfo.tokenType,u.updateStoredCard({form:e,card:n,errors:u.errors,schemaForm:u.form})},n.onI18nDataChange(u,function(){u.payPal=f("PAYPAL"),u.gift=f("GIFT"),u.exp=f("EXP"),u.defaultCreditCard=f("DEFAULT_CREDIT_CARD"),u.defaultGiftCard=f("DEFAULT_GIFT_CARD"),u.defaultPayPal=f("DEFAULT_PAYPAL"),u.balance=f("BALANCE"),u.reload=f("RELOAD"),u.edit=f("EDIT"),u["delete"]=f("DELETE"),u.cardInfo.isGiftCard?m():p()})}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=t("translate");n.onI18nDataChange(e,function(){i.orderDisplay=r.formatAddressDisplay(i.order),i.orderDisplay.status=r.formatStatus(i.order),i.orderDisplay.fulfillmentTime=r.formatFulfilmentTime(i.order.groupSummary.orderFulfillmentDT,i.order.cafes[0].cafeTZ,i.order.groupSummary.rangeInterval),i.orderType=r.orderTypeDisplay(i.order),i.orderDisplay.orderType=o(i.orderDisplay.orderType),i.orderDisplay.status.message=o(i.orderDisplay.status.message)})}t.$inject=["$scope","$filter","localeService","goDisplayService"],e.module("account.myGroupOrders.groupOrderPlacard",["groupOrderPlacard.html","common.utilities.filters","common.utilities.translate","common.services.localeService","paneraOrdering.groupOrder.goDisplayService"]).component("groupOrderPlacard",{bindings:{order:"="},templateUrl:"groupOrderPlacard.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i){var o,a,s=this,c=t("translate");"REDEEMED"===s.reward.status?(o="REDEEMED_ON",s.rewardIcon=i.globalIcons.checkWhite):(o="EXPIRED_ON",s.rewardIcon=null),a=n(s.reward.earnedDate).format("MM/DD/YY"),r.onI18nDataChange(e,function(){s.i18n={REWARD_EXPIRED:c("REWARD_EXPIRED"),EARNED_DATE_LABEL:c(o,[a])}})}t.$inject=["$scope","$filter","moment","localeService","staticImages"],e.module("account.myRewards.pastRewardPlacard.component",["pastRewardPlacard.component.html","common.services.localeService","common.utilities.constants"]).component("pastRewardPlacard",{templateUrl:"pastRewardPlacard.component.html",controller:t,bindings:{reward:"<"}})}(window.angular),function(e){"use strict";e.module("account.myRewards.rewardPlacard",["rewardPlacard.html","rewardDescription.html","common.utilities.translate","common.utilities.filters","common.factories.media","ui.bootstrap.popover","ui.bootstrap.tpls"]).directive("rewardPlacard",["mediaFactory",function(e){return{restrict:"E",scope:{sidePanel:"=",reward:"=",redeem:"&"},templateUrl:"rewardPlacard.html",link:function(t){e.onViewPortChange(t,function(e){t.trigger=e?"click":"mouseenter"})}}}])}(window.angular),function(e){"use strict";e.module("builder.customizationNav.instructionGroup",["instructionGroup.html","common.utilities.translate"]).directive("instructionGroup",["$filter",function(e){return{restrict:"E",scope:{selection:"=",specialInstructions:"=",isSelected:"="},templateUrl:"instructionGroup.html",link:function(t){function n(){t.isSelected=!0}function r(){return _.size(t.title)>0}t.makeSelection=n,t.shouldAlterTitle=r,t.$watch("selection.preparation",function(n){var r=n;t.title="",r>=0&&(t.title+=e("translate")(t.specialInstructions.preparation.instructions[r].i18nName))},!0)}}}])}(window.angular),function(e){"use strict";e.module("builder.customizationNav.itemGroup",["itemGroup.html","ui.bootstrap.popover","ui.bootstrap.tpls","common.utilities.translate"]).directive("itemGroup",[function(){return{restrict:"E",scope:{selectedId:"=",modGroups:"=",popular:"=",hasError:"&"},templateUrl:"itemGroup.html",link:function(e){function t(t){e.selectedId=t}e.setId=t}}}])}(window.angular),function(e){"use strict";e.module("builder.customizationNav.sideGroup",["sideGroup.html","common.utilities.translate"]).directive("sideGroup",[function(){return{restrict:"E",scope:{isSelected:"=",selectedSideName:"=",calories:"=",errors:"=",hasError:"&"},templateUrl:"sideGroup.html",link:function(e){function t(){e.isSelected=!0}e.makeSelection=t}}}])}(window.angular),function(e){"use strict";e.module("builder.selector.instructionSelection",["instructionSelection.html","common.utilities.constants","common.utilities.filters","common.utilities.translate","common.services.allergensService.service"]).directive("instructionSelection",["formBuilderService","allergensService","localeService","configService","regexes","$q",function(e,t,n,r,i,o){return{restrict:"A",replace:!0,scope:{selection:"=",data:"=",info:"="},templateUrl:"instructionSelection.html",link:function(a){function s(){return _.map(a.allergens,function(e){return{value:e,name:e}})}function c(){var t={};t[tv4.errorCodes.STRING_PATTERN]="SPECIAL_INSTRUCTIONS_INVALID_CHARACTER",t[tv4.errorCodes.STRING_LENGTH_LONG]="SPECIAL_INSTRUCTIONS_MAX_LENGTH",a.options={formDefaults:{}},a.schema={type:"object",properties:{name:{type:"string",maxLength:38,pattern:i.validSpecialInstructions},instructions:{type:"string",maxLength:200,pattern:i.validSpecialInstructions},allergens:{"enum":a.allergens}}},a.form=[{type:"formErrors",errors:a.errors},{key:"name",type:"text",title:"YOUR_NAME_TITLE",placeholder:"YOUR_NAME_TITLE",maxLength:38},{key:"instructions",type:"text",title:"SPECIAL_INSTRUCTIONS",placeholder:"SPECIAL_INSTRUCTIONS",maxLength:200},{type:"checkboxes",key:"allergens",title:"ALLERGENS",condition:"allergens.length > 0",disableSuccessState:!0,disableErrorState:!0,titleMap:s()}],a.model={allergens:a.selection.allergens},a.selection.name=a.selection.name||"",a.selection.instructions=a.selection.instructions||"",a.selection.allergens=a.selection.allergens||[],e.preProcess(a.options,a.form)}function l(e){a.selection.preparation=e,_.isEmpty(a.data.preparation.instructions[e].items)||(a.info.type="preparation-selection")}var u=o.defer();r.fetchConfig().then(function(e){e.allergensIsEnabled?t.getAllergens().then(function(e){a.allergens=e,u.resolve(!0)}):u.resolve(!0)}),n.onI18nDataChange(a,function(){o.resolve(u.promise,function(){c()})}),a.setPreparationSelection=l}}}])}(window.angular),function(e){"use strict";e.module("builder.selector.itemSelection",["itemSelection.html","common.utilities.translate","common.factories.stockoutFactory","common.utilities.filters","ui.bootstrap.dropdown"]).directive("itemSelection",["$filter","stockoutFactory",function(t,n){return{restrict:"A",replace:!0,scope:{data:"=",selection:"=",info:"=",rules:"=",correlatedItemPrices:"=",availableSubs:"="},templateUrl:"itemSelection.html",link:{pre:function(e){function n(t){var n=_.get(e.data,"isDefault");return n?_.round(e.variantPrices[t.itemId]-e.variantPrices[e.data.modItemId],2):e.variantPrices[t.itemId]}var r=t("translate"),i=t("upcharge");e.formatVariant=function(e){return r(e.i18nBtnLbl)+i(n(e))}},post:function(t){function r(){return null===t.info.groupId?t.data.modGroupId:t.info.groupId}function i(){var n=_.find(t.selection.selectedComponents,{modGroupId:r(),modItemId:t.data.modItemId});e.isDefined(n)?(t.localData.selectedVariant=_.find(t.variants,{itemId:n.variantId}),t.localData.isSelected=!_.isUndefined(t.localData.selectedVariant)):(t.localData.selectedVariant=_.find(t.data.variants,{itemId:t.data.defaultVariant})||{},t.localData.isSelected=!1)}function o(){return _.filter(t.data.variants,function(e){return"sub"!==(e.variantType||"").toLowerCase()&&"no"!==(e.variantType||"").toLowerCase()})}function a(){return _.size(t.variants)>1&&t.localData.isSelected}function s(){return _.isUndefined(t.rules)||1!==t.rules.maxAllowed||1!==t.rules.minAllowed}function c(){var n;n=t.isMultipleSelection()?_.find(t.selection.selectedComponents,{modGroupId:r(),modItemId:t.data.modItemId}):_.find(t.selection.selectedComponents,{modGroupId:r()}),t.localData.isSelected&&e.isDefined(n)?(n.modItemId=t.data.modItemId,n.variantId=t.localData.selectedVariant.itemId):t.localData.isSelected?t.selection.selectedComponents.push({modGroupId:r(),modItemId:t.data.modItemId,variantId:t.localData.selectedVariant.itemId,quantity:1}):!t.isMultipleSelection()&&n.modItemId!==t.data.modItemId||_.isUndefined(n)||_.remove(t.selection.selectedComponents,n)}function l(){t.isMultipleSelection()||(t.localData.isSelected=!0,c())}function u(n){t.localData.selectedVariant=n,e.isDefined(n)&&"no"===n.variantType.toLowerCase()?t.localData.isSelected=!1:c()}t.localData={selectedVariant:{},isSelected:!1},t.variantPrices={},t.variants=o(),t.shouldDisplayVariants=a,t.isMultipleSelection=s,t.selectItem=l,t.selectVariant=u,i(),n.onStockoutChange(t,function(e){t.isUnavailable=e.item[t.data.modItemId]&&e.item[t.data.modItemId].isStockedOutForOrderTime}),t.isMultipleSelection()?t.$watch("localData.isSelected",function(){c()}):t.$watch("selection.selectedComponents",function(e,t){e!==t&&i()},!0),t.$watch("[correlatedItemPrices, availableSubs]",function(e){var n,r,i=e[0],a=e[1],s=!1,c=0;_.forEach(o(),function(e){var o=_.find(i,{id:e.itemId});if(_.isUndefined(o)){if(n=_.find(a,function(e){return e.substitutionGroup.toLowerCase()===(t.data.substitutionGroup||"").toLowerCase()}),!_.isUndefined(n)){for(r=0;r<n.priceAdjustments.length&&(s?(c-=n.priceAdjustments[r].adjustment,0>c&&(c=0),o+=c):e.price>n.priceAdjustments[r].price&&(o=e.price-n.priceAdjustments[r].adjustment,n.priceAdjustments[r].price>n.priceAdjustments[r].adjustment&&(o-=n.priceAdjustments[r].price-n.priceAdjustments[r].adjustment),0>o&&(o=0),n.priceAdjustments[r].price>0&&(s=!0)),c=n.priceAdjustments[r].price,!(0>=c));r+=1);s&&(o+=c)}}else o=o.price;t.variantPrices[e.itemId]=_.isUndefined(o)?e.price:o})},!0)}}}}])}(window.angular),function(e){"use strict";e.module("builder.selector.preparationSelection",["preparationSelection.html","common.utilities.translate"]).directive("preparationSelection",[function(){return{restrict:"A",replace:!0,scope:{data:"=",selection:"=",info:"="},templateUrl:"preparationSelection.html",link:function(e){e.selected={id:e.data.variants[0].itemId},e.$watch("selected.id",function(t){e.selection=t},!0)}}}])}(window.angular),function(e){"use strict";e.module("builder.selector.quantitySelection",["quantitySelection.html","common.utilities.translate","common.factories.stockoutFactory"]).directive("quantitySelection",["stockoutFactory",function(e){return{restrict:"A",replace:!0,scope:{data:"=",selection:"=",info:"="},templateUrl:"quantitySelection.html",link:function(t){function n(e){return(_.find(t.data.variants,function(t){return(t.variantType||"").toLowerCase()===e.toLowerCase()})||{}).itemId}function r(){return null===t.info.groupId?t.data.modGroupId:t.info.groupId}function i(e){var n=0;return _.isUndefined(e)?n=0:e!==m||_.isUndefined(m)?e===p?t.quantity-(!_.isUndefined(m)&&t.data.freeAllowed||0)>0&&(n=t.quantity-(!_.isUndefined(m)&&t.data.freeAllowed||0)):n=1:n=t.quantity<(t.data.freeAllowed||0)?t.quantity:t.data.freeAllowed,n}function o(){var e=[],n=[];t.quantity>0?(i(m)>0?e.push(m):n.push(m),i(p)>0?e.push(p):n.push(p),n.push(d)):(!_.isUndefined(d)&&t.data.isDefault&&e.push(d),n.push(null),n.push(m),n.push(p)),_.forEach(n,function(e){var n=_.findIndex(t.selection.selectedComponents,{modGroupId:r(),modItemId:t.data.modItemId,variantId:e});n>0?t.selection.selectedComponents.splice(n,1):0===n&&t.selection.selectedComponents.shift()}),_.forEach(_.compact(e),function(e){var n=_.findIndex(t.selection.selectedComponents,{modGroupId:r(),modItemId:t.data.modItemId,variantId:e});n>=0?t.selection.selectedComponents[n].quantity=i(e):t.selection.selectedComponents.push({modGroupId:r(),modItemId:t.data.modItemId,variantId:e,quantity:i(e)})})}function a(){var e=_.filter(t.selection.selectedComponents,{modGroupId:r(),modItemId:t.data.modItemId}),n=!1;t.quantity=0,_.forEach(e,function(e){e.variantId!==d||_.isUndefined(d)?(t.localData.isSelected=!0,t.quantity+=e.quantity||1):n=!0}),(n||t.isUnavailable&&t.selection.isAssortment)&&(t.quantity=0),t.isUnavailable&&o()}function s(){t.quantity<t.data.maxAllowed&&(t.quantity=t.quantity+1,o())}function c(){t.quantity>t.data.minAllowed&&(t.quantity=t.quantity-1,o())}function l(){t.localData.isSelected=!t.localData.isSelected,t.quantity=t.localData.isSelected?1:0,o()}function u(){return!t.isUnavailable&&t.localData.isSelected}t.localData={isSelected:!1};var d=n("no"),p=n("regular"),m=n("free");t.increaseQty=s,t.decreaseQty=c,t.shouldDisplayQuantitySelector=u,t.selectItem=l,_.isUndefined(t.data.maxAllowed)&&(t.data.maxAllowed=t.info.rules.maxAllowed||999),_.isUndefined(t.data.minAllowed)&&(t.data.minAllowed=t.info.rules.minAllowed||0),t.data.minAllowed<0&&(t.data.minAllowed=0),e.onStockoutChange(t,function(e){t.isUnavailable=Boolean(e.item[t.data.modItemId]&&e.item[t.data.modItemId].isStockedOutForOrderTime),a()})}}}])}(window.angular),function(e){"use strict";e.module("builder.selector.sideSelection",["sideSelection.html","common.factories.stockoutFactory","common.utilities.filters","common.utilities.translate","common.utilities.constants"]).directive("sideSelection",["stockoutFactory","staticImages",function(e,t){return{restrict:"A",replace:!0,scope:{data:"=",selection:"=",info:"=",updateSelectedSide:"&"},templateUrl:"sideSelection.html",link:function(n){n.yogurtImage=t.globalIcons.yogurt,n.selectSide=function(){n.isUnavailable||(n.selection.selectedSide=n.data.itemId,n.updateSelectedSide&&n.updateSelectedSide({newSideId:n.selection.selectedSide}))},e.onStockoutChange(n,function(e){n.isUnavailable=e.item[n.data.itemId]&&e.item[n.data.itemId].isStockedOutForOrderTime})}}}])}(window.angular),function(e){"use strict";function t(e,t,n){var r=this,i=t("translate");n.onI18nDataChange(e,function(){r.i18n={AVAILABLE_HERE:i("AVAILABLE_HERE"),FREE_WI_FI:i("FREE_WI_FI"),CATERING:i("CATERING"),COMMUNITY_ROOMS:i("COMMUNITY_ROOMS"),DRIVE_THRU:i("DRIVE_THRU"),ORDER:i("ORDER")}})}t.$inject=["$scope","$filter","localeService"],e.module("paneraOrdering.cafeLocator.cafeMap.cafeMapInfoBox.component",["cafeMapInfoBox.component.html","common.services.localeService"]).component("cafeMapInfoBox",{templateUrl:"cafeMapInfoBox.component.html",controller:t,bindings:{cafe:"=",setCafe:"&"}})}(window.angular),function(e){"use strict";e.module("checkout.summaryPlacard.placardInfo",["placardInfo.html","common.utilities.translate","common.utilities.filters"]).directive("placardInfo",[function(){return{restrict:"E",scope:{confirmed:"=",sideItem:"=",cartItem:"=",itemPrefix:"=",itemIndex:"="},templateUrl:"placardInfo.html",link:function(e){function t(){e.defaultComponents=[],_.forEach(e.cartItem.selectedComponents,function(t){var n=_.find(e.cartItem.items,{id:t.variantId})||_.find(e.cartItem.items,{id:t.modItemId});(_.isUndefined(n)||"default"===n.itemType.toLowerCase())&&e.defaultComponents.push(t)})}function n(){e.additionalComponents=[],_.forEach(e.cartItem.items,function(t){"add"===t.itemType.toLowerCase()&&e.additionalComponents.push(t)})}function r(){e.removedComponents=[],_.forEach(e.cartItem.items,function(t){"remove"===t.itemType.toLowerCase()?e.removedComponents.push(t):t.originalI18nName&&e.removedComponents.push({i18nName:t.originalI18nName})})}e.defaultComponents=[],e.additionalComponents=[],e.removedComponents=[],e.packagedForKeys={HERE:"DINE_IN",TO_GO:"TAKE_OUT"},e.$watch("cartItem.selectedComponents",function(){t(),n(),r()},!0)}}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(){s.order=r.getGroupOrderHeader(),s.numCarts=s.order.groupGuestOrders&&s.order.groupGuestOrders.length||0,s.ordersPlaced=c(1===s.numCarts?"X_ORDER_PLACED":"X_ORDERS_PLACED",[s.numCarts])}function a(e,t){i.show({templateUrl:"alert.html",controller:"AlertController",backdrop:"static",keyboard:!1,size:"sm"},{headerText:e,bodyText:t})}var s=this,c=t("translate");s.removeCart=function(e){var t=_.get(_.find(s.order.groupGuestOrders,{orderId:e}),"tokenId");t&&r.removeCartFromOrder(t,s.order.tokenId).then(function(){r.getGroupOrderByToken(r.getActiveToken())})["catch"](function(){a("ERROR","CANNOT_REMOVE_IND_ORDER")})},n.onI18nDataChange(e,function(){s.i18n={ORDER_TOTAL_AMOUNT:c("ORDER_TOTAL_AMOUNT"),ADD_ME_TO_ORDER:c("ADD_ME_TO_ORDER"),PEOPLE:c("PEOPLE"),PERSON:c("PERSON"),ME:c("ME"),ORDER_TOTAL:c("ORDER_TOTAL"),OTHER_PARTICIPANTS_APPEAR_HERE:c("OTHER_PARTICIPANTS_APPEAR_HERE"),PARTICIPANTS:c("PARTICIPANTS"),REMOVE_FROM_ORDER:c("REMOVE_FROM_ORDER"),TOTAL:c("TOTAL"),SUBTOTAL:c("SUBTOTAL"),DELIVERY_FEE:c("DELIVERY_FEE"),TIP:c("TIP"),TAX:c("TAX"),ORDER:c("ORDER")},o()}),r.onGroupOrderChange(e,o)}t.$inject=["$scope","$filter","localeService","groupOrderService","modalService"],e.module("paneraOrdering.groupOrder.goDashboard.goCartPanel",["goCartPanel.html","common.services.localeService","common.services.modalService","paneraOrdering.groupOrder.groupOrderService","common.utilities.modals.alert","paneraOrdering.groupOrder.goDashboard.goCartPanel.goCartDetails"]).component("goCartPanel",{templateUrl:"goCartPanel.html",controller:t,bindings:{carts:"<",groupToken:"<",startOrder:"&",isAdminOrdered:"<",participantToken:"<",customerInfo:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(){o.isToday=r.isToday(c.orderFulfillmentDT,s),o.orderFulfillmentTime=r.formatFulfilmentTime(c.orderFulfillmentDT,s,l,!0)}var o=this,a=t("translate"),s=_.get(o.groupOrder,"cafes[0].cafeTZ"),c=_.get(o.groupOrder,"groupSummary",{}),l=c.rangeInterval;n.onI18nDataChange(e,function(){o.i18n={ORDER_CUTOFF:a("ORDER_CUTOFF"),FOR_DELIVERY_BY:a("FOR_DELIVERY_BY")},i()})}t.$inject=["$scope","$filter","localeService","goDisplayService"],e.module("paneraOrdering.groupOrder.goDashboard.goDashboardTimes.component",["goDashboardTimes.html","paneraOrdering.groupOrder.goDeadline","paneraOrdering.groupOrder.goDisplayService","common.services.localeService"]).component("goDashboardTimes",{templateUrl:"goDashboardTimes.html",controller:t,bindings:{groupOrder:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=t("translate"),a=_.get(i.groupOrder,"groupSummary",{});i.$onInit=function(){i.address=r.formatAddressDisplay(i.groupOrder),i.groupOrderName=a.groupOrderName},n.onI18nDataChange(e,function(){i.i18n={DELIVERY_DETAILS:o("DELIVERY_DETAILS")}})}t.$inject=["$scope","$filter","localeService","goDisplayService"],e.module("paneraOrdering.groupOrder.goDashboard.goDeliveryDetails.component",["goDeliveryDetails.html","paneraOrdering.groupOrder.goDisplayService","common.services.localeService"]).component("goDeliveryDetails",{templateUrl:"goDeliveryDetails.html",controller:t,bindings:{groupOrder:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(){var e;switch(o.contentType){case"order":o.sectionTitle=o.i18n.GROUP_ORDER_TYPE,o.subTitle=o.order.groupSummary.groupOrderName,o.orderDisplay=r.formatAddressDisplay(o.order),o.orderDisplay.orderType=a(o.orderDisplay.orderType);break;case"menu":o.sectionTitle=o.i18n.MENU,o.isAdmin?o.contentText=o.i18n.YOUR_GUESTS_WILL_SEE_MENU:o.contentText=o.i18n.ORDER_FROM_DAYPART_MENU,o.subTitle=o.order.groupSummary.orderDaypart;break;case"time":o.sectionTitle=o.i18n.DETAILS,o.subTitle=o.order.groupSummary.minParticipants+" - "+o.order.groupSummary.maxParticipants+" "+o.i18n.PEOPLE,e=r.formatFulfilmentTime(o.order.groupSummary.orderFulfillmentDT,o.order.cafes[0].cafeTZ,o.order.groupSummary.rangeInterval),o.orderTime=a("DELIVERY_TIME:_X",[e]),o.contentText="";break;case"placingOrder":o.sectionTitle=o.i18n.PLACING_ORDER,o.orderTime=r.formatFulfilmentTime(o.order.groupSummary.orderFulfillmentDT,o.order.cafes[0].cafeTZ),o.subTitle=a("YOU_MUST_PLACE_ORDER",[r.formatDeadlineTime(o.order.groupSummary.orderCutoffDT,o.order.cafes[0].cafeTZ)]);break;case"payment":o.sectionTitle=o.i18n.GROUP_PAYMENT,o.order.groupOptions.isAdminPay?o.isAdmin?o.subTitle=o.i18n.YOU_ARE_PAYING_FOR_ORDER:o.subTitle=o.i18n.ORGANIZER_PAYING_FOR_ORDER:o.subTitle=o.i18n.EVERYONE_PAYING_INDIVIDUALLY;break;default:o.sectionTitle="",o.contentText="",o.subTitle=""}}var o=this,a=t("translate");n.onI18nDataChange(e,function(){o.i18n={GROUP_ORDER_TYPE:a("GROUP_ORDER_TYPE"),MENU:a("MENU"),YOUR_GUESTS_WILL_SEE_MENU:a("YOUR_GUESTS_WILL_SEE_MENU",[o.order.groupSummary.orderDaypart]),ORDER_FROM_DAYPART_MENU:a("ORDER_FROM_DAYPART_MENU",[o.order.groupSummary.orderDaypart]),GROUP_PAYMENT:a("GROUP_PAYMENT"),YOU_ARE_PAYING_FOR_ORDER:a("YOU_ARE_PAYING_FOR_ORDER"),ORGANIZER_PAYING_FOR_ORDER:a("ORGANIZER_PAYING_FOR_ORDER"),DETAILS:a("DETAILS"),PLACING_ORDER:a("PLACING_ORDER"),PEOPLE:a("PEOPLE"),EVERYONE_PAYING_INDIVIDUALLY:a("EVERYONE_PAYING_INDIVIDUALLY"),DELIVERY_TIME:a("DELIVERY_TIME:")},i()})}t.$inject=["$scope","$filter","localeService","goDisplayService"],e.module("paneraOrdering.groupOrder.goDashboard.goInfoPanel",["goInfoPanel.html","common.services.localeService","paneraOrdering.groupOrder.goDisplayService"]).component("goInfoPanel",{templateUrl:"goInfoPanel.html",controller:t,bindings:{contentType:"<",order:"<",isAdmin:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l){function u(){var e=moment(d.groupOrderDeadline),t=e.format(c.time),n=e.format(c.date),r=p("GO_INVITE_EMAIL_COPY",[t,n,d.inviteLink]);return encodeURIComponent(r)}var d=this,p=t("translate");d.$onInit=function(){d.isClipSupported=a.supported,d.imgSrc={email:s.globalIcons.email,link:s.globalIcons.link},d.desktopOverlayId=i.generateOverlayId(),d.mobileOverlayId=i.generateOverlayId()},r.onI18nDataChange(e,function(){d.i18n={INVITE_OTHERS_TO_ORDER:p("INVITE_OTHERS_TO_ORDER"),EMAIL_OR_TEXT_THIS_LINK:p("EMAIL_OR_TEXT_THIS_LINK"),OR_SEND_BY_EMAIL:p("OR_SEND_BY_EMAIL"),COPY_LINK:p("COPY_LINK"),GO_INVITE_VIA_EMAIL:p("GO_INVITE_VIA_EMAIL"),COPIED:p("COPIED")},d.inviteLink=l.groupOrderInvite.replace(":hostUrl",n.host()).replace(":token",d.groupToken).replace(":protocol",n.protocol()),d.mailtoLink="mailto:?subject="+p("INVITE_EMAIL_SUBJECT")+"&body="+u()}),d.success=function(){i.showOverlay({overlayId:"xs"===o.getViewPort()?d.mobileOverlayId:d.desktopOverlayId,message:_.get(d,"i18n.COPIED"),icon:"fa fa-check"})}}t.$inject=["$scope","$filter","$location","localeService","actionOverlayService","mediaFactory","clipboard","staticImages","dateTimeFormats","paneraUrls"],e.module("paneraOrdering.groupOrder.goDashboard.goInvite",["goInvite.html","angular-clipboard","common.services.localeService","common.utilities.constants","common.components.actionOverlay.component","common.components.actionOverlay.service","common.factories.media"]).component("goInvite",{templateUrl:"goInvite.html",controller:t,bindings:{groupOrderDeadline:"<",groupToken:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){var c=this,l=e("translate");c.clearCafe=function(){i.clearCafe(),c.cafe=void 0,c.deliveryInfo=void 0,c.isCafeSelected=!1,c.showNavButtons=!1},c.selectCafe=function(e){i.selectCafe(e),i.next()},c.startIndividualOrder=i.startIndividualOrder,o.onOrderTypeChange(t,function(){c.isDelivery=o.isDelivery(),c.isDelivery&&(c.deliveryInfo=i.getDeliveryInfo()),c.isRapidPickup=o.isRapidPickup(),c.featuresFilter=o.getOrderTypeDetails().groupFeature}),n.onCafeChange(t,function(e){i.isCafeSelected()?(c.cafe=e,c.isCafeSelected=!0,c.showNavButtons=!0):(c.cafe=void 0,c.deliveryInfo=void 0,c.isCafeSelected=!1,c.showNavButtons=!1)}),a.onI18nDataChange(t,function(){c.i18n={GIVE_YOUR_GROUP_A_NAME:l("GIVE_YOUR_GROUP_A_NAME"),CAFE_ADDRESS:l("CAFE_ADDRESS"),YOUR_DELIVERY_ADDRESS:l("YOUR_DELIVERY_ADDRESS"),CHANGE_ADDRESS:l("CHANGE_ADDRESS"),GROUP_NAME:l("GROUP_NAME")}}),c.enabledOrderTypes=o.getGroupOrderTypes(),c.shouldSelectOrderType=c.enabledOrderTypes.length>1,c.currentLocation=r.getCurrentLocation(),c.mapCenter={},c.confirmImg=s.globalIcons.confirm}t.$inject=["$filter","$scope","cafeLocatorFactory","cafeSearchService","groupOrderFlowService","orderTypeService","localeService","staticImages"],e.module("paneraOrdering.groupOrder.goFlow.goOrderType",["goOrderType.html","common.factories.cafeLocator","common.services.cafeSearchService","paneraOrdering.groupOrder.groupOrderFlowService","common.services.orderTypeService","common.services.localeService","orderFlow.orderProcess.orderType","orderFlow.orderProcess.deliveryAddress","paneraOrdering.cafeLocator.cafeSelector","common.utilities.constants"]).component("goOrderType",{templateUrl:"goOrderType.html",controller:t,bindings:{showNavButtons:"="}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){var a=this,s=t("translate"),c=r.getGroupOrderHeader(),l=moment(c.cutoffTime);a.cleanseSpendingLimitInput=function(){a.spendingLimit=a.spendingLimit&&a.spendingLimit.toString().replace(i.nonNumericOrDecimal,"")},a.setSpendingLimit=function(){a.spendingLimit=a.spendingLimit&&(+a.spendingLimit).toFixed(2),r.setSpendingLimit(+a.spendingLimit)},a.setLeaderPays=function(e){r.setLeaderPays(e),a.leaderReview=e},n.onI18nDataChange(e,function(){a.i18n={WHO_WILL_PAY:s("WHO_WILL_PAY"),PAY_INDIVIDUALLY:s("PAY_INDIVIDUALLY"),I_WILL_PAY:s("I_WILL_PAY"),APPROVAL_OPTIONS:s("APPROVAL_OPTIONS"),AUTOMATICALLY_PLACE_ORDER:s("AUTOMATICALLY_PLACE_ORDER"),ORDER_WILL_BE_SUBMITTED_AUTOMATICALLY_AT:s("ORDER_WILL_BE_SUBMITTED_AUTOMATICALLY_AT",[l.format(o.dateAtTime),l.format(o.time)]),I_WANT_TO_REVIEW_ORDER:s("I_WANT_TO_REVIEW_ORDER"),YOU_WILL_NEED_TO_PLACE_ORDER_BY:s("YOU_WILL_NEED_TO_PLACE_ORDER_BY",[l.format(o.dateAtTime)]),SET_A_SPENDING_LIMIT:s("SET_A_SPENDING_LIMIT"),SPENDING_LIMITS_ARE_PRETAX:s("SPENDING_LIMITS_ARE_PRETAX")}}),a.setLeaderReview=r.setLeaderReview,a.leaderPays=c.leaderPays,a.leaderReview=c.leaderReview,a.cost={total:{balance:r.getEstimatedOrderTotal()}}}t.$inject=["$scope","$filter","localeService","groupOrderService","regexes","dateTimeFormats"],e.module("paneraOrdering.groupOrder.goFlow.goPayment",["goPayment.html","common.services.localeService","paneraOrdering.groupOrder.groupOrderService","common.utilities.constants","checkout.creditCard","ui.bootstrap.buttons"]).component("goPayment",{templateUrl:"goPayment.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=t("translate");i.steps=n.getOrderFlowSteps(),
i.currentStep=n.getCurrentStep(),n.onStepChange(e,function(e){i.currentStep=e}),r.onI18nDataChange(e,function(){i.steps=_.map(i.steps,function(e){return e.displayName=o(e.i18n),e})})}t.$inject=["$scope","$filter","groupOrderFlowService","localeService"],e.module("paneraOrdering.groupOrder.goFlow.goProgress",["goProgress.html","paneraOrdering.groupOrder.groupOrderFlowService","common.services.localeService"]).component("goProgress",{templateUrl:"goProgress.html",controller:t})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){var c=this,l=t("translate"),u=i.getGroupSizes(),d=i.getCafeTimezone();c.setGroupSize=function(e){var t=i.getGroupSize();t&&e===t.i18nName||(c.newGroupSize=_.find(u,{i18nName:e}),i.setGroupSize(c.newGroupSize))},c.previous=i.previous,c.goToPaneraCatering=function(){o.trackAdminAction("Catering Call to Action"),n.location.href=s.catering},c.onTimeSelect=function(e){var t;e?(t=i.calculateCutoffTime(e),c.orderCutoffTime=a.formatDeadlineTime(t,d,!0)):c.orderCutoffTime=void 0},r.onI18nDataChange(e,function(){c.i18n={HOW_MANY_PEOPLE_IN_YOUR_GROUP:l("HOW_MANY_PEOPLE_IN_YOUR_GROUP"),FOR_GROUPS_OF_X_OR_MORE:l("FOR_GROUPS_OF_X_OR_MORE",[_.last(u).max+1]),TRY_PANERA_CATERING:l("TRY_PANERA_CATERING"),NUMBER_OF_PEOPLE_WILL_DETERMINE:l("NUMBER_OF_PEOPLE_WILL_DETERMINE"),PREVIOUS:l("PREVIOUS"),WHATS_YOUR_ORDER_CUTOFF_TIME:l("WHATS_YOUR_ORDER_CUTOFF_TIME"),MAKE_SURE_EVERYONE_ORDERS_BY:l("MAKE_SURE_EVERYONE_ORDERS_BY")},c.groupOrderSizes=_.map(u,function(e){return c.i18n[e.i18nName]=l(e.i18nName),e.i18nName})}),c.showNavButtons=!1}t.$inject=["$scope","$filter","$window","localeService","groupOrderFlowService","groupOrderService","goDisplayService","paneraUrls"],e.module("paneraOrdering.groupOrder.goFlow.goTime",["goTime.html","common.services.localeService","paneraOrdering.groupOrder.groupOrderFlowService","paneraOrdering.groupOrder.groupOrderService","paneraOrdering.groupOrder.goDisplayService","common.utilities.constants","orderFlow.orderProcess.orderTime","ui.bootstrap.buttons"]).component("goTime",{templateUrl:"goTime.html",controller:t,bindings:{showNavButtons:"="}})}(window.angular),function(e){"use strict";function t(){var e=[],t=0;this.filterRequest=function(n){var r;for(r=0;t>r;r+=1)n=e[r].filter(n);return n},this.addFilter=function(n,r){var i={key:n,filter:r};e.push(i),t=e.length},this.removeFilter=function(n){_.remove(e,{key:n}),t=e.length}}e.module("paneraOrdering.groupOrder.goHttpInterceptor.goHttpInterceptorFilterService",[]).service("goHttpInterceptorFilterService",t)}(window.angular),function(e){"use strict";e.module("menu.menuContent.myPaneraContent",["myPaneraContent.html","account.myRewards","account.myPastOrders","account.myFavorites.component","paneraOrdering.account.menuTransitionsAlert.component","paneraOrdering.appBanner.service","common.services.configService","paneraOrdering.appBanner.constants","common.utilities.translate","ngRoute"]).directive("myPaneraContent",["$routeParams","configService","appBannerService","staticHeaders",function(e,t,n,r){return{restrict:"E",scope:{},templateUrl:"myPaneraContent.html",link:function(i){i.currentPage=e.myPanera||"",n.setAppBanner(r.myMenu[i.currentPage]),t.fetchConfig().then(function(e){i.menuTransitionsMessageIsEnabled=e.menuTransitionsMessageIsEnabled})}}}])}(window.angular),function(e){"use strict";e.module("menu.menuNav.myPaneraNav",["myPaneraNav.html","common.utilities.translate","common.utilities.constants","common.services.configService"]).directive("myPaneraNav",["routes","configService",function(e,t){return{restrict:"E",scope:{},templateUrl:"myPaneraNav.html",link:function(n){t.fetchConfig().then(function(t){n.myPaneraNavLinks=[{i18nName:"MY_PAST_ORDERS",link:e.menuMyPaneraPages.pastOrders},{i18nName:"MY_FAVORITES",link:e.menuMyPaneraPages.favorites},{i18nName:"MY_REWARDS",link:e.menuMyPaneraPages.rewards}],t.myGroupOrderIsEnabled&&n.myPaneraNavLinks.push({i18nName:"MY_GROUP_ORDERS",link:e.myAccountPages.groupOrders})})}}}])}(window.angular),function(e){"use strict";function t(){var e=this;e.item=_.get(e,"options.item")}t.$inject=[],e.module("menu.placard.categoryPlacard.component",["categoryPlacard.html","preorder.html","common.utilities.filters","common.utilities.constants"]).component("categoryPlacard",{templateUrl:"categoryPlacard.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n){function r(){n.onI18nDataChange(e,function(){i.i18n={CURATED_PLACARD_AUTHOR_HEADER:o("CURATED_PLACARD_AUTHOR_HEADER"),ADDED:o("ADDED"),NUTRITION_INFO:o("NUTRITION_INFO")}})}var i=this,o=t("translate");i.$onInit=function(){i.item=_.get(i,"options.item"),r()}}t.$inject=["$scope","$filter","localeService"],e.module("menu.placard.curatedPlacard.component",["curatedPlacard.html","placardNutrition.html","placardComponentStockout.html","common.utilities.filters","common.utilities.constants","menu.placard.placardButtons.component","menu.placard.placardRibbon.component","common.services.localeService","ngAnimate","ui.bootstrap.popover","ui.bootstrap.tpls"]).component("curatedPlacard",{templateUrl:"curatedPlacard.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(){var e=this;e.item=_.get(e,"options.item")}t.$inject=[],e.module("menu.placard.itemPlacard.component",["itemPlacard.html","preorder.html","placardNutrition.html","placardDescription.html","placardComponentStockout.html","ngAnimate","common.utilities.filters","common.utilities.constants","ui.bootstrap.popover","ui.bootstrap.tpls","menu.placard.placardButtons.component","menu.placard.placardRibbon.component"]).component("itemPlacard",{templateUrl:"itemPlacard.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(){var e=this;e.setSelectedOpt=function(t){e.options.setSelectedOpt(t),e.selectedOptIndex=t},e.$onInit=function(){e.selectedOptIndex=0,e.i18nNames=_.map(_.get(e,"options.item.optSets"),function(t,n){return t.isDefault&&(e.selectedOptIndex=n),t.i18nBtnLbl})}}t.$inject=[],e.module("menu.placard.placardButtons.component",["placardButtons.html","placardComponentStockout.html","ngAnimate","common.utilities.filters","common.utilities.constants","ui.bootstrap.popover","ui.bootstrap.tpls"]).component("placardButtons",{templateUrl:"placardButtons.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n){function r(){n.onI18nDataChange(e,function(){i.i18n={STOCKOUT:o("STOCKOUT"),AVAILABLE_AFTER:o("AVAILABLE_AFTER"),AVAILABLE_UNTIL:o("AVAILABLE_UNTIL")}})}var i=this,o=t("translate");i.$onInit=function(){i.item=_.get(i,"options.item"),r()}}t.$inject=["$scope","$filter","localeService"],e.module("menu.placard.placardRibbon.component",["placardRibbon.html","common.utilities.filters","common.services.localeService"]).component("placardRibbon",{templateUrl:"placardRibbon.html",controller:t,bindings:{options:"<"}})}(window.angular),function(e){"use strict";function t(e){var t=this;t.$onInit=function(){t.redirectTypes=e}}t.$inject=["typeConstants"],e.module("menu.placard.redirectPlacard",["redirectPlacard.html","menu.placard.redirectPlacard.flatbreadPlacard","menu.placard.redirectPlacard.yp2Placard","menu.placard.constants"]).component("redirectPlacard",{templateUrl:"redirectPlacard.html",controller:t,bindings:{redirectPlacard:"<"}})}(window.angular),function(e){"use strict";var t=e.module("menu.placard.redirectPlacard.constants",[]);t.constant("redirectColumns",[{columnSpan:3,columnClass:"col-xs-12 col-sm-12 col-md-12"},{columnSpan:2,columnClass:"col-xs-12 col-sm-12 col-md-8"},{columnSpan:1,columnClass:"col-xs-12 col-sm-6 col-md-4"}])}(window.angular),function(e){"use strict";function t(e,t,n,r){this.figureRedirectColumnClass=function(e){return _.find(r,{columnSpan:e}).columnClass},this.isRedirectPlacard=function(e){return e.menuItemType===n.redirect},this.redirectToUrl=function(n){var r=n.redirect.url;n.redirect.isInternal?e.path(r):t.location.href=r},this.determineTarget=function(e){return e.isInternal?"_self":"_blank"}}t.$inject=["$location","$window","typeConstants","redirectColumns"],e.module("menu.placard.redirectPlacard.service",["common.utilities.constants","menu.placard.constants","menu.placard.redirectPlacard.constants"]).service("redirectPlacardService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h){function g(e){S.selectedLink=e,S.addressSelected=!1,S.model&&(S.model.saveAddress="NEW"===e.i18nName)}function v(){var e={},t={},r={},i="{ 'fa': true, 'fa-asterisk': form.required}";e[tv4.errorCodes.STRING_PATTERN]="INVALID_CHARACTER",e[tv4.errorCodes.OBJECT_REQUIRED]="INPUT_REQUIRED",t[tv4.errorCodes.STRING_LENGTH_LONG]="CC_CONTACT_NUMBER_TOO_LONG",t[tv4.errorCodes.STRING_PATTERN]="CC_CONTACT_NUMBER_INVALID_CHARACTER",r[tv4.errorCodes.STRING_PATTERN]="INVALID_CHARACTER",r[tv4.errorCodes.STRING_LENGTH_LONG]="DA_SI_TOO_LONG",S.options={formDefaults:{validationMessage:e}},S.schema={type:"object",required:["addressType","phoneNumber"],properties:{address2:{type:"string"},saveAddress:{type:"boolean"},addressType:{type:"string","enum":S.addressTypeOptions},phoneNumber:{type:"string",pattern:u.validPhone,maxLength:10},specialInstructions:{type:"string",pattern:u.validSpecialInstructions,maxLength:200}}},S.errors=[],S.form=[{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{type:"formErrors",errors:S.errors}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 address-type-btn-group",items:[{key:"addressType",type:"radiobuttons",title:"LOCATION_TYPE",titleMap:n.buildTitleMap(S.addressTypeOptions),disableSuccessState:!0,feedback:i,useNewStyle:!0}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{key:"addressName",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.WORK",ngModelOptions:{allowInvalid:!0},title:"COMPANY_NAME",disableSuccessState:!0,feedback:i},{key:"addressName",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.CAMPUS",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},title:"BUILDING_NAME",disableSuccessState:!0,feedback:i},{key:"addressName",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.OTHER",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},title:"OTHER_ADDR1_TITLE",disableSuccessState:!0,feedback:i}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{key:"address2",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.HOME",title:"APT_OR_SUITE_NUMBER",disableSuccessState:!0,feedback:i},{key:"address2",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.WORK",title:"SUITE_FLOOR",disableSuccessState:!0,feedback:i},{key:"address2",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.CAMPUS",title:"ROOM_SUITE_FLOOR",disableSuccessState:!0,feedback:i},{key:"address2",type:"text",condition:"model.addressType === $ctrl.addressTypesMapping.OTHER",title:"OTHER_ADDR2_TITLE",disableSuccessState:!0,feedback:i}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-6",items:[{key:"phoneNumber",type:"tel",title:"PHONE_NUMBER",condition:"model.addressType.length > 0",ngModelOptions:{updateOn:"blur"},validationMessage:t,disableSuccessState:!0,feedback:i}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"specialInstructions",type:"textarea",title:"DELIVERY_INSTRUCTIONS",condition:"model.addressType === $ctrl.addressTypesMapping.HOME",placeholder:"DELIVERY_INSTRUCT_HOME",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},validationMessage:r,disableSuccessState:!0,feedback:i},{key:"specialInstructions",type:"textarea",title:"DELIVERY_INSTRUCTIONS",condition:"model.addressType === $ctrl.addressTypesMapping.WORK",placeholder:"DELIVERY_INSTRUCT_WORK",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},validationMessage:r,disableSuccessState:!0,feedback:i},{key:"specialInstructions",type:"textarea",title:"DELIVERY_INSTRUCTIONS",condition:"model.addressType === $ctrl.addressTypesMapping.CAMPUS",placeholder:"DELIVERY_INSTRUCT_CAMPUS",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},validationMessage:r,disableSuccessState:!0,feedback:i},{key:"specialInstructions",type:"textarea",title:"DELIVERY_INSTRUCTIONS",condition:"model.addressType === $ctrl.addressTypesMapping.OTHER",placeholder:"DELIVERY_INSTRUCT_OTHER",pattern:u.validSpecialInstructions,ngModelOptions:{allowInvalid:!0},validationMessage:r,disableSuccessState:!0,feedback:i}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12",items:[{key:"saveAddress",condition:"$ctrl.userDataLoaded && model.addressType.length > 0",type:"checkbox",title:"SAVE_THIS_ADDRESS",disableSuccessState:!0}]}]},{type:"section",htmlClass:"row",items:[{type:"section",htmlClass:"col-xs-12 col-sm-5",items:[{type:"submit",title:"NEXT",condition:"model.addressType.length > 0",style:"btn-primary next-btn",readonly:!1}]}]}],S.model=_.clone(s.getDeliveryInfo()),S.address=_.clone(S.model),S.address.status=!_.isEmpty(S.model),S.deliveryFound=_.clone(S.address.status),S.addressExists=_.clone(S.address.status),S.model.saveAddress=S.model.saveAddress||"NEW"===_.get(S,"selectedLink.i18nName"),n.preProcess(S.options,S.form)}function y(e){return d>=+e}function b(e){var t,n;return e.addresses&&(S.addressExists=!0,n=_.cloneDeep(e.addresses[0]),n.status=n.deliveryAddressStatus,S.address=n,"valid"===S.address.status)?(t={address:n.formattedAddress,featureProp:"HasDelivery",radius:p,lat:n.latitude,lng:n.longitude},r.getCafes(t).then(S.searchForDeliveryCallback)):(S.addressExists=!1,[])}function E(){S.clear(!0),S.routes=l,S.staticImages=m,S.addressTypeOptions=h,S.addressTypesMapping=f,S.addressSelected=!1,S.myAddressLinks=[{i18nName:"NEW",selected:!0,action:g},{i18nName:"SAVED",selected:!1,action:g,addresses:a.addresses()},{i18nName:"RECENT",selected:!1,action:g,addresses:a.recentAddresses()}],g(_.first(_.filter(S.myAddressLinks,{selected:!0})))}function C(){o.onUserLoaded(e,function(e){var t=_.find(S.myAddressLinks,{i18nName:"SAVED"}),n=_.find(S.myAddressLinks,{i18nName:"RECENT"});S.userDataLoaded=e,t.addresses=a.addresses(),n.addresses=a.recentAddresses(),S.userDefaultPhoneNumber=a.defaultPhoneNumber()}),i.onI18nDataChange(e,function(){S.i18n={SORRY_ADDRESS_IS_INVALID:w("SORRY_ADDRESS_IS_INVALID"),SORRY_ADDRESS_NOT_FOUND:w("SORRY_ADDRESS_NOT_FOUND"),SORRY_DELIVERY_IS_NOT_AVAILABLE:w("SORRY_DELIVERY_IS_NOT_AVAILABLE"),TRY_RPU_INSTEAD:w("TRY_RPU_INSTEAD"),CLOSEST_CAFE:w("CLOSEST_CAFE2"),SEARCH_OTHER_CAFES:w("SEARCH_OTHER_CAFES"),FIND_A_DIFFERENT_CAFE:w("FIND_A_DIFFERENT_CAFE"),DELIVERY_CONSENT:w("DELIVERY_CONSENT"),MAKE_GROUP_ORDER:w("MAKE_GROUP_ORDER"),ORDER_FROM_HERE:w("ORDER_FROM_HERE"),YOUR_DELIVERY_ADDRESS:w("YOUR_DELIVERY_ADDRESS"),GO_CHECK_DELIVERY_AVAILABLE:w("GO_CHECK_DELIVERY_AVAILABLE"),CLEAR_ADDRESS:w("CLEAR_ADDRESS"),SORRY_DELIVERY_IS_NOT_AVAILABLE_TO:w("SORRY_DELIVERY_IS_NOT_AVAILABLE_TO"),PLACE_AN_ORDER_FOR_YOURSELF:w("PLACE_AN_ORDER_FOR_YOURSELF")},v()})}var S=this,w=t("translate");S.searchForDeliveryCallback=function(e){var t=_.filter(e,function(e){return S.isGroupOrder?"YES"===e.HasGroupOrderDelivery:"YES"===e.HasDelivery});return t.length>0?(S.deliveryFound=!0,S.model.addressLine2=S.address.addressLine2||S.addressLine2,S.address.addressLine2=void 0,S.model.specialInstructions=S.additionalInfo):(S.address.status="delivery not found",S.deliveryFound=!1,t=_.filter(e,function(e){return"YES"===e.EcommerceEnabled&&"YES"===e.HasPickup&&y(e.Distance)})),S.cafe=_.sortBy(t,"Distance")[0],S.promptCreateGroupOrder=S.cafe&&S.groupOrderIsEnabled&&!S.isGroupOrder&&"YES"===S.cafe.HasGroupOrderDelivery,t},S.checkAvailability=function(e){return S.showDeliveryCheck=!1,S.model={saveAddress:"NEW"===_.get(S,"selectedLink.i18nName")},_.isObject(e)?(S.address2=e.address2,S.model.phoneNumber=e.contactPhone||e.secondaryPhone,S.model.addressType=e.addressType?f[e.addressType.toUpperCase()]:void 0,S.model.addressName=e.addressName,S.additionalInfo=e.additionalInfo&&e.additionalInfo.substr(0,200),e=_.compact([e.addressLine1,e.id,e.city,e.state,e.zip]).join(" ")):S.model.phoneNumber=S.userDefaultPhoneNumber,S.addressSelected=!0,r.fetchGeoLocation(e).then(function(e){return b(e)})},S.clear=function(e){e||(S.cafe={}),S.address={},S.deliveryFound=!1,S.promptCreateGroupOrder=!1,S.addressSelected=!1,S.showDeliveryCheck=!0},S.updateDeliveryInfo=function(t){var r,i;return e.$broadcast("schemaFormValidate"),n.disableSubmit(S.form,!0),n.clearArray(S.errors),(_.isEmpty(S.model.addressType)||_.isEmpty(S.model.phoneNumber))&&S.errors.push("DA_MISSING_REQUIRED"),!_.isEmpty(S.model.phoneNumber)&&S.model.phoneNumber.length>10&&S.errors.push("CC_CONTACT_NUMBER_TOO_LONG"),_.isEmpty(S.model.phoneNumber)||u.validPhone.test(S.model.phoneNumber)||S.errors.push("CC_CONTACT_NUMBER_INVALID_CHARACTER"),_.isEmpty(S.model.specialInstructions)||u.validSpecialInstructions.test(S.model.specialInstructions)||S.errors.push("DI_INVALID_CHARACTERS"),!_.isEmpty(S.model.specialInstructions)&&S.model.specialInstructions.length>200&&S.errors.push("DA_SI_TOO_LONG"),S.errors.length>0?void n.disableSubmit(S.form,!1):(s.setDeliveryInfo(_.merge(S.address,S.model)),S.selectCafe({cafe:S.cafe,goToCreateGroupOrder:t}),void(S.model.saveAddress&&(S.model=_.merge(S.address,S.model),i=!_.isUndefined(S.model.addressType)&&S.model.addressType.charAt(0)+S.model.addressType.substring(1).toLowerCase(),r=S.model.address1,_.isEmpty(S.model.addressLine2)||(r+=" "+S.model.addressLine2),o.addOrUpdateAddress(_.omit({addressLine1:r,addressLine2:null,id:null,city:S.model.city,state:S.model.state,zip:S.model.postalCode,contactPhone:S.model.phoneNumber,addressType:i,additionalInfo:S.model.specialInstructions,name:S.model.name||i},_.isUndefined)))))},S.setDeliveryInfoAndCreateGroupOrder=function(){S.updateDeliveryInfo(!0)},S.selectRpuCafe=function(){c.setOrderType("RPU"),S.isGroupOrder?S.startIndividualOrder({cafe:S.cafe}):S.selectCafe({cafe:S.cafe})},S.$onInit=function(){E(),C()}}t.$inject=["$scope","$filter","formBuilderService","cafeSearchService","localeService","loginService","userService","orderFlowService","orderTypeService","routes","regexes","rapidPickupRadiusMax","deliveryRadiusMax","staticImages","addressTypesMapping","addressTypes"],e.module("orderFlow.orderProcess.deliveryAddress",["deliveryAddress.html","common.directives.horizontalLinks","common.services.formBuilderService","common.services.cafeSearchService","common.services.localeService","common.services.loginService","common.services.userService","common.services.orderFlowService","common.services.orderTypeService","orderFlow.orderProcess.deliveryCheck","orderFlow.orderProcess.userAddresses","common.components.imageLink","schemaForm","schemaForm-formErrors"]).component("deliveryAddress",{bindings:{selectCafe:"&",groupOrderIsEnabled:"<",isGroupOrder:"<",startIndividualOrder:"&"},templateUrl:"deliveryAddress.html",controller:t})}(window.angular),function(e){"use strict";e.module("orderFlow.orderProcess.orderTime",["orderTime.html","common.factories.cafeAvailabilityFactory","common.services.cafeHours","common.services.orderFlowService","common.services.orderTypeService","common.services.unavailableTime.unavailableTimeService.service","common.utilities.translate","common.utilities.filters","common.services.localeService","ui.bootstrap.popover","ui.bootstrap.tpls"]).directive("orderTime",["cafeAvailabilityFactory","cafeHours","orderFlowService","orderTypeService","unavailableTimeService","localeService","$filter",function(e,t,n,r,i,o,a){return{restrict:"E",scope:{enableOrder:"=",isGroupOrder:"<",isLoading:"=?",newGroupSize:"<",onTimeSelect:"&"},templateUrl:"orderTime.html",link:function(s){function c(e){var n;t.getOrderTimes(e.orderDateTime).then(function(e){s.timeList=_.map(e,function(e){return{orderDateTime:e.orderTime,isAvailable:e.isAvailable,isSelected:!1}}),_.isEmpty(s.timeList)?s.invalidSelection=!0:(s.selectedTime=_.find(s.timeList,{isAvailable:!0}),s.enableOrder=Boolean(s.selectedTime),_.isEmpty(s.selectedTime)||(s.selectedTime.isSelected=s.enableOrder,s.setSelectedMoments(s.selectedTime.orderDateTime,s.enableOrder)),n=_.find(s.timeList,{isAvailable:!1}),_.isUndefined(n)||i.trackUnavailableTimes())})}function l(){var e,t=n.getLargeOrderLeadTimes();s.largeOrderMessage="",_.forEach(t,function(t){e=p(t.minOrderAmount,void 0,0),s.largeOrderMessage=s.largeOrderMessage+" "+d("LARGE_ORDER_BODY",[e,t.convertedLeadTime])})}function u(){s.isGroupOrder||e.fetchCafeAvailability()}var d=a("translate"),p=a("currency");s.isLoading=!0,s.invalidSelection=!1,s.orderWhen="Now",s.selectedMoments={date:void 0,time:void 0},s.leadTime=10,s.dateList=[],s.timeList=[],s.Math=window.Math,s.moment=window.moment,s.showDatePicker=!1,s.resetSelectedMoments=function(){s.enableOrder=!1,s.selectedMoments.date=void 0,s.selectedMoments.time=void 0,_.isFunction(s.onTimeSelect)&&s.onTimeSelect({orderTime:void 0})},s.setSelectedMoments=function(e,t){s.selectedMoments.date=e,n.setOrderWhen(s.orderWhen),t?(s.enableOrder=!0,s.selectedMoments.time=e,n.setOrderTime(e.toISOString(),!0),_.isFunction(s.onTimeSelect)&&s.onTimeSelect({orderTime:e.toISOString()})):(s.enableOrder=!1,s.selectedMoments.time=void 0,_.isFunction(s.onTimeSelect)&&s.onTimeSelect({orderTime:void 0}))},s.storeOrderTime=function(e,t){s.resetSelectedMoments(),s.orderWhen=e,n.setOrderWhen(s.orderWhen),"Now"===s.orderWhen?(n.setOrderTime(void 0,!0),s.invalidSelection=!1,s.enableOrder=!0,s.showDatePicker=!1):(s.showDatePicker=!0,t?s.invalidSelection=!0:(s.selectDate(s.dateList[0]),s.selectedTime=_.find(s.timeList,{isAvailable:!0})))},s.selectDate=function(e){s.orderWhen="Later",_.forEach(s.dateList,function(t){t.isSelected=t.orderDateTime.isSame(e.orderDateTime,"day")}),_.some(s.dateList,{isSelected:!0})?(s.selectedDate=_.find(s.dateList,{isSelected:!0}),s.enableOrder=!1,s.setSelectedMoments(e.orderDateTime,!1),s.exceptionMessage=t.getExceptionMessage(e.orderDateTime),c(e)):(s.resetSelectedMoments(),n.setOrderWhen(s.orderWhen),s.timeList=[])},s.updateDate=function(e){var n=e;s.orderWhen="Later",s.enableOrder=!1,s.setSelectedMoments(n.orderDateTime,!1),s.exceptionMessage=t.getExceptionMessage(n.orderDateTime),c(n)},s.selectTime=function(e,t){var n;s.orderWhen="Later",e.isAvailable||_.isUndefined(t)||(t.stopPropagation(),t.preventDefault()),_.isEmpty(s.timeList)?c(e):(_.forEach(s.timeList,function(t){t.orderDateTime.isSame(e.orderDateTime)&&t.isAvailable?(t.isSelected=!0,n=t):t.isSelected=!1}),n||(n=_.find(s.timeList,{isAvailable:!0})),s.selectedTime=n,s.selectedTime?(s.selectedTime.isSelected=!0,s.setSelectedMoments(s.selectedTime.orderDateTime,!0),s.invalidSelection=!1):s.invalidSelection=!0)},s.updateTime=function(e){var t=_.get(e,"orderDateTime");s.orderWhen="Later",s.setSelectedMoments(t,!_.isUndefined(t)),s.invalidSelection=!1},s.init=function(){var e;l(),s.leadTime=t.getLeadTime(),s.rangeInterval=n.getRangeInterval(),s.isOpen=t.isOpen(),s.isCafeAvailable=t.isCafeAvailable(),s.dateList=_.map(t.getOrderDates(),function(e){return{orderDateTime:e,isSelected:!1}}),s.selectedDate=s.dateList[0],s.enableOrder=!1,s.isLoading=!1,s.isCafeAvailable&&(n.isOrderTimeSelected()&&"Later"===n.getOrderWhen()?(s.showDatePicker=!0,e=s.moment(n.getOrderTime()),s.selectDate({orderDateTime:e}),s.selectTime({orderDateTime:e,isAvailable:!0})):s.storeOrderTime(s.isOpen&&!s.isGroupOrder?"Now":"Later",n.isOrderTimeSelected()))},u(),e.onCafeAvailabilityChange(s,function(){s.init(),s.leadTimeRange=t.getLeadTimeRange()}),r.onOrderTypeChange(s,function(){s.isRapidPickup=r.isRapidPickup(),s.isDineIn=r.isDineIn(),s.isDelivery=r.isDelivery()}),o.onI18nDataChange(s,function(){l()})}}}])}(window.angular),function(e){"use strict";e.module("orderFlow.orderProcess.orderType",["orderType.html","common.factories.orderFlowFactory","common.services.orderTypeService","common.utilities.translate","common.utilities.constants"]).directive("orderType",["orderFlowFactory","orderTypeService","orderTypeOrder","orderTypes","staticImages",function(e,t,n,r,i){return{restrict:"E",scope:{enabledOrderTypes:"=",showSelected:"=",closeModal:"&",isGroupOrder:"="},templateUrl:"orderType.html",link:function(o,a,s){_.noop(a),o.orderTypeOrder=_.map(n,function(e){return r[e]}),o.visibleOrderTypes=o.isGroupOrder?t.getGroupOrderTypes():t.getVisibleOrderTypes(),o.orderTypeImage=i.orderTypeIcons.smallSprite,o.selectOrderType=function(n){_.indexOf(o.enabledOrderTypes,n)>-1&&(_.isUndefined(s.closeModal)?(o.isGroupOrder||e.start(!1,!0),t.setOrderType(n)):(o.closeModal(),e.start(!0,!0),t.setOrderType(n)))},t.onOrderTypeChange(o,function(e){o.selectedOrderType=e})}}}])}(window.angular),function(e){"use strict";function t(t,n,r,i,o,a){function s(){d[tv4.errorCodes.STRING_PATTERN]="INVALID_TABLE_NUMBER",c.schema={type:"object",title:"Table Number",required:["tableNumber"],properties:{tableNumber:{type:"string",pattern:a.tableNumber}}},c.form=[{type:"section",htmlClass:"row",items:[{key:"tableNumber",title:"TABLE_NUMBER",placeholder:"TABLE_NUMBER",type:"text",htmlClass:"col-xs-12",maxLength:3,onChange:c.setTableNumber,validationMessage:d}]}],c.model={tableNumber:u||void 0},c.enableOrder=e.isDefined(c.model.tableNumber),i.preProcess({},c.form)}var c=this,l=n("translate"),u=r.getTableNumber(),d={};c.setTableNumber=function(e){c.tableNumberForm.$valid?(r.setTableNumber(e),c.enableOrder=!0):(r.setTableNumber(0),c.enableOrder=!1)},o.onI18nDataChange(t,function(){c.provideYourTableNumber=l("PROVIDE_YOUR_TABLE_NUMBER"),s()}),r.setOrderWhen("Now"),r.setOrderTime(void 0)}t.$inject=["$scope","$filter","orderFlowService","formBuilderService","localeService","regexes"],e.module("orderFlow.orderProcess.tableNumber",["tableNumber.html","common.services.orderFlowService","common.services.formBuilderService","common.services.localeService","common.utilities.constants","schemaForm"]).directive("tableNumber",function(){return{restrict:"E",scope:!0,bindToController:{enableOrder:"="},templateUrl:"tableNumber.html",controllerAs:"TableNumber",controller:t}})}(window.angular),function(e){"use strict";function t(e,t,n){var r=this,i=t("translate");r.hasAddresses=!_.isEmpty(r.addresses),n.onI18nDataChange(e,function(){r.i18n={emptyTitle:i(r.emptyTitle)}})}t.$inject=["$scope","$filter","localeService"],e.module("orderFlow.orderProcess.userAddresses",["userAddresses.html","common.directives.addressList","common.utilities.filters","common.services.localeService"]).component("userAddresses",{bindings:{emptyTitle:"@",addresses:"=",selectAddress:"&",htmlClass:"<"},templateUrl:"userAddresses.html",controller:t})}(window.angular),function(e){"use strict";e.module("orderFlow.registration.accountInfo",["accountInfo.html","common.utilities.translate","common.factories.validationFactory"]).directive("accountInfo",[function(){var e=["$scope","$q","validationFactory",function(e,t,n){e.control={physicalMyPaneraCard:!1,passwordConfirmation:""},e.years=_.map(new Array(100),function(e,t){return _.noop(e),(2014-t).toString()}),e.daysOfMonth=_.map(new Array(31),function(e,t){return _.noop(e),(t+1).toString()}),e.months=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],e.errors=n.initializeErrors(),e.$watch("control.useEmail",function(t){t&&e.info.email&&(e.info.username=e.info.email),!t&&e.info.username&&e.info.username===e.info.email&&(e.info.username="")},!0),e.$watch("[control.physicalMyPaneraCard, info.loyaltyCardNumber, info.loyaltyRegistrationCode]",function(t){var n=t[0],r=t[1],i=t[2];n===!1&&(_.isUndefined(r)||(e.info.loyaltyCardNumber=""),_.isUndefined(i)||(e.info.loyaltyRegistrationCode=""))},!0),e.validate=function(){var r,i=[["USERNAME","info.username"],["PASSWORD","info.password"],["BIRTHDATE_MONTH","info.birthMonth","MUST_BE_SELECTED"],["BIRTHDATE_DAY","info.birthDay","MUST_BE_SELECTED"]],o=[["USERNAME","info.username"]];return e.errors=n.initializeErrors(),e.control.physicalMyPaneraCard===!0&&(i.push(["MYPANERA_CARD_NUMBER","info.loyaltyCardNumber"]),i.push(["REGISTRATION_CODE","info.loyaltyRegistrationCode"])),n.clearErrors(e.errors),n.validateFieldsNotBlank(e,i,e.errors),n.validateFieldsNotContainBlank(e,o,e.errors),n.validatePassword(e,"info.password",e.errors),n.validateFieldsMatch(e,"PASSWORDS",["info.password","control.passwordConfirmation"],e.errors),r=[n.validateUsername(e,"info.username",e.errors)],t.all(r)},e.nextStep=function(){var t=e.validate();t.then(function(){_.isEmpty(e.errors)&&e.next()})}}];return{restrict:"E",scope:{info:"=",previous:"&",next:"&"},templateUrl:"accountInfo.html",controller:e}}])}(window.angular),function(e){"use strict";e.module("orderFlow.registration.accountPreferences",["accountPreferences.html","common.utilities.translate","common.directives.checkList"]).directive("accountPreferences",[function(){var e=["$scope",function(e){e.prefs=["Dairy free","Gluten free","Low fat","Low sodium","Low sugar","Vegetarian"],e.control={},e.nextStep=function(){e.next()},e.registerDisabled=function(){return!e.control.agreeToTerms||e.registering}}];return{restrict:"E",scope:{info:"=",previous:"&",next:"&",errors:"=",registering:"="},templateUrl:"accountPreferences.html",controller:e}}])}(window.angular),function(e){"use strict";function t(e,t,n,r){return{restrict:"E",scope:{next:"&",cancel:"&",address:"=",info:"="},templateUrl:"personalInfo.html",link:function(i){i.errors=e.initializeErrors(),i.states=r,i.$watch("info.phone",function(e){i.address.primaryPhone=e},!0),i.validate=function(){var t,n=[["ADDRESS1","address.addressLine1"],["CITY","address.city"],["EMAIL","info.email"],["FIRST_NAME","info.firstName"],["LAST_NAME","info.lastName"],["PHONE_NUMBER","info.phone"],["STATE","address.state"],["ZIP","address.zip"]];return i.errors=e.initializeErrors(),e.clearErrors(i.errors),e.validateFieldsNotBlank(i,n,i.errors),e.validateCustomerName(i,"info.firstName","FIRST_NAME",i.errors),e.validateCustomerName(i,"info.lastName","LAST_NAME",i.errors),e.validateEmailFormat(i,"info.email",i.errors),e.validatePhoneNumber(i,"info.phone",i.errors),t=e.validateEmailNotUsed(i,"info.email",i.errors)},i.guestLogin=function(){t.proceedAsGuest(),i.cancel(),n.start(!0)},i.nextStep=function(){var e=i.validate();e.then(function(){_.isEmpty(i.errors)&&i.next()})}}}}t.$inject=["validationFactory","userService","orderFlowFactory","usStates"],e.module("orderFlow.registration.personalInfo",["personalInfo.html","common.utilities.translate","common.utilities.constants","common.directives.formatPhone.directive","common.factories.validationFactory","common.factories.orderFlowFactory","common.services.userService"]).directive("personalInfo",t)}(window.angular),function(e){"use strict";function t(e){function t(){_.get(n.link,"extUrl")?n.url=n.link.extUrl:_.get(n.link,"url")?n.url=e.main+n.selectedLang+"/"+n.link.url:n.url=void 0}var n=this;n.$onInit=function(){n.selectedLang=n.selectedLang.toLowerCase(),n.paneraUrls=e,t()}}t.$inject=["paneraUrls"],e.module("common.modules.globalNavigation.globalNavigationLink.component",["globalNavigationLink.html","common.components.feedbackSurveyLink","common.utilities.constants"]).component("globalNavigationLink",{templateUrl:"globalNavigationLink.html",controller:t,bindings:{link:"=",selectedLang:"="}})}(window.angular),function(e){"use strict";e.module("common.modules.orderTimeError.orderTimeErrorAnalytics.constants",[]).constant("orderTimeErrorAnalyticsConstants",{CATEGORY:"Order Slotting Modal",MODAL_SHOWN:{ACTION:"Launch",LABEL:"Launch Order Slotting Modal"},MANUALLY_CHOOSE_TIME:{ACTION:"Choose Another Time",LABEL:"Go back to Order Time Selection Page"},ABANDON_ORDER:{ACTION:"Exit Order Slotting",LABEL:"Exit Order Slotting Modal Without Placing an Order"},USE_SUGGESTED_TIME:{ACTION:"Accept Recommended Time",LABEL:"Accept Next Available Order Slot"
}})}(window.angular),function(e){"use strict";e.module("common.modules.orderTimeError.orderTimeErrorAnalytics",["common.modules.orderTimeError.orderTimeErrorAnalytics.service","common.modules.orderTimeError.orderTimeErrorAnalytics.constants"])}(window.angular),function(e){"use strict";function t(e,t,n){function r(e){var t={};return t[n.dimensions.orderTimeViolation]=e,t}var i=_.cloneDeep(t);this.trackOrderAbandoned=function(t){e.trackEvent(i.CATEGORY,i.ABANDON_ORDER.ACTION,i.ABANDON_ORDER.LABEL,0,!1,r(t))},this.trackManuallyChangeTime=function(t){e.trackEvent(i.CATEGORY,i.MANUALLY_CHOOSE_TIME.ACTION,i.MANUALLY_CHOOSE_TIME.LABEL,0,!1,r(t))},this.trackUseSuggestedTime=function(t){e.trackEvent(i.CATEGORY,i.USE_SUGGESTED_TIME.ACTION,i.USE_SUGGESTED_TIME.LABEL,0,!1,r(t))},this.trackModalShown=function(t){e.trackEvent(i.CATEGORY,i.MODAL_SHOWN.ACTION,i.MODAL_SHOWN.LABEL,0,!1,r(t))}}t.$inject=["analyticsService","orderTimeErrorAnalyticsConstants","analyticsConstants"],e.module("common.modules.orderTimeError.orderTimeErrorAnalytics.service",["common.modules.orderTimeError.orderTimeErrorAnalytics.constants","common.services.analytics","common.services.analytics.constants"]).service("orderTimeErrorAnalyticsService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i){function o(){var e=_.get(a,"customerInfo",{});return{emailAddress:e.email,phoneNumber:e.phone,firstName:e.firstName,lastName:e.hasLastName?e.lastName:void 0}}var a=this,s=t("translate");a.liteRegistration=function(){r.launchRegistration(i.LITE,o())},a.$onInit=function(){n.onI18nDataChange(e,function(){a.i18n={PROMPT_LITE_REG_HEADER:s("PROMPT_LITE_REG_HEADER"),PROMPT_LITE_REG_BODY_TEXT:s("PROMPT_LITE_REG_BODY_TEXT"),JOIN_MYPANERA:s("JOIN_MYPANERA")}})}}t.$inject=["$scope","$filter","localeService","registrationFlowService","regTypes"],e.module("common.modules.registration.promptLiteRegistration.component",["promptLiteRegistration.html","common.services.localeService","common.modules.registration","common.utilities.constants"]).component("promptLiteRegistration",{templateUrl:"promptLiteRegistration.html",controller:t,bindings:{customerInfo:"<"}})}(window.angular),function(e){"use strict";e.module("common.modules.registration.registrationAnalytics.constants",[]).constant("registrationAnalyticsConstants",{category:"Registration",label:{successful:"Successful",unsuccessful:"Unsuccessful",viewed:"Viewed"},validity:{valid:"Yes",invalid:"No"}})}(window.angular),function(e){"use strict";function t(e,t,n){var r=n;this.trackRegistration=function(n,i,o){var a={},s=_.size(o)>0,c=s?r.label.unsuccessful:r.label.successful;s&&(a[t.dimensions.accountErrors]=JSON.stringify(o)),a[t.dimensions.loginRegType]=i,a[t.dimensions.regEmailOpt]=n.hasEmailOpt?r.validity.valid:r.validity.invalid,a[t.dimensions.validAddress]=_.get(n,"address")?r.validity.valid:r.validity.invalid,a[t.dimensions.validBirthday]=_.get(n,"birthday")?r.validity.valid:r.validity.invalid,e.trackEvent(r.category,i,c,0,!1,a)},this.trackViews=function(t){e.trackEvent(r.category,t,r.label.viewed,0,!1,{})}}t.$inject=["analyticsService","analyticsConstants","registrationAnalyticsConstants"],e.module("common.modules.registration.registrationAnalytics.service",["common.services.analytics","common.services.analytics.constants","common.modules.registration.registrationAnalytics.constants"]).service("registrationAnalyticsService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){e.path(o.myAccountPages.rewards)}function l(e){r.isEmailAlreadyExistsError(e)?n.show({component:"notificationModal",size:"md-small",titleKey:"LITE_REG_EMAIL_ALREADY_EXISTS_TITLE",descriptionKey:"LITE_REG_EMAIL_ALREADY_EXISTS_DESC",buttonKey:"SIGN_IN"}).then(r.promptLogin):n.show({component:"notificationModal",size:"md-small",titleKey:"SOMETHING_WENT_WRONG",descriptionKey:"LITE_REG_ERROR",buttonKey:"SIGN_UP_HERE"}).then(d.launchRegistration(a.DEFAULT))}function u(){n.show({component:"notificationModal",size:"md-small",titleKey:"LITE_REG_SUCCESS_TITLE",descriptionKey:"LITE_REG_SUCCESS_DESC",buttonKey:"VIEW_MY_REWARDS"}).then(c)}var d=this;this.showRegistrationModal=function(){i.fetchConfig().then(function(e){e.facebookLoginIsEnabled?n.show({component:"fbJoinMyPanera",size:"md-small"}):d.launchRegistration(a.DEFAULT)})},this.launchRegistration=function(e,i){return n.show({component:"registration",size:"md-small",action:function(n){return r.register(n,e).then(u)["catch"](function(n){return e===a.DEFAULT?t.reject(r.handleEmailOrUsernameRegistrationFailure(n)):l(n)})},customerInfo:i,type:e})},this.launchFacebookRegistration=function(e,t,r){return n.show({component:"registration",size:"md-small",action:function(n){return e(t,n).then(function(){s.trackRegistration(n,a.FACEBOOK.label),u()})["catch"](function(e){s.trackRegistration(n,a.FACEBOOK.label,e),l(e)})},customerInfo:r,type:a.FACEBOOK})}}t.$inject=["$location","$q","pnraModalService","registrationService","configService","routes","regTypes","registrationAnalyticsService"],e.module("common.modules.registration.registrationFlow.service",["paneraCommonUi.common.modal","common.modules.registration","common.modules.notificationModal","common.utilities.constants","common.modules.registration.registrationAnalytics.service","common.services.configService"]).service("registrationFlowService",t)}(window.angular),function(e){"use strict";var t=e.module("common.services.campaign.service.constants",[]);t.constant("cmConstants",{campaignTypes:{refer:"extole"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(){return a.show({component:"pnraLogin",size:"lg-small",guestAllowed:!0})}function u(){var e=r.personalInfo();return{email:e.email,firstName:e.firstName,lastName:e.lastName,loyaltyCardNumber:r.loyaltyCardNumber(),advocateCode:_.get(h,"extole_advocate_code",""),campaign:_.get(h,"utm_campaign","")}}function d(){m=u(),n.post(f,m)["catch"](function(e,t){i.info("campaignService.trackReferCampaign failed "+e.data+t)})}function p(){o.onUserLoaded(e,function(e){e&&g.isCampaignActive()&&g.trackReferLogin()})}var m,f,h,g=this,v=!1,y=!1,b=!1;this.trackReferLogin=function(){v||(v=!0,d())},this.trackReferRegister=function(){y||(y=!0,d())},this.isCampaignActive=function(){return b},this.setCampaign=function(e){var n;switch(_.get(e,"utm_source")){case c.campaignTypes.refer:h=e,b=!0,f=s.campaigns.refer,n=l(e);break;default:n=t.resolve()}return p(),n}}t.$inject=["$rootScope","$q","$http","userService","splunkService","loginService","pnraModalService","apiUrls","cmConstants"],e.module("common.services.campaign.service",["common.services.userService","common.services.splunkService","common.services.loginService","paneraCommonUi.common.modal","common.utilities.constants","common.services.campaign.service.constants"]).service("campaignService",t)}(window.angular),function(e){"use strict";var t=e.module("common.services.facebook.service.constants",[]);t.constant("fbConstants",{getApiConfig:function(e){return{appId:e,cookie:!0,version:"v2.11"}},loginOptions:{scope:"public_profile,email,user_birthday",return_scopes:!0},requiredScope:["public_profile","email"],rerequestOption:{auth_type:"rerequest"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){function i(e){var t=_.get(e,"authResponse.grantedScopes","").split(",");return _.isEmpty(_.difference(n.requiredScope,t))}function o(){var t=e.defer(),r=_.cloneDeep(n.loginOptions),o=!1;return a.getLoginStatus(function(e){return e.status!==s||(o=!i(e))?(o&&_.assign(r,n.rerequestOption),void a.login(function(e){e.status!==s||_.isEmpty(e.authResponse.grantedScopes)||t.resolve(e),t.reject()},r)):void t.resolve(e)}),t.promise}var a,s="connected";this.login=function(){return o().then(function(e){return _.get(e,"authResponse",{})})},t.loadFacebookLogin().then(function(e){a=e,a&&a.init(n.getApiConfig(r))})}t.$inject=["$q","scriptElementService","fbConstants","fbAppId"],e.module("common.services.facebook.service",["common.services.scriptElementService","common.utilities.constants","common.services.facebook.service.constants"]).service("facebookService",t)}(window.angular),function(e){"use strict";e.module("common.services.facebook.fbAnalytics.constants",[]).constant("fbAnalyticsConstants",{category:"Facebook",events:{login:{action:"Login",label:"Click"},associate:{action:"Account Linking",label:{successful:"Successful",unsuccessful:"Unsuccessful"}},exception:{action:"Exception",label:{ignoreMatchedEmailAccount:"Ignore Matched Email Account"}}}})}(window.angular),function(e){"use strict";function t(e,t,n){var r=t;this.trackLogin=function(){e.trackEvent(r.category,r.events.login.action,r.events.login.label)},this.trackAccountAssociation=function(t,i){var o=r.events.associate,a={},s=_.size(i)>0?o.label.unsuccessful:o.label.successful;a[n.metrics.numEmailsFound]=t,_.size(i)>0&&(a[n.dimensions.accountErrors]=JSON.stringify(i)),e.trackEvent(r.category,o.action,s,0,!0,a)},this.trackIgnoreMatchedEmailAccount=function(){e.trackEvent(r.category,r.events.exception.action,r.events.exception.label.ignoreMatchedEmailAccount)},this.trackException=function(t){e.trackEvent(r.category,r.events.exception.action,t)}}t.$inject=["analyticsService","fbAnalyticsConstants","analyticsConstants"],e.module("common.services.facebook.fbAnalytics.service",["common.services.analytics","common.services.analytics.constants","common.services.facebook.fbAnalytics.constants"]).service("fbAnalyticsService",t)}(window.angular),function(e){"use strict";e.module("common.services.login.loginAnalytics.constants",[]).constant("loginAnalyticsConstants",{loginModal:{display:"Login Modal Displayed",dismiss:"Login Modal Dismissed",asGuest:"Continued as guest"},login:"Login",forgotPassword:{eventCategory:"Forgot Password",eventAction:"Send Email Clicked"}})}(window.angular),function(e){"use strict";function t(e,t){this.trackLoginDisplayed=function(n){e.trackEvent(t.login,t.loginModal.display,n)},this.trackLoginDismissed=function(n){e.trackEvent(t.login,t.loginModal.dismiss,n)},this.trackGuestLogin=function(){e.trackEvent(t.login,t.loginModal.asGuest)},this.trackSendEmailBtn=function(){e.trackEvent(t.forgotPassword.eventCategory,t.forgotPassword.eventAction)}}t.$inject=["analyticsService","loginAnalyticsConstants"],e.module("common.services.login.loginAnalytics.service",["common.services.analytics","common.services.login.loginAnalytics.constants"]).service("loginAnalyticsService",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u,d,p,m,f,h,g,v,y,b,E,C,S,w,T,I,O,A){function $(){return d.get("ssoToken")||_.get(e.search(),"ssoToken")}function D(){d.remove("ssoToken",f),d.remove("customerId",f),d.remove("info",f),d.remove("info-loyalty",f),d.remove("itemsInCart",f)}function x(t,n){C.requireUserMediation(),a.deleteSsoToken($()),D(),p.resetSessionStorage(n),t&&e.path(g.index),y.setUser(void 0),y.setCustomerId(void 0),A.updateOpinionLabData("customerId",void 0),u.fire("isLoggedIn")}function R(){d.set("ssoToken",p.accessToken(),f),d.set("customerId",p.customerId(),f)}function k(){return a.getEmailPreferences(p.customerId()).then(function(e){p.updateEmailPreferences(e,e.optIn)})["catch"](function(e){l.info("loginService.addEmailPreferences getEmailPreferences failed "+e)})}function P(e){return a.updateTastesAndInterests(p.customerId(),p.loyaltyCardNumber(),e).then(function(){p.updateSession({foodPreferences:e.foodPreferences,gatherPreference:e.gatherPreference})})}function N(){return a.getPhoneNumbers().then(function(e){p.updateSession({phoneNumbers:e})})["catch"](function(e){l.info("loginService.addPhoneNumbers getPhoneNumbers failed "+e)})}function M(){return y.setUser(p.customerId()),y.setCustomerId(p.customerId()),A.updateOpinionLabData("customerId",p.customerId()),a.getUser(p.customerId()).then(function(e){p.updateSession(e)})}function L(e){return a.updateEmailPreferences(e,p.personalInfo(),p.defaultPhoneNumber()).then(k).then(M)}function U(e){return e.newPassword===e.confirmPassword?a.changePassword(p.customerId(),e.currentPassword,e.newPassword).then(function(){if(C.isBrowserCompatible()){var t=C.createCredentials(e.username,e.newPassword);C.storeCredentials(t)}}):t.reject(["PASSWORDS_DO_NOT_MATCH"])}function F(e){return a.updateUser(e).then(M).then(N)}function G(e){return e=_.cloneDeep(e),e.customerId=p.customerId(),e.id=_.find(p.phoneNumbers(),{number:e.originalNumber})?_.find(p.phoneNumbers(),{number:e.originalNumber}).id:0,a.addOrUpdatePhoneNumber(e).then(M).then(N)}function B(e){return a.getUsersByPhone(e)}function H(e){return a.addOrUpdateAddress(p.customerId(),e).then(M).then(N)}function j(e){return a.deleteAddress(p.customerId(),e).then(M).then(N)}function V(e){var n=_.find(p.phoneNumbers(),{number:e});return n?(n.isDefault=!0,n.customerId=p.customerId(),a.setDefaultPhoneNumber(n).then(M).then(N)):t.reject(["ERROR_CODE_1145"])}function z(e){return a.deletePhoneNumber(e).then(M).then(N)}function W(){return a.getRewards(o.getCafe().CafeId).then(function(e){_.isEqual(e.data,p.rewards())||(p.updateSession({rewards:e.data}),u.fire("rewardsDataChanged"))})["catch"](function(e){l.info("loginService.addRewards getRewards failed "+e)})}function Y(e){var n=[],r=_.filter(e,function(e){return _.isUndefined($e[e])?!0:n.push($e[e])&&!1});return _.isEmpty(r)?t.when(n):s.getCafes({cafeIds:r}).then(function(e){return _.forEach(e,function(e){$e[e.cafeId]=e}),_.union(n,e)})}function q(){var e=p.favoriteCafes(),t=_.uniq(_.map(e,"cafeId")),n=[];return Y(t).then(function(t){n=_.map(e,function(e){var n=_.find(t,{CafeId:e.cafeId.toString()});return _.assign(e,n)}),p.updateSession({favoriteCafes:n}),u.fire("favoriteCafesDataChanged")})["catch"](function(e){l.info("loginService.addFavoriteCafeData getCafes failed "+e)})}function K(){return a.getFavoriteCafes(p.customerId()).then(function(e){return p.updateSession({favoriteCafes:e}),c.loadGoogleMaps().then(q)})["catch"](function(e){l.info("loginService.addFavoriteCafes getFavoriteCafes failed "+e)})}function J(){var e=_.compact(_.flatten(_.map(p.orderHistory(),"cafes"))),t=_.uniq(_.map(e,"id"));return Y(t).then(function(e){p.updateSession({recentCafes:e})})["catch"](function(e){l.info("loginService.addRecentCafes getCafes failed "+e)})}function Z(){return $e}function Q(e){return e=_.cloneDeep(e),e.customerId=p.customerId(),a.addOrUpdateFavoriteCafe(e).then(K)}function X(e){var n=_.find(p.favoriteCafes(),{cafeId:e});return n?(n.isDefault=!0,Q(n)):t.reject(["ERROR_CODE_1130"])}function ee(e){return a.deleteFavoriteCafe(p.customerId(),e).then(K)}function te(){return a.getPastOrders(p.customerId()).then(function(e){p.updateSession({orderHistory:e.data}),u.fire("pastOrdersDataChanged")})["catch"](function(e){l.info("loginService.addOrderHistory getPastOrders failed "+e)})}function ne(){return v.fetchConfig().then(function(e){return e.myGroupOrderIsEnabled?a.getGroupOrders(p.customerId()).then(function(e){p.updateSession({groupOrders:e.data}),u.fire("groupOrdersDataChanged")})["catch"](function(e){l.info("loginService.addGroupOrders getGroupOrders failed "+e)}):t.resolve()})}function re(e){return y.trackLogin(xe,"Login Unsuccessful"),t.reject(De(_.get(e,"data",e),e.status))}function ie(){return t.all([M().then(W),te(),ne(),N()])}function oe(){var e=p.personalInfo(),t=p.tastesAndInterests().foodPreferences,n=p.loyaltyCardNumber(),r=m.rewards(),i=0;r&&r.rewards&&(i=r.rewards.length),d.set("info","firstName="+encodeURI(e.firstName)+" "+encodeURI(e.lastName)+",cardNumber="+n+",emailAddress="+e.email+",birthDay="+e.birthDay+",birthMonth="+e.birthMonth+",food="+t+",rewardCount="+i,f)}function ae(e){var t=p.getIdentityProvider();return t||xe===w.smartlock?T.GOOGLE_SMARTLOCK:e||T.PANERA}function se(e,t){p.updateSession(e),R(),p.isLoggedIn()||(p.updateSession({isLoggedIn:!0,identityProvider:t||ae(_.get(e,"loginType"))}),u.fire("isLoggedIn"),y.trackLogin(xe,"Login Successful"))}function ce(e){return a.getSessionWithToken(e).then(se)["catch"](re)}function le(n){return b.trackLoginDisplayed(e.path()),E.show({component:"pnraLogin",size:n,hideContainer:!1,guestAllowed:S.getOrderTypeDetails().guestAllowed})["catch"](function(){return b.trackLoginDismissed(e.path()),t.reject()})}function ue(){return v.fetchConfig().then(function(e){var t=e.loginAvailable?"lg-small":"md-small";return e.loginAvailable?C.login().then(function(e){return xe=w.smartlock,se(e.data)})["catch"](function(){return le(t)}):le(t)})}function de(){var e;return Ae||(e=$(),Ae=e?ce(e):t.reject(),Ae=Ae["catch"](function(){return D(),p.isLoggedIn()?(p.clearSession(),ue()["catch"](function(){x(!1,O.TOKEN_EXPIRATION)})):void 0})),Ae}function pe(e,t){if(xe=w.standard,C.isBrowserCompatible()){var n=C.createCredentials(e,t);return C.loginWithFetch(n).then(function(e){return C.storeCredentials(n),se(e.data)})["catch"](re)}return a.getSessionWithAuth(e,t).then(se)["catch"](re)}function me(){var e=o.getCafe();return _.isUndefined(i.getLanguage())||_.isUndefined(e)||e===h}function fe(e,t){return u.register(e,"isLoggedIn",function(){t(p.isLoggedIn())})}function he(e,t){return t(p.isLoggedIn()),fe(e,t)}function ge(e,t){return t(p.isUserLoaded()),u.register(e,"isUserLoaded",function(){t(p.isUserLoaded())})}function ve(e,t){return t(p.orderHistory()),u.register(e,"pastOrdersDataChanged",function(){t(p.orderHistory())})}function ye(e,t){return t(p.myGroupOrders()),u.register(e,"groupOrdersDataChanged",function(){t(p.myGroupOrders())})}function be(e,t){return t(m.rewards()),u.register(e,"rewardsDataChanged",function(){t(m.rewards())})}function _e(e,t){return u.register(e,"storedCardsChanged",function(){t(p.storedCards())})}function Ee(e,t){return u.register(e,"favoriteCafesDataChanged",function(){t(p.favoriteCafes())})}function Ce(e){return a.getStoredCards(p.customerId()).then(function(t){return p.updateSession({storedCards:t}),u.fire("storedCardsChanged"),e||!0})["catch"](function(e){l.info("loginService.addStoredCardsToSession getStoredCards failed "+e)})}function Se(e){return a.addStoredCreditCardOrGiftCard(p.customerId(),e).then(Ce)}function we(e){return a.updateStoredCard(p.customerId(),e).then(Ce)}function Te(e){return a.deleteStoredCard(p.customerId(),e).then(Ce)}function Ie(e,n,r){var i={isGiftCard:!1,tokenValue:e,lastFour:e.substring(e.length-4),tokenType:"PAYPAL",cardType:"PYPL",cardName:n,cardHolderName:n,isDefault:r};return a.updateStoredCard(p.customerId(),i)["catch"](function(e){return l.info("loginService.addOrUpdatePayPalBillingAgreementId failed "+e),t.reject(e)})}function Oe(e){var n={cafeNo:o.getCafe().CafeId,token:e};return a.getPayPalBillingAgreementInfo(n).then(function(e){return _.isUndefined(e.billingAgreementId)||_.isUndefined(e.email)?(l.info("loginService.addPayPalToken failed missing agreement id or email"),t.reject(["PAYPAL_ERROR"])):Ie(e.billingAgreementId,e.email,!0).then(Ce)},function(e){return l.info("loginService.addPayPalToken failed "+e),t.reject(e)})}var Ae,$e={},De=r("apiErrorKeyFilter"),xe="";return he(n,function(e){e&&ie().then(function(){oe(),p.updateSession({isUserLoaded:!0}),u.fire("isUserLoaded")})}),I.onRegistration(n,function(e){pe(e.emailAddress,e.password)}),I.onPromptLogin(n,ue),{login:pe,setActiveSession:se,updateUserInformationIfLoggedIn:de,logout:x,getSsoToken:$,isNewUser:me,addOrUpdatePhoneNumber:G,changePassword:U,updateUser:F,refreshUser:M,getUsersByPhone:B,addOrUpdateAddress:H,deleteAddress:j,setDefaultPhoneNumber:V,deletePhoneNumber:z,addEmailPreferences:k,updateEmailPreferences:L,updateTastesAndInterests:P,addOrUpdateFavoriteCafe:Q,setDefaultFavoriteCafe:X,deleteFavoriteCafe:ee,onLoggedInChangeOnly:fe,onLoggedInChange:he,onUserLoaded:ge,addFavoriteCafes:K,getOrderHistory:te,getGroupOrders:ne,onPastOrdersDataChange:ve,onRewardsDataChanged:be,onStoredCardsChange:_e,onFavoriteCafesDataChange:Ee,addStoredCardsToSession:Ce,addStoredCreditCardOrGiftCard:Se,updateStoredCard:we,deleteStoredCard:Te,addRecentCafes:J,getCafeDataCache:Z,addPayPalToken:Oe,addOrUpdatePayPalBillingAgreementId:Ie,onGroupOrdersDataChange:ye,showLoginModal:ue}}t.$inject=["$location","$q","$rootScope","$filter","localeService","cafeLocatorFactory","eCommerceService","cafeSearchService","scriptElementService","splunkService","eventHandler","$kookies","userService","rewardManagementService","cookieOptions","defaultCafe","routes","configService","analyticsService","loginAnalyticsService","pnraModalService","credentialManagementService","orderTypeService","loginTypes","identityProviders","registrationService","sessionResetReason","opinionLabService"],e.module("common.services.loginService",["paneraOrdering.login","common.services.analytics","common.services.login.loginAnalytics.service","common.factories.cafeLocator","common.services.localeService","common.services.eCommerceService","common.services.cafeSearchService","common.services.scriptElementService","common.services.splunkService","common.services.userService","common.services.rewardManagementService","paneraCommonUi.common.modal","common.services.credential.management.service","common.services.orderTypeService","common.services.eventHandler","common.services.configService","common.modules.registration.service","common.services.opinionLab.service","common.utilities.constants","ngKookies"]).service("loginService",t)}(window.angular),function(e){"use strict";e.module("schemaForm-formErrors",["formErrors.html","schemaForm"]).config(["schemaFormDecoratorsProvider",function(e){e.addMapping("bootstrapDecorator","formErrors","formErrors.html"),e.createDirective("formErrors","formErrors.html")}])}(window.angular),function(e){"use strict";e.module("schemaForm-typeahead",["typeAhead.html","schemaForm","ui.bootstrap.typeahead","ui.bootstrap.tpls"]).config(["schemaFormDecoratorsProvider",function(e){e.addMapping("bootstrapDecorator","typeAhead","typeAhead.html"),e.createDirective("typeAhead","typeAhead.html")}])}(window.angular),window.cartParser=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var i,o;for(i=n;r>i;i++)o=e.charAt(i),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return L!==t&&(L>t&&(L=0,U={line:1,column:1,seenCR:!1}),n(U,L,t),L=t),U}function r(e){F>N||(N>F&&(F=N,G=[]),G.push(e))}function i(r,i,o){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,o,a=new Array(e.length);for(o=0;o<e.length;o++)a[o]=e[o].description;return r=e.length>1?a.slice(0,-1).join(", ")+" or "+a[e.length-1]:a[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}var c=n(o),l=o<e.length?e.charAt(o):null;return null!==i&&a(i),new t(null!==r?r:s(i,l),i,l,o,c.line,c.column)}function o(){var e,t,n,r;if(e=N,t=a(),t!==m){for(n=[],r=c();r!==m;)n.push(r),r=c();n!==m?(M=e,t=v(t,n),e=t):(N=e,e=g)}else N=e,e=g;return e}function a(){var e,t,n,r;return e=N,t=u(),t!==m?(n=l(),n===m&&(n=y),n!==m?(r=s(),r===m&&(r=y),r!==m?(M=e,t=b(t,n,r),e=t):(N=e,e=g)):(N=e,e=g)):(N=e,e=g),e}function s(){var t,n,i,a;return t=N,91===e.charCodeAt(N)?(n=_,N++):(n=m,0===B&&r(E)),n!==m?(i=o(),i!==m?(93===e.charCodeAt(N)?(a=C,N++):(a=m,0===B&&r(S)),a!==m?(M=t,n=w(i),t=n):(N=t,t=g)):(N=t,t=g)):(N=t,t=g),t}function c(){var t,n,i;return t=N,44===e.charCodeAt(N)?(n=T,N++):(n=m,0===B&&r(I)),n!==m?(i=a(),i!==m?(M=t,n=O(i),t=n):(N=t,t=g)):(N=t,t=g),t}function l(){var t,n,i;return t=N,113===e.charCodeAt(N)?(n=A,N++):(n=m,0===B&&r($)),n!==m?(i=u(),i!==m?(M=t,n=D(i),t=n):(N=t,t=g)):(N=t,t=g),t}function u(){var t,n,i;if(B++,t=N,n=[],R.test(e.charAt(N))?(i=e.charAt(N),N++):(i=m,0===B&&r(k)),i!==m)for(;i!==m;)n.push(i),R.test(e.charAt(N))?(i=e.charAt(N),N++):(i=m,0===B&&r(k));else n=g;return n!==m&&(M=t,n=P(n)),t=n,B--,t===m&&(n=m,0===B&&r(x)),t}var d,p=arguments.length>1?arguments[1]:{},m={},f={itemList:o},h=o,g=m,v=function(e,t){return[e].concat(t||[])},y=null,b=function(e,t,n){return{id:e,quantity:t||1,items:n||[]}},_="[",E={type:"literal",value:"[",description:'"["'},C="]",S={type:"literal",value:"]",description:'"]"'},w=function(e){return e},T=",",I={type:"literal",value:",",description:'","'},O=function(e){return e},A="q",$={type:"literal",value:"q",description:'"q"'},D=function(e){return e},x={type:"other",description:"integer"},R=/^[0-9]/,k={type:"class",value:"[0-9]",description:"[0-9]"},P=function(e){return parseInt(e.join(""),10)},N=0,M=0,L=0,U={line:1,column:1,seenCR:!1},F=0,G=[],B=0;if("startRule"in p){if(!(p.startRule in f))throw new Error("Can't start parsing from rule \""+p.startRule+'".');h=f[p.startRule]}if(d=h(),d!==m&&N===e.length)return d;throw d!==m&&N<e.length&&r({type:"end",description:"end of input"}),i(null,G,F)}return e(t,Error),{SyntaxError:t,parse:n}}(),function(e){"use strict";e.module("common.utilities.constants.supportedLocales",[]).constant("supportedLocales",[{name:"English",value:"en_US"}])}(window.angular),function(e){"use strict";e.module("common.utilities.modals.alert",["alert.html","common.utilities.translate"]).controller("AlertController",["$scope","$interval","$uibModalInstance","modalOptions",function(e,t,n,r){function i(){e.countDownTime=0,t.cancel(c)}function o(){i(),n.close(r.shouldOptOut)}function a(){i(),n.dismiss()}function s(){e.countDownTime<=0?a():(e.countDownTime=e.countDownTime-l,e.modalOptions.model=[moment(e.countDownTime).format("mm:ss")])}var c,l=1e3;e.modalOptions=r,e.modalOptions.shouldOptOut=!1,r.selfDestruct&&(e.countDownTime=r.selfDestruct,e.modalOptions.model=[moment(e.countDownTime-l).format("mm:ss")],c=t(s,1e3)),e.close=o,e.dismiss=a}])}(window.angular),function(e){"use strict";e.module("common.utilities.modals.comboModal",["common.utilities.translate","comboModal.html"]).controller("ComboModalController",["$scope","$uibModalInstance","modalOptions",function(e,t,n){function r(){t.dismiss("cancel")}function i(e){t.close(e)}e.minRequirementsMet=n.minRequirementsMet,e.comboName=n.comboName,e.dismiss=r,e.exit=i}])}(window.angular),function(e){"use strict";e.module("common.utilities.modals.confirmation",[]).controller("ConfirmationController",["$scope","$uibModalInstance","modalOptions",function(e,t,n){e.modalOptions=n,e.ok=function(){t.close(!0)},e.cancel=function(){t.dismiss("cancel")}}])}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c){function l(){return m.model.message||m.defaultMessage}function u(){return m.model.sendTo.replace(/\s/g,"")}function d(){return{message:l(),subject:m.model.subject,senderName:m.model.senderName,senderEmail:m.model.senderEmail,sendTo:u()}}function p(){var e={},t={},n={},r={},i={};t[tv4.errorCodes.OBJECT_REQUIRED]="SUBJECT_REQUIRED",n[tv4.errorCodes.OBJECT_REQUIRED]="NAME_REQUIRED",r[tv4.errorCodes.OBJECT_REQUIRED]="EMAIL_REQUIRED",i[tv4.errorCodes.OBJECT_REQUIRED]="RECIPIENT_EMAIL_REQUIRED",m.options={formDefaults:{validationMessage:e}},m.schema={type:"object",required:["senderName","senderEmail","subject","sendTo"],properties:{subject:{title:"Subject",type:"string"},senderName:{title:"Name",type:"string"},senderEmail:{title:"E-Mail",type:"string"},sendTo:{title:"Send To",type:"string"},emailMessage:{title:"E-Mail Message",type:"string"}}},m.errors=[],m.form=[{type:"formErrors",errors:m.errors},{type:"section",htmlClass:"row",items:[{key:"senderName",type:"text",title:"YOUR_NAME",placeholder:"PAT_SMITH",htmlClass:"col-xs-12 col-sm-6",validationMessage:n},{key:"senderEmail",type:"email",title:"YOUR_EMAIL_ADDRESS",placeholder:"PAT_SMITH_EMAIL",htmlClass:"col-xs-12 col-sm-6",validationMessage:r}]},{type:"section",htmlClass:"row",items:[{key:"subject",type:"text",title:"EMAIL_SUBJECT",placeholder:"PANERA_BREAD_COMPANY_IS_NOW_HIRING",htmlClass:"col-xs-12 col-sm-6",validationMessage:t},{key:"sendTo",type:"email",title:"SEND_TO_EMAIL",placeholder:"SEND_TO_EMAIL_ARRAY",htmlClass:"col-xs-12 col-sm-6",validationMessage:i}]},{type:"section",htmlClass:"row",items:[{key:"message",type:"textarea",title:"EMAIL_MESSAGE",placeholder:"I_SAW_THIS_AT_PB_AND_THOUGHT",htmlClass:"col-xs-12"}]},{type:"section",htmlClass:"row",items:[{type:"submit",title:"SEND",htmlClass:"pull-right submit",readonly:!1},{type:"button",title:"CANCEL",onClick:"Hiring.closeModal()",htmlClass:"pull-right",readonly:!1}]}],m.model={subject:m.defaultSubject,message:m.defaultMessage},o.preProcess(m.options,m.form)}var m=this,f=n("translate");m.successfulSubmission=!1,m.dismissModal=function(){i.dismiss("cancel")},m.closeModal=function(){i.close()},m.sendEmail=function(n){var r;o.clearArray(m.errors),e.$broadcast("schemaFormValidate"),n.$valid&&(r=d(),o.disableSubmit(m.form,!0),a.sendHiringEmail(r).then(function(){return o.disableSubmit(m.form,!1),m.successfulSubmission=!0,c.trackHiringSubmit(),t.resolve()})["catch"](function(){return m.errors.push("ERROR_CODE_500"),o.disableSubmit(m.form,!1),t.reject("ERROR_CODE_500")}))},s.onI18nDataChange(e,function(){m.defaultSubject=r.getTrustedHtml(f("PANERA_BREAD_COMPANY_IS_NOW_HIRING")),m.defaultMessage=r.getTrustedHtml(f("I_SAW_THIS_AT_PB_AND_THOUGHT")),p()}),c.trackHiringLoad()}t.$inject=["$scope","$q","$filter","$sce","$uibModalInstance","formBuilderService","emailService","localeService","analyticsService"],e.module("common.utilities.modals.hiring",["hiring.html","common.services.formBuilderService","common.services.localeService","common.services.emailService","common.utilities.translate","schemaForm","schemaForm-formErrors","common.services.analytics"]).controller("hiringCtrl",t)}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this;i.modalOptions=r,i.selectedOrderType=n.getFormattedOrderType(),i.dismissModal=function(){e.dismiss("changeOrderDetails")},i.changeOrderDetails=function(){t.change(n.getOrderTypeDetails().steps[0]),i.dismissModal()}}t.$inject=["$uibModalInstance","orderFlowFactory","orderTypeService","modalOptions"],e.module("common.utilities.modals.invalidOrder",["invalidOrder.html","common.factories.orderFlowFactory","common.services.orderTypeService"]).controller("InvalidOrderController",t)}(window.angular),function(e){"use strict";function t(e,t,n){function r(){o=a.resolve.modalOptions.messageObject,a.imgKey=_.get(o,"imgKey"),a.showOptOut=a.resolve.modalOptions.showOptOut,a.shouldOptOut=!1}function i(){n.onI18nDataChange(e,function(){a.i18n={TITLE:s(_.get(o,"i18nDialogTitle")),DESCRIPTION:s(_.get(o,"i18nDialogMessage")),BUTTON_LABEL:s(_.get(o,"i18nBtnLbl")),DISCLAIMER:s(_.get(o,"i18nDisclaimer")),OPT_OUT:s("OPT_OUT")}})}var o,a=this,s=t("translate");a.resolveModal=function(){a.modalInstance.close(a.shouldOptOut)},a.$onInit=function(){r(),i()}}t.$inject=["$scope","$filter","localeService"],e.module("common.utilities.modal.message",["message.html","common.services.localeService"]).component("message",{templateUrl:"message.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";e.module("common.utilities.modals.preorder",["common.utilities.translate"]).controller("PreorderController",["$uibModalInstance","$scope","modalOptions",function(e,t,n){function r(t){var r,i=_.cloneDeep(n.product);_.isUndefined(i.defaultBuild)&&(i.defaultBuild=[]),_.isEmpty(t)||(i.defaultBuild.push(t),r=_.find(n.item.preorderCustomizations,{itemId:t.id}),_.isObject(r)&&(n.item.selectedComponents=[{modGroupId:r.modgrpId,modItemId:r.moditmId,
variantId:r.moditmId,quantity:1,i18nName:r.i18nName}])),n.orderItem(i,n.item,!0),e.close(!0)}function i(){n.customizeItem(n.item),e.close(!0)}function o(e){switch(e.appBehavior){case"addModifier":r({id:e.itemId,i18nName:e.i18nName});break;case"customizationModal":i();break;default:r()}}t.modalOptions=n,t.performAction=o}])}(window.angular),function(e){"use strict";e.module("common.utilities.modals.rewardModal",["myRewards.html","menu.menuContent","account.myRewards","common.services.cartService","common.services.menuService","common.services.rewardService","common.services.discountService","common.services.rewardManagementService","common.services.configService","common.utilities.translate","common.utilities.constants","common.utilities.filters"]).controller("RewardModalController",["$scope","$location","$uibModalInstance","cartService","menuService","rewardService","modalOptions","routes","discountService","rewardManagementService","configService",function(e,t,n,r,i,o,a,s,c,l,u){function d(n,r){e.isSubmitted||o.redeem(n,e.reward,a.orderId).then(function(){e.cancel(),e.isSubmitted=!0,"checkout"!==r&&t.path(s[r])})}function p(){return t.path()===s.checkout?"checkout":"menu"}function m(){e.reward=_.find(o.rewardCartItems(e.cart||r.getCart()).rewards,{promoCode:e.reward.promoCode,id:e.reward.id})}e.step="",e.reward=a.selectedReward,e.rewardItemsShowing="",e.rewardToBeRedeemed=a.rewardToBeRedeemed,e.buildCartItem=o.buildCartItem,e.customizeItem=o.customizeItem,e.isSubmitted=!1,e.overRewardLimit=!l.rewardCanBeApplied(e.reward,r.getCart(),c.getTotalDiscountAmount()),u.fetchConfig().then(function(t){e.preventRedemption=!t.multipleRewardsIsEnabled&&l.rewardToBeRedeemed()}),_.isUndefined(e.reward)&&(e.step="checkout"),e.cancel=function(){n.close()},e.selectCategory=function(t){e.comboId=t.catId,e.placards=void 0,e.comboPlacards=void 0},e.selectItems=function(t){var n;return e.rewardToBeRedeemed||e.preventRedemption?void e.cancel():e.reward.isReadyToRedeem&&!e.overRewardLimit?(n=p(),void d(e.cart,n)):(e.rewardItemsShowing=t,e.step="menu",e.comboId=void 0,e.placards=_.map(_.filter(e.reward[t],{itemType:"ITEM"}),"itemId"),void(e.comboPlacards=_.compact(_.map(_.filter(e.reward[t],{itemType:"COMBO"}),function(e){return e.catId=i.getMyComboCategory(e.itemId),_.isUndefined(e.catId)?void 0:e}))))},e.selectRewards=function(){e.step="rewards"},e.selectReward=function(t){e.reward=t,m(),e.selectItems(_.isEmpty(e.reward.requiredItems)?"eligibleItems":"requiredItems")},r.onCartChange(e,function(t,n){e.cart=t,_.isUndefined(e.reward)||m(),!t||"menu"!==e.step||"add"!==n&&"update"!==n||(e.reward.isReadyToRedeem?d(t,p()):_.isEmpty(e.reward.requiredItems)||e.selectItems("eligibleItems"))})}])}(window.angular),function(e){"use strict";e.module("common.utilities.modals.sides",["builder.selector.sideSelection","common.utilities.translate"]).controller("SidesController",["$scope","$window","$uibModalInstance","modalOptions",function(e,t,n,r){function i(){n.dismiss()}e.modalOptions=r,e.sides=r.sides.sideItems,e.selection={},e.selection.selectedSide=t.utilities.getItemId(r.selectedSide)||r.sides.defaultSide,e.exit=i,e.$watch("selection.selectedSide",function(t,i){if(t!==i){var o=_.find(e.sides,{itemId:t}),a={id:t,i18nName:o.i18nName,price:o.price,calories:{value:0,unit:"",i18nName:""},hasCustomizations:!1,allowSpecialInstr:!1,itemQty:r.selectedSide.itemQty||1,itemType:r.selectedSide.itemType||"side"};n.close(a)}},!0)}])}(window.angular),function(e){"use strict";function t(e,t,n){var r=this;r.accessToken=t.accessToken,r.socialType=t.socialType,r.dismissModal=function(){e.dismiss("social")},r.forgotPassword=function(){n.forgotPassword(),r.dismissModal()}}t.$inject=["$uibModalInstance","modalOptions","socialService"],e.module("common.utilities.modals.social",["socialModal.html","common.components.social.facebook.fbVerifyAccount","common.services.social.service"]).controller("SocialModalController",t)}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s,c,l,u){function d(){var e=[];return _.forEach(m.programs[m.activeProgram].qualifiedItems.schedule,function(t){r.validOrderTime(t.fromTime,t.toTime,t.dayOfWeek)&&(e=e.concat(_.map(t.placards,function(e){return e.plcIdDiscount||e.plcIdFullPrice})))}),e}function p(e){var t,n=m.programs[m.activeProgram];"add"===(e||"").toLowerCase()&&(m.itemsAdded+=1,1===m.itemsAdded&&s.trackUpsell(n.name,"Item Added"),window.utilities.blurActiveElement()),m.itemsAdded>=m.availableItems&&(_.isUndefined(_.get(n,"qualifiedItems.postSelectionProgram"))||(t=_.find(f,{id:_.get(n,"qualifiedItems.postSelectionProgram")}),_.isUndefined(t)||m.programs.splice(m.activeProgram+1,0,t)),m.nextProgram())}var m=this,f=m.resolve.modalOptions.upsellPrograms;m.closeButton=_.cloneDeep(u.staticImages.closeButton.original),m.nextProgram=function(){var e=l.calculateUpsellData();m.programs=_.get(e,"upsellPrograms"),f=_.get(e,"programsToRun.programs"),m.activeProgram<_.size(m.programs)?(m.itemsAdded=0,m.availableItems=_.get(m.programs[m.activeProgram],"qualifiedItems.availableItems"),m.placards=d(),s.trackUpsell(m.programs[m.activeProgram].name,"Initialization"),_.isUndefined(m.programs[m.activeProgram].prereq)?m.step=1:m.step=0):m.modalInstance.close(!0)},m.nextStep=function(){s.trackUpsell(m.programs[m.activeProgram].name,"See Featured"),m.step=m.step+1},m.exit=function(e){var t=e||"Exit";s.trackUpsell(m.programs[m.activeProgram].name,t),m.modalInstance.dismiss(!1)},m.returnToCheckout=function(){s.trackUpsell(m.programs[m.activeProgram].name,"Return to Checkout"),m.itemsAdded<=0&&m.modalInstance.close(!0),m.nextProgram()},m.toCategory=function(e){m.exit(),s.trackUpsell(m.programs[m.activeProgram].name,"See All"),n.path(c.menu+e.toString())},m.$onInit=function(){m.activeProgram=0,m.step=0,m.itemsAdded=0,m.programs=m.resolve.modalOptions.programs,m.placards=d(),m.availableItems=m.programs[m.activeProgram].qualifiedItems.availableItems,m.formatItem=o.buildCartItem,s.trackUpsell(m.programs[m.activeProgram].name,"Initialization"),l.onUpsellProgramChange(e,function(e){m.programs=_.uniqBy(_.union(m.programs,e),"id")}),a.onI18nDataChange(e,function(){var e=t("translate");m.i18n={NO_THANKS:e("NO_THANKS"),RETURN_TO_CHECKOUT:e("RETURN_TO_CHECKOUT")}}),i.onCartChange(e,function(e,t){_.noop(e),p(t)})}}t.$inject=["$scope","$filter","$location","cafeHours","cartService","menuService","localeService","analyticsService","routes","upsellFactory","pnraModal"],e.module("common.utilities.modals.upsell",["upsell.html","common.services.cafeHours","common.services.cartService","common.services.menuService","common.services.analytics","common.services.localeService","common.factories.upsell","common.utilities.filters","common.utilities.translate","menu.menuContent"]).component("upsellModal",{templateUrl:"upsell.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";function t(){function e(){t.cart&&_.forEach(t.cart.items,function(e){e.sides=_.map(_.filter(e.childItems,function(e){return"SIDE"===e.type})),e.nonSides=_.map(_.filter(e.childItems,function(e){return"PRODUCT"===e.type}))})}var t=this;t.isOpen=!1,t.cart?t.name=t.cart.customer.id===t.customerInfo.customerId?t.i18n.ME:t.cart.customer.firstName+" "+t.cart.customer.lastName:t.startOrder&&(t.name=t.i18n.ME),t.toggleDetails=function(){t.cart&&(t.isOpen=!t.isOpen)},t.$onInit=e}e.module("paneraOrdering.groupOrder.goDashboard.goCartPanel.goCartDetails",["goCartDetails.html"]).component("goCartDetails",{templateUrl:"goCartDetails.html",controller:t,bindings:{cart:"<",i18n:"<",removeCart:"&",customerInfo:"<",startOrder:"&"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this;i.$onInit=function(){e.$applyAsync(r.lazyLoadRender),i.isItem=t.isItem,i.getPlacardColumns=t.getPlacardColumns,i.subCategories=t.buildSubCategories(i.categoryData),i.categoryData.curation.context="curation",n.setAppBanner(i.categoryData.curation)}}t.$inject=["$scope","placardService","appBannerService","imageService"],e.module("menu.menuContent.categories.curatedCategory",["curatedCategory.html","menu.placard.service","common.services.imageService","paneraOrdering.appBanner.service","ui.bootstrap.tpls","ui.bootstrap.accordion","accordion-group.html"]).component("curatedCategory",{templateUrl:"curatedCategory.html",controller:t,bindings:{placards:"<",categoryData:"<",comboNumber:"<",isRewards:"<",selectCategory:"&",customizeItem:"&",orderItem:"&"}})}(window.angular),function(e){"use strict";function t(e,t,n){var r=this;r.$onInit=function(){e.$applyAsync(n.lazyLoadRender),r.isItem=t.isItem,r.getPlacardColumns=t.getPlacardColumns}}t.$inject=["$scope","placardService","imageService"],e.module("menu.menuContent.categories.parentCategory",["parentCategory.html","menu.placard.service","common.services.imageService"]).component("parentCategory",{templateUrl:"parentCategory.html",controller:t,bindings:{categories:"<",comboNumber:"<",isRewards:"<",selectCategory:"&",customizeItem:"&",orderItem:"&",categoryData:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n){var r=this;r.$onInit=function(){e.$applyAsync(n.lazyLoadRender),r.isItem=t.isItem,r.getPlacardColumns=t.getPlacardColumns,r.categorialContextObject=t.figureCategorialContext(r.categoryData)}}t.$inject=["$scope","placardService","imageService"],e.module("menu.menuContent.categories.subCategory",["subCategory.html","menu.placard.service","common.services.imageService"]).component("subCategory",{templateUrl:"subCategory.html",controller:t,bindings:{placards:"<",comboNumber:"<",isRewards:"<",selectCategory:"&",customizeItem:"&",orderItem:"&",categoryData:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this;i.redirect=function(){n.redirectToUrl(i.placard)},i.$onInit=function(){i.redirectTarget=n.determineTarget(i.placard),r.onI18nDataChange(e,function(){var e=t("translate");i.i18n={title:e(i.placard.redirect.i18nTitle),description:e(i.placard.redirect.i18nDesc),link:e(i.placard.redirect.i18nLink)}})}}t.$inject=["$scope","$filter","redirectPlacardService","localeService"],e.module("menu.placard.redirectPlacard.flatbreadPlacard",["flatbreadPlacard.html","menu.placard.redirectPlacard.service","common.services.localeService","common.utilities.constants","common.utilities.translate"]).component("flatbreadPlacard",{templateUrl:"flatbreadPlacard.html",controller:t,bindings:{placard:"<"}})}(window.angular),function(e){"use strict";function t(e,t,n,r){var i=this,o=t("translate");i.redirect=function(){n.redirectToUrl(i.placard)},i.$onInit=function(){i.redirectTarget=n.determineTarget(i.placard),r.onI18nDataChange(e,function(){i.i18n={title:o(i.placard.redirect.i18nTitle),description:o(i.placard.redirect.i18nDesc),link:o(i.placard.redirect.i18nLink)}})}}t.$inject=["$scope","$filter","redirectPlacardService","localeService"],e.module("menu.placard.redirectPlacard.yp2Placard",["yp2Placard.html","menu.placard.redirectPlacard.service","common.services.localeService","common.utilities.constants","common.utilities.translate"]).component("yp2Placard",{templateUrl:"yp2Placard.html",controller:t,bindings:{placard:"<"}})}(window.angular),function(e){"use strict";e.module("orderFlow.orderProcess.deliveryCheck",["deliveryCheck.html","suggestions.html","suggestion.html","common.services.cafeSearchService","common.services.formBuilderService","common.services.localeService","schemaForm","schemaForm-typeahead"]).directive("deliveryCheck",["formBuilderService","cafeSearchService","localeService",function(e,t,n){return{restrict:"E",scope:{inputModel:"=",btnFunction:"=",htmlClass:"<"},templateUrl:"deliveryCheck.html",link:function(r){function i(){var t={};t[tv4.errorCodes.OBJECT_REQUIRED]="STREET_ADDRESS_REQUIRED",r.options={},r.schema={type:"object",required:["address"],properties:{address:{type:"string"}}},r.form=[{type:"section",htmlClass:r.htmlClass,items:[{key:"address",type:"typeAhead",title:"ENTER_STREET_ADDRESS",feedback:!1,disableSuccessState:!0,notitle:!0,placeholder:"ENTER_STREET_ADDRESS",typeAhead:r.getSuggestions,taMinLength:4,taLoading:!0,taTemplate:"suggestion.html",ngModelOptions:{debounce:350},validationMessage:t}]},{type:"section",htmlClass:"col-xs-12 col-sm-2",items:[{type:"submit",title:"CHECK_AVAILABILITY",style:"btn-primary",readonly:!1}]}],r.model={},e.preProcess(r.options,r.form)}r.getSuggestions=function(e){return _.isUndefined(e)?[]:t.getAutocompleteList(e).then(function(e){return _.map(e,"description")},function(){return[]})},n.onI18nDataChange(r,i),r.submit=function(e){r.$broadcast("schemaFormValidate"),e.$valid&&r.btnFunction(r.model.address)}}}}])}(window.angular),function(e){"use strict";e.module("orderProcess.orderType.orderType",["orderFlow.orderProcess.orderType","common.factories.cafeLocator","common.services.modalService"]).controller("OrderTypeController",["$uibModalInstance","$scope","cafeLocatorFactory",function(e,t,n){t.enabledOrderTypes=n.getCafeOrderTypes(),t.cancel=function(){e.dismiss("cancel")},t.close=function(){e.close()}}])}(window.angular),function(e){"use strict";function t(e,t,n){function r(){n.onI18nDataChange(e,function(){i.label=o(i.i18nKey)})}var i=this,o=t("translate");i.$onInit=function(){r()}}t.$inject=["$scope","$filter","localeService"],e.module("common.components.social.fbButton",["fbButton.html","common.services.localeService"]).component("fbButton",{templateUrl:"fbButton.html",controller:t,bindings:{action:"&",i18nKey:"@"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(){s=r.getSocialIntegration(),s?c.labels={btn:c.i18n.DISCONNECT,title:c.i18n.MANAGE_FB_CONNECTED_TITLE,desc:c.i18n.MANAGE_FB_CONNECTED_DESC}:c.labels={btn:c.i18n.CONNECT,title:c.i18n.MANAGE_FB_DISCONNECTED_TITLE,desc:c.i18n.MANAGE_FB_DISCONNECTED_DESC}}var s,c=this,l=r.customerId();c.setAssociation=function(){var e={type:"FB",customerId:l};return _.set(e,s?"disassociate":"associate",!0),n.start(e).then(a)["catch"](a)},c.$onInit=function(){var n=t("translate");o.fetchConfig().then(function(e){c.facebookLoginIsEnabled=e.facebookLoginIsEnabled}),i.onI18nDataChange(e,function(){c.i18n={MANAGE_FB_CONNECTED_TITLE:n("MANAGE_FB_CONNECTED_TITLE"),MANAGE_FB_CONNECTED_DESC:n("MANAGE_FB_CONNECTED_DESC"),MANAGE_FB_DISCONNECTED_TITLE:n("MANAGE_FB_DISCONNECTED_TITLE"),MANAGE_FB_DISCONNECTED_DESC:n("MANAGE_FB_DISCONNECTED_DESC"),CONNECT:n("CONNECT"),DISCONNECT:n("DISCONNECT"),DISCONNECT_MESSAGE:n("DISCONNECT_MESSAGE")},a()})}}t.$inject=["$scope","$filter","socialFlowService","userService","localeService","configService"],e.module("common.components.social.fbConnection",["fbConnection.html","common.services.socialFlow.service","common.services.userService","common.services.localeService","common.services.configService"]).component("fbConnection",{templateUrl:"fbConnection.html",controller:t,bindings:{buttonAlign:"@"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o){function a(){n.onI18nDataChange(e,function(){s.i18n={JOIN_MYPANERA:c("JOIN_MYPANERA"),JOIN_MYPANERA_DESC:c("JOIN_MYPANERA_DESC"),SIGN_UP_WITH_EMAIL:c("SIGN_UP_WITH_EMAIL"),OR:c("OR")}})}var s=this,c=t("translate");s.signUpWithEmail=function(){r.launchRegistration(o.DEFAULT),s.modalInstance.close()},s.register=function(){i.start({type:"FB",register:!0}),s.modalInstance.close()},s.$onInit=function(){a()}}t.$inject=["$scope","$filter","localeService","registrationFlowService","socialFlowService","regTypes"],e.module("common.components.social.fbJoinMyPanera",["fbJoinMyPanera.html","common.utilities.translate","common.components.social.fbButton","orderFlow.registration","common.modules.registration.registrationFlow.service","common.services.socialFlow.service","common.services.localeService","common.utilities.constants"]).component("fbJoinMyPanera",{templateUrl:"fbJoinMyPanera.html",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(window.angular),function(e){"use strict";function t(e,t){var n=this;n.login=function(){t.trackLogin(),n.onSuccess({result:e.start({type:"FB"})})}}t.$inject=["socialFlowService","fbAnalyticsService"],e.module("common.components.social.fbLogin",["fbLogin.html","common.services.facebook.fbAnalytics.service","common.services.socialFlow.service"]).component("fbLogin",{templateUrl:"fbLogin.html",controller:t,bindings:{onSuccess:"&"}})}(window.angular),function(e){"use strict";function t(e,t,n,r,i,o,a,s){function c(){var e={},t={},n={},i={};e[tv4.errorCodes.STRING_PATTERN]="INVALID_CHARACTER",t[tv4.errorCodes.OBJECT_REQUIRED]="LM_PASSWORD_REQUIRED",i[tv4.errorCodes.STRING_PATTERN]="CC_EMAIL_INVALID_FORMAT",i[tv4.errorCodes.OBJECT_REQUIRED]="EMAIL_REQUIRED",n[tv4.errorCodes.OBJECT_REQUIRED]="LM_USER_REQUIRED",d.options={formDefaults:{validationMessage:e}},d.schema={type:"object",required:["password","emailAddress","username"],properties:{password:{type:"string"},emailAddress:{type:"string",pattern:o.validEmail},username:{type:"string"}}},d.errors=[],d.form=[{type:"formErrors",errors:d.errors},{key:"emailAddress",type:"text",title:"EMAIL_ADDRESS",placeholder:"EMAIL_ADDRESS",htmlClass:"col-xs-12 pnra-text-input no-padding",condition:"$ctrl.numEmailsFound === 0",notitle:!0,validationMessage:i},{key:"username",type:"text",title:"USERNAME",placeholder:"USERNAME",htmlClass:"col-xs-12 pnra-text-input no-padding",condition:"$ctrl.numEmailsFound > 1",notitle:!0,validationMessage:n},{key:"password",type:"password",title:"PASSWORD",placeholder:"PASSWORD",htmlClass:"col-xs-12 pnra-text-input no-padding",notitle:!0,validationMessage:t},{type:"template",forgotPassword:d.forgotPassword,htmlClass:"col-xs-12",forgotPasswordText:d.i18n.FORGOT_USERNAME_AND_PASSWORD,template:'<p class="forgot-password"><a ng-click="form.forgotPassword()">{{form.forgotPasswordText}}</a></p>'},{type:"section",htmlClass:"btn-container",items:[{type:"submit",fieldHtmlClass:"pnra-btn",title:"SIGN_IN"}]}],d.model={username:d.emailAddress},r.preProcess(d.options,d.form)}function l(){n.onI18nDataChange(e,function(){d.i18n={FORGOT_USERNAME_AND_PASSWORD:p("FORGOT_USERNAME_AND_PASSWORD"),FB_CANT_FIND_ACCOUNT:p("FB_CANT_FIND_ACCOUNT"),SIGN_IN:p("SIGN_IN"),JOIN_MYPANERA:p("JOIN_MYPANERA"),FB_MULTIPLE_ACCTS_FOUND:p("FB_MULTIPLE_ACCTS_FOUND"),FB_VERIFY_TITLE:p("FB_VERIFY_TITLE"),FB_VERIFY_DESC_ONE_MATCH:p("FB_VERIFY_DESC_ONE_MATCH")},c()})}function u(){var e=_.get(d,"resolve.modalOptions.userInfo",{}),t=_.size(_.get(d,"resolve.modalOptions.loginResponse.matches"),[]),n=_.get(d,"resolve.modalOptions.loginResponse.facebook.email");d.i18n={},e.customerId&&0!==e.customerId?(d.numEmailsFound=1,d.emailAddress=e.username,1===t&&e.email!==n&&s.trackIgnoreMatchedEmailAccount()):(d.numEmailsFound=t,d.emailAddress=n)}var d=this,p=t("translate");d.forgotPassword=function(){a.show({component:"forgotPassword",size:"md-small",hideContainer:!1}),d.modalInstance.dismiss()},d.associate=function(){r.clearArray(d.errors),r.disableSubmit(d.form,!0),d.socialPromise=i.associate(d.model.emailAddress||d.model.username,d.model.password).then(function(){s.trackAccountAssociation(d.numEmailsFound),d.modalInstance.close()})["catch"](function(e){s.trackAccountAssociation(d.numEmailsFound,e),_.forEach(e,function(e){d.errors.push(e)}),r.disableSubmit(d.form,!1)})},d.joinMyPanera=function(){d.modalInstance.close({register:!0})},d.$onInit=function(){u(),l()}}t.$inject=["$scope","$filter","localeService","formBuilderService","socialFlowService","regexes","pnraModalService","fbAnalyticsService"],e.module("common.components.social.facebook.fbVerifyAccount",["fbVerifyAccount.html","common.services.localeService","common.services.formBuilderService","common.services.socialFlow.service","common.utilities.constants","common.services.facebook.fbAnalytics.service","paneraCommonUi.common.modal","paneraCommonUi.common.loading"]).component("fbVerifyAccount",{templateUrl:"fbVerifyAccount.html",controller:t,bindings:{resolve:"<",modalInstance:"<"}})}(window.angular),angular.module("account.html",[]).run(["$templateCache",function(e){e.put("account.html",'<div class="container" id="accountInfo">\n  <div class="row">\n    <div class="col-sm-3 hidden-xs">\n      <nav class="row">\n        <div class="col-sm-12">\n          <div class="row">\n            <div class="col-sm-12">\n              <h3>{{ \'MY_ACCOUNT\' | translate }}</h3>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-12">\n              <ul class="list-unstyled">\n                <li ng-repeat="page in accountPages"\n                    class="link">\n                  <a ng-click="selectPage(page)">{{ page.i18nName | translate }}</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </nav>\n    </div>\n\n    <div class="visible-xs row uib-dropdown" uib-dropdown>\n      <a href class="col-xs-12 uib-dropdown-toggle" uib-dropdown-toggle>\n      <span class="row">\n        <span class="col-xs-10"><h4 class="pull-left">{{ selectedPage.i18nName | translate}}</h4></span>\n        <span class="col-xs-2"><i class="fa fa-2x fa-caret-down pull-right"></i></span>\n      </span>\n      </a>\n      <ol class="col-xs-12 uib-dropdown-menu" uib-dropdown-menu>\n        <li ng-repeat="page in accountPages"\n            class="link">\n          <a ng-click="selectPage(page)">{{ page.i18nName | translate }}</a>\n        </li>\n      </ol>\n    </div>\n\n    <div ng-switch="selectedPage.key" class="col-xs-12 col-sm-9">\n      <menu-transitions-alert ng-if="showMenuTransitionsMessage"></menu-transitions-alert>\n      <my-account-info ng-switch-when="my_account_info"></my-account-info>\n      <my-addresses ng-switch-when="my_addresses"></my-addresses>\n      <my-cards ng-switch-when="my_payment_methods"></my-cards>\n      <my-phone-numbers ng-switch-when="my_phone_numbers"></my-phone-numbers>\n      <my-past-orders ng-switch-when="my_past_orders"></my-past-orders>\n      <my-group-orders ng-switch-when="my_group_orders"></my-group-orders>\n      <my-favorites ng-switch-when="my_favorites"></my-favorites>\n      <my-rewards ng-switch-when="my_rewards" show-header="true"></my-rewards>\n      <my-cafes ng-switch-when="my_cafes"></my-cafes>\n      <my-notifications ng-switch-when="my_notifications"></my-notifications>\n      <my-communication-preferences ng-switch-when="my_communication_preferences"></my-communication-preferences>\n      <my-tastes-and-interests ng-switch-when="my_tastes_and_interests"></my-tastes-and-interests>\n    </div>\n  </div>\n</div>\n')}]),angular.module("appBanner.html",[]).run(["$templateCache",function(e){e.put("appBanner.html",'<!-- HEADER -->\n<section class="banner {{ $ctrl.banner.context }}"\n         ng-class="{\'menu\': $ctrl.isMenu}"\n         ng-if="$ctrl.banner">\n  <!-- HEADER BACKGROUND IMAGE -->\n  <img ng-src="{{ $ctrl.banner.headerImgKey | usage: $ctrl.imageKeyUsage }}"\n       alt="{{ $ctrl.banner.headerI18nTitle | translate }}"\n       class="img-responsive">\n  <div class="banner-text">\n    <!-- HEADER ICON -->\n    <img ng-if="$ctrl.banner.headerIconImgKey" \n         ng-src="{{ $ctrl.banner.headerIconImgKey | usage: \'curation-icon\' }}"\n         class="icon"\n         alt="{{ $ctrl.banner.headerI18nTitle | translate }}">\n    <!-- HEADER HEADING -->\n    <h2 ng-class="{\'raise-text\': $ctrl.raiseText}">\n      <!-- GROUP ORDERING SPECIFIC ICON -->\n      <i ng-if="$ctrl.banner.iconClass" ng-class="$ctrl.banner.iconClass"></i>\n      {{ $ctrl.banner.headerI18nTitle | translate }}\n    </h2>\n    <!-- HEADER DESCRIPTION -->\n    <p ng-if="$ctrl.banner.headerI18nDesc">\n      {{ $ctrl.banner.headerI18nDesc | translate }}\n    </p>\n  </div>\n</section>')}]),angular.module("builder.html",[]).run(["$templateCache",function(e){e.put("builder.html",'<div class="container" id="builder-modal" ng-if="!loading">\n  <div class="row no-margin">\n    <div class="col-xs-12">\n\n      <div class="row">\n        <div class="col-xs-12">\n          <i ng-click="cancel()" class="btn-modal-close"></i>\n        </div>\n      </div>\n\n      <div class="row" id="builder-header">\n        <div class="col-xs-11 col-sm-8">\n          <h1>\n            <span ng-if="selectedItemModLbl">{{ selectedItemModLbl | translate }}</span>\n            {{ selectedItemName | translate }}\n          </h1>\n        </div>\n        <div class="col-xs-12 col-sm-4 builder-size">\n          <div class="row">\n            <div class="col-xs-6 col-sm-12 text-right">\n              <h2>{{ nutrition[0].value | number:0 }} {{ nutrition[0].unit | translate }}\n                <span ng-if="hasSide()">{{\'PLUS_SIDE\' | translate }}</span></h2>\n            </div>\n            <div class="col-xs-6 col-md-12 nutrition-container">\n              <a uib-popover-template="\'builderDescription.html\'"\n                 popover-placement="bottom"\n                 popover-trigger="\'click\'"\n                 popover-popup-delay="0"\n                 popover-append-to-body="true"\n                 ng-if="product.i18nDesc">\n                {{ \'DESCRIPTION\' | translate }}</a>\n              <span class="linkSpace"\n                    ng-if="product.i18nDesc">|</span>\n              <a uib-popover-template="\'builderNutrition.html\'"\n                 popover-placement="bottom"\n                 popover-trigger="\'click\'"\n                 popover-popup-delay="0"\n                 popover-append-to-body="true">\n                  {{ \'MORE_NUTRITION_INFO\' | translate }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="row hidden-xs">\n        <div class="col-sm-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <div class="row builder-size hidden-xs">\n        <div class="col-sm-5 col-sm-offset-3">\n          <div class="row">\n            <ul class="col-sm-12 alert alert-danger" role="alert" ng-if="errors.length > 0">\n              <li ng-repeat="error in errors | unique: \'message\'">{{error.message}}</li>\n            </ul>\n          </div>\n        </div>\n        <builder-total class="col-sm-4"\n                       btn-function="order"\n                       track-customization="trackCustomization(eventType)"\n                       btn-text="btnText"\n                       errors="errors"\n                       saved="saved"\n                       update-saved="updateSaved(isSaved)"\n                       is-combo-item="isComboItem"\n                       items="cartItem"\n                       position="\'top\'"\n                       mod-group="{{ selectionInfo.groupId }}"\n                       total-price="totalPrice"\n                       type="{{ selectionInfo.type }}">\n        </builder-total>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <div class="row" id="builder-content">\n        <div class="col-xs-12 col-sm-4 col-md-3">\n          <customization-nav modifiers="modifiers"\n                             popular="popular"\n                             rules="rules"\n                             sides="sides"\n                             data="selectionData"\n                             info="selectionInfo"\n                             selection="selection"\n                             special-instructions="specialInstructions"\n                             errors="errors">\n          </customization-nav>\n        </div>\n\n        <div class="col-xs-12 col-sm-8 col-md-5">\n          <selector rules="rules"\n                    data="selectionData"\n                    info="selectionInfo"\n                    selection="selection"\n                    correlated-item-prices="correlatedItemPrices"\n                    available-subs="availableSubs">\n          </selector>\n        </div>\n        <div class="hidden-xs hidden-sm col-md-4">\n          <selections components="components.all"\n                      modifiers="modifiers"\n                      product="product"\n                      ng-if="product">\n          </selections>\n        </div>\n      </div>\n\n      <div class="row hidden-xs">\n        <div class="col-sm-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <div class="row builder-size">\n        <div class="col-xs-5 col-xs-offset-3">\n          <div class="row">\n            <ul class="col-xs-12 alert alert-danger" role="alert" ng-if="errors.length > 0">\n              <li ng-repeat="error in errors | unique: \'message\'">{{error.message}}</li>\n            </ul>\n          </div>\n        </div>\n        <builder-total class="col-xs-12 col-sm-4"\n                       btn-function="order"\n                       track-customization="trackCustomization(eventType)"\n                       btn-text="btnText"\n                       errors="errors"\n                       saved="saved"\n                       update-saved="updateSaved(isSaved)"\n                       is-combo-item="isComboItem"\n                       items="cartItem"\n                       position="\'bottom\'"\n                       mod-group="{{ selectionInfo.groupId }}"\n                       type="{{ selectionInfo.type }}"\n                       total-price="totalPrice">\n        </builder-total>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("builderDescription.html",[]).run(["$templateCache",function(e){e.put("builderDescription.html",'<div class="row">\n  <span class="desc col-xs-12">\n    {{product.i18nDesc | translate}}\n  </span>\n</div>\n')}]),angular.module("builderNutrition.html",[]).run(["$templateCache",function(e){e.put("builderNutrition.html",'<div>\n  <!-- DO NOT SHOW NUTRITION -->\n  <div ng-if="ignoreNutrition || !nutrition || nutrition.length < 1">\n    <nutrition>\n      {{ \'VARIED_NUTRITION_DETAILS\' | translate }}\n      <a ng-href="{{ paneraUrls.nutritionPDF }}"\n         title="{{ \'NUTRITION_INFO_GUIDE\' | translate }}"\n         target="_blank">\n        {{ \'NUTRITION_INFO_GUIDE\' | translate}}\n      </a>\n    </nutrition>\n  </div>\n  <!-- SHOW NUTRITION -->\n  <div ng-if="!ignoreNutrition && nutrition">\n    <nutrition nutritions="nutrition">\n      {{ \'NUTRITION\' | translate}}\n    </nutrition>\n  </div>\n</div>')}]),angular.module("cafeLocator.html",[]).run(["$templateCache",function(e){e.put("cafeLocator.html",'<div class="container" id="cafelocator">\n  <div class="row hidden-xs">\n    <h3 class="col-sm-12">\n      {{\'FIND_A_PANERA_BREAD_BAKERY_CAFE\' | translate}}\n    </h3>\n    <p class="col-sm-12">\n      {{\'ONLINE_ORDERING_RAPID_PICKUP\' | translate}}\n    </p>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="artisan" id="upperDivider">\n    </div>\n    <cafe-selector class="col-xs-12"\n                   show-my-cafe-links="true"\n                   show-features-filter="true"\n                   button-label="ORDER"\n                   select-cafe="setContext(cafe)"\n                   map-center="mapCenter"\n                   current-location="currentLocation"\n                   features-filter="featuresFilter"\n                   display-removed="displayRemoved">\n    </cafe-selector>\n  </div>\n</div>\n')}]),angular.module("cart.html",[]).run(["$templateCache",function(e){e.put("cart.html",'<div ng-if="!collapse.collapsed || collapse.smallScreen" class="row cart-summary">\n  <div class="col-xs-12">\n    <ul ng-if="cartHasItems" class="items">\n      <li ng-repeat="item in cart.items track by $index">\n        <!-- BEGINNING OF NON-COMBO ITEM -->\n        <div ng-if="!item.isCombo">\n          <div class="row item">\n            <!-- IMAGE -->\n            <div class="col-xs-3 visible-xs">\n              <img class="no-padding img-responsive cart-item-image"\n                  ng-src="{{item.imgKey | usage:\'placard\'}}"\n                  alt="{{item.imgKey}}">\n            </div>\n            <!-- NAME AND DETAILS -->\n            <div class="col-xs-6 col-md-9 details">\n              <p class="name">{{item.i18nName | translate}}</p>\n              <p ng-if="item.i18nModLbl" class="variant">{{item.i18nModLbl | translate}}</p>\n              <div ng-if="item.summary.isModified && !item.collapseMods" class="mods">\n                <p ng-repeat="addition in item.summary.additions" class="addition">\n                  <span ng-if="addition.itemQty > 1">{{addition.itemQty}}</span>\n                  {{addition.i18nName | translate}}\n                </p>\n                <p ng-repeat="removal in item.summary.removals" class="removal">\n                  {{removal.i18nName | translate}}\n                </p>\n              </div>\n              <p ng-if="item.summary.side" class="variant">\n                {{ \'SIDE\' | translate}}&colon;&nbsp;{{item.summary.side.i18nName | translate}}\n              </p>\n            </div>\n            <!-- PRICE -->\n            <div class="col-xs-3 col-md-3 price">\n              <p>{{item.price | currency}}</p>\n            </div>\n          </div>\n          <div class="row messages">\n            <div class="col-xs-12">\n              <p ng-if="item.isUnavailable" class="not-available">\n                {{ \'ITEM_NOT_AVAILABLE\' | translate }}\n              </p>\n              <p ng-if="item.hasUnavailableIngredients" class="not-available">\n                {{ \'SOME_INGREDIENTS_ON_THIS_ITEM_ARE_UNAVAILABLE\' | translate }}\n              </p>\n              <p ng-if="item.hasUnavailableSide" class="not-available">\n                {{ \'SIDE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n              </p>\n              <p ng-if="item.hasUnavailableSize" class="not-available">\n                {{ \'SIZE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n              </p>\n              <p ng-if="item.improvedIngrFlag" class="improved-ingredient">\n                {{ \'IMPROVED_INGREDIENT_MESSAGE\' | translate }}\n              </p>\n            </div>\n          </div>\n          <!-- ACTIONS -->\n          <div class="row actions">\n            <div class="col-xs-4">\n              <p>\n                <a ng-if="(item.hasCustomizations || item.allowSpecialInstr) && !item.isUnavailable"\n                    ng-click="customize(item, $index)">\n                    {{ \'CUSTOMIZE\' | translate }}\n                </a>\n              </p>\n            </div>\n            <div class="col-xs-4">\n              <p>\n                <a ng-if="!item.isUnavailable &&\n                          !item.hasUnavailableIngredients &&\n                          !item.hasUnavailableSide &&\n                          !item.hasUnavailableSize"\n                    ng-click="duplicateItem(item)">\n                    {{ \'DUPLICATE\' | translate }}\n                </a>\n              </p>\n            </div>\n            <div class="col-xs-4">\n              <p>\n                <a ng-click="removeFromCart($index)">\n                  {{ \'DELETE\' | translate }}\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n        <!-- COMBO ITEM -->\n        <div ng-if="item.isCombo" class="row">\n          <div class="col-xs-12">\n            <div class="row item">\n              <div class="col-xs-9 details combo">\n                <p class="name">{{item.i18nName | translate}}</p>\n                <p ng-if="item.summary.side" class="variant">\n                  {{  \'SIDE\' | translate }}&colon;&nbsp;{{item.summary.side.i18nName | translate}}\n                </p>\n              </div>\n              <div class="col-xs-3 price">\n                <p>{{ item.price | currency }}</p>\n              </div>\n            </div>\n            <!-- ITEMS FOR COMBO -->\n            <div ng-repeat="subItem in item.items"\n                 ng-if="subItem.itemType !== \'side\'"\n                 class="row item">\n              <div class="col-xs-2 visible-xs">\n                <img class="no-padding img-responsive cart-item-image" \n                     ng-src="{{subItem.imgKey | usage:\'placard\'}}" \n                     alt="{{item.imgKey}}">\n              </div>\n              <div class="col-xs-10 col-md-12 sub-item">\n                <p class="sub-item-name">{{subItem.i18nName | translate}}</p>\n                <p ng-if="subItem.i18nModLbl" class="variant">{{subItem.i18nModLbl | translate}}</p>\n                <div ng-if="subItem.summary.isModified && !subItem.collapseMods" class="mods">\n                  <p ng-repeat="addition in subItem.summary.additions" class="addition">\n                    <span ng-if="addition.itemQty > 1">{{addition.itemQty}}</span>\n                    {{addition.i18nName | translate}}\n                  </p>\n                  <p ng-repeat="removal in subItem.summary.removals" class="removal">\n                    {{removal.i18nName | translate}}\n                  </p>\n                </div>\n              </div>\n\n              <div class="col-xs-12 messages">\n                <p ng-if="subItem.isUnavailable" class="not-available">\n                  {{ \'ITEM_NOT_AVAILABLE\' | translate }}\n                </p>\n                <p ng-if="subItem.hasUnavailableIngredients" class="not-available">\n                  {{ \'SOME_INGREDIENTS_ON_THIS_ITEM_ARE_UNAVAILABLE\' | translate }}\n                </p>\n                <p ng-if="subItem.hasUnavailableSide" class="not-available">\n                  {{ \'SIDE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n                </p>\n                <p ng-if="subItem.hasUnavailableSize" class="not-available">\n                  {{ \'SIZE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n                </p>\n                <p ng-if="subItem.improvedIngrFlag" class="improved-ingredient">\n                  {{ \'IMPROVED_INGREDIENT_MESSAGE\' | translate }}\n                </p>\n              </div>\n              <div class="col-xs-12 actions">\n                <p class="customize">\n                  <a ng-if="(subItem.hasCustomizations || subItem.allowSpecialInstr) && !subItem.isUnavailable"\n                     ng-click="customize(item, $index)">\n                    {{ \'CUSTOMIZE\' | translate }}\n                  </a>\n                </p>\n              </div>\n            </div>\n            <div class="row actions">\n              <p class="col-xs-6">\n                <a ng-if="!item.isUnavailable &&\n                          !item.hasUnavailableIngredients &&\n                          !item.hasUnavailableSide &&\n                          !item.hasUnavailableSize"\n                  ng-click="duplicateItem(item)">\n                  {{ \'DUPLICATE\' | translate }}\n                </a>\n              </p>\n              <p class="col-xs-6">\n                <a ng-click="removeFromCart($index)">\n                  {{ \'DELETE\' | translate }}\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n\n    <!-- MESSAGES -->\n    <div class="row messages">\n      <p ng-if="itemExceedingQtyLimit"\n         ng-bind-html="itemExceedingQtyLimit.i18nMessage | translate:itemExceedingQtyLimit.model"\n         class="not-available"></p>\n      <p ng-if="hasUnavailableItems" class="not-available">\n        {{ \'YOU_HAVE_ADDED_ITEMS_THAT_ARE_PRESENTLY_UNAVAILABLE\' | translate }}\n      </p>\n      <p ng-if="deliveryFee && !hasMetDeliveryMinimum && cartHasItems"\n         ng-bind-html="\'DELIVERY_ORDER_MINIMUM\' | translate : [deliveryMinimum]"\n         class="not-available"></p>\n    </div>\n    <!-- DISCOUNTS AND FEES -->\n    <div ng-if="cartHasItems">\n      <div ng-repeat="discount in discounts" class="row discounts">\n        <p class="col-xs-2">\n          <a>\n            <i class="fa fa-times-circle" ng-click="removeReward(discount)"></i>\n          </a>\n        </p>\n        <p class="col-xs-7 discount-name">\n          {{ discount.name }}\n        </p>\n        <p class="col-xs-3">&#45;{{ discount.amount | currency }}</p>\n      </div>\n      <div ng-if="deliveryFee" class="row">\n        <p class="col-xs-9">{{ \'DELIVERY_FEE\' | translate }}</p>\n        <p class="col-xs-3 fee">{{ deliveryFee | currency }}</p>\n      </div>\n    </div>\n    <div class="row disclaimer">\n      <p class="col-xs-12">\n        {{ \'WE_ACCEPT_CREDIT_CARDS\' | translate }}\n      </p>\n    </div>\n  </div>\n  <div ng-if="cartHasItems" class="visible-xs col-xs-12 totals">\n    <div class="row">\n      <div class="col-xs-4 count">\n        <p>({{cart.items.length}}) {{ \'CART_ITEMS\' | translate }}</p>\n      </div>\n      <div class="col-xs-8 sub-total">\n        <p>{{ \'SUB_TOTAL\' | translate }}: {{ subtotal | currency }}</p>\n      </div>\n    </div>\n    <div class="row">\n      <button ng-disabled="hasUnavailableItems || itemExceedingQtyLimit || (deliveryFee && !hasMetDeliveryMinimum)"\n              ng-click="proceedToCheckout()"\n              class="btn btn-primary col-xs-12 checkout">\n        {{ \'CHECKOUT\' | translate }} <i class="fa fa-chevron-right"></i>\n      </button>\n    </div>\n  </div>\n</div>\n');
}]),angular.module("cartLinks.html",[]).run(["$templateCache",function(e){e.put("cartLinks.html",'<div class="container cartLinks">\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="row">\n        <menu-nav class="col-xs-12 col-sm-2 col-md-2"></menu-nav>\n        <div class="col-xs-12 col-sm-7 col-md-8 no-padding">\n          <p>{{\'LINK_TO_BE_USED_IN_MARKETING\' | translate}}:</p>\n          <p><a ng-href="{{addToCartThenMenuUrl}}">{{\'ADD_ITEMS_TO_YOUR_CART_AND_GO_TO_MENU\' | translate}}</a></p>\n          <p>{{ addToCartThenMenuUrl }}</p>\n          <p><a ng-href="{{addToCartThenCheckoutUrl}}">{{\'ADD_ITEMS_TO_YOUR_CART_AND_GO_TO_CHECKOUT\' | translate}}</a></p>\n          <p>{{ addToCartThenCheckoutUrl }}</p>\n        </div>\n        <div class="col-xs-12 col-sm-3 col-md-2">\n          <order-details></order-details>\n          <cart class="visible-sm visible-md visible-lg" customize-item="customizeItem(item, addItem, btnText)"></cart>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("checkout.html",[]).run(["$templateCache",function(e){e.put("checkout.html",'<div class="container">\n  <!-- angular-busy -->\n  <div cg-busy="{promise: $ctrl.processingPromise, wrapperClass: \'pnra-loading fixed\'}">\n    <div cg-busy="{promise: $ctrl.redirectingPromise, wrapperClass: \'pnra-loading fixed\'}">\n      <div ng-if="$ctrl.cartHasItems" class="row">\n\n        <!-- Sidebar Upsells and Rewards -->\n        <div class="col-sm-3 hidden-xs" id="checkout-sidebar">\n          <div class="row inner-row">\n            <div class="col-xs-12">\n              <temptations></temptations>\n\n              <div ng-if="$ctrl.loggedIn">\n                <my-rewards side-panel="true"></my-rewards>\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n        <!-- Order Details and Summary -->\n        <div class="col-xs-12 col-sm-9" id="checkout-content">\n\n          <div class="row">\n            <div class="col-xs-12 text-right">\n              <button ng-click="$ctrl.toMenu()" class="btn btn-primary">\n                {{ $ctrl.i18n.BACK_TO_MENU }}\n              </button>\n            </div>\n          </div>\n\n          <!-- Order Details (Row included) -->\n          <checkout-order-details is-mobile="$ctrl.isMobile"\n                                  can-edit="true"\n                                  context="$ctrl.context"\n                                  order-type="$ctrl.orderType"\n                                  is-group-order="$ctrl.isGroupOrder">\n          </checkout-order-details>\n\n          <div class="hidden-xs row">\n            <div class="col-xsm-12">\n              <hr class="artisan">\n            </div>\n          </div>\n\n          <!-- DESKTOP: Order Summary -->\n          <div class="hidden-xs row" id="order-summary">\n            <div class="col-xs-12">\n\n              <div class="row">\n                <div class="col-sm-12">\n                  <h3>{{ $ctrl.i18n.ORDER_SUMMARY }}</h3>\n                </div>\n              </div>\n\n              <div ng-repeat="item in $ctrl.cart.items">\n                <summary-placard confirmed="false"\n                                 cart-item="item"\n                                 cart-index="$index"\n                                 is-group-order="$ctrl.isGroupOrder">\n                </summary-placard>\n              </div>\n\n            </div>\n          </div>\n          <!-- MOBILE: Order Summary -->\n          <div id="order-summary" class="visible-xs row dropdown-summary">\n            <button class="col-xs-12" ng-click="$ctrl.toggleOrderSummary()">\n              <span class="row">\n                <span class="col-xs-10">\n                  <h4 class="pull-left">\n                    {{ $ctrl.i18n.ORDER_SUMMARY }}&nbsp;({{$ctrl.cart.items.length}})&nbsp; {{ $ctrl.i18n.ITEMS }}\n                  </h4>\n                </span>\n                <span class="col-xs-2">\n                  <i class="fa fa-2x pull-right"\n                     ng-class="{\'fa-caret-down\': $ctrl.orderSummaryVisible, \'fa-caret-right\': !$ctrl.orderSummaryVisible}"></i>\n                </span>\n              </span>\n            </button>\n            <div ng-if="$ctrl.orderSummaryVisible" class="col-xs-12">\n              <div ng-repeat="item in $ctrl.cart.items">\n                <summary-placard confirmed="false"\n                                 cart-item="item"\n                                 cart-index="$index"\n                                 is-mobile="true">\n                </summary-placard>\n              </div>\n            </div>\n          </div>\n\n          <!-- Instructions and Totals -->\n          <div class="row">\n            <div class="col-sm-6">\n              <div class="row" ng-if="$ctrl.useSuggestedTipping">\n                <div class="col-sm-12">\n                  <suggested-tip subtotal="$ctrl.cost.subtotal"\n                                  tax="$ctrl.cost.tax"\n                                  on-update="$ctrl.updateTip($event)">\n                  </suggested-tip>\n                </div>\n              </div>\n              <div class="row hidden-xs">\n                <div class="col-sm-12">\n                  <form name="special">\n                    <div class="form-group has-feedback">\n                      <label for="specialInstructions">\n                        <span ng-if="!$ctrl.isDelivery">{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS }}</span>\n                        <span ng-if="$ctrl.isDelivery">{{ $ctrl.i18n.DELIVERY_INSTRUCTIONS }}</span>\n                      </label>\n                      <textarea ng-model="$ctrl.order.specialInstructions"\n                                ng-maxlength="200"\n                                maxlength="200"\n                                ng-pattern="$ctrl.inputRegex"\n                                ng-blur="$ctrl.storeSpecialInstructions(this.special.specialInstructions.$valid)"\n                                class="form-control"\n                                name="specialInstructions"\n                                id="specialInstructions">\n                      </textarea>\n                      <div ng-messages="special.specialInstructions.$error" role="alert">\n                        <div ng-message="pattern" class="alert alert-danger" role="alert">{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS_INCLUDES_INVALID_CHARACTERS }}</div>\n                        <div ng-message="maxlength">{{ $ctrl.i18n.SI_LIMIT_LENGTH }}</div>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-12 col-sm-5 col-sm-offset-1" id="totals">\n              <!-- Totals -->\n              <balance can-edit="true"\n                       cost="$ctrl.cost"\n                       gift-cards="$ctrl.giftCards"\n                       delivery="$ctrl.delivery"\n                       is-tip-enabled="$ctrl.isTipEnabled"\n                       discount-code="$ctrl.discountCode"\n                       tip-error="$ctrl.balanceTipError"\n                       clear-discounts="$ctrl.clearDiscounts"\n                       set-order-tip="$ctrl.setOrderTip(tip)"\n                       accepted-tip-amount="$ctrl.acceptedTipAmount"\n                       use-suggested-tipping="$ctrl.useSuggestedTipping">\n              </balance>\n            </div>\n          </div>\n\n          <div class="row">\n            <div class="col-xs-12">\n              <hr class="artisan">\n            </div>\n          </div>\n\n          <!-- DESKTOP: Special Codes and Giftcards -->\n          <div class="hidden-xs row">\n            <div class="col-xs-12">\n              <h3 ng-if="$ctrl.gcAllowed" class="section-title">\n                {{ $ctrl.i18n.GIFT_CARDS_AND_PROMO_CODES }}\n              </h3>\n              <h3 ng-if="!$ctrl.gcAllowed" class="section-title">\n                {{ $ctrl.i18n.PROMO_CODE }}\n              </h3>\n            </div>\n          </div>\n          <div class="hidden-xs row">\n            <div class="col-xs-6">\n              <!-- Special Codes -->\n              <special-code verify-discount-then-update="$ctrl.verifyDiscountThenUpdate(discountCode)">\n              </special-code>\n            </div>\n            <div class="col-xs-6">\n              <!-- Gift Cards -->\n              <div ng-if="!$ctrl.isGroupOrder">\n                <gift-card gift-cards="$ctrl.giftCards"\n                           cost="$ctrl.cost"\n                           can-edit="true">\n                </gift-card>\n              </div>\n            </div>\n          </div>\n          <!-- MOBILE: selection panes -->\n          <div class="visible-xs">\n            <ol class="row panes">\n              <li ng-repeat="pane in $ctrl.specialOptions">\n                <button ng-click="$ctrl.selectPane(pane)">{{ $ctrl.i18n[pane] }}</button>\n              </li>\n            </ol>\n            <div class="row">\n              <div class="col-xs-12">\n                <hr class="artisan">\n              </div>\n            </div>\n            <div class="row" ng-switch="$ctrl.selectedPane">\n              <!-- Special Instructions Pane -->\n              <div ng-switch-when="SPECIAL_INSTRUCTIONS" class="col-xs-12">\n                <form name="special">\n                  <div class="form-group has-feedback">\n                    <label for="specialInstructions">\n                      <span ng-if="!$ctrl.isDelivery">{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS }}</span>\n                      <span ng-if="$ctrl.isDelivery">{{ $ctrl.i18n.DELIVERY_INSTRUCTIONS }}</span>\n                    </label>\n                    <textarea ng-model="$ctrl.order.specialInstructions"\n                              ng-maxlength="200"\n                              maxlength="200"\n                              ng-pattern="$ctrl.inputRegex"\n                              ng-blur="$ctrl.storeSpecialInstructions(this.special.specialInstructions.$valid)"\n                              class="form-control"\n                              name="specialInstructions"\n                              id="specialInstructions">\n                    </textarea>\n                    <div ng-messages="special.specialInstructions.$error" role="alert">\n                      <div ng-message="pattern" class="alert alert-danger" role="alert">{{ $ctrl.i18n.SPECIAL_INSTRUCTIONS_INCLUDES_INVALID_CHARACTERS }}</div>\n                      <div ng-message="maxlength">{{ $ctrl.i18n.SI_LIMIT_LENGTH }}</div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n              <!-- Special Code Pane -->\n              <div ng-switch-when="PROMO_CODE" class="col-xs-12">\n                  <special-code cost="$ctrl.cost"\n                                verify-discount-then-update="$ctrl.verifyDiscountThenUpdate(discountCode)"></special-code>\n              </div>\n              <!-- Gift Card Pane -->\n              <div ng-switch-when="GIFT_CARD" class="col-xs-12">\n                <gift-card gift-cards="$ctrl.giftCards"\n                           cost="$ctrl.cost"\n                           can-edit="true">\n                </gift-card>\n              </div>\n            </div>\n          </div>\n\n          <div class="row">\n            <div class="col-xs-12">\n              <hr class="artisan" ng-class="{\'no-bottom-margin\': $ctrl.isMobile}">\n            </div>\n          </div>\n\n          <div class="row payment">\n            <div class="col-xs-12">\n              <!-- Credit Cards -->\n              <credit-card gift-cards="$ctrl.giftCards"\n                           cost="$ctrl.cost"\n                           confirmed="false"\n                           delivery="$ctrl.delivery"\n                           special-instructions-error="$ctrl.special.specialInstructions.$error.pattern"\n                           balance-tip-error="$ctrl.balanceTipError.pattern"\n                           submit-payment="$ctrl.submitPayment(paymentInfo)"\n                           has-unavailable-items="$ctrl.hasUnavailableItems"\n                           item-exceeding-qty-limit="$ctrl.itemExceedingQtyLimit"\n                           do-pay-pal-redirect="$ctrl.doPayPalRedirect(info)"\n                           is-group-order="$ctrl.isGroupOrder">\n              </credit-card>\n            </div>\n          </div>\n          <div ng-if="$ctrl.loggedIn && !$ctrl.isGroupOrder" class="row">\n            <div class="col-xs-12">\n              <add-favorite items="$ctrl.cart.items"\n                            special-instructions="{{$ctrl.order.specialInstructions}}">\n              </add-favorite>\n            </div>\n          </div>\n          <div class="messages">\n            <div ng-if="$ctrl.isGroupOrder" class="row">\n              <div class="col-xs-12 col-sm-8">\n                <p>{{ $ctrl.i18n.IF_ONLY_ONE_PERSON_ORDERS  }}</p>\n              </div>\n            </div>\n            <div ng-if="$ctrl.isDelivery && $ctrl.hasDistributedTips" class="row">\n              <div class="col-xs-12 col-sm-8">\n                <p>{{ $ctrl.i18n.TIPS_MAY_BE_DISTRIBUTED  }}</p>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-xs-12">\n                <i class="fa fa-asterisk" aria-hidden="true"></i>\n                <label>{{ \'DENOTES_REQUIRED_FIELD\' | translate }}</label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("dashboard.html",[]).run(["$templateCache",function(e){e.put("dashboard.html",'<div class="container" id="dashboard">\n  <div class="row" id="order-type-group">\n    <div ng-if="$ctrl.groupOrderIsEnabled">\n      <group-order-banner></group-order-banner>\n    </div>\n    <order></order>\n  </div>\n  <div class="row catering">\n    <div class="col-xs-12">\n      <div class="icon"></div>\n    </div>\n    <div class="col-xs-12">\n      <span class="h2">\n        {{ $ctrl.i18n.PANERA_BREAD_CATERING }}\n      </span>\n    </div>\n    <div class="col-xs-12 desc">\n      {{ $ctrl.i18n.CATERING_INFO }}\n    </div>\n    <div class="col-xs-12">\n      <a ng-href="{{ $ctrl.paneraUrls.catering }}"\n         ng-click="$ctrl.trackCatering()"\n         target="_blank"\n         class="btn btn-primary">\n        {{ $ctrl.i18n.ORDER_CATERING }}&nbsp;<i class="fa-arrow-right"></i>\n      </a>\n    </div>\n  </div>\n  <div ng-if="$ctrl.i18n.COMMUNICATION_URL" class="row communicationBanner">\n    <div class="col-md-12">\n      <a ng-href="{{ $ctrl.i18n.COMMUNICATION_URL }}">\n        <img ng-src="{{ $ctrl.i18n.COMMUNICATION_IMAGE | usage: \'communication\'}}">\n      </a>\n    </div>\n  </div>\n</div>\n')}]),angular.module("footer.html",[]).run(["$templateCache",function(e){e.put("footer.html",'<div class="container">\n  <div class="row" ng-if="$ctrl.showCalorieDisclaimer">\n    <div class="row fda">\n      <p class="col-xs-12">\n        {{ $ctrl.i18n.FDA_STATEMENT }}\n      </p>\n    </div>\n    <div class="row vegan">\n      <img ng-src="{{$ctrl.images.vegan}}"\n           class="col-xs-1"\n           alt="{{ $ctrl.i18n.VEGAN }}">\n      <p class="col-xs-11">\n        {{ $ctrl.i18n.VEGAN_DISCLAIMER }}\n      </p>\n    </div>\n  </div>\n  <div class="row high-sodium-disclaimer" ng-if="$ctrl.showCalorieDisclaimer && $ctrl.highSodiumFlag">\n    <div class="col-xs-1">\n      <img ng-if="$ctrl.highSodiumFlag"\n           ng-src="{{$ctrl.sodiumIconImgUrl}}"/>\n    </div>\n    <div class="col-xs-11">\n      {{ $ctrl.i18n.HIGH_SODIUM_DISCLAIMER }}\n    </div>\n  </div>\n  <!-- DESKTOP/TABLET -->\n  <div class="hidden-xs">\n    <div class="row headers">\n      <div class="col-xs-12 col-sm-3">\n        <h3>{{ $ctrl.i18n.FIND_US_ONLINE }}</h3>\n        <ul>\n          <li>\n            <a ng-href="{{ $ctrl.urls.external.main }}"\n               target="_blank"\n               title="{{ $ctrl.i18n.PANERA_BREAD_COM }}">\n               {{ $ctrl.i18n.PANERA_BREAD_COM }}\n             </a>\n          </li>\n          <li>\n            <a ng-href="{{ $ctrl.urls.external.catering }}"\n               target="_blank"\n               title="{{ $ctrl.i18n.PANERA_CATERING_COM }}">\n              {{ $ctrl.i18n.PANERA_CATERING_COM }}\n            </a>\n          </li>\n          <li>\n            <a ng-href="{{ $ctrl.urls.external.contactUs }}"\n               target="_blank"\n               title="{{ $ctrl.i18n.CONTACT_US }}">\n               {{ $ctrl.i18n.CONTACT_US }}\n             </a>\n          </li>\n        </ul>\n      </div>\n      <div class="col-xs-12 col-sm-3">\n        <h3>{{ $ctrl.i18n.ORDERING_INFO }}</h3>\n        <ul>\n          <li>\n            <a ng-href="{{ $ctrl.urls.internal.prefix + $ctrl.urls.internal.orderingHelp }}"\n               target="_self"\n               title="{{ $ctrl.i18n.ORDERING_HELP }}">\n              {{ $ctrl.i18n.ORDERING_HELP }}\n            </a>\n          </li>\n          <li>\n            <a ng-href="{{ $ctrl.urls.external.participatingLocations }}"\n               target="_blank"\n               title="{{ $ctrl.i18n.PARTICIPATING_LOCATIONS }}">\n              {{ $ctrl.i18n.PARTICIPATING_LOCATIONS }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class="col-xs-12 col-sm-6">\n        <h3>{{ $ctrl.i18n.TROUBLE_WITH_WEBSITE }}</h3>\n        <p>\n          {{ $ctrl.i18n.TROUBLE_WITH_WEBSITE_BODY }}\n          <a ng-href="{{ $ctrl.urls.external.contactUs }}"\n             target="_blank"\n             title="{{ $ctrl.i18n.TROUBLE_WITH_WEBSITE }}">\n            {{ $ctrl.i18n.CLICK_HERE }}</a>&period;\n        </p>\n      </div>\n    </div>\n    <div class="row copyright">\n      <div class="col-xs-12 col-sm-4">\n        <p class="disclaimer">\n          {{ $ctrl.i18n.COPYRIGHT }} &copy; {{ $ctrl.currentYear }} {{ $ctrl.i18n.ALL_RIGHTS_RESERVED }}\n        </p>\n      </div>\n      <div class="col-sm-8">\n        <div class="row">\n          <div class="col-xs-4 col-sm-2">\n            <p>\n              <a ng-href="{{ $ctrl.urls.external.termsOfUse }}"\n                 target="_blank"\n                 title="{{ $ctrl.i18n.TERMS_OF_USE }}">\n                {{ $ctrl.i18n.TERMS_OF_USE }}\n              </a>\n            </p>\n          </div>\n          <div class="col-xs-4 col-sm-2">\n            <p>\n              <a ng-href="{{ $ctrl.urls.external.privacyPolicy }}"\n                 target="_blank"\n                 title="{{ $ctrl.i18n.YOUR_PRIVACY }}">\n                {{ $ctrl.i18n.YOUR_PRIVACY }}\n              </a>\n            </p>\n          </div>\n          <div class="col-xs-4 col-sm-3">\n            <p>\n              <a ng-href="{{ $ctrl.urls.external.caSupplyChainAct }}"\n                 target="_blank"\n                 title="{{ $ctrl.i18n.CA_SUPPLY_CHAIN_ACT }}">\n                {{ $ctrl.i18n.CA_SUPPLY_CHAIN_ACT }}\n              </a>\n            </p>\n          </div>\n          <div class="col-xs-4 col-sm-4">\n            <p>\n              <a ng-href="{{ $ctrl.urls.external.nutritionAllergenStatement }}"\n                 target="_blank"\n                 title="{{ $ctrl.i18n.ALLERGEN_NUTRITION_STATEMENT }}">\n                {{ $ctrl.i18n.ALLERGEN_NUTRITION_STATEMENT }}\n              </a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- MOBILE -->\n  <div class="visible-xs mobile-footer">\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <p class="disclaimer">\n          {{$ctrl.i18n.COPYRIGHT}} &copy; {{ $ctrl.currentYear }} {{$ctrl.i18n.ALL_RIGHTS_RESERVED}}\n        </p>\n      </div>\n      <div class="col-xs-5 col-sm-5">\n        <p>\n          <a ng-href="{{ $ctrl.urls.external.caSupplyChainAct }}"\n             target="_blank"\n             title="{{ $ctrl.i18n.CA_SUPPLY_CHAIN_ACT }}">\n            {{$ctrl.i18n.CA_SUPPLY_CHAIN_ACT}}\n          </a>\n        </p>\n      </div>\n      <div class="col-xs-7 col-sm-7">\n        <p>\n          <a ng-href="{{ $ctrl.urls.external.nutritionAllergenStatement }}"\n             target="_blank"\n             title="{{ $ctrl.i18n.ALLERGEN_NUTRITION_STATEMENT }}">\n            {{$ctrl.i18n.ALLERGEN_NUTRITION_STATEMENT}}\n          </a>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("menu.html",[]).run(["$templateCache",function(e){e.put("menu.html",'<div class="container menu">\n  <div class="row">\n    <menu-nav class="col-xs-12 col-sm-2 col-md-2 " menu-search="$ctrl.menuSearch"></menu-nav>\n    <menu-content ng-if="$ctrl.content === \'menu\'" class="col-xs-12 col-sm-10 col-md-10 no-padding"\n                  menu-search="$ctrl.menuSearch"\n                  customize-item="$ctrl.customizeItem(item, addItem, btnText)"\n                  format-item="$ctrl.buildCartItem(product, item, isCombo)">\n    </menu-content>\n    <my-panera-content ng-if="$ctrl.content === \'myPanera\'" class="col-xs-12 col-sm-10 col-md-10 no-padding">\n    </my-panera-content>\n  </div>\n</div>\n')}]),angular.module("myPanera.html",[]).run(["$templateCache",function(e){e.put("myPanera.html",'<div class="container" id="MyPaneraController">\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="row">\n        <div class="col-xs-12 col-md-9">\n          <div class="row" id="meetMyPanera">\n            <div class="col-xs-12">\n              <div class="row">\n                <div class="col-xs-12">\n                  <h1>{{ \'MEET_MYPANERA\' | translate }}</h1>\n                </div>\n              </div>\n              <div class="row hidden-xs">\n                <div class="col-md-12">\n                  <p>\n                    {{ \'YOUVE_GOT_GREAT_TASTE\' | translate }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-md-3">\n          <div class="row" id="joinNow">\n            <div class="col-xs-12">\n              <div class="row">\n                <div class="col-xs-12">\n                  <div class="row">\n                  <button ng-click="registerUser()"\n                          class="col-xs-8 btn btn-primary">{{ \'JOIN_NOW\' | translate }}&nbsp;<i class="fa-arrow-right"></i></button>\n                  </div>\n                  <div class="row">\n                    <div class="col-xs-12">\n                    {{ \'YOUR_FIRST_REWARD_IS_WAITING\' | translate }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-md-9">\n          <div class="row" id="meetMyPanera">\n            <div class="col-xs-12">\n              <div class="row">\n                <div class="col-xs-12 text-center">\n                  <iframe src="//www.youtube.com/embed/lylLmjoufY4" frameborder="0" allowfullscreen></iframe>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-md-3">\n          <div class="row" id="joinNow">\n            <div class="col-xs-12">\n              <div class="row">\n                <div class="col-xs-12">\n                  <h3>{{ \'WE_TAKE_GOOD_CARE_OF_OUR\' | translate }}</h3>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-xs-12">\n                  <ul class="list-unstyled">\n                    <li class="rewards">\n                      <h4>{{ \'REWARDS\' | translate }}</h4>\n                      <p> {{ \'GET_THE_TREATS_YOU_LOVE\' | translate }}</p>\n                    </li>\n                    <li class="challenges">\n                      <h4>{{ \'CHALLENGES\' | translate }}</h4>\n                      <p>{{ \'SHARE_THE_LOVE_TRY_NEW\' | translate }}</p>\n                    </li>\n                    <li class="more-panera">\n                      <h4>{{ \'MORE_PANERA\' | translate }}</h4>\n                      <p>{{ \'FIND_RECIPES_TIPS_INTERVIEWS\' | translate }}</p>\n                    </li>\n                  </ul>\n                </div>\n                <div class="row">\n                  <div class="col-xs-12">\n                    <h4>{{ \'MORE_QUESTIONS\' | translate }} <a ng-href="{{ paneraUrls.faqs }}">{{ \'CHECK_OUT_OUR_FAQS\' | translate }}</a></h4>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row hidden-xs">\n        <div class="col-md-12">\n          <hr class="artisan">\n        </div>\n      </div>\n      <div class="row hidden-xs" id="panera-nutshell">\n        <div class="col-md-12">\n          <div class="row">\n            <div class="col-md-12">\n              <h1>{{ \'MYPANERA_IN_A_NUTSHELL\' | translate }}</h1>\n              {{ \'OR_WOULD_YOU_PREFER_A_BREAD_BOWL\' | translate }}\n            </div>\n          </div>\n          <div class="row" id="steps">\n            <div class="col-md-4">\n              <div class="row">\n                <div class="col-md-12 text-center">\n                  <img ng-src="{{::signUpImage}}" id="sign-up">\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <h4>{{ \'SIGN_UP\' | translate }}</h4>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <p>{{ \'ITS_EASY_TO_SIGN_UP_FOR\' | translate }}</p>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-1 text-center">\n              <img ng-src="{{::arrowRightImage}}">\n            </div>\n            <div class="col-md-3">\n              <div class="row">\n                <div class="col-md-12 text-center">\n                  <img ng-src="{{::foodPlateImage}}">\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <h4>{{ \'DO_WHAT_COMES_NATURALLY\' | translate }}</h4>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <p>{{ \'STOP_BY_SHOW_YOUR_CARD_SHARE\' | translate }}</p>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-1 text-center">\n              <img ng-src="{{::arrowRightImage}}">\n            </div>\n            <div class="col-md-3">\n              <div class="row">\n                <div class="col-md-12 text-center">\n                  <img ng-src="{{::rewardsLogoImage}}">\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <h4>{{ \'GET_REWARDED\' | translate }}</h4>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-md-12">\n                  <p>{{ \'IN_FACT_YOULL_GET_YOUR_FIRST\' | translate }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row hidden-xs">\n        <div class="col-md-12">\n          <hr class="artisan">\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12 col-md-offset-9 col-md-3">\n          <div class="row" id="joinNow">\n            <div class="col-xs-12">\n              <div class="row">\n                <div class="col-xs-12">\n                  <div class="row">\n                    <button ng-click="registerUser()"\n                            class="col-xs-8 btn btn-primary">{{ \'JOIN_NOW\' | translate }}&nbsp;<i class="fa-arrow-right"></i></button>\n                  </div>\n                  <div class="row">\n                    <div class="col-xs-12">\n                      {{ \'YOUR_FIRST_REWARD_IS_WAITING\' | translate }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("navbar.html",[]).run(["$templateCache",function(e){e.put("navbar.html",'<header>\n  <!-- DESKTOP NAVIGATION -->\n  <div class="container navigation hidden-xs">\n    <div class="row">\n      <div class="col-sm-3 col-md-2 logo">\n        <a ng-href="{{ $ctrl.routes.index }}" title="{{$ctrl.i18n.HOME_PAGE}}">\n          <img ng-class="{\'menu-logo\':$ctrl.isMenu}"\n               ng-src="{{ $ctrl.logoImage }}"\n               alt="Panera Bread">\n        </a>\n      </div>\n      <nav class="col-md-10">\n        <div class="row">\n          <div class="col-md-12">\n            <ul class="list-inline">\n              <li ng-if="$ctrl.loggedIn">\n                <strong>\n                  {{$ctrl.i18n.WELCOME}} {{ $ctrl.info.firstName }}\n                </strong>\n              </li>\n              <li>\n                <a ng-href="{{ $ctrl.paneraUrls.main }}" target="_blank">\n                  Panera Bread\n                </a>\n              </li>\n              <li>\n                <a ng-href="{{ $ctrl.paneraUrls.catering }}" target="_blank">\n                  {{$ctrl.i18n.CATERING}}\n                </a>\n              </li>\n              <li>\n                <a ng-href="{{ $ctrl.routes.orderingHelp }}">\n                  {{::$ctrl.i18n.ORDERING_HELP}}\n                </a>\n              </li>\n              <li ng-if="!$ctrl.loggedIn">\n                <a ng-href="{{ $ctrl.routes.myPanera }}">\n                  {{$ctrl.i18n.MEET}} <span class="my-panera">My</span>Panera&reg;\n                </a>\n              </li>\n              <li ng-if="$ctrl.loggedIn"\n                  class="uib-dropdown"\n                  uib-dropdown>\n                <a class="uib-dropdown-toggle" uib-dropdown-toggle>\n                  {{$ctrl.i18n.MY_ACCOUNT}}\n                </a>\n                <ul class="uib-dropdown-menu" uib-dropdown-menu>\n                  <li ng-repeat="page in $ctrl.accountPages">\n                    <a ng-href="{{ $ctrl.routes.myAccount + page.key }}">\n                      {{ page.i18nName | translate }}\n                    </a>\n                  </li>\n                </ul>\n              </li>\n              <li ng-if="!$ctrl.loggedIn">\n                <a ng-click="$ctrl.signIn()">\n                  {{$ctrl.i18n.SIGN_IN}}\n                </a>\n                <span class="menu-item-spacer"></span>\n                <a ng-click="$ctrl.register()">\n                  {{$ctrl.i18n.REGISTER}}\n                </a>\n              </li>\n              <li ng-if="$ctrl.loggedIn">\n                <a ng-click="$ctrl.signOut()">\n                  {{$ctrl.i18n.SIGN_OUT}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class="row browse" ng-if="$ctrl.showBrowseMenu && !$ctrl.isMenu">\n          <div class="col-md-12">\n            <ul class="list-inline">\n              <li class="uib-dropdown" uib-dropdown>\n                <h3>\n                  <a class="uib-dropdown-toggle" uib-dropdown-toggle>\n                    {{::$ctrl.i18n.BROWSE_OUR_MENU}}\n                  </a>\n                </h3>\n                <ul class="uib-dropdown-menu" uib-dropdown-menu>\n                  <li>\n                    <a ng-href="{{ $ctrl.routes.menu }}">\n                      {{::$ctrl.i18n.OUR_MENU}}\n                    </a>\n                  </li>\n                  <li ng-repeat="category in $ctrl.categories">\n                    <a ng-click="$ctrl.setCategory(category.catId)">\n                      {{ category.i18nName | translate }}\n                    </a>\n                  </li>\n                  <div class="my-panera-nav" ng-if="$ctrl.loggedIn">\n                    <my-panera-nav></my-panera-nav>\n                  </div>\n                </ul>\n              </li>\n              <li>\n                <h3>\n                  <a ng-href="{{ $ctrl.routes.cafeLocator }}">\n                    {{::$ctrl.i18n.CAFE_LOCATIONS}}\n                  </a>\n                </h3>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      <!-- ORDER HEADER -->\n      <order-header ng-if="$ctrl.isMenu"></order-header>\n    </div>\n  </div>\n  <!-- MOBILE NAVIGATION -->\n  <div class="visible-xs">\n    <!-- ORDER HEADER -->\n    <order-header ng-if="$ctrl.isMenu"></order-header>\n    <div class="navbar row" ng-class="{\'transparent\': $ctrl.on404Page}">\n      <div class="col-xs-2 nav-toggle">\n        <i ng-if="!$ctrl.showNavbar" class="fa fa-bars" ng-click="$ctrl.toggleNavbar()"></i>\n        <i ng-if="$ctrl.showNavbar" class="fa fa-close" ng-click="$ctrl.toggleNavbar()"></i>\n      </div>\n      <div class="col-xs-8 logo">\n        <a ng-href="{{$ctrl.routes.index }}" title="{{$ctrl.i18n.HOME_PAGE }}">\n          <img ng-src="{{$ctrl.logoImage}}" alt="Panera Bread">\n        </a>\n      </div>\n      <div class="col-xs-2 text-right">\n        <div ng-if="!$ctrl.sideNavOpen && !$ctrl.onCheckoutPage && !$ctrl.on404Page && $ctrl.numberOfCartItems < 1"\n             uib-tooltip="{{ $ctrl.i18n.YOUR_CART_IS_EMPTY }}"\n             tooltip-trigger="\'mouseenter\'"\n             tooltip-placement="left"\n             tooltip-append-to-body="true">\n          <button ng-disabled="true" class="cart-icon">\n            <img ng-src="{{$ctrl.rpuIcon}}">\n            <span class="cart-item-count">\n              0\n            </span>\n          </button>\n        </div>\n        <div ng-if="!$ctrl.onCheckoutPage && $ctrl.numberOfCartItems > 0">\n          <button ng-click="$ctrl.showSideNav(true)" class="cart-icon">\n            <img ng-src="{{$ctrl.rpuIcon}}">\n            <span class="cart-item-count" ng-class="{\'cart-item-count-dd\': $ctrl.numberOfCartItems > 9}">\n              {{$ctrl.numberOfCartItems}}\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n    <!-- GLOBAL NAVIGATION -->\n    <div ng-if="$ctrl.showNavbar">\n      <global-navigation></global-navigation>\n    </div>\n  </div>\n  <!-- PAGESLIDE TEMPLATE -->\n  <pageslide ps-open="$ctrl.sideNavOpen"\n             ps-side="right"\n             ps-push="true"\n             ps-cloak="false"\n             ps-size="100%"\n             ps-auto-close="true"\n             class="visible-xs">\n    <div>\n      <div id="side-nav-header">\n        <button ng-if="$ctrl.sideNavOpen" ng-click="$ctrl.showSideNav(false)" class="btn btn-default">\n          <i class="fa fa-chevron-left"></i> {{$ctrl.i18n.BACK_TO_MENU}}\n        </button>\n        <hr class="artisan">\n      </div>\n      <cart customize-item="$ctrl.customizeItem(item, addItem, btnText)" nav-bar-open="$ctrl.sideNavOpen"></cart>\n    </div>\n  </pageslide>\n</header>\n');
}]),angular.module("notificationBanner.component.html",[]).run(["$templateCache",function(e){e.put("notificationBanner.component.html",'<div class="wrapper" ng-if="$ctrl.show">\n  <div ng-class="$ctrl.style">\n    <p class="no-margin no-padding content">\n      <img ng-if="$ctrl.imgSrc" ng-src="{{ $ctrl.imgSrc }}">\n      <span ng-class="{\'copy\': $ctrl.imgSrc}">{{$ctrl.i18n.displayText}}</span>\n    </p>\n  </div>\n</div>\n')}]),angular.module("orderCancellation.html",[]).run(["$templateCache",function(e){e.put("orderCancellation.html",'<div class="container" id="orderCancellation">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{ \'ORDER_CANCELLATION\' | translate }}</h1>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12" ng-if="status === cancelStatus.successful || status === cancelStatus.unsuccessful">\n      <div class="row">\n        <div class="col-xs-12">\n          <h2 ng-if="status === cancelStatus.successful">{{ \'CANCEL_CONFIRMATION\' | translate }}</h2>\n          <h2 ng-if="status === cancelStatus.unsuccessful">{{ \'CANCEL_UNSUCCESSFUL\' | translate }}</h2>\n        </div>\n      </div>\n      <cancel-order-details order-details="orderDetails"></cancel-order-details>\n      <div class="row">\n        <div class="col-xs-2 col-sm-1">\n          <i class="fa-check fa-3x" ng-if="status === cancelStatus.successful"></i>\n          <i class="fa-ban fa-3x" ng-if="status === cancelStatus.unsuccessful"></i>\n        </div>\n        <div class="col-xs-10 col-sm-11" ng-if="status === cancelStatus.successful">\n          <p>{{ \'YOUR_ORDER_HAS_BEEN_CANCELLED\' | translate }}</p>\n        </div>\n        <div class="col-xs-10 col-sm-11" ng-if="status === cancelStatus.unsuccessful" ng-switch="errorCode">\n          <!-- Insufficent Lead Time -->\n          <p ng-switch-when="INSUFFICIENT_LEAD_TIME_TO_CANCEL_ORDER">{{ \'WERE_SORRY_BUT_A_ONE_HOUR_LEAD_REQUIRED\' | translate }}</p>\n          <!-- Default Error -->\n          <p ng-switch-default>{{ \'UNFORTUNATELY_WE_WERE_UNABLE_TO_COMPLETE\' | translate }}</p>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-10 col-xs-offset-2 col-sm-11 col-sm-offset-1">\n          <p ng-if="status === cancelStatus.successful">\n            {{ \'FOR_ANY_ADDITIONAL_QUESTIONS_OR_CONCERNS\' | translate }}\n          </p>\n          <p ng-if="status === cancelStatus.unsuccessful">\n            {{ \'PLEASE_CONTACT_OUR_SUPPORT_CENTER\' | translate }}\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="col-xs-12" ng-if="status === cancelStatus.pending">\n      <!-- Registered User -->\n      <div class="row" ng-if="!anonOrder">\n        <div class="col-xs-12">\n          <div class="row">\n            <div class="col-xs-12">\n              <cancel-order-details order-details="orderDetails"></cancel-order-details>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              <button ng-disabled="isCancelling" class="btn btn-primary" ng-click="cancelOrder()">{{ \'CANCEL_ORDER\' | translate }}</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- End Registered User -->\n      <!-- Anonymous User -->\n      <div class="row" ng-if="anonOrder">\n        <div class="col-xs-12">\n          <div class="row">\n            <div class="col-xs-12">\n              <h2>{{ \'ORDER_VALIDATION\' | translate }}</h2>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              <p>\n                {{ \'IN_ORDER_TO_PROCESS_YOUR_CANCELLATION\' | translate }}\n              </p>\n            </div>\n          </div>\n          <form sf-schema="schema"\n                sf-options="options"\n                sf-form="form"\n                sf-model="model"\n                ng-submit="validateOrder()">\n          </form>\n        </div>\n      </div>\n      <!-- End Anonymous User -->\n      <div class="row">\n        <div class="col-xs-12">\n          <p>\n            {{ \'PLEASE_NOTE_WE_REQUIRE_A_ONE_HOUR_LEAD\' | translate }}\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="col-xs-12" ng-if="!status"></div>\n    <div class="col-xs-12" ng-if="status">\n      <catering-banner title-text="FOR_LARGE_ORDERS_TAKE_A_LOOK"\n                       support-text="ESPECIALLY_DESIGNED_FOR_LARGE_ORDERS"\n                       support-params="[cateringUrl]">\n      </catering-banner>\n    </div>\n  </div>\n</div>\n')}]),angular.module("orderConfirmation.html",[]).run(["$templateCache",function(e){e.put("orderConfirmation.html",'<div class="container" id="order-confirmation">\n  <div ng-if="cartHasItems" class="row">\n    <!-- Sidebar Upsells and Rewards -->\n    <div class="col-xs-12 col-sm-3" id="checkout-sidebar">\n      <div class="row inner-row">\n        <!-- Sidebar thank you message -->\n        <div class="col-xs-12">\n\n          <div class="row">\n            <div class="col-xs-12">\n              <h3>{{ \'THANK_YOU_FOR_YOUR_ORDER\' | translate }}</h3>\n            </div>\n          </div>\n\n          <div class="row">\n            <div class="col-xs-12">\n              <div class="row row-spaced">\n                <div class="col-xs-12">\n                  <div ng-if="isGroupOrder">\n                    <go-order-confirmation></go-order-confirmation>\n                  </div>\n                </div>\n                <div class="col-xs-12">\n                  <span class="label-header">{{ \'ORDER_NUMBER\' | translate }}:</span>\n                  {{ context.orderNumber }}\n                </div>\n              </div>\n              <div class="row row-spaced">\n                <div class="col-xs-12">\n                  <span class="label-header">{{ \'ORDER_TYPE:\' | translate }}</span>\n                  {{ context.orderType | translate }}\n                </div>\n              </div>\n\n              <div ng-if="isDelivery || isRapidPickup"\n                   class="row row-spaced">\n                <div class="col-xs-12">\n                  <span ng-if="isDelivery" class="label-header">{{ \'EXPECTED_DELIVERY_TIME\' | translate }}</span>\n                  <span ng-if="isRapidPickup" class="label-header">{{ \'TIME_READY:\' | translate }}</span>\n                  {{ context.time }}\n                </div>\n              </div>\n\n              <!-- Mobile Lite Registration -->\n              <div ng-if="!loggedIn && liteRegistrationIsEnabled" class="visible-xs">\n                <div class="row lite-reg-row">\n                  <div class="col-xs-12">\n                    <hr class="hairline">\n                  </div>\n                  <div class="col-xs-12">\n                    <prompt-lite-registration customer-info="customerInfo"></prompt-lite-registration>\n                  </div>\n                  <div class="col-xs-12">\n                    <hr class="hairline">\n                  </div>\n                </div>\n              </div>\n\n              <div ng-if="isDineIn || isRapidPickup"\n                   class="row row-spaced">\n                <div class="col-xs-12">\n                  <p ng-if="isDineIn">\n                    {{ \'PLEASE_WAIT_AT_YOUR_TABLE\' | translate }}\n                  </p>\n                  <p ng-if="isRapidPickup">\n                    {{ \'PLEASE_FIND_YOUR_ORDER\' | translate }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="row row-spaced">\n            <div class="col-xs-12">\n              <p ng-if="isDineIn">\n                {{ \'PLEASE_SPEAK_TO_ANY_STAFF\' | translate }}\n              </p>\n              <p ng-if="!isDineIn">\n                {{ \'PLEASE_CONTACT_US_AT\' | translate }}\n              </p>\n            </div>\n          </div>\n\n          <div class="row row-spaced">\n            <div class="col-xs-12">\n              <p>\n                {{ \'CHECKOUT_WE_BAKE_OUR_ITEMS_FRESH\' | translate }}\n              </p>\n            </div>\n          </div>\n          <!-- OPINION LAB SURVEY INITIALIZATION BUTTON -->\n          <div class="row visible-xs feedback">\n            <div class="col-xs-12">\n              <a href="#0"\n                 class="btn pnra-btn"\n                 ng-click="showFeedbackForm()"\n                 title="{{ i18n.GIVE_WEBSITE_FEEDBACK }}">\n                {{ i18n.GIVE_WEBSITE_FEEDBACK }}\n              </a>\n            </div>\n          </div>\n          <div class="row row-spaced visible-xs">\n            <div class="col-xs-12">\n              <add-to-apple-wallet></add-to-apple-wallet>\n            </div>\n          </div>\n\n          <!-- Hiring -->\n          <div ng-if="hiringBannerEnabled" class="row row-spaced hiring">\n            <div class="col-xs-12">\n              <h3>{{ \'NOW_HIRING\' | translate }}</h3>\n              <p>\n                <a ng-if="hiringBannerTellAFriendEnabled" ng-click="openHiringModal()"\n                   title="{{ \'TELL_A_FRIEND\' | translate }}">\n                  {{ \'TELL_A_FRIEND\' | translate }}\n                </a>\n                <a ng-href="{{ \'HIRING_LEARN_MORE_URL\' | translate }}"\n                   title="{{ \'HIRING_LEARN_MORE\' | translate }}"\n                   target="_blank">\n                  {{ \'HIRING_LEARN_MORE\' | translate }}\n                </a>\n                <a ng-href="{{ \'HIRING_APPLY_NOW_URL\' | translate }}"\n                   title="{{ \'HIRING_APPLY_NOW\' | translate }}"\n                   target="_blank">\n                  {{ \'HIRING_APPLY_NOW\' | translate }}\n                </a>\n              </p>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n\n    <!-- Order Details and Summary -->\n    <div class="col-xs-12 col-sm-9" id="checkout-content">\n      <!-- Campaign -->\n      <div class="row campaign" ng-if="keys.length === 2">\n        <div class="col-xs-12">\n          <a ng-href="{{ keys[0] }}" target="_blank">\n            <img ng-src="{{ keys[1] | usage: \'campaign\' }}" alt="Campaign" />\n          </a>\n        </div>\n      </div>\n\n      <div class="row row-spaced" ng-if="loggedIn && !emailOptedIn">\n        <div class="col-xs-12">\n          <lite-email-opt-in></lite-email-opt-in>\n        </div>\n        <div class="col-xs-12">\n          <hr class="hairline">\n        </div>\n      </div>\n\n      <!-- Desktop Lite Registration -->\n      <div ng-if="!loggedIn && liteRegistrationIsEnabled" class="hidden-xs">\n        <div class="row row-spaced">\n          <div class="col-xs-12">\n            <prompt-lite-registration customer-info="customerInfo"></prompt-lite-registration>\n          </div>\n          <div class="col-xs-12">\n            <hr class="hairline">\n          </div>\n        </div>\n      </div>\n\n      <!-- Order Details (Row included) -->\n      <checkout-order-details\n              can-edit="false"\n              context="context"\n              order-type="orderType"\n              order-number="context.orderNumber"\n              is-group-order="isGroupOrder"></checkout-order-details>\n\n      <!-- Order tracking -->\n      <div ng-if="canTrackOrder">\n        <div class="row">\n          <div class="col-xs-12">\n            <hr class="artisan">\n          </div>\n        </div>\n\n        <div class="row">\n          <div class="col-xs-12">\n            <div class="row dt-launch-order-tracking-container">\n              <div class="col-xs-6 col-sm-6">\n                <h3 class="hidden-xs">{{ i18n.LAUNCH_ORDER_TRACKING_HEADER }}</h3>\n                <p class="hidden-xs">{{ i18n.LAUNCH_ORDER_TRACKING_BODY }}</p>\n                <a class="btn btn-primary"\n                   ng-click="trackOrder()">{{ i18n.TRACK_YOUR_ORDER }}</a>\n              </div>\n              <div class="col-xs-6 col-sm-6 hidden-xs">\n                <img ng-src="{{ cityscapeImg }}">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <!-- Order Summary -->\n      <div class="row hidden-xs" id="order-summary">\n        <div class="col-xs-12">\n\n          <div class="row">\n            <div class="col-xs-12">\n              <h3>{{ \'ORDER_SUMMARY\' | translate }}</h3>\n            </div>\n          </div>\n          <div class="row"\n               ng-repeat="item in cart.items">\n            <summary-placard class="col-xs-12"\n                             confirmed="true"\n                             cart-item="item"\n                             cart-index="$index">\n            </summary-placard>\n          </div>\n\n        </div>\n      </div>\n      <!-- Order Summary -->\n\n      <!-- MOBILE: Order Summary -->\n      <div id="order-summary" class="visible-xs row dropdown-summary">\n        <button class="col-xs-12" ng-click="toggleOrderSummary()">\n          <span class="row">\n            <span class="col-xs-10">\n              <h4 class="pull-left">\n                {{ \'ORDER_SUMMARY\' | translate }}&nbsp;({{cart.items.length}})&nbsp; {{\'ITEMS\' | translate}}\n              </h4>\n            </span>\n            <span class="col-xs-2">\n              <i class="fa fa-2x pull-right"\n                 ng-class="{\'fa-caret-down\': orderSummaryVisible, \'fa-caret-right\': !orderSummaryVisible}"></i>\n            </span>\n          </span>\n        </button>\n        <div ng-if="orderSummaryVisible" class="col-xs-12">\n          <div ng-repeat="item in cart.items track by $index">\n            <summary-placard confirmed="true"\n                             cart-item="item"\n                             cart-index="$index"\n                             is-mobile="true">\n            </summary-placard>\n          </div>\n        </div>\n      </div>\n      <!-- MOBILE: Order Summary -->\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <!-- Instructions and Totals -->\n      <div class="row">\n        <div class="col-xs-6">\n          <div class="row"\n               ng-if="specialInstructions">\n            <div class="col-xs-12">\n              <h3 ng-if="!isDelivery">{{\'SPECIAL_INSTRUCTIONS\' | translate}}</h3>\n              <h3 ng-if="isDelivery">{{\'DELIVERY_INSTRUCTIONS\' | translate}}</h3>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              <p ng-if="specialInstructions">\n                {{ specialInstructions }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-sm-4 col-sm-offset-2" id="totals">\n          <!-- Totals -->\n          <balance\n                   can-edit="false"\n                   cost="cost"\n                   gift-cards="giftCards"\n                   delivery="delivery"\n                   is-tip-enabled="isTipEnabled">\n          </balance>\n        </div>\n        <div ng-if="isTipEnabled && +cost.tip === 0">\n          <div ng-if="isDelivery && !isGroupOrder" class="row">\n            <div class="col-xs-12">\n              <p class="no-tip-message">{{ i18n.YOUR_DELIVERY_FEE_COVERS }}</p>\n            </div>\n          </div>\n          <div ng-if="isDelivery && isGroupOrder" class="row">\n            <div class="col-xs-12">\n              <p class="no-tip-message">{{ i18n.NO_TIP_FOR_GO_DRIVER }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <!-- Credit Cards -->\n          <credit-card gift-cards="giftCards"\n                       credit-cards="creditCards"\n                       pay-pal-accounts="payPalAccounts"\n                       apple-pay-accounts="applePayAccounts"\n                       cost="cost"\n                       confirmed="true"\n                       has-unavailable-items="false">\n          </credit-card>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="artisan">\n        </div>\n      </div>\n\n      <div class="row" ng-if="isGroupOrder">\n        <go-details class="col-sm-12 col-md-12"\n                    options="{isViewOrderButton: true}"></go-details>\n      </div>\n    </div>\n\n  </div>\n</div>\n')}]),angular.module("orderHelp.html",[]).run(["$templateCache",function(e){e.put("orderHelp.html",'<div class="container" id="orderingHelp">\n\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{ \'ORDERING_HELP\' | translate }}</h1>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ \'FROM_DINE_IN_TO_RAPID_PICKUP\' | translate }} <a ng-click="setOrderType(\'RPU\')">{{ \'CLICK_HERE\' | translate }}</a>.\n      </p>\n    </div>\n  </div>\n\n<!-- Redeem Your MyPanera Rewards Online -->\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>{{ \'REDEEM_YOUR_MYPANERA_REWARDS\' | translate }}</h4>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="artisan">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ \'YOU_CAN_USE_YOUR_REWARDS_FOR\' | translate }}\n      </p>\n    </div>\n  </div>\n\n<!-- Want to Learn More? Read On. -->\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>{{ \'WANT_TO_LEARN_MORE_READ_ON\' | translate }}</h4>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="artisan">\n    </div>\n  </div>\n  <!-- Rapid Pick-Up -->\n  <div class="row orderType" ng-if="orderTypes.RPU.visible">\n    <div class="col-xs-12">\n      <div class="orderTypeWrapper">\n        <img ng-src="{{::orderTypeImage}}" class="{{ orderTypes.RPU.imgClass }}">\n      </div>\n      <a ng-click="setOrderType(\'RPU\')"><span class="h3">{{ orderTypes[\'RPU\'].i18nName | translate }}</span></a>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ \'OUR\' | translate }} <a ng-click="setOrderType(\'RPU\')">{{ orderTypes[\'RPU\'].i18nName | translate }}</a> {{ \'SERVICE_MAKES_IT_EASY_TO\' | translate }}\n      </p>\n    </div>\n  </div>\n  <!-- Panera Express Order -->\n  <div class="row orderType" ng-if="orderTypes.EXPRESS.visible">\n    <div class="col-xs-12">\n      <div class="orderTypeWrapper">\n        <img ng-src="{{::orderTypeImage}}" class="{{ orderTypes.EXPRESS.imgClass }}">\n      </div>\n      <a ng-click="setOrderType(\'EXPRESS\')"><span class="h3">{{ orderTypes.EXPRESS.i18nName | translate }}</span></a>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ \'PRESSED_FOR_TIME_MYPANERA\' | translate }}\n      </p>\n    </div>\n  </div>\n  <!-- Order From My Table -->\n  <div class="row orderType" ng-if="orderTypes.DINE_IN.visible">\n    <div class="col-xs-12">\n      <div class="orderTypeWrapper">\n        <img ng-src="{{::orderTypeImage}}" class="{{ orderTypes.DINE_IN.imgClass }}">\n      </div>\n      <a ng-click="setOrderType(\'DINE_IN\')"><span class="h3">{{ orderTypes.DINE_IN.i18nName | translate }}*</span></a>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ \'ALREADY_IN_ONE_OF_OUR\' | translate }}\n      </p>\n    </div>\n  </div>\n  <!-- Delivery -->\n  <div class="row orderType" ng-if="orderTypes.DELIVERY.visible">\n    <div class="col-xs-12">\n      <div class="orderTypeWrapper">\n        <img ng-src="{{::orderTypeImage}}" class="{{ orderTypes.DELIVERY.imgClass }}">\n      </div>\n      <a ng-click="setOrderType(\'DELIVERY\')"><span class="h3">{{ orderTypes[\'DELIVERY\'].i18nName | translate }}*</span></a>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n          {{ \'BUSY_DAY_LET_US_BRING_YOUR\' | translate }} <a ng-click="setOrderType(\'DELIVERY\')">{{ \'DELIVERY_SERVICE\' | translate }}</a>{{ \'SIMPLY_ORDER_AND_PAY_ONLINE\' | translate }} <a href="{{ paneraUrls.catering }}"target="_blank">{{ \'PANERA_BREAD_CATERING\' | translate }}</a>.\n      </p>\n    </div>\n  </div>\n\n<!-- Panning a Gathering? Try Panera Catering -->\n  <catering-banner title-text="PLANNING_A_GATHERING_TRY"\n                   title-params="[paneraUrls.catering]"\n                   support-text="WELL_TAKE_THE_STRESS_OUT_OF">\n  </catering-banner>\n\n<!-- Disclaimer -->\n  <div class="row">\n    <div class="col-xs-12">\n      <p class="no-margin-bottom">\n        {{ \'AVAILABLE_IN_SELECT_AREAS_ONLY\' | translate }}\n      </p>\n    </div>\n  </div>\n\n</div>\n')}]),angular.module("pageNotFound.html",[]).run(["$templateCache",function(e){e.put("pageNotFound.html",'<div class="bg">\n  <img ng-src="{{ $ctrl.bgImg }}" alt="Page not found">\n</div>\n<div class="overlay">\n  <div class="header">\n    <h1>{{ $ctrl.i18n.SORRY_PAGE_NOT_FOUND }}</h1>\n  </div>\n  <div class="action">\n    <p>{{ $ctrl.i18n.LOOKING_TO_GET_A_DELICIOUS_MEAL }}</p>\n    <button class="btn btn-primary" ng-click="$ctrl.startOrder()">{{ $ctrl.i18n.START_YOUR_ORDER }}</button>\n  </div>\n</div>\n')}]),angular.module("resetPassword.html",[]).run(["$templateCache",function(e){e.put("resetPassword.html",'<div class="container" id="resetPassword">\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ ::ResetPassword.resetYourPassword }}</h3>\n      <p>\n        {{ ::ResetPassword.resetPasswordInstructions }}\n      </p>\n    </div>\n  </div>\n  <div class="row" ng-if="!ResetPassword.showSuccess">\n    <form name="myForm"\n          class="col-xs-12 col-sm-5"\n          sf-form="ResetPassword.form"\n          sf-model="ResetPassword.model"\n          sf-options="ResetPassword.options"\n          sf-schema="ResetPassword.schema"\n          ng-submit="ResetPassword.resetPassword(myForm)">\n    </form>\n  </div>\n  <div class="row" ng-if="ResetPassword.showSuccess">\n    <div class="col-xs-12 col-sm-5">\n      <div class="alert alert-success" role="alert">\n        <span class="fa fa-check"></span> {{ ::ResetPassword.yourChangesHaveBeen }}\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="ResetPassword.showSuccess">\n    <div class="col-xs-12 col-sm-5">\n      <a ng-href="/login" href="/login">\n        <button class="btn btn-primary pnra-btn" role="alert">{{ ::ResetPassword.signIn }}</button>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),angular.module("smsOptIn.html",[]).run(["$templateCache",function(e){e.put("smsOptIn.html",'<div class="container-fluid text-center">\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ $ctrl.i18n.RIGHT_AROUND_THE_CORNER }}</h3>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>{{ $ctrl.i18n.LAUNCH_ORDER_TRACKING_BODY }}</h4>\n    </div>\n  </div>\n  <div class="row">\n    <img class="col-xs-12" ng-src="{{ $ctrl.cityScapeImg }}">\n  </div>\n  <form>\n    <div class="row">\n      <input class="col-xs-8 col-xs-offset-2"\n             ng-class="{\'borderless\':$ctrl.resolve.modalOptions.nonEditable}"\n             type="tel"\n             format-phone="true"\n             ng-model="$ctrl.resolve.modalOptions.phoneNumber"\n             maxlength="12"\n             ng-change="$ctrl.validatePhoneNumber()"\n             ng-readonly="$ctrl.resolve.modalOptions.nonEditable">\n    </div>\n    <div class="row">\n      <div class="col-xs-8 col-xs-offset-2">\n        <p ng-if="!$ctrl.phoneValid">{{ $ctrl.i18n.PROVIDE_A_PHONE_NUMBER }}</p>\n      </div>\n    </div>\n    <div class="row">\n      <button class="btn btn-lg btn-primary col-xs-8 col-xs-offset-2"\n              ng-click="$ctrl.setSmsOptIn(true, $ctrl.resolve.modalOptions.phoneNumber);"\n              ng-disabled="!$ctrl.phoneValid">\n        {{$ctrl.i18n.ENABLE_TEXT_UPDATES}}\n      </button>\n    </div>\n    <div class="row">\n      <button class="btn btn-lg btn-default col-xs-8 col-xs-offset-2" ng-click="$ctrl.modalInstance.dismiss()">\n        {{$ctrl.i18n.NO_THANKS}}\n      </button>\n    </div>\n  </form>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        <small>{{$ctrl.i18n.SMS_LEGAL_COPY}}</small>\n      </p>\n    </div>\n  </div>\n</div>\n')}]),angular.module("smsOptOut.html",[]).run(["$templateCache",function(e){e.put("smsOptOut.html",'<div class="container-fluid text-center">\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ $ctrl.i18n.SMS_OPT_OUT_HEADER }}</h3>\n    </div>\n  </div>\n  <div class="row">\n    <p class="col-xs-12">\n      {{ $ctrl.i18n.SMS_OPT_OUT_BODY }}\n    </p>\n  </div>\n    <div class="row modal-action">\n      <button class="btn btn-lg btn-primary col-xs-8 col-xs-offset-2" ng-click="$ctrl.modalInstance.close();">\n        {{ $ctrl.i18n.SMS_OPT_OUT_CTA }}\n      </button>\n    </div>\n    <div class="row modal-action">\n      <a class="col-xs-12 text-center" ng-click="$ctrl.modalInstance.dismiss();">{{ $ctrl.i18n.CANCEL }}</a>\n    </div>\n  </div>\n')}]),angular.module("startOrder.html",[]).run(["$templateCache",function(e){e.put("startOrder.html","<dashboard></dashboard>\n")}]),angular.module("accordion-group.html",[]).run(["$templateCache",function(e){e.put("accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <span class="uib-accordion-toggle" uib-accordion-transclude="heading">\n        <span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span>\n      </span>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("cafeMapInfoBoxStatic.html",[]).run(["$templateCache",function(e){e.put("cafeMapInfoBoxStatic.html",'<cafe-map-info-box cafe="parameter.cafe" set-cafe="parameter.setCafe({cafe: cafe})"></cafe-map-info-box>\n')}]),angular.module("checkbox.html",[]).run(["$templateCache",function(e){e.put("checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}"\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}">\n  <label>\n    <input type="checkbox"\n           sf-changed="form"\n           ng-disabled="form.readonly"\n           ng-model="$$value$$"\n           ng-model-options="form.ngModelOptions"\n           ng-checked="$$value$$"\n           schema-validate="form"\n           class="{{form.fieldHtmlClass}}"\n           name="{{form.key.slice(-1)[0]}}">\n    <span class="check"></span>\n    <span ng-bind-html="form.title"></span>\n  </label>\n\n  <div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div>\n</div>\n')}]),angular.module("default.html",[]).run(["$templateCache",function(e){e.put("default.html",'<div class="form-group {{form.htmlClass}}"\n     ng-class="{\'{{\'schema-form-\'+form.type}}\': true,\n                \'has-error\': form.disableErrorState !== true && hasError(),\n                \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n                \'has-feedback\': form.feedback !== false,\n                \'material\': form.isMaterial }">\n  <label ng-if="!form.isMaterial"\n         class="control-label"\n         ng-class="{\'sr-only\': !showTitle() && !form.popover}"\n         for="{{form.key.slice(-1)[0]}}">\n    {{form.title}}\n    <span ng-if="form.required">&ast;</span>\n    <i ng-if="form.popover && form.popover.text"\n       uib-popover="{{form.popover.text}}"\n       ng-class="form.popover.icon"\n       popover-title="{{form.popover.title}}"\n       popover-placement="{{form.popover.placement || \'top\'}}"\n       popover-animation="{{angular.isUndefined(form.popover.animation) ? true : form.popover.animation}}"\n       popover-popup-delay="{{form.popover.popupDelay || 0}}"\n       popover-class="{{form.popover.class}}"\n       popover-trigger="\'{{form.popover.trigger}}\'"\n       popover-append-to-body="{{form.popover.appendToBody}}"></i>\n    <i ng-if="form.popover && form.popover.template"\n       uib-popover-template="\'{{form.popover.template}}\'"\n       ng-class="form.popover.icon"\n       popover-title="{{form.popover.title}}"\n       popover-placement="{{form.popover.placement || \'top\'}}"\n       popover-animation="{{angular.isUndefined(form.popover.animation) ? true : form.popover.animation}}"\n       popover-popup-delay="{{form.popover.popupDelay || 0}}"\n       popover-class="{{form.popover.class}}"\n       popover-trigger="\'{{form.popover.trigger}}\'"\n       popover-append-to-body="{{form.popover.appendToBody}}"></i></label>\n  <input ng-show="form.key"\n         type="{{form.showPassword ? \'text\' : form.type}}"\n         step="any"\n         sf-changed="form"\n         placeholder="{{form.placeholder}}"\n         class="form-control {{form.fieldHtmlClass}}"\n         id="{{form.key.slice(-1)[0]}}"\n         ng-model-options="form.ngModelOptions"\n         ng-model="$$value$$"\n         format-phone="form.needsPhoneFormatting"\n         ng-disabled="form.readonly"\n         schema-validate="form"\n         name="{{form.key.slice(-1)[0]}}"\n         aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"\n         maxlength="{{form.maxLength || undefined}}"\n         autocomplete="{{ form.autocomplete }}"\n         ng-required="form.required">\n  <label ng-if="form.isMaterial"\n         class="control-label material-label"\n         ng-class="{\'sr-only\': !showTitle() && !form.popover}"\n         for="{{form.key.slice(-1)[0]}}">\n    {{form.title}}\n    <span ng-if="form.required">&ast;</span>\n  </label>\n  <span ng-if="!form.isMaterial && form.feedback !== false"\n        class="form-control-feedback"\n        ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"\n        aria-hidden="true"></span>\n  <span ng-if="form.imageKey"\n        ng-show="model[form.imageKey]"\n        class="form-control-image">\n    <img ng-src="{{ model[form.imageKey] | usage: \'credit-card\' }}"></span>\n  <span ng-if="hasError() || hasSuccess()"\n        id="{{form.key.slice(-1)[0] + \'Status\'}}"\n        class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span>\n  <div class="help-block"\n       ng-if="hasError() || form.description"\n       sf-message="form.description"></div>\n  <div ng-if="form.isMaterial && form.type === \'password\' && $$value$$" class="show-hide-toggle">\n    <span ng-click="form.showPassword = !form.showPassword">\n'+"      {{ form.showPassword ? 'HIDE' : 'SHOW' | translate }}\n    </span>\n  </div>\n</div>\n")}]),angular.module("radios.html",[]).run(["$templateCache",function(e){e.put("radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}">\n  <label class="control-label" ng-show="showTitle()">{{form.title}}</label>\n  <div class="radio" ng-repeat="item in form.titleMap" >\n    <label>\n      <input type="radio"\n             class="{{form.fieldHtmlClass}}"\n             sf-changed="form"\n             ng-disabled="form.readonly"\n             ng-model="$$value$$"\n             ng-model-options="form.ngModelOptions"\n             ng-value="item.value"\n             name="{{form.key.slice(-1)[0]}}">\n      <span class="check"></span>\n      <span ng-bind-html="item.name"></span>\n    </label>\n  </div>\n  <div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n</div>\n')}]),angular.module("recaptcha.html",[]).run(["$templateCache",function(e){e.put("recaptcha.html",'<div class="form-group {{form.htmlClass}}">\n  <div class="recaptcha {{form.ngModelOptions.alignment || \'\'}}"\n       vc-recaptcha\n       key="form.ngModelOptions.recaptchaKey"\n       on-create="form.ngModelOptions.setWidgetId(widgetId)"></div>\n</div>\n');
}]),angular.module("select.html",[]).run(["$templateCache",function(e){e.put("select.html",'<div class="form-group {{form.htmlClass}} schema-form-select"\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}">\n  <label class="control-label {{form.labelHtmlClass}}" ng-if="showTitle()">\n    {{form.title}}\n  </label>\n  <select ng-model="$$value$$"\n          ng-model-options="form.ngModelOptions"\n          ng-disabled="form.readonly"\n          sf-changed="form"\n          class="form-control {{form.fieldHtmlClass}}"\n          schema-validate="form"\n          ng-options="item.value as item.name group by item.group for item in form.titleMap"\n          name="{{form.key.slice(-1)[0]}}">\n  </select>\n  <span ng-if="form.feedback !== false"\n        class="form-control-feedback"\n        ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"\n        aria-hidden="true">\n  </span>\n  <div class="help-block" sf-message="form.description"></div>\n\n</div>\n')}]),angular.module("menuTransitionsAlert.component.html",[]).run(["$templateCache",function(e){e.put("menuTransitionsAlert.component.html",'<div ng-if="$ctrl.showMessage" class="mt-alert-container">\n  <div class="text-right">\n    <img ng-src="{{ $ctrl.closeIcon }}" ng-click="$ctrl.dismiss()">\n  </div>\n  <div class="mt-alert-content">\n    <h5 class="title">{{ $ctrl.i18n.MENU_TRANSITIONS_DIALOG_TITLE }}</h5>\n    <p class="message">\n      {{ $ctrl.i18n.MENU_TRANSITIONS_DIALOG_MESSAGE }}\n    </p>\n    <p class="link">\n      <a ng-click="$ctrl.openModal()">{{ $ctrl.i18n.SEE_SUGGESTIONS }}</a>\n    </p>\n  </div>\n  <div class="text-right footer">\n    <form>\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-checked="$ctrl.optOut"\n                 ng-click="$ctrl.optOut = !$ctrl.optOut">\n          <span class="check"></span>\n          {{ $ctrl.i18n.DONT_SHOW_AGAIN }}\n        </label>\n      </div>\n    </form>\n  </div>\n</div>\n')}]),angular.module("myAccountHeader.html",[]).run(["$templateCache",function(e){e.put("myAccountHeader.html",'<div class="row">\n  <h1 class="col-xs-12 hidden-xs" ng-if="!isMenu">\n    {{ title | translate }}\n    <button ng-if="addTitle"\n            class="btn btn-primary"\n            ng-click="addItem()"\n            ng-disabled="editing">\n      {{ addTitle | translate }}\n    </button>\n  </h1>\n  <div class="col-xs-12 card-number" ng-hide="hideCardNumber">\n    <p>{{ \'MY_PANERA_CARD_NUMBER\' | translate }}</p>\n    <p>{{ loyaltyCardNumber }}</p>\n  </div>\n</div>\n<div class="row visible-xs">\n  <div class="col-xs-12 no-padding">\n    <button class="btn btn-primary"\n            ng-if="addTitle"\n            ng-click="addItem()"\n            ng-disabled="editing">\n      {{ addTitle | translate }}\n    </button>\n  </div>\n</div>\n')}]),angular.module("myAccountInfo.html",[]).run(["$templateCache",function(e){e.put("myAccountInfo.html",'<div cg-busy="{promise: resetPasswordPromise, wrapperClass: \'pnra-loading fixed\'}">\n  <div class="row">\n    <div class="col-xs-12">\n      <my-account-header title="MY_ACCOUNT_INFO"></my-account-header>\n    </div>\n  </div>\n  <div class="row" ng-repeat="form in forms track by $index">\n    <div class="col-xs-12">\n      <my-form form="form" model="model"></my-form>\n    </div>\n  </div>\n  <div ng-if="isUserLoaded">\n    <fb-connection button-align="text-right"></fb-connection>\n  </div>\n</div>\n')}]),angular.module("myAddresses.html",[]).run(["$templateCache",function(e){e.put("myAddresses.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_ADDRESSES"\n                       add-title="ADD_NEW_ADDRESS"\n                       editing="$ctrl.editingAddress"\n                       add-item="$ctrl.addAddress()">\n    </my-account-header>\n  </div>\n</div>\n<div cg-busy="$ctrl.loadingPromise">\n  <div ng-if="!$ctrl.addresses.length > 0">\n    <p class="no-saved-address-text">\n      <em>{{ $ctrl.i18n.NO_SAVED_ADDRESSES }}</em>\n    </p>\n  </div>\n  <div ng-if="!$ctrl.editingAddress"\n       ng-repeat="address in $ctrl.addresses track by $index"\n       class="address-row">\n    <div class="row">\n      <div class="col-xs-12 col-sm-4">\n        <div class="row">\n          <div class="col-xs-12">\n            <span ng-if="address.name && address.nameIsUnique">{{address.name}}<br></span>\n            {{ address.addressLine1 }}<br>\n            <span ng-if="address.addressLine2">{{address.addressLine2}}<br></span>\n            {{ address.city }}, {{ address.state }} {{ address.zip }}<br>\n            {{ address.contactPhone | formatPhone }}\n          </div>\n        </div>\n        <p>{{ $ctrl.i18n.ADDRESS_TYPE }}: {{ address.addressType | translate }}</p>\n        <p>{{ $ctrl.i18n.DELIVERY_INSTRUCTIONS }}: {{ address.additionalInfo }}</p>\n      </div>\n\n      <div class="col-xs-12 col-sm-8">\n        <div class="row">\n          <div class="col-xs-12">\n            <button class="btn btn-default col-xs-5"\n                    type="button"\n                    ng-click="$ctrl.editAddress(address)">\n              {{ $ctrl.i18n.EDIT }}\n            </button>\n            <button class="btn btn-default col-xs-6 col-xs-offset-1"\n                    type="button"\n                    ng-click="$ctrl.deleteAddress(address)">\n              {{ $ctrl.i18n.DELETE }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <hr class="artisan">\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.editingAddress">\n    <form name="$ctrl.addressForm"\n          sf-form="$ctrl.form"\n          sf-schema="$ctrl.schema"\n          sf-options="$ctrl.options"\n          sf-model="$ctrl.address"\n          ng-submit="$ctrl.saveAddress($ctrl.addressForm)">\n    </form>\n  </div>\n</div>\n')}]),angular.module("myCafes.html",[]).run(["$templateCache",function(e){e.put("myCafes.html",'<div cg-busy="{promise: myCafesPromise}">\n  <div class="row">\n    <div class="col-xs-12">\n      <my-account-header title="MY_CAFES"\n                         add-title="ADD_NEW_CAFE"\n                         editing="editingCafe"\n                         add-item="addCafe()">\n      </my-account-header>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <div id="cafesRow" class="row" ng-if="!editingCafe" ng-repeat="cafe in cafes track by $index">\n          <div class="col-xs-4 col-sm-4">\n            <div class="row">\n              <div class="col-xs-12">\n                <p>{{ cafe.StreetName }}</p>\n                <p>{{ cafe.City }}, {{ cafe.State }} {{ cafe.Zip }}</p>\n                <p>{{ cafe.Phone | formatPhone }}</p>\n              </div>\n            </div>\n          </div>\n          <div class="col-xs-4 col-sm-3 pull-right">\n            <div class="row ">\n              <button class="btn btn-default  col-xs-12"\n                      type="button"\n                      ng-click="deleteCafe(cafe)">\n                {{ \'DELETE\' | translate }}\n              </button>\n            </div>\n          </div>\n        <div class="row">\n          <div class="col-xs-12">\n            <hr class="artisan">\n          </div>\n        </div>\n      </div>\n      <div ng-if="editingCafe">\n        <div class="row">\n          <div class="xs-12">\n            <cafe-selector show-my-cafe-links="false"\n                           show-features-filter="false"\n                           link-text="ADD_TO_FAVORITES_CAFES"\n                           select-cafe="saveCafe(cafe)"\n                           current-location="currentLocation"\n                           map-center="mapCenter"\n                           features-filter="filter">\n            </cafe-selector>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myCards.html",[]).run(["$templateCache",function(e){e.put("myCards.html",'<div cg-busy="{promise: myCardsPromise}">\n  <div cg-busy="{promise: myCardsRedirecting}">\n    <div class="row" ng-if="!isMenu">\n      <div class="col-xs-12">\n        <my-account-header title="MY_PAYMENT_METHODS"></my-account-header>\n      </div>\n    </div>\n    <!-- Credit Cards -->\n    <div class="row">\n      <div class="col-xs-12">\n          <h1>\n            {{::myCreditCards}}\n            <button class="btn btn-primary pull-right"\n                    ng-click="showAddCcForm()"\n                    ng-disabled="showCcForm">\n              {{::addCreditCard}}\n            </button>\n          </h1>\n        </div>\n      </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <hr class="artisan">\n        <!-- Add Credit Card Form -->\n        <div ng-if="showCcForm">\n          <form name="addStoredCard"\n                sf-form="ccForm"\n                sf-schema="ccSchema"\n                sf-options="ccOptions"\n                sf-model="ccModel"\n                ng-submit="addStoredCreditCard(addStoredCard)">\n          </form>\n          <hr class="artisan">\n        </div>\n        <!-- Stored Credit Cards -->\n        <div ng-if="!showCcForm">\n          <div ng-repeat="card in storedCards.creditCards">\n            <card card-info="card"\n                  set-default-credit-card="setDefaultCreditCard(card)"\n                  update-stored-card="addOrUpdateStoredCreditCard(form, card, errors, schemaForm)"\n                  delete-stored-card="deleteStoredCard(card)">\n            </card>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Gift Cards -->\n    <div class="row" ng-if="authGcIsEnabled && storedCards.giftCards.length > 0 || gcIsEnabled">\n      <div class="col-xs-12">\n        <h1>\n          {{::myGiftCards}}\n          <button class="btn btn-primary pull-right"\n                  ng-click="showAddGcForm()"\n                  ng-show="gcIsEnabled || showGcForm">\n            {{::addGiftCard}}\n          </button>\n        </h1>\n      </div>\n    </div>\n    <div class="row" ng-if="authGcIsEnabled && storedCards.giftCards.length > 0 || gcIsEnabled">\n      <div class="col-xs-12">\n        <hr class="artisan">\n        <!-- Add Gift Card Form -->\n        <div ng-if="showGcForm">\n          <form name="addGiftCard"\n                sf-form="gcForm"\n                sf-schema="gcSchema"\n                sf-options="gcOptions"\n                sf-model="gcModel"\n                ng-submit="addStoredGiftCard()">\n          </form>\n        </div>\n        <!-- Stored Gift Cards -->\n        <div ng-if="(gcIsEnabled || authGcIsEnabled) && !showGcForm">\n          <div ng-repeat="card in storedCards.giftCards">\n            <card card-info="card"\n                  gc-is-enabled="gcIsEnabled"\n                  update-stored-card="addOrUpdateStoredGiftCard(card, schemaForm)"\n                  delete-stored-card="deleteStoredCard(card)">\n            </card>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- PayPal -->\n    <div class="row" ng-if="payPalIsEnabled || hasStoredPayPalAccounts">\n      <div class="col-xs-12">\n        <h1>\n          {{::payPal}}\n          <button class="btn btn-primary pull-right"\n                  ng-click="authenticatePayPalAccount()"\n                  ng-disabled="payPalRedirecting"\n                  ng-if="payPalIsEnabled">\n            <span class="hidden-xs">\n              <img ng-src="{{ ::payPalLogo }}">\n              &nbsp;\n              {{::addPayPalAccount}}\n            </span>\n            <span class="visible-xs">\n              <img ng-src="{{ ::payPalLogo }}">\n              &nbsp;\n              {{::addAccount}}\n            </span>\n          </button>\n        </h1>\n      </div>\n    </div>\n    <div class="row" ng-if="payPalIsEnabled || hasStoredPayPalAccounts">\n      <div class="col-xs-12">\n        <hr class="artisan">\n        <div ng-repeat="payPalError in payPalErrors">\n          <div class="row">\n            <div class="col-xs-12">\n              <div class="alert alert-danger">\n                {{ payPalError | translate }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- Stored PayPal Accounts -->\n        <div ng-repeat="card in storedCards.payPalAccounts">\n          <card card-info="card"\n                delete-stored-card="deleteStoredCard(card)">\n          </card>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("securityCodeDescription.html",[]).run(["$templateCache",function(e){e.put("securityCodeDescription.html",'<div class="row">\n  <div class="col-xs-12">\n    <div class="row">\n      <p class="col-xs-12 title">{{\'SECURITY_CARD_LOCATION\' | translate}}</p>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 col-lg-6">\n        <div class="row">\n          <p class="col-xs-12">{{\'LAST_3_DIGITS\' | translate}}</p>\n        </div>\n        <div class="row">\n          <div class="col-xs-7 col-sm-8 col-md-10">\n            <img ng-src="{{ \'visa-mastercard-discover-code\' | usage: \'credit-card\' }}">\n          </div>\n          <div class="col-xs-5 col-sm-4 col-md-2 code-label">\n            <span>{{\'3_DIGIT_SECURITY_CODE\' | translate}}</span>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-6">\n        <div class="row">\n          <p class="col-xs-12">{{\'4_DIGIT_CODE\' | translate}}</p>\n        </div>\n        <div class="row">\n          <div class="col-xs-7 col-sm-8 col-md-10">\n            <img ng-src="{{ \'amex-code\' | usage: \'credit-card\' }}">\n          </div>\n          <div class="col-xs-5 col-sm-4 col-md-2 code-label amex">\n            <span>{{\'4_DIGIT_SECURITY_CODE\' | translate}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myCommunicationPreferences.html",[]).run(["$templateCache",function(e){e.put("myCommunicationPreferences.html",'<div cg-busy="$ctrl.loadingPromise">\n  <div class="row section-title">\n    <div class="col-xs-12">\n      <my-account-header title="MY_COMMUNICATION_PREFERENCES"></my-account-header>\n    </div>\n  </div>\n  <div class="row">\n    <div class="alert alert-danger" ng-repeat="error in $ctrl.subscriptionErrors">\n      <p>{{ error | translate }}</p>\n    </div>\n  </div>\n  <div class="row section-title">\n    <div class="col-xs-12">\n      <h2>{{ $ctrl.i18n.PANERA_EMAILS }}</h2>\n      <p>{{ $ctrl.i18n.PANERA_EMAILS_DESC }}</p>\n    </div>\n  </div>\n  <form class="row">\n    <div class="col-xs-12">\n      <div class="row alert-checkbox" ng-repeat="subscriptionObj in $ctrl.subscriptions track by $index">\n        <div class="col-xs-1">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox"\n                     ng-model="subscriptionObj.isSubscribed"\n                     ng-change="$ctrl.checkForSubscriptionChanges($ctrl.subscriptions)">\n              <span class="check"></span>\n            </label>\n          </div>\n        </div>\n        <div class="col-xs-11">\n          <p class="alert-title">{{ subscriptionObj.title }}</p>\n          <p class="alert-description">{{ subscriptionObj.description }}</p>\n        </div>\n      </div>\n      <div class="row email-actions">\n        <div class="col-sm-3 col-sm-offset-4 col-xs-12">\n          <button class="btn btn-primary save-btn"\n                  ng-click="$ctrl.saveSubscriptions($ctrl.subscriptions)"\n                  ng-disabled="!$ctrl.subscriptions.hasChanged">\n            {{ $ctrl.i18n.SAVE_CHANGES }}\n          </button>\n        </div>\n      </div>\n  </form>\n  </form>\n  <div class="row">\n    <div class="alert alert-danger" ng-repeat="error in $ctrl.phoneErrors">\n      <p>{{ error | translate }}</p>\n    </div>\n  </div>\n  <div class="row section-title">\n    <div class="col-xs-12">\n      <h2>{{ $ctrl.i18n.SMS_NOTIFICATIONS }}</h2>\n      <p>{{ $ctrl.i18n.SMS_NOTIFICATIONS_DESC }}</p>\n    </div>\n  </div>\n  <div>\n    <form class="row" ng-repeat="phoneNumberObject in $ctrl.phoneNumbers  | filter:{isSmsOpt: true} track by $index">\n      <div class="col-xs-12">\n        <div class="row phone-number">\n          <div class="col-xs-12">\n            <p>{{ $ctrl.i18n.PHONE_NUMBER }}: {{ phoneNumberObject.number | formatPhone:{parens: true} }}</p>\n          </div>\n        </div>\n        <div ng-repeat="smsPreferenceObj in phoneNumberObject.smsPreferences">\n          <div class="row alert-checkbox">\n            <div class="col-xs-1">\n              <div class="checkbox">\n                <label>\n                  <input type="checkbox" ng-model="smsPreferenceObj.isOpt"\n                         ng-change="$ctrl.checkForSmsChanges(phoneNumberObject)">\n                  <span class="check"></span>\n                </label>\n              </div>\n            </div>\n            <div class="col-xs-11">\n              <p class="alert-title">{{ smsPreferenceObj.title }}</p>\n              <p class="alert-description">{{ smsPreferenceObj.description }}</p>\n            </div>\n          </div>\n          <div class="row phone-number-actions">\n            <div class="col-sm-3 col-sm-offset-4 col-xs-12">\n              <button class="btn btn-primary save-btn"\n                      ng-click="$ctrl.showSaveChangesModal(smsPreferenceObj, phoneNumberObject)"\n                      ng-disabled="!phoneNumberObject.hasChanged">\n                {{ $ctrl.i18n.SAVE_CHANGES }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="row add-another-number">\n    <div class="col-xs-12">\n      <button ng-click="$ctrl.addAnotherNumber()" class="add-another-number">{{ $ctrl.i18n.ADD_ANOTHER_NUMBER }}\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myFavorites.html",[]).run(["$templateCache",function(e){e.put("myFavorites.html",'<div cg-busy="$ctrl.favoritesPromise">\n  <div class="row">\n    <div class="col-xs-12">\n      <my-account-header title="MY_FAVORITES"></my-account-header>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{$ctrl.i18n.FAVORITE_ITEMS}}</h1>\n      <hr class="artisan">\n      <my-order placards="$ctrl.favoriteItems"\n                delete-favorite-item="$ctrl.deleteFavoriteItem(faveGroupId, faveId, isFavoriteGroupItem)"\n                edit-favorite-item="$ctrl.editFavoriteItem(faveGroupId, faveId, name)"\n                categorial-context="{parent: \'MY_FAVORITES\'}"\n                event-type="\'favoriteItem\'">\n      </my-order>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{$ctrl.i18n.FAVORITE_ORDERS}}</h1>\n      <hr class="artisan">\n      <my-order ng-repeat="group in $ctrl.favoriteGroups track by $index"\n                order="group"\n                delete-favorite-item="$ctrl.deleteFavoriteItem(faveGroupId, faveId, isFavoriteGroupItem)"\n                delete-favorite-group="$ctrl.deleteFavoriteGroup(faveGroupId)"\n                edit-favorite-group="$ctrl.editFavoriteGroup(faveGroupId, name)"\n                categorial-context="{parent: \'MY_FAVORITES\'}"\n                event-type="\'favoriteOrder\'">\n      </my-order>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myGroupOrders.html",[]).run(["$templateCache",function(e){e.put("myGroupOrders.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_GROUP_ORDERS" add-title="NEW_GROUP_ORDER"\n                       editing="addGroupOrder"\n                       add-item="$ctrl.newGroupOrder()"></my-account-header>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12" ng-if="$ctrl.groupOrders.length > 0">\n    <div ng-repeat="order in $ctrl.groupOrders | orderBy: \'-groupSummary.orderCutoffDT\' track by $index "\n         class="col-xs-12 col-md-6">\n      <group-order-placard order="order" ng-click="$ctrl.sendToDashboard(order)"></group-order-placard>\n    </div>\n  </div>\n  <div class="col-xs-12" ng-if="orders.length===0">\n    {{\'NO_GROUP_ORDERS\' | translate}}\n  </div>\n</div>\n')}]),angular.module("myNotifications.html",[]).run(["$templateCache",function(e){e.put("myNotifications.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_NOTIFICATIONS"></my-account-header>\n  </div>\n</div>\n<div class="row" cg-busy="{promise: emailPrefPromise}">\n  <div class="col-xs-12">\n    <form name="myNotificationsForm"\n          sf-form="form"\n          sf-schema="schema"\n          sf-options="options"\n          sf-model="notifications"\n          ng-submit="updateEmailPreferences()">\n    <div ng-if="failed" ng-bind-html="\'EMAIL_PREFERENCES_FAILED_TO_LOAD\' | translate"></div>\n  </div>\n</div>\n')}]),angular.module("myOrder.html",[]).run(["$templateCache",function(e){e.put("myOrder.html",'<div ng-if="!placards">\n  <a class="fa fa-times-circle favorites-close"\n     ng-if="order.showDeleteButton"\n     ng-click="confirmGroupDeletion(order)"></a>\n  <uib-accordion close-others="false">\n    <div uib-accordion-group is-open="order.isOpen" template-url="accordion-group.html">\n      <uib-accordion-heading>\n        <!-- Past Order Heading-->\n        <div class="row" ng-if="!order.isFavorite">\n          <div class="col-xs-1 col-sm-4 col-md-7 order-header-text">\n            <span>{{order.date | date:\'MM.dd.yy\'}}</span>\n          </div>\n          <div class="col-xs-11 col-sm-8 col-md-5">\n            <div class="row">\n              <div class="col-xs-4 col-xs-offset-4 col-sm-5 col-sm-offset-2 col-md-3 col-md-offset-4 order-header-text\n                          text-right">\n                {{order.total | currency}}\n              </div>\n              <div class="col-xs-3 col-sm-4 col-md-4 order-buttons">\n                <button class=\'btn btn-primary\'\n                        ng-click="reorder()"\n                        ng-disabled="disabled"\n                        id="reorder">{{\'REORDER\' | translate}}</button>\n                <button class=\'visible-xs btn btn-default col-xs-12\' ng-click="toggleAccordion()">\n                  <span ng-if="!order.isOpen">{{\'VIEW\' | translate}}</span>\n                  <span ng-if="order.isOpen">{{\'HIDE\' | translate}}</span>\n                </button>\n              </div>\n\n              <div class="hidden-xs col-sm-1 col-md-1">\n                <a ng-click="toggleAccordion()">\n                  <i class="fa-2x" ng-class="{\'fa-caret-down\': order.isOpen, \'fa-caret-right\': !order.isOpen}"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- Favorite Group Heading-->\n        <div class="row" ng-if="order.isFavorite">\n          <div class="col-xs-4 col-sm-3 order-header-text">\n            <span ng-if="!order.showDeleteButton">{{order.name}}</span>\n            <input ng-if="order.showDeleteButton"\n                   type="text"\n                   ng-click="showDeleteButton(true, order)"\n                   ng-model="order.newFavoriteName">\n            </input>\n          </div>\n          <div class="col-xs-8 col-sm-9">\n            <div class="row order-buttons">\n              <div class="col-xs-5 col-sm-4 col-sm-offset-0 col-md-3 col-md-offset-2 text-right order-header-text">\n                {{order.total | currency}}\n              </div>\n              <div class="col-xs-7 col-sm-7 col-md-6 favorite-order-buttons" ng-if="!order.showDeleteButton">\n                <div class="row">\n                  <button class=\'btn btn-primary col-xs-12 col-sm-5\'\n                          ng-click="reorder($index)"\n                          id="reorder">{{\'REORDER\' | translate}}</button>\n                  <button class=\'hidden-xs btn btn-default col-sm-5 col-sm-offset-1\'\n                          ng-click="showDeleteButton(true);">\n                    {{\'EDIT\' | translate}}\n                  </button>\n                </div>\n                <div class="visible-xs row">\n                  <button class=\'btn btn-default col-xs-12\'\n                          ng-click="showDeleteButton(true);">\n                    {{\'EDIT\' | translate}}\n                  </button>\n                </div>\n              </div>\n              <div class="col-xs-6 col-sm-7 col-md-6" ng-if="order.showDeleteButton">\n                <div class="row">\n                  <button class=\'btn btn-primary col-xs-12 col-sm-5\'\n                          ng-click="editFavoriteGroup({faveGroupId: order.id, name: order.newFavoriteName})">\n                    {{\'SAVE\' | translate}}\n                  </button>\n                  <button class=\'hidden-xs btn btn-default col-sm-5 col-sm-offset-1\'\n                          ng-click="showDeleteButton(false);"\n                          id="reorder">{{\'CANCEL\' | translate}}</button>\n                </div>\n                <div class="visible-xs row">\n                  <button class=\'btn btn-default col-xs-12\'\n                          ng-click="showDeleteButton(false);"\n                          id="reorder">{{\'CANCEL\' | translate}}</button>\n                </div>\n              </div>\n              <div class="hidden-xs col-sm-1 col-md-1">\n                <a ng-click="toggleAccordion()">\n                  <i class="fa-2x" ng-class="{\'fa-caret-down\': order.isOpen, \'fa-caret-right\': !order.isOpen}"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </uib-accordion-heading>\n      <div class="row">\n        <div ng-repeat="placard in order.placards track by $index">\n          <my-placard class="col-lg-4 col-sm-6 col-xs-12"\n                      item="placard"\n                      delete-favorite-item="deleteFavoriteItem({faveGroupId: faveGroupId, faveId: faveId,\n                      isFavoriteGroupItem: isFavoriteGroupItem})"\n                      determine-path="determinePath()"\n                      event-type="eventType"\n                      categorial-context="categorialContext">\n          </my-placard>\n          <div class="clearfix visible-xs"\n               ng-class="{\'visible-sm visible-md\': $index % 2, \'visible-lg\': $index % 3 === 2}">\n          </div>\n        </div>\n      </div>\n    </div>\n  </uib-accordion>\n</div>\n<div ng-if="placards">\n  <div class="row">\n    <div ng-repeat="placard in placards track by $index">\n      <my-placard class="col-lg-4 col-sm-6 col-xs-12"\n                  item="placard"\n                  delete-favorite-item="deleteFavoriteItem({faveGroupId: faveGroupId, faveId: faveId,\n                  isFavoriteGroupItem: isFavoriteGroupItem})"\n                  edit-favorite-item="editFavoriteItem({faveGroupId: faveGroupId, faveId: faveId, name: name})"\n                  determine-path="determinePath()"\n                  event-type="eventType"\n                  categorial-context="categorialContext">\n      </my-placard>\n      <div class="clearfix visible-xs"\n           ng-class="{\'visible-sm visible-md\': $index % 2, \'visible-lg\': $index % 3 === 2}">\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myPastOrders.html",[]).run(["$templateCache",function(e){e.put("myPastOrders.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_PAST_ORDERS"></my-account-header>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12"\n       ng-repeat="order in orders | orderBy: \'-date\' track by $index"\n       ng-if="orders.length > 0">\n    <my-order order="order"\n              categorial-context="{parent: \'MY_PAST_ORDERS\'}"\n              event-type="\'pastOrder\'"></my-order>\n  </div>\n  <div class="col-xs-12" ng-if="orders.length===0">\n    {{\'NO_PAST_ORDERS\' | translate}}\n  </div>\n</div>\n')}]),angular.module("myPhoneNumbers.html",[]).run(["$templateCache",function(e){e.put("myPhoneNumbers.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_PHONE_NUMBERS"\n                       add-title="ADD_NEW_PHONE_NUMBER"\n                       editing="editingPhoneNumber"\n                       add-item="addPhoneNumber()">\n    </my-account-header>\n    </div>\n</div>\n<div cg-busy="loadingPromise">\n  <div class="row" ng-if="!editingPhoneNumber">\n    <div class="alert alert-danger" ng-repeat="error in errors">\n      <p>{{ error | translate }}</p>\n    </div>\n  </div>\n\n  <div ng-if="!editingPhoneNumber"\n       ng-repeat="phoneNumber in phoneNumbers">\n    <div class="row" id="phoneNumberRow">\n      <div class="col-xs-6 col-sm-4">\n        <div class="row">\n          <div class="lead col-xs-12">\n            <p ng-if="phoneNumber.name">{{phoneNumber.name}}</p>\n            <p>{{ phoneNumber.number | formatPhone }}</p>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-6 col-sm-4">\n        <div class="row">\n          <button class="btn btn-default col-xs-5 col-sm-5"\n                  type="button"\n                  ng-click="editPhoneNumber(phoneNumber)">\n            {{ \'EDIT\' | translate }}\n          </button>\n          <button class="btn btn-default col-xs-6 col-sm-5 col-xs-offset-1 col-sm-offset-2"\n                  type="button"\n                  ng-disabled="phoneNumber.isDefault"\n                  ng-click="deletePhoneNumber(phoneNumber)">\n            {{ \'DELETE\' | translate }}\n          </button>\n        </div>\n      </div>\n      <div class="radio col-xs-12 col-sm-4">\n        <div class="row">\n          <label class="col-xs-12 col-sm-11 col-sm-offset-1">\n            <input type="radio"\n                   name="defaultPhoneNumber"\n                   ng-model="default.phoneNumber"\n                   ng-click="setDefaultPhoneNumber(phoneNumber.number)"\n                   ng-value="phoneNumber.number">\n            <span class="check"></span>\n            {{ \'DEFAULT_PHONE_NUMBER\' | translate }}\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <hr class="artisan">\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <my-form ng-if="editingPhoneNumber"\n             form="phoneNumberForm"\n             model="phoneNumber">\n    </my-form>\n  </div>\n</div>\n')}]),angular.module("myPlacard.html",[]).run(["$templateCache",function(e){e.put("myPlacard.html",'<a class="fa fa-times-circle favorites-close"\n   ng-if="MyPlacard.item.showDeleteButton"\n   ng-click="MyPlacard.confirmItemDeletion(MyPlacard.item)"></a>\n<div class="row no-margin placard">\n  <div class="col-xs-12">\n    <div ng-if="!MyPlacard.item.isCombo">\n      <!-- ribbons -->\n      <p class="ribbon-wrapper"\n         ng-if="MyPlacard.item.ribbonName && !(MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem)">\n        <span class="ribbon" ng-class="MyPlacard.item.ribbonClass">\n          {{MyPlacard.item.ribbonName | translate}}\n        </span>\n      </p>\n      <!-- DESKTOP: placard header -->\n      <div class="hidden-xs row placard-header">\n        <div class="col-sm-12 no-padding">\n          <div class="row no-margin">\n            <!-- DESKTOP: product name or favorite name -->\n            <div class="col-sm-8"\n                 ng-if="!MyPlacard.item.isFavorite"\n                 title="{{MyPlacard.item.isUnavailable ? MyPlacard.item.i18nName : MyPlacard.item.cartItem.i18nName | translate}}">\n              <span ng-if="MyPlacard.item.cartItem.i18nModLbl">\n                {{ MyPlacard.item.cartItem.i18nModLbl | translate | limitTo:35 }}\n              </span>\n              {{ MyPlacard.item.isUnavailable ? MyPlacard.item.i18nName : MyPlacard.item.cartItem.i18nName | translate | limitTo:35 }}\n            </div>\n            <div class="col-sm-8"\n                 ng-if="MyPlacard.item.isFavorite"\n                 title="{{MyPlacard.item.favoriteName}}">\n              <span ng-if="(!MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem)">\n                {{ MyPlacard.item.favoriteName | limitTo:35 }}\n              </span>\n              <span ng-if="MyPlacard.item.isFavoriteGroupItem">{{ MyPlacard.item.i18nName | translate | limitTo:35 }}</span>\n              <input type="text"\n                     placeholder="{{MyPlacard.item.favoriteName}}"\n                     ng-if="MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem"\n                     ng-model="MyPlacard.item.newFavoriteName">\n              </input>\n            </div>\n            <!-- DESKTOP: product pricing and nutrition -->\n            <div class="col-sm-4 placard-details">\n              <div class="row">\n                <div class="col-sm-12 price"\n                     ng-if="MyPlacard.item.cartItem.price > 0">\n                  {{MyPlacard.item.cartItem.price | currency}}\n                </div>\n              </div>\n              <div ng-if="MyPlacard.item.optSets[0].nutr[0] && !MyPlacard.item.optSets[0].ignoreNutr"\n                   class="row">\n                <div class="col-sm-12 nutrition">\n                  {{MyPlacard.item.optSets[0].nutr[0].value | number:0}}\n                  {{MyPlacard.item.optSets[0].nutr[0].unit | translate}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- placard content -->\n      <div class="row placard-content">\n        <img ng-src="{{ MyPlacard.item.isUnavailable ? MyPlacard.item.imgKey : MyPlacard.item.cartItem.imgKey | usage:\'placard\'}}"\n             alt="{{MyPlacard.item.isUnavailable ? MyPlacard.item.imgKey : MyPlacard.item.cartItem.imgKey}}"\n             class="col-xs-3 col-sm-12 no-padding img-responsive">\n       <!-- MOBILE: product name or favorite name -->\n       <div class="visible-xs mobile-placard-content"\n            ng-class="{\'col-xs-4\': MyPlacard.item.isUnavailable, \'col-xs-9\': !MyPlacard.item.isUnavailable}">\n         <div ng-if="!MyPlacard.item.isFavorite" title="{{MyPlacard.item.isUnavailable ? MyPlacard.item.i18nName : MyPlacard.item.cartItem.i18nName | translate}}">\n           <span ng-if="MyPlacard.item.cartItem.i18nModLbl">\n             {{ MyPlacard.item.cartItem.i18nModLbl | translate | limitTo:35 }}\n           </span>\n           {{ MyPlacard.item.isUnavailable ? MyPlacard.item.i18nName : MyPlacard.item.cartItem.i18nName | translate | limitTo:35 }}\n         </div>\n         <div ng-if="MyPlacard.item.isFavorite" title="{{MyPlacard.item.favoriteName}}">\n           <span ng-if="(!MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem)">\n             {{ MyPlacard.item.favoriteName | limitTo:35 }}\n           </span>\n           <span ng-if="MyPlacard.item.isFavoriteGroupItem">{{ MyPlacard.item.i18nName | translate | limitTo:35 }}</span>\n           <input type="text"\n                  placeholder="{{MyPlacard.item.favoriteName}}"\n                  ng-if="MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem"\n                  ng-model="MyPlacard.item.newFavoriteName">\n           </input>\n         </div>\n       </div>\n       <!-- MOBILE: product price and nutrition -->\n       <div class="col-xs-7 visible-xs mobile-placard-content">\n         <div class="row">\n           <div class="col-xs-12">\n             <span ng-if="MyPlacard.item.cartItem.price > 0">\n               {{MyPlacard.item.cartItem.price | currency}}\n             </span>\n             <span ng-if="MyPlacard.item.optSets[0].nutr[0] && !MyPlacard.item.optSets[0].ignoreNutr">\n               <span>|&nbsp;{{MyPlacard.item.optSets[0].nutr[0].value | number:0}}</span>\n               <span>{{MyPlacard.item.optSets[0].nutr[0].unit | translate}}</span>\n             </span>\n           </div>\n         </div>\n       </div>\n       <div ng-show="MyPlacard.showOverlay" class="addedOverlay animate-show">\n         <i class="fa-check"></i>\n         <span>{{ MyPlacard.messages.ADDED }}</span>\n       </div>\n        <div class="popovers hidden-xs">\n          <div class="row no-margin">\n            <div class="col-xs-6">\n              <a uib-popover-template="\'myPlacardDescription.html\'"\n                 popover-placement="bottom"\n                 popover-trigger="\'mouseenter\'"\n                 popover-popup-delay="350"\n                 popover-append-to-body="true">\n                {{ MyPlacard.messages.DESCRIPTION }}\n              </a>\n            </div>\n            <div class="col-xs-6 text-right">\n              <a uib-popover-template="\'myPlacardNutrition.html\'"\n                 popover-placement="bottom"\n                 popover-trigger="\'mouseenter\'"\n                 popover-popup-delay="350"\n                 popover-popup-close-delay="{{MyPlacard.item.optSets[0].ignoreNutr ? 3000 : 500}}"\n                 popover-append-to-body="true"\n                 class="js-popover">{{ MyPlacard.messages.NUTRITION }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="MyPlacard.item.isCombo">\n      <!-- ribbons -->\n      <p class="ribbon-wrapper"\n         ng-if="MyPlacard.item.ribbonName && !(MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem)">\n        <span class="ribbon" ng-class="MyPlacard.item.ribbonClass">\n          {{MyPlacard.item.ribbonName | translate}}\n        </span>\n      </p>\n      <!-- DESKTOP: if this is a combo then display only both product images -->\n      <div class="hidden-xs row placard-header">\n        <div class="col-sm-12 no-padding">\n          <div class="row no-margin">\n            <div class="col-sm-8"\n                 ng-if="!MyPlacard.item.isFavorite && MyPlacard.item.i18nName"\n                 title="{{MyPlacard.item.cartItem.i18nName | translate}}">\n              {{ MyPlacard.item.i18nName | translate | limitTo:35 }}\n            </div>\n            <div class="col-sm-8" ng-if="MyPlacard.item.isFavorite" title="{{MyPlacard.item.favoriteName}}">\n              <span ng-if="(!MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem)">\n                {{ MyPlacard.item.favoriteName | limitTo:35 }}\n              </span>\n              <span ng-if="MyPlacard.item.isFavoriteGroupItem && MyPlacard.item.i18nName">\n                {{ MyPlacard.item.i18nName | translate | limitTo:35 }}\n              </span>\n              <input type="text"\n                     placeholder="{{MyPlacard.item.favoriteName}}"\n                     ng-if="MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem"\n                     ng-model="MyPlacard.item.newFavoriteName">\n              </input>\n            </div>\n            <div class="col-sm-4 placard-details">\n              <div class="row">\n                <div class="col-sm-12 price" ng-if="MyPlacard.item.cartItem.price > 0">\n                  {{MyPlacard.item.cartItem.price | currency}}\n                </div>\n              </div>\n              <div ng-if="MyPlacard.item.cartItem.calories" class="row">\n                <div class="col-sm-12 nutrition">\n                  {{MyPlacard.item.cartItem.calories.value | number:0}}\n                  {{MyPlacard.item.cartItem.calories.unit | translate}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div id="comboPlacard" class="row placard-content">\n        <div ng-show="MyPlacard.showOverlay" class="addedOverlay animate-show">\n          <i class="fa-check"></i>\n          <span>{{ MyPlacard.messages.ADDED }}</span>\n        </div>\n        <div class="row no-margin" ng-if="MyPlacard.item.cartItem.items">\n          <div class="combo"\n               ng-repeat="subItem in MyPlacard.item.cartItem.items | orderBy: \'-itemType\' track by $index"\n               ng-if="subItem.itemType !== \'side\'">\n            <div class="col-xs-12 col-sm-6 no-padding">\n              <div class="row no-margin">\n                <div class="col-xs-3 col-sm-12 no-padding combo-image">\n                  <img ng-src="{{subItem.imgKey | usage: \'placard\'}}"\n                       alt="{{subItem.imgKey}}"\n                       class="img-responsive">\n                  <p class="ribbon-wrapper" ng-if="subItem.ribbonName">\n                   <span class="ribbon-combo" ng-class="subItem.ribbonClass">\n                     {{subItem.ribbonName | translate}}\n                   </span>\n                  </p>\n                </div>\n                <div class="col-xs-9 col-sm-12 combo-text">\n                  <p>\n                    {{subItem.i18nName | translate}}<br>\n                    <span ng-if="subItem.price > 0">\n                      {{subItem.price | currency}}\n                    </span>\n                    <span ng-if="subItem.calories.value && subItem.calories.i18nName">\n                      &#124;&nbsp;{{subItem.calories.value | number:0}}\n                      {{subItem.calories.i18nName | translate}}\n                    </span>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- placard footer for favorite item edit buttons -->\n    <div class="row placard-footer" ng-if="!MyPlacard.item.showDeleteButton">\n      <button class="btn btn-sm btn-default"\n              ng-class="\'col-xs-\' + MyPlacard.item.buttonWidth"\n              ng-if="MyPlacard.item.showCustomizeButton"\n              ng-disabled="MyPlacard.item.cartItem.isUnavailable || MyPlacard.item.cartItem.price <= 0"\n              ng-click="MyPlacard.customizeClick(MyPlacard.item)">\n        {{ MyPlacard.messages.CUSTOMIZE }}\n      </button>\n      <button class="btn btn-sm btn-default"\n              ng-if="MyPlacard.item.showEditButton"\n              ng-class="\'col-xs-\' + MyPlacard.item.buttonWidth"\n              ng-click="MyPlacard.showDeleteButton(true, MyPlacard.item)">\n        {{ MyPlacard.messages.EDIT }}\n      </button>\n      <button ng-if="!MyPlacard.item.unavailableMessage"\n              class="btn btn-sm btn-primary"\n              ng-class="\'col-xs-\' + MyPlacard.item.buttonWidth"\n              ng-disabled="MyPlacard.item.isUnOrderable || MyPlacard.item.cartItem.isUnavailable || MyPlacard.item.cartItem.price <= 0"\n              ng-click="MyPlacard.orderClick(MyPlacard.item)">\n        {{ MyPlacard.messages.ADD_ITEM }}\n      </button>\n      <div ng-if="MyPlacard.item.unavailableMessage"\n           ng-class="\'col-xs-\' + MyPlacard.item.buttonWidth"\n           uib-popover="{{ MyPlacard.item.unavailableMessage | translate }}"\n           popover-trigger="\'mouseenter\'"\n           popover-placement="top"\n           popover-append-to-body="true">\n        <div class="row">\n          <button type="button"\n                  class="pull-right btn btn-sm btn-primary col-xs-12"\n                  ng-disabled="MyPlacard.item.isUnOrderable || MyPlacard.item.cartItem.isUnavailable"\n                  ng-click="MyPlacard.orderClick(MyPlacard.item)">\n            {{ MyPlacard.messages.ADD_ITEM }}\n          </button>\n        </div>\n      </div>\n    </div>\n    <!-- placard footer for item edit mode buttons -->\n    <div class="row placard-footer" ng-if="MyPlacard.item.showDeleteButton && !MyPlacard.item.isFavoriteGroupItem">\n      <button class="btn btn-sm btn-primary col-xs-6"\n              ng-click="MyPlacard.editFavoriteItem({faveGroupId: MyPlacard.item.favoriteGroupId, faveId: MyPlacard.item.favoriteId, name: MyPlacard.item.newFavoriteName})">\n        {{ MyPlacard.messages.SAVE }}\n      </button>\n      <button class="btn btn-sm btn-default col-xs-6"\n              ng-click="MyPlacard.showDeleteButton(false, MyPlacard.item)">\n        {{ MyPlacard.messages.CANCEL }}\n      </button>\n    </div>\n\n  </div>\n</div>\n');
}]),angular.module("myPlacardDescription.html",[]).run(["$templateCache",function(e){e.put("myPlacardDescription.html",'<div class="my-placard-description">\n  <div class="row">\n    <span class="col-xs-12">\n      {{MyPlacard.item.i18nDesc | translate}}\n    </span>\n  </div>\n  <div class="row side" ng-if="MyPlacard.item.defaultSide.i18nName">\n    <div class="col-xs-12">\n      <strong>{{\'LBL_SIDE\' | translate}}</strong>\n      <span>{{MyPlacard.item.defaultSide.i18nName | translate}}</span>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("myPlacardNutrition.html",[]).run(["$templateCache",function(e){e.put("myPlacardNutrition.html","<div>\n  <!--varying nutrition-->\n  <div ng-if=\"MyPlacard.item.optSets[selected.opt]['ignoreNutr'] || MyPlacard.item.optSets[0]['ignoreNutr']\">\n    <nutrition>\n      {{'VARIED_NUTRITION_DETAILS' | translate}}\n      <a ng-href=\"{{MyPlacard.nutritionPDFUrl}}\" target=\"_blank\">{{ 'NUTRITION_INFO_GUIDE' | translate}}</a>\n    </nutrition>\n  </div>\n  <!--fixed nutrition-->\n  <div ng-if=\"!MyPlacard.item.optSets[selected.opt]['ignoreNutr'] && !MyPlacard.item.optSets[0]['ignoreNutr']\">\n    <nutrition nutritions=\"MyPlacard.item.optSets[selected.opt || 0].nutr\">\n      {{ 'NUTRITION' | translate}}\n    </nutrition>\n  </div>\n</div>\n")}]),angular.module("myRewards.html",[]).run(["$templateCache",function(e){e.put("myRewards.html",'<!-- Rewards Header -->\n<div class="row" ng-if="!$ctrl.sidePanel && $ctrl.showHeader">\n  <div class="col-xs-12 col-sm-4 col-md-6">\n    <my-account-header title="MY_REWARDS"></my-account-header>\n  </div>\n  <div class="col-xs-12 col-sm-8 col-md-6">\n    <div class="row">\n      <!-- Rewards Count -->\n      <div class="col-xs-6">\n        <div class="row">\n          <div class="col-xs-12 col-sm-4 col-sm-offset-0">\n            <p class="rewards-count" ng-class="{\'dd\': $ctrl.rewardsCount > 9}">{{$ctrl.rewardsCount | number: 0}}</p>\n          </div>\n          <div class="col-xs-12 col-sm-8 copy-wrap">\n            <p><strong>{{ $ctrl.i18n.REWARDS }}</strong></p>\n            <p>{{ $ctrl.i18n.AVAILABLE_RIGHT_NOW }}</p>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-6">\n        <div class="row">\n          <!-- Visits image and count -->\n          <div class="col-xs-12 col-sm-4 col-sm-offset-0">\n            <p class="visits-count">\n              <img ng-if="!$ctrl.rewards.visitsTillNextCredit"\n                   ng-src="{{::$ctrl.rewardClockIcon}}"\n                   alt="Clock Image">\n              <span ng-if="$ctrl.rewards.visitsTillNextCredit > 0">\n                {{$ctrl.rewards.visitsTillNextCredit | number: 0}}\n              </span>\n            </p>\n          </div>\n          <!-- Visits messaging -->\n          <div class="col-xs-12 col-sm-8 copy-wrap">\n            <p><strong>{{ $ctrl.i18n.VISITS }}</strong></p>\n            <span ng-if="!$ctrl.rewards.visitsTillNextCredit || $ctrl.rewards.visitsTillNextCredit <= 0">\n              <span ng-switch="$ctrl.rewards.tierName">\n                <p ng-switch-when="MyPanera 2.0 Loyalty MTX">{{ $ctrl.i18n.WE_MISS_YOU }}</p>\n                <p ng-switch-default>{{ $ctrl.i18n.THANKS_FOR_JOINING }}</p>\n              </span>\n            </span>\n            <p ng-if="$ctrl.rewards.visitsTillNextCredit > 0">{{ $ctrl.i18n.UNTIL_NEXT_REWARD }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<!-- Rewards List -->\n<div class="row">\n  <div ng-if="!$ctrl.rewards.rewards || ($ctrl.rewards && $ctrl.rewards.rewards.length <= 0)" class="col-xs-12">\n    <p>{{ $ctrl.i18n.NO_REWARDS_AT_THIS_TIME }}</p>\n  </div>\n  <div ng-if="$ctrl.rewards.rewards.length > 0" class="col-xs-12">\n    <h3 ng-if="$ctrl.sidePanel">{{ $ctrl.i18n.REDEEM_A_REWARD }}</h3>\n    <div ng-class="{row: $ctrl.sidePanel || ($index+1)%2 === 0}" ng-repeat="reward in $ctrl.rewards.rewards">\n      <div class="no-padding" ng-class="{\'col-xs-12 col-sm-6\': !$ctrl.sidePanel, \'col-xs-12\': $ctrl.sidePanel}">\n        <reward-placard reward="reward"\n                        redeem="$ctrl.redeem(reward)"\n                        side-panel="$ctrl.sidePanel">\n        </reward-placard>\n      </div>\n    </div>\n  </div>\n</div>\n<!-- NON-EXISTENT BIRTHDAY OR ADDRESS -->\n<section class="add-information" ng-if="!$ctrl.birthdayExists || !$ctrl.addressExists">\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ $ctrl.i18n.COMPLETE_YOUR_REGISTRATION }}</h3>\n      <p>\n        <span ng-if="$ctrl.progressiveRegMsg">{{ $ctrl.progressiveRegMsg }}</span>\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 actions">\n      <button class="btn btn-primary"\n              ng-if="!$ctrl.birthdayExists"\n              ng-click="$ctrl.addInformation()">\n        {{ $ctrl.i18n.ADD_BIRTHDAY }}\n      </button>\n      <button class="btn btn-primary"\n              ng-if="!$ctrl.addressExists"\n              ng-click="$ctrl.addAddress()">\n        {{ $ctrl.i18n.ADD_ADDRESS }}\n      </button>\n    </div>\n  </div>\n</section>\n<!-- Past Rewards List -->\n<div class="row">\n  <div ng-if="$ctrl.rewardTransactions.pastRewards.length > 0" class="col-xs-12">\n    <my-account-header title="PAST_REWARDS" hide-card-number="true">\n    </my-account-header>\n    <div ng-repeat="pastReward in $ctrl.rewardTransactions.pastRewards">\n      <div class="no-padding col-xs-12 col-sm-6">\n        <past-reward-placard reward="pastReward">\n        </past-reward-placard>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("myTastesAndInterests.html",[]).run(["$templateCache",function(e){e.put("myTastesAndInterests.html",'<div class="row">\n  <div class="col-xs-12">\n    <my-account-header title="MY_TASTES_AND_INTERESTS"></my-account-header>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <my-form form="form" model="tastesAndInterests"></my-form>\n  </div>\n</div>\n')}]),angular.module("addToAppleWallet.html",[]).run(["$templateCache",function(e){e.put("addToAppleWallet.html",'<div class="row add-to-apple-wallet-container" ng-if="$ctrl.show && $ctrl.isEnabled">\n  <div class="col-xs-12">\n    <h2>{{ $ctrl.i18n.SAVE_TO_APPLE_WALLET }}</h2>\n    <p>{{ $ctrl.i18n.YOU_CAN_NOW_SAVE_TO_APPLE_WALLET }}</p>\n    <div class="add-to-apple-wallet-btn">\n      <a ng-click="$ctrl.addToWallet()">\n        <img ng-src="{{ $ctrl.img.appleWallet }}" >\n      </a>\n    </div>\n  </div>\n</div>\n')}]),angular.module("builderTotal.html",[]).run(["$templateCache",function(e){e.put("builderTotal.html",'<div class="row visible-xs">\n  <div class="col-xs-12">\n    <hr class="artisan">\n  </div>\n</div>\n<div class="row">\n  <h2 class="col-xs-6">\n    {{ \'TOTAL\' | translate }} {{ totalPrice | currency }}\n  </h2>\n  <div class="col-xs-2">\n    <div ng-if="isLoggedIn && !isComboItem && errors.length <=0">\n      <add-favorite items="items"\n                    update-saved="updateSaved({isSaved: isSaved})"\n                    saved="saved"\n                    position="position"\n                    errors="errors"\n                    track-customization="trackCustomization({eventType: eventType})">\n      </add-favorite>\n    </div>\n  </div>\n  <div class="col-xs-pull-3">\n    <button ng-class="{\'col-xs-4\': isLoggedIn, \'col-xs-6\': !isLoggedIn}"\n            class="btn btn-primary"\n            type="button"\n            ng-click="btnFunction()"\n            ng-disabled="errors.length > 0">\n      {{ (btnText || \'ADD_ITEM\') | translate }}\n    </button>\n  </div>\n</div>\n')}]),angular.module("customizationNav.html",[]).run(["$templateCache",function(e){e.put("customizationNav.html",'<div ng-if="!_.isEmpty(modifiers.modGroups)">\n  <div class="row">\n    <div class="col-xs-12">\n      <item-group mod-groups="modifiers.modGroups"\n                  popular="popular"\n                  selected-id="groupSelection.customizeId"\n                  errors="errors"\n                  has-error="hasError(id)">\n      </item-group>\n    </div>\n  </div>\n\n  <div class="row hidden-xs">\n    <div class="col-sm-12">\n      <hr class="artisan">\n    </div>\n  </div>\n</div>\n\n\n<div class="row">\n  <div class="col-xs-6 col-sm-12" ng-if="selectedSide && selectedSide.i18nName">\n    <side-group is-selected="groupSelection.sideSelected"\n                selected-side-name="selectedSide.i18nName"\n                calories="selectedSide.calories"\n                errors="errors"\n                has-error="hasError(id)">\n    </side-group>     \n    <div class="row hidden-xs">\n      <div class="col-sm-12">\n        <hr class="artisan">\n      </div>\n    </div>\n  </div>\n\n  <div class="col-xs-6 col-sm-12">\n    <instruction-group is-selected="groupSelection.instructionsSelected"\n                       selection="selection"\n                       special-instructions="specialInstructions[0]">\n    </instruction-group>\n  </div>\n</div>\n\n<div class="row hidden-xs">\n  <div class="col-sm-12">\n    <hr class="artisan">\n  </div>\n</div>')}]),angular.module("imageBuilder.html",[]).run(["$templateCache",function(e){e.put("imageBuilder.html",'<div ng-switch="ingredientsImagesExist">\n  <div ng-switch-when="true">\n    <div class="row" id="ingredients">\n      <div class="col-xs-12">\n        <!-- INGREDIENTS -->\n        <div ng-repeat="ingredient in ingredients"\n             class="row">\n          <div class="col-xs-12">\n            <img ng-src="{{::ingredient.imgKey | usage: \'builder\'}}"\n                 ng-style="{\'z-index\': ingredients.length - $index + 1,\n                           \'top\': $last ? \'-10px\' : itemSpacing * $index + \'px\',\n                           \'width\': \'216px\'}"\n                 alt="{{ingredient.i18nName | translate}} {{ingredient.imgKey}}"\n                 class="ingredient">\n          </div>\n        </div>\n        <!-- BASE IMAGE -->\n        <div ng-if="baseImage"\n             class="row">\n          <div class="col-xs-12">\n            <img ng-src="{{::baseImage | usage: \'builder\'}}"\n                 alt="{{i18nName | translate}} {{baseImage}}"\n                 id="baseImage">\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- CONDIMENTS -->\n    <div ng-repeat="condiment in condiments"\n         class="row condiments"\n         ng-if="$index % 3 === 0">\n      <div class="col-xs-12">\n        <div class="row">\n          <div ng-repeat="condiment in condiments.slice($index, $index + 3)"\n               class="col-xs-4">\n            {{condiment.i18nName | translate}}\n          </div>\n        </div>\n        <div class="row">\n          <div ng-repeat="condiment in condiments.slice($index, $index + 3)"\n               class="col-xs-4">\n            <img ng-src="{{::condiment.imgKey | usage: \'builder\'}}"\n                 alt="{{condiment.i18nName | translate}}"\n                 class="condiment">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-switch-when="false">\n    <div class="row">\n      <div class="col-xs-12">\n        <!-- FALLBACK IMAGE -->\n        <img ng-src="{{::fallbackImage | usage:\'placard\'}}"\n             alt="{{i18nName | translate}}"\n             id="fallbackImage">\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("selections.html",[]).run(["$templateCache",function(e){e.put("selections.html",'<div class="row"\n     ng-if="hasComponents()">\n  <div class="col-xs-12">\n    <h3>{{ \'YOUR_SELECTIONS\' | translate }}</h3>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-xs-12">\n    <p>\n      <div  ng-repeat="component in allComponents"\n            class="component">\n        <span class="{{component.cssClass}}">\n          <span ng-if="component.quantity > 1">{{ component.quantity }}&nbsp;</span>{{ component.i18nName | translate }}&#59;\n        </span>\n        &nbsp;\n      </div>\n    </p>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-xs-12">\n    <image-builder base-image="{{baseImage}}"\n                   condiments="condiments"\n                   ingredients="ingredients"\n                   fallback-image="{{fallbackImage}}"\n                   i18n-name="{{product.i18nName}}"\n                   show-static="showStatic">\n    </image-builder>\n  </div>\n</div>\n')}]),angular.module("selector.html",[]).run(["$templateCache",function(e){e.put("selector.html",'<!-- Using a LoDash Template -->\n<ol class="row artisan-scroll">\n  <% _.forEach(data, function(selectionObject, selectionIndex) { %>\n    <li rules="<%- scopeForPopular(selectionObject) %>"\n        selection="selection"\n        data="data[<%- selectionIndex %>]"\n        info="info"\n        correlated-item-prices="correlatedItemPrices"\n        available-subs="availableSubs"\n        <%- getType(selectionObject) %>>\n    </li>\n  <% }); %>\n</ol>\n')}]),angular.module("cafeFilter.html",[]).run(["$templateCache",function(e){e.put("cafeFilter.html",'<ul class="list-inline">\n  <li ng-repeat="f in filterTypes" ng-click="performAction(f)" ng-class="f.selected ? \'selected\' : \'\'">\n    <img ng-if="f.hasImage" ng-class="f.iconClass" ng-src="{{f.iconImage}}">\n    <a>{{f.iconDesc | translate}}</a>\n  </li>\n  <li id="dropdown">\n    <div>\n      <a ng-class="dropDownSelection.textDesc !== \'MORE\' ? \'selected\' : \'\'">\n        {{dropDownSelection.textDesc | translate}}&nbsp;\n        <i class="fa-angle-down"></i>\n      </a>\n      <ul>\n        <li ng-repeat="d in filterDropDown" ng-click="performAction(d)">\n          {{d.textDesc | translate}}\n          <hr class="hairline">\n        </li>\n        <li disabled>\n          <i class="fa fa-check"></i>&nbsp;Free Wi-Fi<br>[All Locations]\n        </li>\n      </ul>\n    </div>\n  </li>\n</ul>\n\n<!-- // TODO: Switch to Bootstrap Dropdown -->\n')}]),angular.module("cafe.html",[]).run(["$templateCache",function(e){e.put("cafe.html",'<div class="col-xs-12 cafe-details" ng-class="{\'disabled\': disabled}">\n  <div class="row cafe-display">\n    <div class="col-xs-1">\n      <!-- <img class="text-right" ng-src="{{::showCafeImage}}"> -->\n      <i class="fa-map-marker fa-2x"></i>\n    </div>\n    <div class="col-xs-7">\n      <span class="cafeName">\n        {{cafe.Name}}&nbsp;#{{cafe.CafeId}}\n      </span>\n      <br>\n      <span class="subText">\n        <span class="address">\n          {{cafe.StreetName}}\n        </span>\n        <br>\n        <span class="address">\n          {{cafe.City}}, {{cafe.State}} {{cafe.Zip}}\n        </span>\n        <br>\n        <span class="phone">\n          {{cafe.Phone}}\n        </span>\n      </span>\n    </div>\n    <div class="col-xs-4">\n      <div class="row">\n        <span class="distance pull-right">\n          {{cafe.Distance | distance}}\n        </span>\n      </div>\n      <div class="row">\n        <a ng-if="cafe.EcommerceEnabled === \'YES\' && btnText && !disabled"\n           ng-click="btnFunc({cafe: cafe})"\n           id="cafeOrderBtn{{cafe.CafeId}}"\n           class="btn btn-primary btn-sm pull-right" >\n          <span class="hidden-xs">{{ btnText | translate }}</span>\n          <span class="visible-xs-block">{{ \'SELECT_CAFE\' | translate }}</span>\n        </a>\n        <span class="pull-right text-right"\n              ng-if="disabled"\n              ng-bind-html="\'ORDER_TYPE_NOT_AVAILABLE\' | translate : [disabledText]">\n        </span>\n      </div>\n      <div class="row">\n        <div class="orderTypes pull-right" id="cafeIcons{{cafe.cafeId}}">\n          <span class="icon-cafe" ng-repeat="icon in cafe.orderTypeIcons">\n            <img class="orderType" ng-src="{{::icon}}"/>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="cafe-display-line2 row">\n    <div class="col-xs-8 col-xs-offset-1">\n      <div class="row">\n        <span class="col-xs-12 timings">\n          <a uib-popover-template="\'cafeListCafeHours.html\'"\n             popover-placement="top"\n             popover-trigger="\'mouseenter\'"\n             popover-popup-delay="150"\n             popover-popup-close-delay="0"\n             popover-append-to-body="true">\n            {{cafe.Hours | todayHours }}\n          </a>\n        </span>\n      </div>\n      <div class="row">\n        <a ng-if="linkText"\n           ng-disabled="disabled"\n           class="col-xs-12"\n           ng-click="linkFunc({cafe: cafe})">\n           {{ linkText | translate }}\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("cafeList.html",[]).run(["$templateCache",function(e){e.put("cafeList.html",'<div class="row" id="cafe-list" pnra-scrollable>\n  <div class="artisan-scroll col-xs-12">\n    <div class="row"\n         ng-if="validCafes.length > 0">\n      <hr class="artisan col-xs-12">\n      <a class="col-xs-8"\n         ng-class="{\'selected\': !showMap}"\n         ng-click="toggleMapView({showMap: false})">\n        {{\'CLOSEST_CAFES\' | translate : [cafeFilterText] }}\n      </a>\n      <span class="col-xs-1 visible-xs">|</span>\n      <a class="col-xs-3 visible-xs-inline-block"\n         ng-class="{\'selected\': showMap}"\n         ng-click="toggleMapView({showMap: true})">\n        {{\'MAP_VIEW\' | translate}}\n      </a>\n      <hr class="artisan col-xs-12">\n    </div>\n    <div ng-if="!showMap">\n      <div ng-repeat="cafe in validCafes | orderBy:\'Distance\' track by $index"\n           class="row">\n        <div class="col-xs-12">\n          <cafe ng-class="{\'selected-cafe\': (selectedCafe.CafeId === cafe.CafeId)}"\n                ng-click="selectCafe(cafe)"\n                cafe="cafe"\n                btn-text="{{btnText}}"\n                btn-func="btnFunc({cafe: cafe})"\n                link-text="{{linkText}}"\n                link-func="linkFunc({cafe: cafe})"\n                disabled-text="cafeFilterText">\n          </cafe>\n        </div>\n        <hr class="artisan col-xs-12">\n      </div>\n      <div class="row removed-cafes"\n           ng-if="displayRemoved && removedCafes.length > 0">\n        <hr class="artisan col-xs-12">\n        <span ng-bind-html="\'OTHER_CAFES\' | translate" class="col-xs-12"></span>\n        <hr class="artisan col-xs-12">\n      </div>\n      <div>\n        <div ng-repeat="cafe in removedCafes | orderBy:\'Distance\' track by $index"\n             class="row">\n          <cafe class="col-xs-12"\n                disabled="true"\n                cafe="cafe"\n                btn-text="{{btnText}}"\n                btn-func="btnFunc({cafe: cafe})"\n                link-text="{{linkText}}"\n                link-func="linkFunc({cafe: cafe})"\n                disabled-text="cafeFilterText">\n          </cafe>\n          <hr class="artisan col-xs-12">\n        </div>\n      </div>\n    </div>\n    <div class="row"\n         ng-if="validCafes.length <= 0 && removedCafes.length <= 0">\n      <hr class="artisan col-xs-12">\n      <span ng-bind-html="\'SEARCH_FOR_NEARBY_CAFES\' | translate"\n            class="col-xs-12 no-cafes">\n      </span>\n      <hr class="artisan col-xs-12">\n    </div>\n  </div>\n</div>\n')}]),angular.module("cafeListCafeHours.html",[]).run(["$templateCache",function(e){e.put("cafeListCafeHours.html",'<div class="row">\n  <view-cafe-hours class="col-xs-12" cafe-hours="cafe.Hours"></view-cafe-hours>\n</div>\n\n')}]),angular.module("cafeMap.html",[]).run(["$templateCache",function(e){e.put("cafeMap.html",'<ui-gmap-google-map ng-if="map.center && map.center.longitude && map.center.latitude"\n                    center="map.center"\n                    pan="true"\n                    control="map.mapControl"\n                    zoom="map.zoom"\n                    draggable="true"\n                    options="options"\n                    events="events">\n  <ui-gmap-marker ng-if="userLocation"\n                  icon="mapStyle.userMarkerIcon"\n                  coords="userLocation"\n                  idkey="\'user\'">\n  </ui-gmap-marker>\n  <ui-gmap-markers models="cafes"\n                   idkey="\'CafeId\'"\n                   coords="\'Location\'"\n                   icon="\'Icon\'"\n                   click="selectCafe"\n                   options="mapStyle.markerOptions">\n  </ui-gmap-markers>\n  <ui-gmap-window coords="selectedCafe.Location"\n                  show="selectedCafe"\n                  closeClick="onWindowClose"\n                  templateUrl="cafeInfoBoxTemplateUrl"\n                  templateParameter="{cafe: selectedCafe, setCafe: setCafe}"\n                  options="mapStyle.cafeInfoBoxOptions">\n  </ui-gmap-window>\n  <ui-gmap-polygon static="true"\n                   ng-if="p.polygon.path"\n                   ng-repeat="p in cafes track by $index"\n                   path="p.polygon.path"\n                   stroke="p.polygon.stroke"\n                   visible="p.polygon.visible"\n                   editable="p.polygon.editable"\n                   draggable="p.polygon.draggable">\n  </ui-gmap-polygon>\n</ui-gmap-google-map>\n')}]),angular.module("cafeSearch.html",[]).run(["$templateCache",function(e){e.put("cafeSearch.html",'<!-- TYPEAHEAD SCHEMA FORM DECLARATION -->\n<form name="{{ $ctrl.form }}"\n      sf-schema="$ctrl.schema"\n      sf-form="$ctrl.form"\n      sf-model="$ctrl.model"\n      sf-options="$ctrl.options">\n</form>')}]),angular.module("cafeSelector.html",[]).run(["$templateCache",function(e){e.put("cafeSelector.html",'<div class="row"\n     ng-if="showSlogan">\n  <span ng-bind-html="i18nSlogan | translate"\n        class="col-xs-12 slogan hidden-xs">\n  </span>\n</div>\n<div class="row" ng-if="loggedIn && showMyCafeLinks">\n  <div class="col-xs-12 col-sm-5">\n    <horizontal-links class="row" links="myCafeLinks"></horizontal-links>\n  </div>\n  <div class="col-sm-7 hidden-xs" ng-if="showFeaturesFilter">\n    <cafe-filter features-filter="search.featuresFilter"></cafe-filter>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12 col-sm-5" id="cafeScroll">\n    <cafe-search search-text="geocode.searchText"></cafe-search>\n    <div ng-if="!isLoading">\n      <div ng-if="!isErrorLoadingCafes">\n        <!-- MOBILE CAFE LIST -->\n        <div class="visible-xs">\n          <cafe-list cafes="cafeList.cafes"\n                     context="context"\n                     btn-text="{{buttonLabel}}"\n                     btn-func="setCafe(cafe)"\n                     link-text="{{linkText}}"\n                     link-func="setCafe(cafe)"\n                     display-removed="displayRemoved"\n                     cafe-filter="{{ featuresFilter }}"\n                     center-map="setSearchCenter(cafe.Location)"\n                     show-map="cafeList.showMap"\n                     toggle-map-view="toggleMapView(showMap)">\n          </cafe-list>\n        </div>\n        <!-- TABLET AND GREATER CAFE LIST -->\n        <div class="hidden-xs">\n          <cafe-list cafes="cafeList.cafes"\n                     context="context"\n                     btn-text="{{buttonLabel}}"\n                     btn-func="setCafe(cafe)"\n                     link-text="{{linkText}}"\n                     link-func="setCafe(cafe)"\n                     display-removed="displayRemoved"\n                     cafe-filter="{{ featuresFilter }}"\n                     center-map="setSearchCenter(cafe.Location)"\n                     show-map="false"\n                     selected-cafe="selectedCafeObj.cafe"\n                     toggle-map-view="toggleMapView(showMap)">\n          </cafe-list>\n        </div>\n      </div>\n      <div ng-if="isErrorLoadingCafes">\n        <span class="col-md-8 col-sm-7">\n          {{ cafeLoadingErrorMessage }}\n        </span>\n      </div>\n    </div>\n    <div  ng-if="isLoading" class="row">\n      <span class="col-md-8 col-sm-7">\n        {{ loadingMessage }}\n      </span>\n    </div>\n  </div>\n  <div class="col-sm-7 hidden-xs">\n    <cafe-map search="search"\n              map-style="mapStyle"\n              cafes="cafeList.cafes"\n              map-center="mapCenter"\n              set-cafe="selectCafe({cafe: cafe})"\n              selected-cafe="selectedCafeObj.cafe">\n    </cafe-map>\n  </div>\n  <div class="col-xs-12 col-sm-7 visible-xs" ng-if="cafeList.showMap">\n    <cafe-map search="search"\n              map-style="mapStyle"\n              cafes="cafeList.cafes"\n              map-center="mapCenter"\n              set-cafe="selectCafe({cafe: cafe})"\n              selected-cafe="selectedCafeObj.cafe">\n    </cafe-map>\n  </div>\n</div>\n')}]),angular.module("balance.html",[]).run(["$templateCache",function(e){e.put("balance.html",'<div class="row">\n  <div class="col-xs-12">\n\n    <form class="form-horizontal" name="balance">\n\n      <div class="form-group">\n        <label class="col-xs-6 control-label total-header">{{ \'SUBTOTAL\' | translate }}</label>\n        <label class="col-xs-6 control-label">{{ cost.subtotal | currency }}</label>\n      </div>\n\n      <div class="form-group">\n        <label class="col-xs-6 control-label total-header">{{ \'TAX\' | translate }}</label>\n        <label class="col-xs-6 control-label">{{ cost.tax | currency }}</label>\n      </div>\n      <div ng-repeat="discount in cost.discount">\n        <div class="form-group">\n          <label class="col-xs-4 col-sm-6 control-label">\n            <i ng-click="removeDiscount(discount)"\n               ng-if="canEdit"\n               class="fa fa-times-circle"></i>\n               &nbsp;{{ discount.name }}\n          </label>\n          <label class="col-xs-8 col-sm-6 control-label">-{{ discount.amount | currency }}</label>\n        </div>\n      </div>\n\n      <div ng-if="delivery.status"\n           class="form-group">\n        <label class="col-xs-6 control-label total-header">\n          {{\'DELIVERY_FEE\' | translate}}\n          <i ng-if="isGroupOrder"\n             uib-popover="{{ \'IF_ONLY_ONE_PERSON_ORDERS\' | translate }}"\n             class="fa-info-circle"\n             popover-placement="bottom"\n             popover-popup-delay="0"\n             popover-trigger="\'{{ popoverOptions.trigger }}\'"\n             popover-class="balance-group-order-popover"\n             popover-append-to-body="true"></i>\n        </label>\n        <label class="col-xs-6 control-label">{{delivery.fee | currency}}</label>\n      </div>\n\n      <div ng-if="isTipEnabled"\n           class="form-group">\n        <label for="tip"\n               class="col-xs-6 control-label total-header">{{\'TIP\' | translate}}\n        </label>\n        <div ng-if="canEdit && !useSuggestedTipping"\n             class="col-xs-3 control-label">$</div>\n        <div ng-show="canEdit && !useSuggestedTipping"\n             class="col-xs-3 pull-right">\n          <input ng-model="cost.tip"\n                 ng-model-options="{updateOn: \'blur\'}"\n                 ng-pattern="tipRegex"\n                 id="tip"\n                 name="tip"\n                 type="text"\n                 onclick="this.select();"\n                 currency-input\n                 autocomplete="off"\n                 class="form-control text-right">\n        </div>\n        <label ng-if="!canEdit || useSuggestedTipping"\n             class="col-xs-6 control-label">{{ cost.tip | currency }}</label>\n      </div>\n      <div ng-if="isTipEnabled && canEdit">\n        <div ng-messages="balance.tip.$error" role="alert" class="col-xs-12">\n          <div ng-message="pattern" class="help-block text-right" role="alert">\n            {{\'TIP_INCLUDES_NON_NUMERIC_CHARACTERS\' | translate}}\n          </div>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <hr class="hairline">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="col-xs-6 control-label total-header">{{\'TOTAL\' | translate}}</label>\n        <label class="col-xs-6 control-label">{{cost.total.sum | currency}}</label>\n        <div ng-if="isTipEnabled && canEdit">\n          <div class="col-xs-12">\n            <div class="tip-message">\n              {{ tipMessage }}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if="canEdit"\n           ng-repeat="giftCard in giftCards"\n           class="form-group">\n        <label class="col-xs-5 col-sm-6 control-label">\n          <i ng-click="removeGiftCard(giftCard)"\n             ng-if="canEdit"\n             class="fa fa-times-circle"></i>&nbsp;\n             {{ \'GIFT_CARD\' | translate }}&nbsp;{{ giftCard.giftCardNo.substring(15) }}\n        </label>\n        <label class="col-xs-7 col-sm-6 control-label">\n          -{{ giftCard.giftCardReduction | currency }}\n        </label>\n      </div>\n\n      <div ng-if="canEdit && (hasDiscounts() || hasGiftCards)"\n           class="row">\n        <div class="col-xs-12">\n          <hr class="hairline">\n        </div>\n      </div>\n\n      <div ng-if="canEdit && (hasGiftCards)"\n           class="form-group">\n        <label class="col-xs-1 col-sm-6 control-label total-header">{{ \'BALANCE\' | translate }}</label>\n        <label class="col-xs-11 col-sm-6 control-label">{{ cost.total.balance | currency }}</label>\n      </div>\n\n    </form>\n\n  </div>\n</div>\n')}]),angular.module("creditCard.html",[]).run(["$templateCache",function(e){e.put("creditCard.html",'<div class="row">\n  <div class="col-xs-12">\n    <div class="row">\n      <div class="col-xs-12" ng-if="cost.total.balance > 0">\n        <h3>{{ \'PAYMENT_INFORMATION\' | translate }}</h3>\n      </div>\n    </div>\n    <div class="row" id="payment-information">\n      <div ng-show="!confirmed"\n           class="col-xs-12">\n\n        <form name="myForm"\n              sf-form="form"\n              sf-schema="schema"\n              sf-options="options"\n              sf-model="model"\n              ng-submit="placeOrder(myForm, $event)">\n        </form>\n        <div ng-if="itemExceedingQtyLimit" class="row">\n          <div class="col-xs-12">\n            <p class="not-available"\n               ng-bind-html="itemExceedingQtyLimit.i18nMessage | translate:itemExceedingQtyLimit.model">\n            </p>\n          </div>\n        </div>\n        <div ng-if="hasUnavailableItems" class="row">\n          <div class="col-xs-12">\n            <p class="not-available">\n              {{ \'YOU_HAVE_ADDED_ITEMS_THAT_ARE_PRESENTLY_UNAVAILABLE\' | translate }}\n            </p>\n          </div>\n        </div>\n        <div ng-if="!hasMetDeliveryMinimum" class="row">\n          <div class="col-xs-12">\n            <p class="not-available"\n               ng-bind-html="\'DELIVERY_ORDER_MINIMUM\' | translate : [deliveryMinimum]">\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if="confirmed"\n           class="col-xs-12">\n        <div class="row" ng-if="giftCards.length > 0 || cost.total.balance > 0">\n          <div class="col-xs-4">\n            <span class="label-header">{{ \'TYPE\' | translate }}</span>\n          </div>\n          <div class="col-xs-4">\n          <span class="label-header">{{ \'AMOUNT\' | translate }}</span>\n          </div>\n          <div class="col-xs-4">\n            <span class="label-header">{{ \'BALANCE\' | translate }}</span>\n          </div>\n        </div>\n\n        <div ng-repeat="giftCard in giftCards"\n             class="row">\n          <div class="col-xs-4">\n            {{ \'GIFT_CARD\' | translate }}&nbsp;{{ giftCard.giftCardNo.substring(giftCard.giftCardNo.length - 4, giftCard.giftCardNo.length) }}\n          </div>\n          <div class="col-xs-4">\n            {{ giftCard.giftCardReduction | currency }}\n          </div>\n          <div class="col-xs-4">\n            {{ giftCard.giftCardRemainingBalance | currency }}&nbsp;&nbsp;<a ng-href="{{reloadCardUrl}}">{{ \'RELOAD\' | translate }}</a>\n          </div>\n        </div>\n\n        <div ng-repeat="creditCard in creditCards"\n             class="row">\n          <div ng-if="cost.total.balance > 0">\n            <div class="col-xs-4">\n              {{ creditCard.type }}&nbsp;{{ creditCard.lastFour }}\n            </div>\n            <div class="col-xs-8 text-left">\n              {{ cost.total.balance | currency }}\n            </div>\n          </div>\n        </div>\n        <div ng-repeat="payPal in payPalAccounts" class="row">\n          <div ng-if="cost.total.balance > 0">\n            <div class="col-xs-4" >\n              {{ \'PAYPAL\' | translate }}\n            </div>\n            <div class="col-xs-8 text-left">\n              {{ cost.total.balance | currency }}\n            </div>\n          </div>\n        </div>\n        <div ng-repeat="applePay in applePayAccounts" class="row">\n          <div ng-if="cost.total.balance > 0">\n            <div class="col-xs-4" >\n              {{ \'APPLEPAY\' | translate }}\n            </div>\n            <div class="col-xs-8 text-left">\n              {{ cost.total.balance | currency }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n');
}]),angular.module("giftCard.html",[]).run(["$templateCache",function(e){e.put("giftCard.html",'<div class="row" ng-if="!gcIsEnabled && !authGcIsEnabled">\n  <div class="alert alert-warning">\n    {{ i18n.GIFT_CARDS_NOT_AVAILABLE_CHECKOUT }}\n  </div>\n</div>\n\n<div class="row"\n     ng-if="(gcIsEnabled || (authGcIsEnabled && storedGiftCardsDropDown.length > 0)) && (cost.total.balance - cost.tip > 0) && giftCards.length < giftCardMaxNumber">\n  <div class="col-xs-12">\n    <form name="gcForm"\n          sf-schema="schema"\n          sf-form="form"\n          sf-model="model"\n          sf-options="options"\n          ng-submit="balanceInquiry()">\n    </form>\n  </div>\n</div>\n\n<div class="row gift-card-header text-center" ng-if="giftCards.length > 0">\n  <div class="col-xs-3">{{i18n.GIFT_CARD_ENDING}}</div>\n  <div class="col-xs-3">{{i18n.BALANCE}}</div>\n  <div class="col-xs-offset-3 col-xs-3"\n       ng-if="!giftCard.isStoredGiftCard && isLoggedIn && !giftCard.isPromoCard">\n    {{i18n.STORED_TO_MY_ACCOUNT}}</div>\n</div>\n\n<div ng-if="giftCards.length > 0"\n     class="gift-card-row"\n     ng-repeat="giftCard in giftCards track by $index">\n  <div class="row text-center">\n    <div class="col-xs-3">{{ giftCard.giftCardNo.substring(15) }}</div>\n    <div class="col-xs-3">{{ giftCard.giftCardRemainingBalance | currency }}</div>\n    <div class="col-xs-3">\n      <button class="btn btn-sm btn-primary" ng-click="removeGiftCard(giftCard)">\n        {{ i18n.REMOVE }}\n      </button>\n    </div>\n    <div class="col-xs-3" ng-if="!giftCard.isStoredGiftCard && isLoggedIn && !giftCard.isPromoCard">\n      <i ng-if="giftCard.saveNewCard" class="fa fa-check-square-o"></i>\n      <i ng-if="!giftCard.saveNewCard" class="fa fa-square-o"></i>\n    </div>\n  </div>\n</div>\n')}]),angular.module("giftCardPin.html",[]).run(["$templateCache",function(e){e.put("giftCardPin.html",'<div class="row">\n    <div class="col-xs-12">\n        <div class="row">\n            <p class="col-xs-12 title">{{\'GIFT_CARD_PIN_LOCATION\' | translate}}</p>\n        </div>\n        <div class="row">\n            <p class="col-xs-12">{{\'LAST_4_DIGITS\' | translate}}</p>\n        </div>\n        <div class="row">\n            <div class="col-xs-8 col-sm-10">\n                <img ng-src="{{ \'gift-card-pin\' | usage: \'credit-card\' }}">\n            </div>\n            <div class="col-xs-4 col-sm-2 code-label">\n                <span>{{\'4_DIGIT_PIN\' | translate}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n')}]),angular.module("checkoutOrderDetails.html",[]).run(["$templateCache",function(e){e.put("checkoutOrderDetails.html",'<div class="row" id="order-details">\n  <div class="col-xs-12">\n\n    <div class="row">\n      <div class="col-xs-12">\n        <div ng-if="!isGroupOrder">\n          <h3 class="hidden-xs">{{ \'ORDER_DETAILS\' | translate }}</h3>\n          <div class="visible-xs row">\n            <img class="col-xs-2" ng-src="{{::context.orderTypeImgSrc}}">\n            <h4 class="col-xs-10">{{ context.orderType | translate }}</h4>\n          </div>\n        </div>\n        <div ng-if="isGroupOrder">\n          <h3 class="hidden-xs">\n            <img class="group-order-img" ng-src="{{::groupOrderImg}}">\n            {{ \'GROUP_ORDER_DETAILS\' | translate }}\n          </h3>\n          <h4 class="visible-xs h4">\n            <img class="group-order-img" ng-src="{{::groupOrderImg}}">\n            {{ \'GROUP_ORDER_DETAILS\' | translate }}\n          </h4>\n        </div>\n      </div>\n    </div>\n\n    <div class="row" id="details">\n      <div class="col-xs-12">\n\n        <div class="row">\n          <div class="col-xs-6 col-sm-6 col-sm-push-6">\n            <div class="row">\n              <div ng-if="!isDelivery"\n                   class="col-xs-12">\n                <span class="h4 label-header hidden-xs">{{ \'CAFE_ADDRESS:\' | translate }}</span>\n                <address>\n                  {{ context.cafe.StreetName }}<br>\n                  {{ context.cafe.City }} {{ context.cafe.State }} {{ context.cafe.Zip }} <br>\n                  {{ context.cafe.Phone }}\n                </address>\n              </div>\n              <div ng-if="isDelivery"\n                   class="col-xs-12">\n                <span class="h4 label-header">{{ \'DELIVERY_ADDRESS\' | translate }}:</span>\n                <address>\n                  <span ng-if="context.delivery.addressName">{{context.delivery.addressName}}<br></span>\n                  {{ context.delivery.address1 }}<br>\n                  <span ng-if="context.delivery.address2">{{context.delivery.address2}}<br></span>\n                  {{ context.delivery.city }} {{ context.delivery.state }} {{ context.delivery.postalCode }}<br>\n                  {{ context.delivery.phoneNumber }}\n                </address>\n              </div>\n            </div>\n          </div>\n          <div class="col-xs-6 col-sm-6 col-sm-pull-6">\n            <div class="row">\n              <div class="col-sm-12 hidden-xs">\n                <span class="h4 label-header">{{ \'ORDER_TYPE:\' | translate }}</span>\n                {{ context.orderType | translate }}\n              </div>\n              <div class="col-sm-12 hidden-xs">\n                <span class="h4 label-header">{{ \'DATE:\' | translate }}</span>\n                {{ context.date }}\n              </div>\n              <div class="col-xs-12 visible-xs">\n                {{mobileDate}}\n              </div>\n              <div ng-if="!isDineIn"\n                   class="col-xs-12">\n                <span ng-if="isRapidPickup" class="h4 label-header hidden-xs">{{ \'TIME_READY:\' | translate }}</span>\n                <span ng-if="isDelivery" class="h4 label-header hidden-xs">{{ \'EXPECTED_DELIVERY_TIME\' | translate }}:</span>\n                <span ng-if="context.orderWhen === \'Now\' && canEdit">{{ \'ABOUT\' | translate }} {{context.leadTimeRange}} {{ \'AFTER_CHECKOUT\' | translate }}</span>\n                <span ng-if="(context.orderWhen === \'Later\' && canEdit) || !canEdit">{{ context.time }}</span>\n              </div>\n              <div ng-if="isDineIn"\n                   class="col-xs-12">\n                <span class="h4 label-header">{{ \'TABLE_NUMBER_TITLE\' | translate }}:</span>\n                {{ context.tableNumber }}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-if="canEdit && !isGroupOrder"\n             class="row">\n          <div class="col-xs-12" ng-class="{\'text-left\': isMobile, \'text-right\': !isMobile}">\n            <button ng-click="changeOrderDetails()"\n                    class="btn btn-primary">\n              {{ \'CHANGE\' | translate }}\n            </button>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("specialCode.html",[]).run(["$templateCache",function(e){e.put("specialCode.html",'<div class="row">\n  <div class="col-xs-12">\n    <form sf-form="form"\n          sf-schema="schema"\n          sf-model="model"\n          ng-submit="applyDiscount()">\n    </form>\n  </div>\n</div>\n\n')}]),angular.module("suggestedTip.html",[]).run(["$templateCache",function(e){e.put("suggestedTip.html",'<div class="suggested-tip-container row">\n  <div class="col-xs-12">\n    <label>{{ $ctrl.suggestedTipLabel }}</label>\n    <div class="btn-group btn-group-justified">\n      <a ng-repeat="option in $ctrl.tipOptions"\n         class="btn btn-default"\n         ng-class="{\'show-input\': $ctrl.showInput}"\n         ng-model="$ctrl.selectedTipOption"\n         uib-btn-radio="$index"\n         uncheckable="true"\n         ng-click="$ctrl.selectTipOption()">\n        <strong ng-if="option.i18nTitle">{{ $ctrl.i18n[option.i18nTitle] }}</strong>\n        <span ng-if="option.percent">\n          <strong>{{ option.percent * 100 | number:0 }}&#37;</strong>\n          <span class="amount">{{ $ctrl.calculateTipAmount(option.percent) | currency }}</span>\n        </span>\n        <span ng-if="option.amount">\n          <strong>{{ option.amount | currency:undefined:0 }}</strong>\n        </span>\n      </a>\n    </div>\n    <div class="tip-input" ng-if="$ctrl.showInput">\n      <div class="tip-input-content">\n        <label for="tipAmount">{{ $ctrl.i18n.AMOUNT }}</label>\n        <span class="amount">\n          &#36;\n          <input id="tipAmount"\n                 type="text"\n                 ng-model="$ctrl.tip"\n                 placeholder="{{ $ctrl.placeholderTip }}"\n                 ng-model-options="{updateOn: \'blur\'}"\n                 ng-change="$ctrl.updateTip()">\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("summaryPlacard.html",[]).run(["$templateCache",function(e){e.put("summaryPlacard.html",'<div class="row">\n  <div class="col-xs-12 no-padding">\n    <div ng-if="!isComboProduct"\n         class="row">\n      <div class="col-xs-12 col-sm-9 no-padding">\n       <placard-info confirmed="confirmed"\n                     side-item="sideItem"\n                     cart-item="cartItem">\n       </placard-info>\n      </div>\n      <div class="col-xs-12 col-sm-3 details">\n        <div class="row">\n          <div class="col-xs-12 text-right">\n            <h4>{{ cartItem.price | currency }}</h4>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-xs-12 text-right calories"\n               ng-if="cartItem.calories.unit && cartItem.calories.value >= 0 && !cartItem.ignoreNutr">\n            <h4>{{ cartItem.calories.value | number:0 }} {{ cartItem.calories.unit | translate }}\n            <span ng-if="sideItem">{{ \'PLUS_SIDE\' | translate }}</span></h4>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="isComboProduct"\n         class="row">\n      <div class="col-xs-12">\n        <div class="row">\n          <div class="col-xs-9">\n            <div class="row">\n              <div class="col-xs-12">\n                <h4>{{ cartItem.i18nName | translate }}</h4>\n                <p ng-if="cartItem.isUnavailable" class="not-available">\n                  {{ \'ITEM_NOT_AVAILABLE\' | translate }}\n                </p>\n                <p ng-if="cartItem.hasUnavailableIngredients" class="not-available">\n                  {{ \'SOME_INGREDIENTS_ON_THIS_ITEM_ARE_UNAVAILABLE\' | translate }}\n                </p>\n                <p ng-if="cartItem.hasUnavailableSide" class="not-available">\n                  {{ \'SIDE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n                </p>\n              </div>\n            </div>\n            <div class="row"\n                 ng-repeat="item in comboItems">\n              <placard-info class="col-xs-12"\n                            confirmed="confirmed"\n                            cart-item="item"\n                            item-prefix="\'PICK\'"\n                            item-index="$index">\n              </placard-info>\n            </div>\n            <div class="row" ng-if="confirmed && sideItem">\n              <div class="col-xs-offset-4 col-xs-8">\n                {{\'WITH\' | translate}} {{ sideItem.i18nName | translate }}\n              </div>\n            </div>\n          </div>\n          <div class="col-xs-3 details">\n            <div class="row">\n              <div class="col-xs-12 text-right">\n                <h4>{{ cartItem.price | currency }}</h4>\n              </div>\n            </div>\n            <div class="row">\n              <div class="col-xs-12 text-right calories"\n                   ng-if="cartItem.calories.unit && cartItem.calories.value >= 0">\n                {{ cartItem.calories.value | number:0 }} {{ cartItem.calories.unit | translate }}\n                <span ng-if="sideItem">{{ \'PLUS_SIDE\' | translate }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class="row" ng-if="!confirmed">\n      <div class="col-xs-12 col-sm-9 col-sm-offset-3">\n        <div class="row"\n             ng-if="!isCombo">\n          <div class="col-xs-12 col-sm-offset-1 col-sm-6 col-sm-push-5">\n            <div class="row actions">\n              <a class="col-xs-4"\n                 ng-if="cartItem.isCustomizable"\n                 ng-click="customize()">\n                {{ \'CUSTOMIZE\' | translate }}\n              </a>\n              <a ng-class="{\'col-xs-3\': isLoggedIn, \'col-xs-4\': !isLoggedIn}"\n                 ng-if="!cartItem.isUnavailable && !cartItem.hasUnavailableIngredients && !cartItem.hasUnavailableSide"\n                 ng-click="duplicateItem()">\n                {{ \'DUPLICATE\' | translate }}\n              </a>\n              <add-favorite ng-if="isLoggedIn"\n                            class="col-xs-3"\n                            items="cartItem">\n              </add-favorite>\n              <a ng-class="{\'col-xs-2\': isLoggedIn, \'col-xs-4\': !isLoggedIn}"\n                 ng-click="removeFromCart()">\n                {{ \'DELETE\' | translate }}\n              </a>\n            </div>\n          </div>\n          <div class="col-xs-12 col-sm-5 col-sm-pull-7" ng-if="cartItem.sides && sideItem">\n            <side-choice is-mobile="isMobile"\n                         cart-item-index="cartIndex"\n                         selected-side="sideItem"\n                         sides="cartItem.sides"\n                         update-side="updateSide(side)">\n            </side-choice>\n          </div>\n        </div>\n        <div  class="row comboButtons"\n              ng-if="isCombo">\n          <button class="btn btn-primary pull-right col-xs-5 col-sm-4 col-sm-offset-1"\n                  ng-click="customizeItem({item: cartItem, index: cartIndex})"\n                  ng-if="cartItem.isCustomizable"\n                  ng-disabled="cartItem.isUnavailable || cartItem.isProductStockout">\n            {{ \'CUSTOMIZE\' | translate }}\n          </button>\n          <button class="btn btn-primary col-xs-6 col-sm-4 col-sm-offset-1"\n                  ng-click="pickItem({item: cartIndex})">\n            {{ \'PICK\' | translate }} {{ cartIndex + 1 }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("temptations.html",[]).run(["$templateCache",function(e){e.put("temptations.html",'<div ng-if="placards">\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ \'CAN_WE_TEMPT\' | translate }}</h3>\n    </div>\n  </div>\n  <div ng-repeat="placard in placards track by placard.plcId"\n       class="row temptationPlacard">\n    <div class="col-xs-12">\n      <placard item="placard" order-item="orderItem(product, item)"></placard>\n    </div>\n  </div>\n</div>\n')}]),angular.module("groupOrderBanner.html",[]).run(["$templateCache",function(e){e.put("groupOrderBanner.html",'<div class="col-xs-12 col-sm-6 no-padding" ng-if="$ctrl.showBanner">\n  <div class="banner" ng-class="{\'banner-light\':!$ctrl.isBannerDark}">\n    <a ng-href="{{ $ctrl.groupOrderRoute }}">\n      <div class="new hidden-xs">\n        <p>{{ $ctrl.i18n.NEW }}</p>\n      </div>\n      <h4 class="h4">\n        <img ng-src="{{ ::$ctrl.groupOrderImage }}" class="group-order-img">\n        {{ $ctrl.i18n.GROUP_ORDER }}\n        <i class="fa fa-caret-right"></i>\n      </h4>\n      <p class="desc hidden-xs">{{ $ctrl.i18n.INVITE_FRIENDS_ORDER_TOGETHER }}</p>\n      <p class="desc visible-xs">{{ $ctrl.i18n.FOR_10_PEOPLE_OR_FEWER }}</p>\n    </a>\n  </div>\n</div>\n')}]),angular.module("order.html",[]).run(["$templateCache",function(e){e.put("order.html",'<div ng-repeat="orderType in ::orderTypeOrder"\n     class="col-xs-12 col-sm-{{12/orderTypeOrder.length}} col-md-{{12/orderTypeOrder.length}}"\n     ng-click="setOrderType(orderType)">\n  <div class="row visible-xs">\n    <div class="col-xs-3">\n      <div class="icon {{orderTypes[orderType].imgClass}}"></div>\n    </div>\n    <div class="col-xs-8">\n      <p class="h3">{{::orderTypes[orderType].title}}\n          <span ng-if="(deliveryAvailableNow || showDeliveryNowAvailableMsg) && orderType == \'DELIVERY\'"\n               class="now-available-xs pull-right">\n           {{i18n.NOW}} {{i18n.AVAILABLE}}&#33;</span>\n      </p>\n    </div>\n    <div class="col-xs-1">\n      <i class="fa fa-lg fa-arrow-right"></i>\n    </div>\n  </div>\n  <div class="hidden-xs"\n       ng-class="{\'dotted-border-right\': !$last && !(deliveryAvailableNow || showDeliveryNowAvailableMsg),\n       \'delivery-highlight\': orderType == \'DELIVERY\' && (deliveryAvailableNow  || showDeliveryNowAvailableMsg)}">\n    <div ng-if="(deliveryAvailableNow || showDeliveryNowAvailableMsg) && orderType == \'DELIVERY\'"\n         class="delivery-msg-header">\n      <span class="now-available">{{i18n.NOW}} {{i18n.AVAILABLE}}&#33;</span>\n      <div class="delivery-msg"><span>{{i18n.WE_DELIVER_IN_YOUR_AREA}}</span></div>\n    </div>\n    <div class="icon {{orderTypes[orderType].imgClass}}"></div>\n    <span class="h3">\n      {{::orderTypes[orderType].title}}\n    </span>\n    <div class="order-type-desc" ng-bind-html="orderTypes[orderType].description"></div>\n    <div class="arrow">\n      <i class="fa fa-arrow-right"></i>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goDashboard.html",[]).run(["$templateCache",function(e){e.put("goDashboard.html",'<div class="groupDashboardContainer">\n  <div class="col-xs-12">\n    <div class="row">\n      <div class="col-xs-12 section">\n        <go-invite group-token="$ctrl.groupToken" group-order-deadline="$ctrl.groupOrderDeadline"></go-invite>\n      </div>\n    </div>\n    <div class="row go-details-section">\n      <div class="col-xs-12 col-md-6 divider">\n        <h2>{{ $ctrl.i18n.ORDER_SETUP }}</h2>\n        <div class="go-dashboard-times-section">\n          <go-dashboard-times group-order="$ctrl.order.groupOrder"></go-dashboard-times>\n        </div>\n        <div class="hidden-xs">\n          <go-delivery-details group-order="$ctrl.order.groupOrder"></go-delivery-details>\n        </div>\n      </div>\n      <div class="col-xs-12 col-md-6 section">\n        <h2>{{ $ctrl.i18n.YOUR_GROUP }}</h2>\n        <go-cart-panel carts="$ctrl.carts"\n                       start-order="$ctrl.startOrder()"\n                       group-token="$ctrl.groupToken"\n                       customer-info="$ctrl.customerInfo"\n                       is-admin-ordered="$ctrl.isAdminOrdered">\n        </go-cart-panel>\n      </div>\n      <div class="col-xs-12 visible-xs go-delivery-details-section">\n        <go-delivery-details group-order="$ctrl.order.groupOrder"></go-delivery-details>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="cancelLink">\n          <a ng-click="$ctrl.cancelGroupOrder()">{{ $ctrl.i18n.CANCEL_GROUP_ORDER }}</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goDeadline.html",[]).run(["$templateCache",function(e){e.put("goDeadline.html",'<!-- SHOW COUNTDOWN IF APPLICABLE -->\n<p ng-if="$ctrl.isUnderCountdownThreshold || $ctrl.isExpired">\n  {{ $ctrl.timeDisplay }}\n</p>\n<!-- DO NOT SHOW COUNTDOWN -->\n<p ng-if="!$ctrl.isExpired && !$ctrl.isUnderCountdownThreshold">\n  <span>{{ $ctrl.timeDisplay.dateTime }}</span>\n  <span class="am-pm">{{ $ctrl.timeDisplay.amPm }}</span>\n</p>\n')}]),angular.module("goDetails.html",[]).run(["$templateCache",function(e){e.put("goDetails.html",'<div class="go-details-container" ng-if="$ctrl.isGroupOrder">\n  <!-- ORDER CUTOFF -->\n  <div>\n    <h2>{{ $ctrl.i18n.ORDER_CUTOFF }}</h2>\n    <go-deadline show-countdown="true" order="$ctrl.order"></go-deadline>\n  </div>\n  <!-- FOR DELIVERY BY -->\n  <div>\n    <h2>{{ $ctrl.i18n.FOR_DELIVERY_BY }}</h2>\n    <p>{{$ctrl.orderFulfillmentTime.original}}</p>\n  </div>\n  <!-- YOUR GROUP -->\n  <div>\n    <h2>{{ $ctrl.i18n.YOUR_GROUP }}</h2>\n    <p>{{ $ctrl.i18n.X_ORDERS_SO_FAR }}</p>\n  </div>\n  <!-- EDIT ORDER SETUP -->\n  <div ng-if="$ctrl.isGroupAdmin">\n    <p>\n      <a role="button"\n         ng-class="{\'btn btn-primary\': $ctrl.options.isViewOrderButton}"\n         ng-click="$ctrl.viewGroupOrderDetails()"\n         title="{{ $ctrl.i18n.EDIT_ORDER_SETUP }}">\n        {{ $ctrl.i18n.EDIT_ORDER_SETUP }}\n      </a>\n    </p>\n  </div>\n</div>\n')}]),angular.module("goFlow.html",[]).run(["$templateCache",function(e){e.put("goFlow.html",'<div class="container" ng-class="{\'hide-overflow\': $ctrl.currentStep.index !== 0}">\n  <div cg-busy="{promise: $ctrl.pleaseWaitPromise}">\n    <!--Group order flow progress mobile-->\n    <div class="col-sm-2 visible-xs">\n      <go-progress></go-progress>\n    </div>\n    <div class="row group-order-elements" ng-class="{\'hide-overflow-xs\': $ctrl.currentStep.index !== 0}">\n      <div class="col-xs-12">\n        <div class="row group-order-element">\n          <!--Group order flow elements -->\n          <div class="col-xs-12 col-sm-10">\n\n            <div ng-switch="$ctrl.currentStep.index">\n              <div ng-switch-when="0">\n                <go-order-type show-nav-buttons="$ctrl.showNavButtons"></go-order-type>\n              </div>\n              <div ng-switch-when="1">\n                <go-time show-nav-buttons="$ctrl.showNavButtons"></go-time>\n              </div>\n            </div>\n\n          </div>\n          <!--End Group order flow elements -->\n\n          <!--Group order flow progress -->\n          <div class="col-sm-2 hidden-xs">\n            <go-progress></go-progress>\n          </div>\n          <!--End Group order flow progress -->\n        </div>\n        <!-- Navigation Buttons -->\n        <div ng-repeat="error in $ctrl.errors">\n          <div class="row">\n            <div class="col-xs-12">\n              <div class="alert alert-danger">\n                {{ error | translate }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row nav-buttons" ng-if="$ctrl.showNavButtons">\n          <div class="col-xs-12 col-sm-10 text-center">\n            <button class="btn btn-primary" ng-click="$ctrl.next()">\n              {{ $ctrl.i18n.CONTINUE }}\n            </button>\n          </div>\n        </div>\n        <!-- End Navigation Buttons -->\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goOrderConfirmation.html",[]).run(["$templateCache",function(e){e.put("goOrderConfirmation.html",'<p>\n  <span class="heading">{{ $ctrl.i18n.ORDER_HAS_BEEN_ADDED_TO_GO }}</span><br>\n  <span class="name-display">{{ $ctrl.orderName }}</span>\n</p>\n<button class="btn btn-primary view-go-button"\n        ng-click="$ctrl.goToDashboard()"\n        ng-if="$ctrl.isAdmin">\n  {{ $ctrl.i18n.VIEW_GROUP_ORDER }}\n</button>\n<hr class="hairline">')}]),angular.module("category.html",[]).run(["$templateCache",function(e){e.put("category.html",'<li ng-if="categoryData">\n  <span ng-click="setCategory()" ng-class="{\'selected\': isSelected}">\n    {{ categoryData.i18nName | translate}}\n  </span>\n  <ol ng-if="categoryData.catOrder && categoryData.catOrder.length > 0 && !category.curation" ng-show="isSelected">\n    <div ng-repeat="category in categoryData.catOrder track by $index">\n      <category category="{ \'catId\': category }"></category>\n    </div>\n  </ol>\n</li>\n')}]),angular.module("comboSummary.html",[]).run(["$templateCache",function(e){e.put("comboSummary.html",'<div class="row">\n  <h4 class="col-sm-12 col-md-6 hidden-xs">\n    {{ \'SUMMARY_AND_ORDER\' | translate }}\n  </h4>\n  <div class="col-sm-12 col-md-6 hidden-xs">\n    <div class="total">\n      <div class="row">\n        <span class="col-xs-6">\n          {{ \'TOTAL\' | translate }}\n        </span>\n        <span class="col-xs-6 text-right">\n          {{ cartItem.price | currency:\'$\' }}\n        </span>\n      </div>\n      <div class="row calories">\n        <span class="col-xs-12 text-right">\n          {{ cartItem.calories.value | number:0 }} {{ cartItem.calories.unit | translate }}\n          <span ng-if="selectedSide">\n            {{ \'PLUS_SIDE\' | translate }}\n          </span>\n        </span>\n      </div>\n      <div class="row">\n        <button class="col-xs-5 btn btn-default" ng-click="cancel()">\n          {{ \'CANCEL\' | translate }}\n        </button>\n        <div class="col-xs-6 pull-right"\n             ng-if="selectedSide.isProductStockout"\n             uib-popover="{{\'CONTAINS_UNAVAILABLE_SIDE\' | translate}}"\n             popover-trigger="\'mouseenter\'"\n             popover-placement="top"\n             popover-append-to-body="true">\n          <div class="row">\n            <button class="col-xs-12 btn btn-primary" ng-disabled="true">\n             {{ \'ADD_TO_ORDER\' | translate }}\n            </button>\n          </div>\n        </div>\n        <button class="col-xs-6 pull-right btn btn-primary"\n                ng-if="!selectedSide.isProductStockout"\n                ng-disabled="hasUnavailableItems || isSubmitted || cartItem.price === 0"\n                ng-click="order()">\n          {{ \'ADD_TO_ORDER\' | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="row" ng-repeat="item in comboItems">\n  <div class="col-xs-12" ng-if="item.item">\n    <summary-placard cart-item="item.item"\n                     cart-index="$index"\n                     can-edit="false"\n                     is-combo="true"\n                     pick-item="pickItem({item: item})"\n                     customize-item="customizeItem({item: item, index: index})">\n    </summary-placard>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12 col-sm-12 col-md-6" ng-if="sides">\n    <side-choice\n      is-mobile="isMobile"\n      set-default="true"\n      selected-side="selectedSide"\n      sides="sides"\n      update-side="updateSide(side)">\n    </side-choice>\n  </div>\n  <div class="col-sm-12 col-md-6 hidden-xs pull-right">\n    <div class="total">\n      <div class="row">\n        <span class="col-sm-6">\n          {{ \'TOTAL\' | translate }}\n        </span>\n        <span class="col-sm-6 text-right">\n          {{ cartItem.price | currency:\'$\' }}\n        </span>\n      </div>\n      <div class="row calories">\n        <span class="col-sm-12 text-right">\n          {{ cartItem.calories.value | number:0 }} {{ cartItem.calories.unit | translate }}\n          <span ng-if="selectedSide">\n            {{ \'PLUS_SIDE\' | translate }}\n          </span>\n        </span>\n      </div>\n      <div class="row">\n        <button class="col-sm-5 btn btn-default" ng-click="cancel()">\n          {{ \'CANCEL\' | translate }}\n        </button>\n        <div class="col-sm-6 pull-right"\n             ng-if="selectedSide.isProductStockout"\n             uib-popover="{{\'CONTAINS_UNAVAILABLE_SIDE\' | translate}}"\n             popover-trigger="\'mouseenter\'"\n             popover-placement="top"\n             popover-append-to-body="true">\n          <div class="row">\n            <button class="col-sm-12 btn btn-primary" ng-disabled="true">\n              {{ \'ADD_TO_ORDER\' | translate }}\n            </button>\n          </div>\n        </div>\n        <button class="col-sm-6 pull-right btn btn-primary"\n                ng-if="!selectedSide.isProductStockout"\n                ng-disabled="hasUnavailableItems || isSubmitted || cartItem.price === 0"\n                ng-click="order()">\n          {{ \'ADD_TO_ORDER\' | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="col-xs-12 visible-xs">\n    <div class="total">\n      <div class="row">\n        <div class="col-xs-6">\n          <span class="col-xs-12">\n            {{ \'TOTAL\' | translate }}\n            {{ cartItem.price | currency:\'$\' }}\n          </span>\n          <span class="col-xs-12 text-left">\n            {{ cartItem.calories.value | number:0 }} {{ cartItem.calories.unit | translate }}\n            <span ng-if="selectedSide">\n              {{ \'PLUS_SIDE\' | translate }}\n            </span>\n          </span>\n        </div>\n        <div class="col-xs-6">\n          <button ng-if="selectedSide.isProductStockout"\n                  ng-disabled="true"\n                  uib-popover="{{\'CONTAINS_UNAVAILABLE_SIDE\' | translate}}"\n                  popover-trigger="\'mouseenter\'"\n                  popover-placement="top"\n                  popover-append-to-body="true"\n                  class="btn btn-primary">\n            {{ \'ADD_TO_ORDER\' | translate }}\n          </button>\n          <button class="btn btn-primary"\n                  ng-if="!selectedSide.isProductStockout"\n                  ng-disabled="hasUnavailableItems || isSubmitted || cartItem.price === 0"\n                  ng-click="order()">\n            {{ \'ADD_TO_ORDER\' | translate }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("menuContent.html",[]).run(["$templateCache",function(e){e.put("menuContent.html",'<div class="menu-content">\n  <div ng-if="!isLoading">\n    <div class="mnavMessages" ng-if="messages.length > 0">\n      <div class="row no-margin" ng-repeat="message in messages track by $index">\n        <div class="col-xs-12" ng-bind-html="message.i18nDialogMessage | translate"></div>\n      </div>\n    </div>\n    <!-- COMBO FLOW -->\n    <div ng-if="comboData" class="comboHeader">\n      <div class="row">\n        <!-- COMBO ICON -->\n        <div class="hidden-xs" ng-class="{false:\'col-sm-3\', true: \'hidden\'}[!comboData.imgKey]">\n          <img class="col-xs-12 img-responsive"\n               ng-if="comboData.imgKey"\n               ng-src="{{comboData.imgKey | usage: \'category\'}}">\n        </div>\n        <!-- STEPS -->\n        <div class="col-xs-12 col-sm-9"\n             ng-class="{\'true\': \'steps-shift\', \'false\': \'\'}[isSodiumMessageEnabled && categoryData.highSodiumFlag]">\n          <ol class="list-inline steps row">\n            <li ng-repeat="comboItem in comboItems track by $index"\n                ng-class="{dimmed: !comboItem.hasItem && $index !== nextItem, \n                           hasItem: comboItem.hasItem,\n                           selected: $index === nextItem}">\n              <span>\n                {{ $index + 1 | number:0 }}\n              </span>\n              <div ng-click="setNextItem($index)">\n                {{ \'PICK\' | translate }} {{ $index + 1 | number:0 }}\n              </div>\n            </li>\n            <li ng-class="{dimmed: !hasSummary, hasItem: hasSummary, selected: viewSummary}">\n              <span>\n                {{ comboItems.length + 1  | number:0}}\n              </span>\n              <div class="hidden-xs" ng-click="viewSummaryPage()">\n                {{ \'SUMMARY_AND_ORDER\' | translate }}\n              </div>\n              <div class="visible-xs" ng-click="viewSummaryPage()">\n                {{ \'ORDER\' | translate }}\n              </div>\n            </li>\n            <li>\n              <div>\n                <img class="sodium-img pull-right"\n                     ng-if="isSodiumMessageEnabled && categoryData.highSodiumFlag"\n                     ng-src="{{sodiumIconImgUrl}}">\n              </div>\n            </li>\n          </ol>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <ol class="combo-categories list-inline"\n              ng-if="!viewSummary && comboCategories && comboCategories.length > 0">\n            <li ng-repeat="category in comboCategories track by $index">\n              <a ng-click="setSelectedCombo(category)"\n                 ng-class="{selected: category.comboId === selectedCombo.comboId, disabled: category.isDisabled}">\n                {{ category.i18nName | translate }}\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n    <!-- CATEGORY TITLE / Includes sodium icon. -->\n    <div ng-if="categoryData && categoryData.i18nName && !comboData && !categoryData.catOrder && !menuSearch"\n         class="row hidden-xs col-md-12">\n      <h3 class="col-xs-12">\n        <img class="sodium-img"\n             ng-if="isSodiumMessageEnabled && categoryData.highSodiumFlag"\n             ng-src="{{ sodiumIconImgUrl }}">\n        {{ categoryData.i18nName | translate }}\n      </h3>\n    </div>\n    <!-- CURATED CATEGORY / Checks to see if the category data has the catOrder property,\n         then checks to see if placards exist, and then finally checks to see if the\n         user is not searching the menu. -->\n    <div ng-if="categoryData.catOrder && placards && !menuSearch && categoryData.curation">\n      <curated-category placards="placards"\n                        category-data="categoryData"\n                        combo-number="nextItem"\n                        is-rewards="isRewards"\n                        select-category="selectCategory({placard: placard})"\n                        customize-item="customize(item)"\n                        order-item="orderItem(product, item)"></curated-category>\n    </div>\n    <!-- PARENT CATEGORY / Checks to see if the category data returns a catOrder, then checks to see if\n         categories exist, and then finally checks to see if the user is not searching the menu. This\n         category displays all sub-categories and their placards respectively. -->\n    <div ng-if="categoryData.catOrder && categories && !menuSearch">\n      <parent-category category-data="categoryData"\n                       categories="categories"\n                       combo-number="nextItem"\n                       is-rewards="isRewards"\n                       select-category="selectCategory({placard: placard})"\n                       customize-item="customize(item)"\n                       order-item="orderItem(product, item)"></parent-category>\n    </div>\n    <!-- SUB CATEGORY / Checks to see if placards data exists, and checks to see if we are not viewing\n         a summary, as if we were looking at combos, and then also checks to see if we are not looking \n         at a parent category, or if the user is currently searching the menu. This displays a single \n         categoriy, with no sub-categories and their placards respectively. -->\n    <div ng-if="(placards && !viewSummary && !categoryData.catOrder) || menuSearch">\n      <sub-category category-data="categoryData"\n                    placards="placards"\n                    combo-number="nextItem"\n                    is-rewards="isRewards"\n                    select-category="selectCategory({placard: placard})"\n                    customize-item="customize(item)"\n                    order-item="orderItem(product, item)"></sub-category>\n    </div>\n    <!-- COMBO SUMMARY / Checks to see if viewSummary and hasSummary is defined or of\n         truthy value. Then shows essentially the end of the slow for the Combo flow. -->\n    <div ng-if="viewSummary && hasSummary" class="row">\n      <combo-summary class="col-xs-12"\n                     combo-data="comboData"\n                     format-item="formatItem({product: product, item: item, isCombo: isCombo})"\n                     pick-item="setNextItem(item)"\n                     customize-item="customize(item, index)"\n                     sides="sides"\n                     order-item="shouldOrderItem">\n      </combo-summary>\n    </div>\n    <!-- NO PLACARDS / Show\'s an error message if no placards are available. -->\n    <div ng-if="placards.length <= 0 && !hasSummary" class="row">\n      <p class="col-xs-12 notification">\n        <span ng-if="comboData && !menuSearch" class="col-xs-12">\n          {{ \'NO_PRODUCTS_AVAILABLE\' | translate }}\n        </span>\n        <span ng-if="!comboData && !categoryData && !menuSearch" class="col-xs-12">\n          {{ \'NO_CAFE_DATA\' | translate }}\n        </span>\n        <span ng-if="menuSearch" class="col-xs-12">\n          {{ \'NO_SEARCH_RESULTS\' | translate }}\n        </span>\n      </p>\n    </div>\n  </div>\n  <!-- LOADING / Shows text denoting that data is still loading for placards/categories. -->\n  <div ng-if="isLoading" class="row">\n    <p class="col-xs-12 notification">\n      {{ \'PLEASE_WAIT\' | translate }}\n    </p>\n  </div>\n</div>\n');
}]),angular.module("menuNav.html",[]).run(["$templateCache",function(e){e.put("menuNav.html",'<nav class="menu-navigation">\n  <!-- DESKTOP CATEGORY LIST -->\n  <div class="input-group col-xs-12">\n    <input type="text"\n           class="form-control"\n           ng-model="menuSearch"\n           ng-model-options="{debouce: 500}"\n           placeholder="Search">\n    <i class="fa fa-search form-control-feedback" ng-hide="menuSearch.length > 0"></i>\n    <span class="input-group-addon clear-search"\n          ng-show="menuSearch.length > 0"\n          ng-click="clearMenuSearch()">\n      <i class="fa fa-times text-primary"></i>\n    </span>\n  </div>\n  <div class="hidden-xs">\n    <h4>\n      <a href="{{routes.menu}}" ng-class="{selected: mainMenuSelected}">\n        {{\'OUR_MENU\' | translate}}\n      </a>\n    </h4>\n    <ol>\n      <category ng-repeat="category in categories track by $index"\n                ng-class="{\'curated-separator\': curatedIndex === $index}"\n                category="category"></category>\n    </ol>\n  </div>\n  <!-- MOBILE CATEGORY LIST -->\n  <div class="visible-xs row uib-dropdown" uib-dropdown>\n    <a class="col-xs-12 uib-dropdown-toggle" uib-dropdown-toggle>\n      <span class="row">\n        <span class="col-xs-10"><h4 class="pull-left">{{ selectedCategory | translate}}</h4></span>\n        <span class="col-xs-2"><i class="fa fa-2x fa-caret-down pull-right"></i></span>\n      </span>\n    </a>\n    <ol class="col-xs-12 uib-dropdown-menu" uib-dropdown-menu>\n      <li>\n        <a href="{{routes.menu}}" ng-class="{\'selected\': mainMenuSelected}">\n          {{\'OUR_MENU\' | translate}}\n        </a>\n      </li>\n      <category ng-repeat="category in categories track by $index"\n                category="category"\n                set-selected-category="setSelectedCategory()">\n      </category>\n      <my-panera-nav ng-if="loggedIn"></my-panera-nav>\n    </ol>\n  </div>\n  <!-- MYPANERA NAVIGATION -->\n  <div ng-if="loggedIn" class="hidden-xs">\n    <my-panera-nav></my-panera-nav>\n  </div>\n</nav>\n')}]),angular.module("placard.html",[]).run(["$templateCache",function(e){e.put("placard.html",'<!-- CATEGORY -->\n<div ng-if="$ctrl.placardType === $ctrl.placardTypes.category">\n  <category-placard options="{ categoryClick: $ctrl.categoryClick, item: $ctrl.item}"></category-placard>\n</div>\n\n<!-- PRODUCT -->\n<div ng-if="$ctrl.placardType === $ctrl.placardTypes.item"\n     class="row no-margin placard">\n  <item-placard options="{ isCustomizable: $ctrl.isCustomizable,\n                           customizeClick: $ctrl.customizeClick,\n                           isNotValidAssortment: $ctrl.isNotValidAssortment,\n                           item: $ctrl.item,\n                           selectedOpt: $ctrl.selected.opt,\n                           trigger: $ctrl.trigger,\n                           showOverlay: $ctrl.showOverlay,\n                           sodiumIconImgUrl: $ctrl.sodiumIconImgUrl,\n                           isSodiumMessageEnabled: $ctrl.isSodiumMessageEnabled,\n                           setSelectedOpt: $ctrl.setSelectedOpt,\n                           hasStockoutComponent: $ctrl.hasStockoutComponent,\n                           hasStockoutSide: $ctrl.hasStockoutSide,\n                           isOrderable: $ctrl.isOrderable,\n                           isSubmitDisabled: $ctrl.isSubmitDisabled,\n                           comboNumber: $ctrl.comboNumber,\n                           orderClick: $ctrl.orderClick,\n                           isProductStockout: $ctrl.isProductStockout}">\n\n  </item-placard>\n</div>\n\n<!-- REDIRECT -->\n<div ng-if="$ctrl.placardType === $ctrl.placardTypes.redirect">\n  <redirect-placard redirect-placard="$ctrl.item"></redirect-placard>\n</div>\n\n<!-- CURATED -->\n<div ng-if="$ctrl.placardType === $ctrl.placardTypes.curated">\n  <curated-placard options="{ isCustomizable: $ctrl.isCustomizable,\n                           customizeClick: $ctrl.customizeClick,\n                           isNotValidAssortment: $ctrl.isNotValidAssortment,\n                           item: $ctrl.item,\n                           selectedOpt: $ctrl.selected.opt,\n                           trigger: $ctrl.trigger,\n                           showOverlay: $ctrl.showOverlay,\n                           setSelectedOpt: $ctrl.setSelectedOpt,\n                           hasStockoutComponent: $ctrl.hasStockoutComponent,\n                           hasStockoutSide: $ctrl.hasStockoutSide,\n                           sodiumIconImgUrl: $ctrl.sodiumIconImgUrl,\n                           isSodiumMessageEnabled: $ctrl.isSodiumMessageEnabled,\n                           isOrderable: $ctrl.isOrderable,\n                           isSubmitDisabled: $ctrl.isSubmitDisabled,\n                           comboNumber: $ctrl.comboNumber,\n                           orderClick: $ctrl.orderClick,\n                           isProductStockout: $ctrl.isProductStockout}">\n  </curated-placard>\n</div>\n')}]),angular.module("placardComponentStockout.html",[]).run(["$templateCache",function(e){e.put("placardComponentStockout.html","<span>{{ 'PLACARD_HAS_COMPONENT_STOCKOUT' | translate }}</span>\n")}]),angular.module("placardDescription.html",[]).run(["$templateCache",function(e){e.put("placardDescription.html",'<div class="placard-description">\n  <div class="row">\n    <span class="col-xs-12">\n      {{$ctrl.item.i18nDesc | translate}}\n    </span>\n  </div>\n  <div class="row side" ng-if="$ctrl.item.defaultSide.i18nName">\n    <div class="col-xs-12">\n      <strong>{{\'LBL_SIDE\' | translate}}</strong>\n      <span>{{$ctrl.item.defaultSide.i18nName | translate}}</span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("placardNutrition.html",[]).run(["$templateCache",function(e){e.put("placardNutrition.html","<div>\n  <!--varying nutrition-->\n  <div ng-if=\"$ctrl.item.optSets[$ctrl.options.selectedOpt]['ignoreNutr'] || $ctrl.item.optSets[0]['ignoreNutr']\">\n    <nutrition>\n      {{'VARIED_NUTRITION_DETAILS' | translate}}\n      <a ng-href=\"{{$ctrl.paneraUrls.nutritionPDF}}\" target=\"_blank\">{{ 'NUTRITION_INFO_GUIDE' | translate}}</a>\n    </nutrition>\n  </div>\n  <!--fixed nutrition-->\n  <div ng-if=\"!$ctrl.item.optSets[$ctrl.options.selectedOpt]['ignoreNutr'] && !$ctrl.item.optSets[0]['ignoreNutr']\">\n    <nutrition nutritions=\"$ctrl.item.optSets[$ctrl.options.selectedOpt || 0].nutr\">\n      {{ 'NUTRITION' | translate}}\n    </nutrition>\n  </div>\n</div>\n")}]),angular.module("orderHeader.html",[]).run(["$templateCache",function(e){e.put("orderHeader.html",'<div class="order-header-container hidden-xs">\n  <section class="header">\n    <go-details options="$ctrl.goDetailsOptions"\n                ng-if="$ctrl.isGroupOrder">\n    </go-details>\n    <div class="order-details" ng-if="!$ctrl.isGroupOrder">\n        <!-- Rapid Pick Up / Dine In -->\n        <div class="order-type" ng-if="$ctrl.hasCafeOrDelivery">\n          <address ng-if="!$ctrl.isDelivery">\n            <p>\n              <strong>{{ $ctrl.context.orderType | translate }}</strong>\n              {{$ctrl.cafe.StreetName}}<br>\n              {{$ctrl.cafe.City}}&comma;&nbsp;{{$ctrl.cafe.State}}&comma;&nbsp;{{$ctrl.cafe.Zip}}<br>\n              <span ng-if="$ctrl.cafe.Phone">{{$ctrl.cafe.Phone}}</span>\n            </p>\n          </address>\n          <!-- Delivery -->\n          <address ng-if="$ctrl.isDelivery">\n            <p>\n              <strong>{{ $ctrl.context.orderType | translate }}</strong>\n              {{ $ctrl.delivery.address1 }}\n              <span ng-if="$ctrl.delivery.address2"><br>{{$ctrl.delivery.address2}}</span><br>\n              {{ $ctrl.delivery.city }}&comma;&nbsp;{{ $ctrl.delivery.state }}&nbsp;\n              {{ $ctrl.delivery.postalCode }}\n            </p>\n          </address>\n          <!-- Change order type -->\n          <div class="edit">\n              <button class="btn btn-default btn-transparent"\n                      ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n                {{ $ctrl.i18n.EDIT }}\n              </button>\n          </div>\n        </div>\n        <div class="order-type" ng-if="!$ctrl.hasCafeOrDelivery">\n          <!-- Select a cafe -->\n          <div ng-if="!$ctrl.isDelivery" class="cafe-not-set change">\n            <p>\n              <strong>{{ $ctrl.context.orderType | translate }}</strong>\n            </p>\n            <button class="btn btn-default btn-transparent"\n                    ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n              {{ $ctrl.i18n.SELECT_CAFE }}\n            </button>\n          </div>\n          <!-- Select a delivery address -->\n          <div ng-if="$ctrl.isDelivery" class="cafe-not-set change">\n            <p>\n              <strong>{{ $ctrl.context.orderType | translate }}</strong>\n            </p>\n            <button class="btn btn-default btn-transparent"\n                    ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n              {{ $ctrl.i18n.SELECT_ADDRESS }}\n            </button>\n          </div>\n        </div>\n      <div class="order-time" ng-if="!$ctrl.isGroupOrder">\n        <!-- Rapid Pick up / Dine In -->\n        <div class="time-select" ng-if="!$ctrl.isDineIn">\n          <p>\n            <strong>{{ $ctrl.i18n.TIME }}</strong>\n            <span ng-if="$ctrl.context.orderWhen === \'Now\'">\n              {{ $ctrl.i18n.ABOUT }}&nbsp;{{ $ctrl.context.leadTimeRange }}&nbsp;{{ $ctrl.i18n.AFTER_CHECKOUT }}\n            </span>\n            <span ng-if="$ctrl.context.orderWhen === \'Later\'">\n              {{$ctrl.context.date}}<br>\n              {{$ctrl.context.time}}\n            </span>\n            <div ng-if="!$ctrl.context.orderWhen" class="change">\n              <button class="btn btn-default btn-transparent"\n                ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TIME\')">\n                {{ $ctrl.i18n.SELECT_DATE_AND_TIME }}\n              </button>\n            </div>\n          </p>\n        </div>\n        <!-- Dine In -->\n        <div class="table-number" ng-if="$ctrl.isDineIn">\n          <p>\n            <strong>{{ $ctrl.i18n.TABLE_NUMBER_TITLE }}</strong>\n              <div ng-if="$ctrl.context.tableNumber">\n                {{ $ctrl.context.tableNumber }}\n              </div>\n              <!-- Select Table Number -->\n              <div ng-if="!$ctrl.context.tableNumber" class="change">\n                <button class="btn btn-default btn-transparent" ng-click="$ctrl.changeOrderInfo(\'PROCESS_ENTER_TABLE_NUMBER\')">\n                  {{ $ctrl.i18n.SELECT_TABLE_NUMBER }}\n                </button>\n              </div>\n          </p>\n        </div>\n        <!-- Edit Order Time -->\n        <div class="edit" ng-if="$ctrl.context.orderWhen">\n            <button class="btn btn-default btn-transparent"\n                    ng-click="$ctrl.changeOrderInfo($ctrl.isDineIn ? \'PROCESS_ENTER_TABLE_NUMBER\' : \'PROCESS_ORDER_TIME\')">\n              {{ $ctrl.i18n.EDIT }}\n            </button>\n        </div>\n      </div>\n    </div>\n    <!-- Cart -->\n    <div class="order-cart">\n      <div class="cart-actions">\n        <!-- Show cart / Cart icon -->\n        <div class="show-cart" ng-click="$ctrl.showCart=!$ctrl.showCart">\n          <div class="cart-icon">\n            <img ng-src="{{$ctrl.itemCount > 0 ? $ctrl.cartActiveIcon : $ctrl.cartInactiveIcon}}"\n                 alt="{{ $ctrl.i18n.CHECKOUT }}">\n            <span class="item-count" ng-class="{false:\'inactive\', true: \'active\'}[$ctrl.itemCount > 0]">\n              {{ $ctrl.itemCount }}\n            </span>\n            <div class="sub-total">{{ $ctrl.subtotal | currency}}</div>\n          </div>\n        </div>\n        <!-- Checkout button -->\n        <button class="btn btn-large btn-primary"\n                ng-click="$ctrl.checkout();"\n                ng-class="{true:\'inactive\', false: \'\'}[$ctrl.isInvalidCart]"\n                ng-disabled="$ctrl.isInvalidCart">\n          {{$ctrl.i18n.CHECKOUT}}\n        </button>\n        <!-- Cart items -->\n        <div class="hidden-xs cart" ng-show="$ctrl.showCart">\n          <cart customize-item="$ctrl.customizeItem(item, addItem, btnText)"></cart>\n        </div>\n      </div>\n    </div>\n  </section>\n</div>\n<!-- MOBILE HEADER -->\n<div class="order-header-container visible-xs">\n  <div class="row header">\n    <div class="col-xs-12">\n      <div class="row">\n        <div class="col-xs-10">\n          <h4>\n            <span ng-if="!$ctrl.isGroupOrder">\n              {{ $ctrl.i18n.ORDER_DETAILS }}\n            </span>\n            <span ng-if="$ctrl.isGroupOrder">\n              {{ $ctrl.i18n.GROUP_ORDER }}\n            </span>\n          </h4>\n        </div>\n        <div class="col-xs-2 text-center">\n          <i class="fa fa-2x fa-caret-right" ng-show="!$ctrl.expand" ng-click="$ctrl.expand=true;"></i>\n          <i class="fa fa-2x fa-caret-down" ng-show="$ctrl.expand" ng-click="$ctrl.expand=false"></i>\n        </div>\n      </div>\n      <div ng-show="$ctrl.expand" class="row">\n        <div class="col-xs-12 details" ng-if="$ctrl.isGroupOrder">\n          <!-- GROUP ORDER -->\n          <go-details options="$ctrl.goDetailsOptions"\n                      ng-if="$ctrl.isGroupOrder"\n                      order="$ctrl.groupOrder">\n          </go-details>\n        </div>\n        <div class="col-xs-12 details" ng-if="!$ctrl.isGroupOrder">\n          <!-- ORDER TYPE -->\n          <div clas="row">\n            <div class="address" ng-class="{\'col-xs-7\': !$ctrl.hasCafeOrDelivery, \'col-xs-9\': $ctrl.hasCafeOrDelivery}">\n              <!-- RPU/DINE-IN -->\n              <p><strong>{{ $ctrl.context.orderType | translate }}</strong></p>\n              <div class="rpu-dine-in-address" ng-if="$ctrl.hasCafeOrDelivery && !$ctrl.isDelivery">\n                <address>\n                  <p>\n                    {{$ctrl.cafe.StreetName}}<br>\n                    {{$ctrl.cafe.City}}&comma;&nbsp;{{$ctrl.cafe.State}}&comma;&nbsp;{{$ctrl.cafe.Zip}}<br>\n                    <a ng-if="$ctrl.cafe.Phone" href="tel:{{$ctrl.cafe.Phone}}">{{$ctrl.cafe.Phone}}</a>\n                  </p>\n                </address>\n              </div>\n              <!-- DELIVERY -->\n              <div class="delivery-address" ng-if="$ctrl.hasCafeOrDelivery && $ctrl.isDelivery">\n                <address>\n                  <p>\n                    {{ $ctrl.delivery.address1 }}\n                    <span ng-if="$ctrl.delivery.address2"><br>{{$ctrl.delivery.address2}}</span><br>\n                    {{ $ctrl.delivery.city }}&comma;&nbsp;{{ $ctrl.delivery.state }}&nbsp;\n                    {{ $ctrl.delivery.postalCode }}\n                  </p>\n                </address>\n              </div>\n            </div>\n            <!-- Select Delivery / Cafe Address -->\n            <div class="col-xs-5 change" ng-if="!$ctrl.hasCafeOrDelivery">\n              <!-- Select Delivery Address -->\n              <div ng-if="$ctrl.isDelivery">\n                <button class="btn btn-default btn-transparent pull-right" ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n                  {{ $ctrl.i18n.SELECT_ADDRESS }}\n                </button>\n              </div>\n              <!-- Select Cafe Address -->\n              <div ng-if="!$ctrl.isDelivery">\n                <button class="btn btn-default btn-transparent pull-right" ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n                  {{ $ctrl.i18n.SELECT_CAFE }}\n                </button>\n              </div>\n            </div>\n            <!-- Edit location type -->\n            <div ng-if="$ctrl.hasCafeOrDelivery">\n              <div class="col-xs-3 change">\n                <button class="btn btn-default btn-transparent pull-right" ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TYPE_LOCATION\')">\n                  {{ $ctrl.i18n.EDIT }}\n                </button>\n              </div>\n            </div>\n          </div>\n          <!-- ORDER TIME -->\n          <div class="row">\n              <div ng-if="!$ctrl.isDineIn">\n                <div ng-class="{\'col-xs-7\': !$ctrl.context.orderWhen, \'col-xs-9\': $ctrl.context.orderWhen}">\n                <p>\n                  <strong>{{ $ctrl.i18n.TIME }}</strong>\n                  <span ng-if="$ctrl.context.orderWhen === \'Now\'">\n                    {{ $ctrl.i18n.ABOUT }}&nbsp;{{ $ctrl.context.leadTimeRange }}&nbsp;{{ $ctrl.i18n.AFTER_CHECKOUT }}\n                  </span>\n                  <span ng-if="$ctrl.context.orderWhen === \'Later\'">\n                    {{$ctrl.context.date}}<br>\n                    {{$ctrl.context.time}}\n                  </span>\n                </p>\n                </div>\n                <div ng-if="!$ctrl.context.orderWhen">\n                  <div class="col-xs-5 change">\n                   <button class="btn btn-default btn-transparent pull-right"\n                           ng-click="$ctrl.changeOrderInfo(\'PROCESS_ORDER_TIME\')">\n                  {{ $ctrl.i18n.SELECT_DATE_AND_TIME }}\n                </button>\n                  </div>\n                </div>\n              </div>\n                <!-- If Dine In -->\n              <div ng-if="$ctrl.isDineIn">\n                <div ng-class="{\'col-xs-7\': !$ctrl.context.tableNumber, \'col-xs-9\': $ctrl.context.tableNumber}">\n                  <p><strong>{{ $ctrl.i18n.TABLE_NUMBER_TITLE }}</strong></p>\n                    <div ng-if="$ctrl.context.tableNumber">\n                      {{ $ctrl.context.tableNumber }}\n                    </div>\n                </div>\n                <div ng-if="!$ctrl.context.tableNumber">\n                  <!-- Select Table Number -->\n                  <div class="col-xs-5 change">\n                    <button class="btn btn-default btn-transparent pull-right" ng-click="$ctrl.changeOrderInfo(\'PROCESS_ENTER_TABLE_NUMBER\')">\n                      {{ $ctrl.i18n.SELECT_TABLE_NUMBER }}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            <!-- CHANGE TIME -->\n            <div class="col-xs-3 change">\n              <div ng-if="$ctrl.context.orderWhen">\n                <button class="btn btn-default btn-transparent pull-right"\n                        ng-click="$ctrl.changeOrderInfo($ctrl.isDineIn ? \'PROCESS_ENTER_TABLE_NUMBER\' : \'PROCESS_ORDER_TIME\')">\n                  {{ $ctrl.i18n.EDIT }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("cancelOrderDetails.html",[]).run(["$templateCache",function(e){e.put("cancelOrderDetails.html",'<div class="row">\n  <div class="col-xs-12">\n    <strong><u>{{ \'ORDER_NUMBER\' | translate }} {{ orderDetails.orderId }}</u> - {{ date }}</strong>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    {{ numItems | number:0 }} {{ \'ITEMS\' | translate }}\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <strong>{{ \'TOTAL\' | translate }} {{ orderDetails.summary.totalPrice | currency:USD }}</strong>\n  </div>\n</div>\n')}]),angular.module("liteEmailOptIn.html",[]).run(["$templateCache",function(e){e.put("liteEmailOptIn.html",'<div cg-busy="$ctrl.loadingPromise">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 class="section-title">{{ $ctrl.i18n.SUBSCRIBE_TO_PANERAS_NEWSLETTER }}</h1>\n    </div>\n    <div class="col-xs-12 col-sm-8">\n      <p>\n          {{ $ctrl.i18n.WOULD_YOU_LIKE_TO_RECEIVE_EMAILS }}\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="alert alert-danger" ng-repeat="error in $ctrl.subscriptionErrors">\n      <p>{{ error | translate }}</p>\n    </div>\n  </div>\n  <form class="row">\n    <div class="col-xs-1 checkbox-container">\n      <div class="checkbox pnra-checkbox">\n        <label>\n          <input type="checkbox"\n                ng-model="$ctrl.subscribeToAllLists"\n                ng-disabled="$ctrl.subscriptionsOptedIn"\n                ng-change="$ctrl.checkForSubscriptionChanges($ctrl.subscriptions)">\n          <span class="check"></span>\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-11 col-sm-7">\n      <div class="checkbox-info">\n        <p class="checkbox-title">{{ $ctrl.i18n.YES_ID_LIKE_TO_RECEIVE_EMAILS }}</p>\n        <p class="checkbox-description">{{ $ctrl.i18n.PANERA_EMAILS_INCLUDING_BONUS_REWARDS }}</p>\n      </div>\n    </div>\n    <div class="col-sm-4 col-xs-12">\n      <button class="btn pnra-btn subscribe-btn"\n              ng-click="$ctrl.saveSubscriptions($ctrl.subscriptions)"\n              ng-disabled="!$ctrl.subscriptionsHaveChanged">\n        {{ ($ctrl.subscriptionsOptedIn ? ($ctrl.subscriptionsHaveChanged ? $ctrl.i18n.UNSUBSCRIBE : $ctrl.i18n.SUBSCRIBED) : $ctrl.i18n.SUBSCRIBE) }}\n      </button>\n    </div>\n  </form>\n</div>\n')}]),angular.module("customerList.html",[]).run(["$templateCache",function(e){e.put("customerList.html",'<div class="container customerList">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="cancel()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>{{ \'MULTIPLE_ACCOUNTS_HAVE_BEEN_FOUND_ETC\' | translate }}</p>\n      <p>{{ \'PLEASE_SELECT_AN_ACCOUNT_TO_CONTINUE\' | translate }}</p>\n    </div>\n  </div>\n  <form role="form">\n    <div class="form-group table-heading">\n      <div class="col-xs-6 title">\n        <p>{{ \'NAME\' | translate }}</p>\n      </div>\n      <div class="col-xs-6 title">\n        <p>{{ \'CL_TITLE_2\' | translate }}</p>\n      </div>\n    </div>\n    <div class="form-group" ng-repeat="user in users">\n      <div class="col-xs-6">\n        <label>\n          <input id="{{\'selectedUser\' + $index}}" type="radio"\n                 name="selected.user"\n                 class="{{ $index }}"\n                 ng-model="selected.user"\n                 value="{{ user.username }}">\n            <span class="check"></span>\n            {{ user.name }}\n        </label>\n      </div>\n      <div class="col-xs-6">\n        <label for="{{\'selectedUser\' + $index}}">\n          {{ user.cardNumber }}\n        </label>\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-10 col-xs-2 text-right">\n        <button type="submit" class="btn btn-primary" ng-click="signIn()">\n          {{ \'SIGN_IN\' | translate }}\n        </button>\n      </div>\n    </div>\n  </form>\n</div>\n')}]),angular.module("forgotPassword.html",[]).run(["$templateCache",function(e){e.put("forgotPassword.html",'<div cg-busy="{promise: $ctrl.forgotPasswordPromise}">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{ $ctrl.i18n.FORGOT_PASSWORD }}</h1>\n    </div>\n  </div>\n  <div ng-if="$ctrl.useEmailToRecover && !$ctrl.recovered">\n    <div class="row">\n      <div class="col-xs-12">\n        <p>{{ $ctrl.i18n.WE_WILL_SEND_EMAIL }}</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <form name="recoverByEmailForm"\n              sf-form="$ctrl.emailForm"\n              sf-schema="$ctrl.emailSchema"\n              sf-options="$ctrl.emailOptions"\n              sf-model="$ctrl.emailModel"\n              ng-submit="$ctrl.recoverPasswordByEmail(recoverByEmailForm)">\n        </form>\n      </div>\n    </div>\n    <p class="sign-in-container">{{ $ctrl.i18n.RETURN_TO }}&nbsp;\n      <a href ng-click="$ctrl.signIn()">{{ $ctrl.i18n.SIGN_IN }}</a>\n      </p>\n  </div>\n  <div ng-if="!$ctrl.useEmailToRecover && !$ctrl.recovered">\n    <div class="row">\n      <div class="col-xs-12">\n        <form name="recoverByPhoneForm"\n              sf-form="$ctrl.phoneForm"\n              sf-schema="$ctrl.phoneSchema"\n              sf-options="$ctrl.phoneOptions"\n              sf-model="$ctrl.phoneModel"\n              ng-submit="$ctrl.recoverPasswordByPhone(recoverByPhoneForm)">\n        </form>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.recovered">\n    <div class="row">\n      <div class="col-xs-12">\n        <p>{{ $ctrl.i18n.EMAIL_HAS_BEEN_SENT_TO }}&nbsp;<strong>{{ $ctrl.emailModel.email }}</strong></p>\n      </div>\n    </div>\n    <div class="row close-btn-container">\n      <div class="col-xs-12">\n        <button class="btn btn-default pnra-btn"\n                type="button"\n                ng-click="$ctrl.cancel()">\n          {{ $ctrl.i18n.CLOSE }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("orderProcess.html",[]).run(["$templateCache",function(e){e.put("orderProcess.html",'<div class="container" id="orderProcess">\n  <div class="row hidden-xs" id="steps">\n    <div ng-repeat="step in steps"\n         class="col-sm-6 col-md-4 steps">\n      <h3 ng-class="{dimmed: activeStepIndex < $index}">\n        <span>{{ $index + 1 | number:0 }}</span>{{ step | translate }}\n      </h3>\n    </div>\n  </div>\n\n  <div class="row visible-xs-inline-block" id="mobileSteps">\n    <div ng-repeat="step in mobileSteps"\n         class="col-xs-6 steps">\n      <h3 ng-class="{dimmed: activeStepIndex < $index}">\n        <span>{{ $index + 1 | number:0 }}</span>{{ step | translate }}\n      </h3>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="artisan hidden-xs">\n    </div>\n  </div>\n  <div class="row hidden-xs" id="orderTypes" ng-if="activeStepIndex === 0">\n    <div class="col-xs-12">\n      <order-type enabled-order-types="enabledOrderTypes"\n                  show-selected="true">\n      </order-type>\n    </div>\n  </div>\n  <div class="row" ng-if="activeStepIndex === 0">\n    <div class="col-xs-12">\n      <hr class="artisan hidden-xs">\n    </div>\n  </div>\n  <div class="row"\n       ng-if="activeStepIndex === 0 && (isRapidPickup || isDineIn)">\n    <!-- Cafe Locator -->\n    <cafe-selector class="col-xs-12" show-my-cafe-links="true" show-features-filter="false"\n                   show-slogan="true"\n                   button-label="ORDER" select-cafe="selectCafe(cafe)"\n                   map-center="mapCenter" current-location="currentLocation"\n                   features-filter="featuresFilter"\n                   display-removed="displayRemoved">\n    </cafe-selector>\n    <!-- End Cafe Locator -->\n  </div>\n  <div class="row"\n       ng-if="activeStepIndex === 0 && isDelivery">\n    <delivery-address select-cafe="selectCafe(cafe, goToCreateGroupOrder)" group-order-is-enabled="groupOrderIsEnabled">\n    </delivery-address>\n  </div>\n  <div class="row">\n    <table-number ng-if="activeStepIndex === 1 && isDineIn" enable-order="data.enableOrderButton"></table-number>\n  </div>\n  <div class="row">\n    <!-- Select DateTime -->\n    <order-time ng-if="activeStepIndex === 1 && (isRapidPickup || isDelivery)" enable-order="data.enableOrderButton"></order-time>\n    <!-- End Select DateTime -->\n  </div>\n  <div class="row"\n       ng-if="activeStepIndex > 0"\n       id="nav-buttons">\n    <!-- Navigation Buttons -->\n    <div class="col-xs-6">\n      <button class="btn btn-default hidden-xs"\n              ng-click="previous()">{{ \'PREVIOUS\' | translate }}</button>\n    </div>\n    <div class="col-xs-6 text-right">\n      <button class="btn btn-primary order-btn" ng-disabled="!data.enableOrderButton"\n              ng-click="next()">{{ nextBtnKey | translate }}\n      </button>\n    </div>\n    <!-- End Navigation Buttons -->\n  </div>\n</div>\n')}]),angular.module("pnraLogin.html",[]).run(["$templateCache",function(e){e.put("pnraLogin.html",'<div class="row">\n  <!-- SIGN IN -->\n  <div class="col-xs-12 col-sm-6 sign-in" ng-if="$ctrl.loginAvailable">\n    <div class="row">\n      <div class="col-xs-12">\n        <h2>{{ $ctrl.i18n.SIGN_IN_TO }}&nbsp;{{ $ctrl.i18n.MYPANERA }}</h2>\n      </div>\n    </div>\n    <div class="row">\n      <form class="col-xs-12"\n            sf-form="$ctrl.form"\n            sf-model="$ctrl.model"\n            sf-options="$ctrl.options"\n            sf-schema="$ctrl.schema"\n            ng-submit="$ctrl.login()">\n      </form>\n    </div>\n  </div>\n  <!-- CONTINUE AS GUEST -->\n  <div class="col-xs-12" ng-class="{\'col-sm-12\': !$ctrl.loginAvailable, \'col-sm-6 guest\': $ctrl.loginAvailable}">\n    <div ng-if="$ctrl.guestAllowed || !$ctrl.loginAvailable">\n      <div class="row">\n        <div class="col-xs-12">\n          <h2>{{ $ctrl.i18n.CONTINUE_AS_GUEST }}</h2>\n        </div>\n      </div>\n      <div ng-class="row" ng-if="!$ctrl.loginAvailable">\n        <div class="col-xs-12 unavailable-container">\n          <p class="alert-warning">\n            {{ $ctrl.i18n.LOGIN_UNAVAILABLE }}\n          </p>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <button ng-click="$ctrl.guestLogin()"\n                  class="pnra-btn"\n                  id="guestLoginDesktop"\n                  type="button">\n            {{ $ctrl.i18n.ORDER_WITHOUT_SIGNING_IN }}\n          </button>\n        </div>\n      </div>\n    </div>\n    <div ng-if="$ctrl.loginAvailable">\n      <div class="row" ng-if="$ctrl.guestAllowed">\n        <div class="col-xs-12">\n          <p class="divider">\n            <span>{{ $ctrl.i18n.OR }}</span>\n          </p>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <h2 class="join-my-panera">{{ $ctrl.i18n.JOIN }}&nbsp;\n            <span class="my-panera">{{ $ctrl.i18n.MY }}</span>{{ $ctrl.i18n.PANERA }}\n          </h2>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <p class="register">\n            <a ng-click="$ctrl.registerUser()">\n              {{ $ctrl.i18n.MY_PANERA_CARD }}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("registrationLegacy.html",[]).run(["$templateCache",function(e){e.put("registrationLegacy.html",'<div class="container registration">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="$ctrl.cancel()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <ol class="list-inline steps hidden-xs">\n        <li ng-repeat="stepName in [\'PERSONAL_INFO\', \'ACCOUNT_INFO\', \'ACCOUNT_PREFERENCES\']"\n            ng-class="{dimmed: $ctrl.step <= $index}">\n        <h3><span>{{ $index + 1 }}</span>{{ stepName | translate }}</h3></li>\n      </ol>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h2 class="visible-xs">{{ \'JOIN\' | translate }} <span class="my-panera">My</span>Panera</h2>\n      <hr class="artisan hidden-xs">\n    </div>\n  </div>\n  <personal-info ng-show="$ctrl.step === 1" info="$ctrl.info"\n                 address="$ctrl.address"\n                 next="$ctrl.nextStep()"\n                 cancel="$ctrl.cancel()">\n  </personal-info>\n  <account-info ng-show="$ctrl.step === 2" info="$ctrl.info"\n                previous="$ctrl.previousStep()"\n                next="$ctrl.nextStep()">\n  </account-info>\n  <account-preferences ng-show="$ctrl.step === 3" info="$ctrl.info"\n                       previous="$ctrl.previousStep()"\n                       next="$ctrl.nextStep()"\n                       errors="$ctrl.errors"\n                       registering="$ctrl.registering">\n  </account-preferences>\n</div>\n')}]),angular.module("welcome.html",[]).run(["$templateCache",function(e){e.put("welcome.html",'<div class="container" id="registration-welcome">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="cancel()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ \'CONGRATULATIONS\' | translate }} {{ \'WELCOME_TO\' | translate }} <span class="my-panera">My</span>Panera!</h3>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-sm-9 col-sm-offset-3">\n      <p>{{ \'YOUR_ACCOUNT_HAS_BEEN_CREATED\' | translate }}</p>\n    </div>\n  </div>\n  <div class="row" ng-if="loggedIn">\n    <div class="col-xs-12 col-sm-9 col-sm-offset-3">\n      <p>{{ \'YOU_ARE_LOGGED_IN_AND_MAY_BEGIN_ORDERING\' | translate }}</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-sm-4 col-sm-offset-5 col-md-3 col-md-offset-7">\n      <button class="btn btn-primary btn-block" ng-click="manageAccount()">\n        {{ \'MANAGE_MY_ACCOUNT\' | translate }}\n      </button>\n    </div>\n    <div class="col-xs-12 col-sm-3 col-md-2">\n      <button class="btn btn-primary btn-block" ng-click="startOrdering()">\n        {{ \'START_ORDERING\' | translate }}\n      </button>\n    </div>\n  </div>\n</div>\n');
}]),angular.module("actionOverlay.html",[]).run(["$templateCache",function(e){e.put("actionOverlay.html",'<div class="overlay-anchor">\n  <div ng-transclude></div>\n  <div ng-if="$ctrl.showOverlay" class="overlay-container">\n    <div class="overlay-inner">\n      <i ng-if="$ctrl.icon" ng-class="$ctrl.icon"></i>\n      <span ng-if="$ctrl.message">{{ $ctrl.message }}</span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("contactCard.html",[]).run(["$templateCache",function(e){e.put("contactCard.html",'<div class="row card-container">\n  <div class="col-xs-9">\n      <p class="title">{{$ctrl.titleText}}</p>\n      <p class="link-text"><a href="{{$ctrl.linkUrl}}" target="_blank">{{$ctrl.formattedLinkText}}</a></p>\n  </div>\n  <div class="col-xs-3">\n    <a href="{{$ctrl.linkUrl}}" target="_blank">\n      <img ng-src="{{$ctrl.iconImage}}" class="action-button"/>\n    </a>\n  </div>\n</div>')}]),angular.module("feedbackSurveyLink.html",[]).run(["$templateCache",function(e){e.put("feedbackSurveyLink.html",'<a href="#0"\n   class="oo_inline"\n   title="{{ $ctrl.i18n.GIVE_WEBSITE_FEEDBACK }}"\n   ng-click="$ctrl.showFeedbackForm()">\n  <span class="oo_inline_icon"></span>\n  {{ $ctrl.i18n.GIVE_WEBSITE_FEEDBACK }}\n</a>')}]),angular.module("imageLink.html",[]).run(["$templateCache",function(e){e.put("imageLink.html",'<div ng-click="$ctrl.options.clickAction()">\n  <img class="hover-over-img"\n       ng-class="$ctrl.options.imgCSSClass"\n       ng-src="{{::$ctrl.options.hoverOverImg}}">\n  <img class="hover-out-img"\n       ng-class="$ctrl.options.imgCSSClass"\n       ng-src="{{::$ctrl.options.hoverOutImg}}">\n  <span ng-if="$ctrl.options.text" ng-class="$ctrl.options.textCSSClass">\n    {{ $ctrl.options.text }}\n  </span>\n  <i ng-if="$ctrl.options.iconCSSClass" ng-class="$ctrl.options.iconCSSClass"></i>\n</div>\n\n\n')}]),angular.module("addFavorite.html",[]).run(["$templateCache",function(e){e.put("addFavorite.html",'<a ng-click="togglePopover()"\n   uib-popover-template="\'addFavoritePopover.html\'"\n   popover-placement="{{position}}"\n   popover-append-to-body="true"\n   popover-is-open="isOpen">\n  <i ng-class="{\'fa-plus\': !saved, \'fa-minus\': saved}"></i>\n  <img ng-src="{{::favoriteStarOrangeImage}}" alt="{{ ADD_FAVORITE | translate }}">\n  <span ng-if="isFavoriteOrder">{{ \'ADD_ORDER_AS_FAVORITE\' | translate }}</span>\n</a>\n')}]),angular.module("addFavoritePopover.html",[]).run(["$templateCache",function(e){e.put("addFavoritePopover.html",'<div class="row">\n  <div class="col-xs-12">\n    <i ng-click="togglePopover()"\n       class="btn-popover-close"></i>\n  </div>\n</div>\n<form sf-schema="schema"\n      sf-model="model"\n      sf-options="options"\n      sf-form="form"\n      ng-submit="save()">\n</form>\n')}]),angular.module("addressList.html",[]).run(["$templateCache",function(e){e.put("addressList.html",'<div ng-if="addresses"\n     class="row">\n  <div class="col-xs-12">\n    <ul class="list-unstyled">\n      <li ng-repeat="address in addresses"\n          ng-click="selectAddress({address: address})">\n        <div>\n          <strong ng-if="address.name">{{address.name}}<br></strong>\n          <strong>{{address.addressLine1}}</strong><br>\n          <span ng-if="address.addressLine2">{{address.addressLine2}}<br></span>\n          <span ng-if="address.identifier">{{address.identifier}}<br></span>\n          {{address.city}}, {{address.state}} {{address.zip}}\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n')}]),angular.module("androidAppBanner.html",[]).run(["$templateCache",function(e){e.put("androidAppBanner.html",'<div ng-show="showAndroidBanner" class="row visible-xs">\n  <div class="col-xs-1 text-right">\n    <i ng-click="closeAndroidBanner()" class="fa fa-sm fa-times"></i>\n  </div>\n  <div class="col-xs-2">\n    <img ng-src="{{::motherBreadUrl}}">\n  </div>\n  <div class="col-xs-9 text-left">\n    <a ng-href="{{androidLink}}"\n       class="btn btn-primary">\n      Go to the Panera app\n    </a>\n  </div>\n</div>\n')}]),angular.module("cateringBanner.html",[]).run(["$templateCache",function(e){e.put("cateringBanner.html",'<div class="row" ng-if="titleText">\n  <div class="col-xs-12">\n    <span class="h4" ng-bind-html="titleText | translate:titleParams "></span>\n  </div>\n</div>\n<div class="row" ng-if="titleText">\n  <div class="col-xs-12">\n    <hr class="artisan">\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <img ng-src="{{::caterWithPaneraImage}}">\n    <img ng-src="{{::paneraCateringImage}}">\n  </div>\n</div>\n<div class="row" ng-if="supportText">\n  <div class="col-xs-12">\n    <p ng-bind-html="supportText | translate:supportParams"></p>\n  </div>\n</div>\n')}]),angular.module("horizontalLinks.html",[]).run(["$templateCache",function(e){e.put("horizontalLinks.html",'<ol class="list-inline horizontal-links">\n	<li ng-repeat="link in links" ng-class="col-xs-{{linkColSize}}">\n		<a ng-class="{\'selected\': link.selected}"\n			 ng-click="selectLink(link)">\n			{{link.i18nName | translate}}\n		</a>\n	</li>\n</ol>\n')}]),angular.module("myForm.html",[]).run(["$templateCache",function(e){e.put("myForm.html",'<div class="row" cg-busy="loadingPromise">\n  <div class="col-xs-12">\n    <form role="form" id="{{form.id}}" name="formName">\n      <div class="form-group">\n        <div ng-repeat="error in errors" class="form-group">\n          <div class="alert alert-danger">\n            <span>{{ error | translate }}</span>\n          </div>\n        </div>\n      <div ng-if="!form.hideRequiredMessage && !form.hideRequired" class="form-group">\n         * {{ \'DENOTES_REQUIRED_FIELD\' | translate }}\n      </div>\n      <div ng-repeat="field in fields"\n           ng-class="{\'form-group\': true, clearfix: field.clear}"\n           ng-if="field.condition !== false">\n        <div ng-if="!field.isGroup"\n             ng-class="field.colWidth">\n          <label ng-if="field.showLabel && field.i18nName" for="{{ field.path }}">\n            <span ng-if="field.required && !form.hideRequired"> *</span>\n            {{ field.i18nName | translate }}\n          </label>\n          <textarea ng-if="field.elementType === \'textarea\'"\n                    ng-class="{\'has-error\': field.errors.length > 0}"\n                    class="form-control"\n                    id="{{ field.path }}"\n                    name="{{ field.path }}"\n                    ng-required="field.required"\n                    ng-disabled="field.disabled"\n                    ng-model="field.value"\n                    ng-change="updateValue(field)"\n                    placeholder="{{ field.placeholder | translate }}">\n          </textarea>\n          <input ng-if="field.elementType === \'input\'"\n                 ng-class="{\'has-error\': field.errors.length > 0}"\n                 class="form-control"\n                 id="{{ field.path }}"\n                 name="{{ field.path }}"\n                 type="{{ field.type }}"\n                 ng-minlength="{{ field.minLength }}"\n                 ng-maxlength="{{ field.maxLength }}"\n                 ng-pattern="{{ field.pattern }}"\n                 ng-required="field.required"\n                 ng-disabled="field.disabled"\n                 ng-model="field.value"\n                 ng-change="updateValue(field)"\n                 format-phone="field.needsPhoneFormatting"\n                 placeholder="{{ field.placeholder | translate }}">\n          <input ng-if="field.elementType === \'hidden\'"\n                 class="form-control"\n                 id="{{ field.path }}"\n                 name="{{ field.path }}"\n                 type="{{ field.type }}"\n                 ng-value="field.value">\n          <span ng-if="field.elementType === \'span\'">\n            {{ field.filter(field.value) }}\n          </span>\n          <select ng-if="field.elementType === \'select\'"\n                  class="form-control"\n                  ng-class="{\'has-error\': field.errors.length > 0}"\n                  id="{{ field.path }}"\n                  name="{{ field.path }}"\n                  ng-required="field.required"\n                  ng-disabled="field.disabled"\n                  ng-model="field.value"\n                  ng-change="updateValue(field)"\n                  ng-options="(option.value || option) as\n                              (option.i18nKey ? (option.i18nKey | translate).toString() : option) for\n                              option in field.options">\n            <option value="">{{ (field.i18nOptionsName || \'SELECT\') | translate }}</option>\n          </select>\n          <div ng-if="field.elementType === \'checkbox\'"\n               ng-class="field.type">\n            <label for="{{ field.path }}">\n              <input id="{{ field.path }}"\n                     name="{{ field.path }}"\n                     type="{{ field.type }}"\n                     ng-required="field.required"\n                     ng-disabled="field.disabled"\n                     ng-model="field.value"\n                     ng-change="updateValue(field)"\n                     ng-value="field.i18nName"\n                     ng-checked="field.value">\n              <span class="check"></span>\n              <span ng-if="field.required && !form.hideRequired"> *</span>\n              {{ field.i18nName | translate }}\n            </label>\n          </div>\n          <div ng-if="field.elementType === \'radio\'"\n               ng-class="field.type">\n            <label for="{{ field.i18nName }}">\n              <input id="{{ field.i18nName }}"\n                     name="{{ field.path }}"\n                     type="{{ field.type }}"\n                     ng-required="field.required"\n                     ng-disabled="field.disabled"\n                     ng-model="field.value"\n                     ng-change="updateValue(field)"\n                     ng-value="field.i18nName">\n              <span class="check"></span>\n              <span ng-if="field.required && !form.hideRequired"> *</span>\n              {{ field.i18nName | translate }}\n            </label>\n          </div>\n          <h2 ng-if="field.elementType === \'header\'">\n              {{ field.i18nName | translate }}\n          </h2>\n          <p ng-if="field.elementType === \'p\'">\n              {{ field.i18nName | translate }}\n          </p>\n          <div ng-if="field.elementType === \'a\'" ng-class="field.htmlClass">\n            <a ng-click="field.onClick()">\n              {{ field.i18nName | translate }}\n            </a>\n          </div>\n          <span class="help-block" ng-repeat="error in field.errors">\n            {{error | translate:[field.value]}}\n          </span>\n        </div>\n        <!-- check list -->\n        <div ng-if="field.elementType === \'checklist\'"\n             class="checklist">\n          <div ng-repeat="option in field.options"\n               ng-class="field.colWidth">\n            <div class="checkbox">\n              <label for="{{ option }}">\n                <input id="{{ option }}"\n                       name="{{ option }}"\n                       type="checkbox"\n                       check-list="field.value"\n                       ng-disabled="field.disabled"\n                       ng-model="field._temp_[$index]"\n                       ng-change="updateValue(field)"\n                       ng-value="option"\n                       ng-checked="field._temp_[$index]">\n                <span class="check"></span>\n                {{ option | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n        <!-- radio group -->\n        <div ng-if="field.elementType === \'radiogroup\'"\n             class="radiogroup">\n          <div ng-repeat="option in field.options"\n               ng-class="field.colWidth">\n            <div class="radio">\n              <label for="{{ option }}">\n                <input id="{{ option }}"\n                       name="{{ option }}"\n                       type="radio"\n                       ng-disabled="field.disabled"\n                       ng-model="field.value"\n                       ng-change="updateValue(field)"\n                       ng-value="option">\n                <span class="check"></span>\n                {{ option | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n        <span ng-if="field.elementType === \'radiogroup\'"\n              class="help-block" ng-repeat="error in field.errors">\n          {{error | translate }}\n        </span>\n      </div>\n      <div ng-if="form.submitLabel || form.cancelLabel" class="form-group">\n        <div class="col-xs-12 text-right">\n          <span class="success" ng-if="showSuccess">\n            <span class="fa fa-check"></span>{{ \'YOUR_CHANGES_HAVE_BEEN\' | translate }}\n          </span>\n          <button ng-if="form.submitLabel"\n                  type="submit"\n                  class="btn {{ form.submitClass ? form.submitClass : \'btn-primary\' }}"\n                  ng-click="submit()" ng-disabled="submitDisabled || formName.$invalid">\n            {{ form.submitLabel | translate }}\n          </button>\n          <button ng-if="form.cancelLabel" type="button"\n                  class="btn {{ form.cancelClass ? form.cancelClass : \'btn-default\' }}"\n                  ng-click="cancel()" ng-disabled="submitDisabled">\n            {{ form.cancelLabel | translate }}\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n')}]),angular.module("nutrition.html",[]).run(["$templateCache",function(e){e.put("nutrition.html",'<div ng-transclude\n     class="row">\n</div>\n<section class="row"\n         ng-repeat="nutr in nutritions">\n  <span class="col-xs-7">\n    {{nutr.i18nName | translate}}\n  </span>\n  <span class="col-xs-5">\n    {{nutr.value}}\n    {{nutr.unit}}\n  </span>\n</section>\n')}]),angular.module("sideChoice.html",[]).run(["$templateCache",function(e){e.put("sideChoice.html",'<button class="btn" ng-click="changeSide()">\n  <div class="row">\n    <div class="col-xs-2 col-sm-2 col-md-12">\n      <p class="sideLabel">{{\'SIDE_CHOICE\' | translate}}</p>\n    </div>\n    <div class="col-xs-9 col-sm-9 col-md-11">\n      <p class="sideName">\n        <i ng-if="selectedSide.isProductStockout"\n           class="fa-exclamation-triangle"\n           uib-tooltip="{{\'CONTAINS_UNAVAILABLE_SIDE\' | translate}}"\n           tooltip-append-to-body="true"></i>\n        {{selectedSide.i18nName | translate}}\n      </p>\n    </div>\n    <div class="col-xs-1 col-sm-1 col-md-1 pull-right">\n      <i class="fa-2x" ng-class="{\'fa-caret-right\': !showSideSelections, \'fa-caret-down\': showSideSelections}"></i>\n    </div>\n  </div>\n</button>\n<div class="visible-xs" ng-if="showSideSelections">\n  <ol class="row sides">\n    <li side-selection\n        ng-repeat="side in sides.sideItems"\n        data="side"\n        selection="selectedSide"\n        update-selected-side="updateSelectedSide(newSideId)">\n    </li>\n  </ol>\n</div>\n')}]),angular.module("viewCafeHours.html",[]).run(["$templateCache",function(e){e.put("viewCafeHours.html",'<div>\n  <div ng-repeat="day in cafeHoursList" class="row">\n    <div class="col-xs-3" ng-class="{\'today-hours\' : day.isToday}">\n      {{day.displayName}}\n    </div>\n    <div class="col-xs-9" ng-class="{\'today-hours\' : day.isToday}">\n      {{day.hours}}\n    </div>\n  </div>\n</div>\n')}]),angular.module("globalNavigation.html",[]).run(["$templateCache",function(e){e.put("globalNavigation.html",'<!-- CALL-TO-ACTIONS -->\n<div class="dropdown-container">\n  <div class="cta">\n    <!-- START YOUR ORDER  -->\n    <div class="row">\n      <div class="col-xs-12">\n        <a class="btn pnra-btn"\n          ng-click="$ctrl.reRoute(\'orderFlow\')"\n          href\n          title="{{ $ctrl.i18n.START_YOUR_ORDER }}">\n          {{ $ctrl.i18n.START_YOUR_ORDER }}\n        </a>\n      </div>\n    </div>\n    <!-- LOCATIONS / OUR MENU / HOME  -->\n    <div class="row">\n      <div class="col-xs-4">\n        <a class="btn pnra-btn-outline"\n           ng-click="$ctrl.reRoute(\'cafeLocator\')"\n           title="{{ $ctrl.i18n.LOCATIONS }}">\n          {{ $ctrl.i18n.LOCATIONS }}\n        </a>\n      </div>\n      <div class="col-xs-4">\n        <a class="btn pnra-btn-outline"\n           ng-click="$ctrl.reRoute(\'menu\')"\n           title="{{ $ctrl.i18n.OUR_MENU }}">\n          {{ $ctrl.i18n.OUR_MENU }}\n        </a>\n      </div>\n      <div class="col-xs-4">\n        <a class="btn pnra-btn-outline"\n           ng-click="$ctrl.reRoute(\'index\')"\n           title="{{ $ctrl.i18n.HOME }}">\n          {{ $ctrl.i18n.HOME }}\n        </a>\n      </div>\n    </div>\n    <!-- SIGN-IN / REGISTER  -->\n    <div class="row" ng-if="!$ctrl.loggedIn">\n      <div class="col-xs-6">\n        <a class="btn pnra-btn"\n          ng-click="$ctrl.signIn()"\n          href\n          title="{{ $ctrl.i18n.SIGN_IN }}">\n          {{ $ctrl.i18n.SIGN_IN }}\n        </a>\n      </div>\n      <div class="col-xs-6">\n        <a class="btn pnra-btn"\n          ng-click="$ctrl.register()"\n          href\n          title="{{ $ctrl.i18n.REGISTER }}">\n          {{ $ctrl.i18n.REGISTER }}\n        </a>\n      </div>\n    </div>\n  </div>\n  <!-- MY ACCOUNT -->\n  <ul ng-if="$ctrl.loggedIn">\n    <li class="uib-dropdown" uib-dropdown>\n      <a class="uib-dropdown-toggle"\n         uib-dropdown-toggle\n         title="{{ $ctrl.i18n.MY_ACCOUNT }}">\n        {{ $ctrl.i18n.MY_ACCOUNT }}\n      </a>\n      <ul class="uib-dropdown-menu" uib-dropdown-menu>\n        <li ng-repeat="page in $ctrl.accountPages">\n          <a ng-href="{{ $ctrl.routes.prefix + $ctrl.routes.myAccount + page.key }}"\n             title="{{ page.i18nName | translate }}">\n            {{ page.i18nName | translate }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n  <!-- HELPFUL LINKS -->\n  <div class="helpful-links">\n    <h4>\n      {{ $ctrl.i18n.HELPFUL_LINKS }}\n    </h4>\n    <ul ng-repeat="section in $ctrl.helpfulLinks">\n      <li ng-repeat="link in section.links">\n        <global-navigation-link link="link" selected-lang="$ctrl.language.value"></global-navigation-link>\n        <ul ng-if="link.subNav">\n          <li uib-dropdown class="uib-dropdown">\n            <a class="uib-dropdown-toggle helpful"\n               uib-dropdown-toggle\n               title="{{ link.i18nName | translate }}">\n              {{ link.i18nName | translate }}\n            </a>\n            <ul class="uib-dropdown-menu"\n                ng-repeat="subNav in link.subNav"\n                uib-dropdown-menu>\n              <li ng-repeat="page in subNav.links">\n                <global-navigation-link link="page" selected-lang="$ctrl.language.value"></global-navigation-link>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n  <!-- SIGN OUT -->\n  <div class="cta" ng-if="$ctrl.loggedIn">\n    <div class="row">\n      <div class="col-xs-12">\n        <a class="btn pnra-btn-outline"\n           ng-click="$ctrl.signOut()"\n           href\n           title="{{ $ctrl.i18n.SIGN_OUT }}">\n          {{ $ctrl.i18n.SIGN_OUT }}\n        </a>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("notificationModal.html",[]).run(["$templateCache",function(e){e.put("notificationModal.html",'<div>\n  <h2>{{ $ctrl.title }}</h2>\n  <p>{{ $ctrl.description }}</p>\n  <button ng-click="$ctrl.action()"\n          class="pnra-btn"\n          type="button">\n    {{ $ctrl.buttonText }}\n  </button>\n</div>')}]),angular.module("orderTimeError.html",[]).run(["$templateCache",function(e){e.put("orderTimeError.html",'<div>\n  <h2>Select New Order Time</h2>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>\n        {{ $ctrl.body }}\n      </p>\n      <p ng-if="$ctrl.cafePhoneNumber">{{ $ctrl.i18n.DISCUSS_ALTERNATIVE_ARRANGEMENTS }}</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12" ng-class="{\'col-md-4\': $ctrl.time, \'col-md-6\': !$ctrl.time}">\n      <button type="button"\n              class="btn pnra-btn-secondary"\n              ng-click="$ctrl.cancel()">{{ $ctrl.i18n.CANCEL_GO_BACK }}</button>\n    </div>\n    <div class="col-xs-12" ng-class="{\'col-md-4\': $ctrl.time, \'col-md-6\': !$ctrl.time}">\n      <button type="button"\n              class="btn pnra-btn-secondary"\n              ng-click="$ctrl.getNewTime()">{{ $ctrl.i18n.SELECT_NEW_TIME }}</button>\n    </div>\n    <div class="col-xs-12"\n         ng-class="{\'col-md-4\': $ctrl.time, \'col-md-6\': !$ctrl.time}"\n         ng-if="$ctrl.time">\n      <button type="button"\n              class="btn pnra-btn"\n              ng-click="$ctrl.selectNextTime()"\n              ng-disabled="$ctrl.disableSubmit">{{ $ctrl.i18n.ACCEPT }}\n        {{ $ctrl.originalDateTime.format(\'h:mm A\')}} {{ $ctrl.i18n.TIME }}</button>\n    </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("rapidDriveThru.html",[]).run(["$templateCache",function(e){e.put("rapidDriveThru.html",'<div class="row">\n  <h2 class="col-xs-12">\n    {{ $ctrl.i18n.TITLE }}\n  </h2>\n</div>\n<div class="row">\n  <img ng-src="{{ $ctrl.images.inside }}"\n       alt="{{ $ctrl.i18n.INSIDE }}"\n       class="col-xs-12 col-sm-6">\n  <img ng-src="{{ $ctrl.images.drivethru }}"\n       alt="{{ $ctrl.i18n.DRIVE_THRU }}"\n       class="col-xs-12 col-sm-6">\n</div>\n<div class="row img-container">\n  <div class="col-xs-12">\n    <button class="pnra-btn" ng-click="$ctrl.close()">\n      {{ $ctrl.i18n.BUTTON }}\n    </button>\n  </div>\n</div>')}]),angular.module("receipt.html",[]).run(["$templateCache",function(e){e.put("receipt.html",'<div class="container" cg-busy="{promise: $ctrl.loading, wrapperClass: \'pnra-loading fixed\'}">\n  <div ng-if="$ctrl.errors">\n    <error ng-repeat="error in $ctrl.errors">\n      {{ error | pnraTranslate }}\n    </error>\n  </div>\n  <div ng-if="$ctrl.order">\n    <pnra-receipt order="$ctrl.order"></pnra-receipt>\n  </div>\n</div>\n')}]),angular.module("registration.html",[]).run(["$templateCache",function(e){e.put("registration.html",'<div cg-busy="{promise: $ctrl.registrationPromise}">\n  <p class="col-xs-12 text-center" ng-if="$ctrl.isFullReg">\n    {{ $ctrl.i18n.ALREADY_HAVE_AN_ACCOUNT}}\n    <a ng-click="$ctrl.launchLoginModal()" href title="{{ $ctrl.i18n.SIGN_IN }}">\n      {{ $ctrl.i18n.SIGN_IN }}\n    </a>\n  </p>\n  <div class="tile-block">\n    <h2>{{ $ctrl.title }}</h2>\n    <p>{{ $ctrl.subtitle }}</p>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <form name="$ctrl.regForm"\n            sf-schema="$ctrl.schema"\n            sf-form="$ctrl.form"\n            sf-model="$ctrl.model"\n            sf-options="$ctrl.options"\n            ng-submit="$ctrl.register()">\n      </form>\n    </div>\n    <div class="col-xs-12 disclaimer">\n      <p ng-bind-html="$ctrl.i18n.REGISTRATION_DISCLAIMER"></p>\n    </div>\n  </div>\n</div>\n')}]),angular.module("error.html",[]).run(["$templateCache",function(e){e.put("error.html",'<div>\n  <i class="fa fa-warning">\n  </i>\n  <span ng-transclude>\n  </span>\n</div>\n')}]),angular.module("mtModal.controller.html",[]).run(["$templateCache",function(e){e.put("mtModal.controller.html",'<div class="mt-modal-container">\n  <i ng-click="$ctrl.closeModal()" class="btn-modal-close"></i>\n  <div class="hidden-xs">\n    <img ng-src="{{ $ctrl.desktopImgSrc }}">\n  </div>\n  <div class="visible-xs">\n    <img ng-src="{{ $ctrl.mobileImgSrc }}">\n  </div>\n</div>\n')}]),angular.module("card.html",[]).run(["$templateCache",function(e){e.put("card.html",'<div class="row">\n  <!-- Card Info -->\n  <div class="pay-pal-logo" ng-if="cardInfo.isPayPal">\n    <img ng-src="{{::payPalLogo}}" />\n  </div>\n  <div ng-class="{\'col-xs-12\': !cardInfo.isPayPal, \'col-md-12 paypal-card-info\':cardInfo.isPayPal}" ng-if="!showEditFormBool">\n    <p ng-if="cardInfo.isPayPal">{{::payPal}}</p>\n    <p ng-if="cardInfo.cardName && cardInfo.cardName != \'null\'">{{cardInfo.cardName}}</p>\n    <p ng-if="!cardInfo.isGiftCard && !cardInfo.isPayPal">{{cardInfo.cardType}} {{cardInfo.lastFour}}</p>\n    <p ng-if="cardInfo.isGiftCard">{{::gift}} {{cardInfo.lastFour}}</p>\n    <p ng-if="cardInfo.expDate">{{::exp}} {{cardInfo.expDate}}</p>\n  </div>\n  <!-- Edit Card Form -->\n  <div class="row" ng-if="showEditFormBool">\n    <div class="col-xs-12">\n      <form name="editStoredCard"\n            sf-form="form"\n            sf-schema="schema"\n            sf-options="options"\n            sf-model="model"\n            ng-submit="updateCard(editStoredCard)">\n      </form>\n    </div>\n  </div>\n  <!-- Card Controls -->\n  <div class="row">\n    <div class="col-xs-12" ng-if="!showEditFormBool">\n    <!-- Default Selection -->\n      <div class="radio col-xs-6">\n        <label ng-if="!cardInfo.isGiftCard && !cardInfo.isPayPal">\n          <input type="radio"\n                 name="defaultStoredCard"\n                 ng-model="cardInfo.isDefault"\n                 ng-click="setDefaultCreditCard({card: cardInfo})"\n                 ng-value="true">\n                 <span class="check"></span>{{::defaultCreditCard}}\n        </label>\n      </div>\n      <!-- Gift Card Balance -->\n      <div ng-if="cardInfo.isGiftCard && cardInfo.balance" class="col-xs-6">\n        <div class="row gift-balance">\n          <p class="col-xs-6">{{::balance}}:</p>\n          <p class="col-xs-6">{{cardInfo.balance | currency: USD}}</p>\n        </div>\n      </div>\n      <!-- Button Selections -->\n      <div ng-class="{\'col-xs-12 col-sm-6 pull-right\': cardInfo.isGiftCard,\n                      \'col-xs-6\': !cardInfo.isGiftCard}">\n        <div ng-if="gcIsEnabled && cardInfo.isGiftCard" class="col-xs-4 no-padding-left">\n          <a ng-href="{{ ::paneraUrls.reloadCard }}" class="btn btn-primary col-xs-12">\n            {{::reload}}\n          </a>\n        </div>\n        <div ng-class="{\'col-xs-4 no-padding\': cardInfo.isGiftCard,\n                        \'col-xs-5 col-xs-offset-1 no-padding\': !cardInfo.isGiftCard}"\n             ng-if="!cardInfo.isPayPal && (!cardInfo.isGiftCard || gcIsEnabled)">\n          <button class="btn btn-default col-xs-12 no-padding" ng-click="showEditForm()">\n            {{::edit}}\n          </button>\n        </div>\n        <div ng-class="{\'col-xs-4 no-padding-right\': cardInfo.isGiftCard,\n                        \'col-xs-5 col-xs-offset-1 no-padding\': !cardInfo.isGiftCard && !cardInfo.isPayPal,\n                        \'col-xs-8 col-sm-5 no-padding pull-right\': cardInfo.isPayPal}">\n          <button class="btn btn-default col-xs-12 no-padding"\n                  ng-if="(gcIsEnabled && cardInfo.isGiftCard) || !cardInfo.isGiftCard"\n                  ng-click="deleteCard()"\n                  ng-disabled="disableDeleteBtn">\n            {{::delete}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<hr class="artisan">\n')}]),angular.module("groupOrderPlacard.html",[]).run(["$templateCache",function(e){e.put("groupOrderPlacard.html",'<div class="groupPlacard">\n  <div class="row ">\n    <h3 class="col-xs-8">{{$ctrl.order.groupSummary.groupOrderName}}</h3>\n    <div class="col-xs-4">\n      <div class="row">\n        <div class="col-xs-12">\n          <p class="groupOrderLimit pull-right">\n            {{$ctrl.order.groupSummary.minParticipants}} - {{$ctrl.order.groupSummary.maxParticipants}}\n            <i class="fa fa-users"></i>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 orderStatus">\n      <p ng-class="$ctrl.orderDisplay.status.isExpired ? \'failed\' : \'success\'">\n        {{ $ctrl.orderDisplay.status.message }}\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-sm-12 col-md-2">\n      <div class="orderTypeWrapper">\n        <img ng-src="{{$ctrl.orderType.orderTypeImage}}" ng-class="$ctrl.orderType.orderTypeClass">\n      </div>\n    </div>\n    <div class="col-xs-12 col-sm-12 col-md-10">\n      <div class="row">\n        <div class="col-xs-12 content-region">{{ $ctrl.orderDisplay.orderType }}</div>\n      </div>\n      <div class="row">\n        <p class="col-xs-12 content-region">\n        {{ $ctrl.orderDisplay.addressType }}<br>\n        {{ $ctrl.orderDisplay.address1 }}<br>\n        {{ $ctrl.orderDisplay.address2 }}\n        </p>\n      </div>\n      <div class="row">\n        <div class="col-xs-12" ng-class="{\'error\': $ctrl.orderDisplay.status.status === \'missed\'}">\n          {{ $ctrl.orderDisplay.fulfillmentTime }}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("pastRewardPlacard.component.html",[]).run(["$templateCache",function(e){e.put("pastRewardPlacard.component.html",'<div class="row reward-placard-container">\n  <div class="col-xs-4 text-center">\n    <i class="fa fa-circle "\n       ng-class="{\'expired\': !$ctrl.rewardIcon, \'text-success\': $ctrl.rewardIcon}"\n       aria-hidden="true">\n      <img ng-if="$ctrl.rewardIcon" ng-src="{{::$ctrl.rewardIcon}}"\n           class="no-padding no-border">\n      <span ng-if="!$ctrl.rewardIcon">{{ $ctrl.i18n.REWARD_EXPIRED }}</span>\n    </i>\n  </div>\n  <div class="reward-details col-xs-8">\n    <div class="row">\n      <div class="col-xs-12">\n        <h4>{{$ctrl.reward.name}}</h4>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <p class="redeem">{{ $ctrl.i18n.EARNED_DATE_LABEL }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("rewardDescription.html",[]).run(["$templateCache",function(e){e.put("rewardDescription.html",'<div class="row">\n  <span class="col-xs-12">\n    {{reward.rewardDescription}}\n  </span>\n</div>\n')}]),angular.module("rewardPlacard.html",[]).run(["$templateCache",function(e){e.put("rewardPlacard.html",'<div class="rewardCount" ng-if="reward.quantity - reward.quantityRemaining > 1">\n  <p>{{reward.quantity - reward.quantityRedeemed}}</p>\n  <p>{{\'TOTAL\' | translate}}</p>\n</div>\n<div class="row reward-placard-container">\n  <div ng-class="{\'col-xs-12\': sidePanel, \'col-xs-12 col-sm-6\': !sidePanel}">\n    <div class="row">\n      <img ng-src="{{::reward.discCode | usage: \'reward\'}}"\n           alt="{{\'REWARD_IMAGE_ALT\' | translate}}"\n           class="col-xs-12 no-padding">\n    </div>\n  </div>\n  <div class="reward-details" ng-class="{\'col-xs-12\': sidePanel, \'col-xs-12 col-sm-6\': !sidePanel}">\n    <div class="row">\n      <div class="col-xs-12">\n        <h4>{{reward.name}}</h4>\n      </div>\n    </div>\n    <div class="row" ng-if="!reward.isRedeemed">\n      <div class="col-xs-12">\n        <p class="redeem">{{\'REDEEM_BY\' | translate}} {{reward.expiryDate}}</p>\n        <p class="more-info">\n          <a uib-popover-template="\'rewardDescription.html\'"\n             popover-placement="bottom"\n             popover-trigger="\'{{trigger}}\'"\n             popover-popup-delay="350"\n             popover-append-to-body="true">\n             {{\'REWARD_MORE_INFO\' | translate}}\n          </a>\n        </p>\n        <button class="btn btn-primary" type="button" ng-click="redeem(reward)">\n          {{\'REDEEM\' | translate}} <i class="fa-arrow-right"></i>\n        </button>\n      </div>\n    </div>\n    <div class="row" ng-if="reward.isRedeemed">\n      <div class="col-xs-12">\n        <p class="redeem">{{\'REWARD_ALREADY_USED\' | translate}}</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("instructionGroup.html",[]).run(["$templateCache",function(e){e.put("instructionGroup.html",'<div class="row" id="builder-specialInstructions">\n  <div class="col-xs-12">\n    <h3>{{ \'SPECIAL_INSTRUCTIONS\' | translate }}</h3>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-xs-12">\n    <ol>\n      <li ng-class="{selected: isSelected}"\n          ng-click="makeSelection()">\n        <span ng-if="shouldAlterTitle()">{{ title }}</span>\n        <span ng-if="!shouldAlterTitle()">{{ \'MAKE_A_SELECTION\' | translate }}</span>\n      </li>\n    </ol>\n  </div>\n</div>');
}]),angular.module("itemGroup.html",[]).run(["$templateCache",function(e){e.put("itemGroup.html",'<div class="row hidden-xs" id="builder-itemGroup">\n  <div class="col-sm-12">\n    <h3>{{ \'CUSTOMIZE\' | translate }}</h3>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <ol>\n      <li ng-class="{selected: \'popular\' === selectedId}"\n          ng-click="setId(\'popular\')"\n          ng-if="popular">\n        {{ popular.i18nName | translate }}\n      </li>\n      <li ng-repeat="modGroup in modGroups"\n          ng-class="{selected: modGroup.modGroupId === selectedId}"\n          ng-click="setId(modGroup.modGroupId)">\n        <i class="fa-exclamation-triangle" ng-if=\'hasError({id: modGroup.modGroupId})\'\n           uib-tooltip="{{hasError({id: modGroup.modGroupId}).message}}"></i>\n        {{ modGroup.i18nName | translate }}\n      </li>\n    </ol>\n  </div>\n</div>\n')}]),angular.module("sideGroup.html",[]).run(["$templateCache",function(e){e.put("sideGroup.html",'<div class="row" id="builder-sideGroup">\n  <div class="col-xs-12">\n    <h3>{{ \'SIDES_TITLE\' | translate }}</h3>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <ol>\n      <li ng-class="{selected: isSelected}"\n          ng-click="makeSelection()">\n        <i class="fa-exclamation-triangle" ng-if="hasError({id: \'side\'})"\n           uib-tooltip="{{hasError({id: \'side\'}).message}}"></i>\n        {{ selectedSideName | translate }}\n        <span class="hidden-xs" ng-if="calories.value > 0">({{calories.value | number:0}}\n        {{calories.unit | translate}})</span>\n      </li>\n    </ol>\n  </div>\n</div>\n')}]),angular.module("instructionSelection.html",[]).run(["$templateCache",function(e){e.put("instructionSelection.html",'<li class="col-xs-12">\n\n<!-- Preparation -->\n  <div ng-if="data.preparation.enabled"\n       id="preparation">\n    <div class="row">\n      <div class="col-xs-12">\n        <h3>{{ \'PREPARATION\' | translate }}</h3>\n      </div>\n    </div>\n    <ul class="row">\n      <li ng-repeat="type in data.preparation.instructions"\n          ng-class="{selected: selection.preparation === $index}"\n          ng-click="setPreparationSelection($index)"\n          class="col-xs-6 instruction-box">\n        <div class="row">\n          <div ng-if="type.imgKey" class="col-xs-3">\n            <img ng-src="{{::type.imgKey}}" alt="{{ type.i18nName | translate }}">\n          </div>\n          <div ng-class="{\'col-xs-9\': type.imgKey, \'col-xs-12\': !type.imgKey}">\n            <span class="vcenter">{{ type.i18nName | translate }}</span>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n\n  <form sf-form="form"\n        sf-model="selection"\n        sf-options="options"\n        sf-schema="schema">\n  </form>\n\n</li>\n')}]),angular.module("itemSelection.html",[]).run(["$templateCache",function(e){e.put("itemSelection.html",'<li ng-class="{selected: localData.isSelected}"\n    ng-click="selectItem()"\n    class="col-xs-12 item-selection">\n  <div class="row">\n    <div class="col-xs-6 col-sm-7">\n      <div class="checkbox row">\n        <label class="col-xs-12">\n          <input type="checkbox"\n                 ng-model="localData.isSelected"\n                 ng-checked="localData.isSelected">\n          <span class="check"></span>\n          {{ data.i18nName | translate }}\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-6 col-sm-5">\n      <div ng-if="shouldDisplayVariants() && !isUnavailable">\n        <!-- MOBILE/TABLET DROPDOWN -->\n        <form class="visible-xs visible-sm">\n          <div class="styled-select">\n            <select ng-model="localData.selectedVariant"\n                    ng-change="selectVariant(localData.selectedVariant)"\n                    ng-options="variant as formatVariant(variant) for variant in variants">\n            </select>\n          </div>\n        </form>\n        <!-- DESKTOP DROPDOWN -->\n        <div class="btn-group hidden-xs hidden-sm" uib-dropdown>\n          <button type="button" class="btn uib-dropdown-toggle">\n            {{ formatVariant(localData.selectedVariant) }}\n          </button>\n          <button type="button"\n                  class="btn uib-dropdown-toggle btn-caret"\n                  uib-dropdown-toggle>\n            <i class="fa-caret-down"></i>\n          </button>\n          <ul class="uib-dropdown-menu" role="menu" uib-dropdown-menu>\n            <li ng-repeat="variant in variants" ng-click="selectVariant(variant)">\n              {{ formatVariant(variant) }}\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div ng-if="isUnavailable">\n        <div class="checkbox pull-right stockout">\n          <i class="fa-exclamation-triangle"></i>\n          &nbsp;\n          {{\'UNAVAILABLE\' | translate}}\n        </div>\n      </div>\n    </div>\n  </div>\n</li>\n')}]),angular.module("preparationSelection.html",[]).run(["$templateCache",function(e){e.put("preparationSelection.html",'<li ng-class="{selected: isSelected}"\n    class="col-xs-12 preparation-selection">\n  <div class="row">\n    <div class="col-xs-7">\n      <div class="checkbox">\n        <label for="">\n          {{ data.i18nName | translate }}\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-5 pull-right">\n      <div class="select-arrow">\n        <select ng-model="selected.id"\n                class="form-control">\n          <option ng-repeat="variant in data.variants"\n                ng-selected="{{variant.itemId === selected.id}}"\n                value="variant.itemId">\n            {{ variant.i18nName | translate }}\n          </option>\n        </select>\n      </div>\n    </div>\n  </div>\n</li>\n')}]),angular.module("quantitySelection.html",[]).run(["$templateCache",function(e){e.put("quantitySelection.html",'<li ng-class="{selected: localData.isSelected}" class="col-xs-12 quantity-selection" >\n  <div class="row">\n    <div class="col-xs-7" ng-click="selectItem()">\n      <div class="checkbox row">\n        <label class="col-xs-12">\n          <input type="checkbox"\n                 ng-model="localData.isSelected"\n                 ng-checked="localData.isSelected">\n          <span class="check"></span>\n          {{ data.i18nName | translate }}\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-5">\n      <div class="row quantitySelector unselectable">\n        <div class="col-xs-12 text-right"\n             ng-if="shouldDisplayQuantitySelector()">\n          <span ng-if="data.i18nQtyUnitLbl">\n            {{ data.i18nQtyUnitLbl | translate }}\n          </span>\n          <i  class="fa-lg fa-minus-circle"\n              ng-click="decreaseQty()"\n              ng-class="{disable: quantity <= data.minAllowed}">\n          </i>\n          <span>\n            {{ quantity }}\n          </span>\n          <i  class="fa-lg fa-plus-circle"\n              ng-click="increaseQty()"\n              ng-class="{disable: quantity >= (data.maxAllowed || 999)}">\n          </i>\n        </div>\n        <div class="col-xs-12 text-right stockout"\n             ng-if="isUnavailable">\n          <i class="fa-exclamation-triangle"></i>&nbsp;\n          {{\'UNAVAILABLE\' | translate}}\n        </div>\n      </div>\n    </div>\n  </div>\n</li>\n')}]),angular.module("sideSelection.html",[]).run(["$templateCache",function(e){e.put("sideSelection.html",'<li ng-class="{selected: data.itemId === selection.selectedSide}"\n    ng-click="selectSide()"\n    class="col-xs-12 col-sm-6 side-selection">\n    <div class="row side-item">\n      <div class="col-xs-2">\n        <img ng-src="{{ data.imgKey | usage: \'icon\' }}" alt="{{ data.i18nName | translate }}">\n      </div>\n      <div class="col-xs-10 side-item-desc">\n        <span ng-class="{vcenter: !data.calories.value}">{{ data.i18nName | translate }}</span>\n        <span ng-if="data.calories.value" class="nutrition">\n          {{ data.calories.value | number:0 }}\n          {{ data.calories.unit | translate }}\n        </span>\n      </div>\n      <span ng-if="!isUnavailable && data.price > 0" class="price">+{{ data.price | currency }}</span>\n      <span ng-if="isUnavailable" class="price stockout">\n        <i class="fa-exclamation-triangle"></i>\n        {{ ::\'UNAVAILABLE\' | translate }}\n      </span>\n    </div>\n</li>\n')}]),angular.module("cafeMapInfoBox.component.html",[]).run(["$templateCache",function(e){e.put("cafeMapInfoBox.component.html",'<div class="map-info">\n  <div class="row info-box-content">\n    <div class="col-xs-12 col-sm-7">\n      <h5 class="subheadline no-margin">{{$ctrl.cafe.Name}} &num;{{$ctrl.cafe.cafeId}}</h5>\n      <p class="no-margin">\n        {{$ctrl.cafe.StreetName}}<br>\n        {{$ctrl.cafe.City}}, {{$ctrl.cafe.State}} {{$ctrl.cafe.Zip}}<br>\n        {{$ctrl.cafe.Phone}}\n      </p>\n    </div>\n    <div class="col-xs-12 col-sm-5">\n      <div class="row">\n        <div class="col-xs-6 col-sm-12">\n          <h5 class="subheadline no-margin">{{ $ctrl.i18n.AVAILABLE_HERE }}</h5>\n          <p class="no-margin">\n            {{ $ctrl.i18n.FREE_WI_FI }}<br>\n            <span ng-if="$ctrl.cafe.HasCatering === \'YES\'">\n              {{ $ctrl.i18n.CATERING }}<br>\n            </span>\n            <span ng-if="$ctrl.cafe.HasCommunityRooms === \'YES\'">\n              {{ $ctrl.i18n.COMMUNITY_ROOMS }}<br>\n            </span>\n            <span ng-if="$ctrl.cafe.HasDriveThru === \'YES\'">\n              {{ $ctrl.i18n.DRIVE_THRU }}\n            </span>\n          </p>\n        </div>\n        <div class="col-xs-6 col-sm-12">\n          <!--icons for other three -->\n          <ul class="infoIcons list-inline no-margin">\n            <li class="available-items no-margin" ng-repeat="icon in $ctrl.cafe.orderTypeIcons">\n              <img ng-src="{{::icon}}">\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="artisan">\n    </div>\n    <div class="col-xs-12">\n      <button class="btn btn-primary btn-block"\n              ng-if="$ctrl.cafe.EcommerceEnabled === \'YES\'"\n              ng-click="$ctrl.setCafe({cafe: $ctrl.cafe})">{{ $ctrl.i18n.ORDER }}\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("placardInfo.html",[]).run(["$templateCache",function(e){e.put("placardInfo.html",'<div class="row">\n  <img class="col-xs-3 col-md-4"\n       ng-src="{{ cartItem.imgKey | usage:\'placard\' }}"\n       alt="{{ cartItem.i18nName | translate }}">\n  </img>\n\n  <div class="col-xs-9 col-md-8">\n    <div class="row">\n      <div class="col-xs-12">\n        <h4>\n          <span ng-if="itemPrefix">{{ itemPrefix | translate }} {{ itemIndex + 1 }}: </span>\n          <span class="variant" ng-if="cartItem.i18nModLbl">{{cartItem.i18nModLbl | translate}}</span>\n          {{ cartItem.i18nName | translate }}\n        </h4>\n        <p ng-if="cartItem.isUnavailable || cartItem.isProductStockout" class="not-available">\n          {{ \'ITEM_NOT_AVAILABLE\' | translate }}\n        </p>\n        <p ng-if="cartItem.hasUnavailableIngredients" class="not-available">\n          {{ \'SOME_INGREDIENTS_ON_THIS_ITEM_ARE_UNAVAILABLE\' | translate }}\n        </p>\n        <p ng-if="cartItem.hasUnavailableSide" class="not-available">\n          {{ \'SIDE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n        </p>\n        <p ng-if="cartItem.hasUnavailableSize" class="not-available">\n          {{ \'SIZE_CHOICE_FOR_THIS_ITEM_IS_UNAVAILABLE\' | translate }}\n        </p>\n      </div>\n    </div>\n    <div class="row">\n      <p class="col-xs-12">\n        <span class="defaultComponent" ng-repeat="component in defaultComponents">\n          <span ng-if="component.quantity > 1">{{component.quantity}}&nbsp;</span>\n          {{ component.i18nName | translate }}&#59;&nbsp;\n        </span>\n        <span class="addedComponent" ng-repeat="component in additionalComponents">\n          <span ng-if="component.itemQty > 1">{{component.itemQty}}&nbsp;</span>\n          {{ component.i18nName | translate }}&#59;&nbsp;\n        </span>\n        <span ng-repeat="component in removedComponents">\n          <span class="removedComponent">{{ component.i18nName | translate }};</span>&nbsp;\n        </span>\n      </p>\n    </div>\n    <hr class="row hairline"\n        ng-if="cartItem.specialInstructions.yourName || cartItem.specialInstructions.specialInstructions">\n    <div ng-if="cartItem.specialInstructions.yourName" class="row">\n      <div class="col-xs-12 preparedFor">\n        <span>{{ \'PREPARED_FOR\' | translate }} {{ cartItem.specialInstructions.yourName }}</span>\n      </div>\n    </div>\n    <div ng-if="cartItem.specialInstructions.specialInstructions" class="row">\n      <div class="col-xs-12 specialInstructions">\n        <p>{{ cartItem.specialInstructions.specialInstructions }}</p>\n      </div>\n    </div>\n    <div class="row sideItem" ng-if="confirmed && sideItem">\n      <div class="col-xs-12">\n        {{\'WITH\' | translate}} {{ sideItem.i18nName | translate }}\n      </div>\n    </div>\n    <div ng-if="cartItem.allergens.length > 0" class="row">\n      <div class="col-xs-12 allergens">\n        <p>\n          {{ \'CUSTOMER_ALLERGIES\' | translate }}&colon;\n          <span ng-repeat="allergen in cartItem.allergens track by $index">\n'+"            {{allergen.i18nName | translate}}{{$last ? '' : ', '}}\n          </span>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n")}]),angular.module("goCartPanel.html",[]).run(["$templateCache",function(e){e.put("goCartPanel.html",'<div class="row">\n  <div class="col-xs-12">\n    <h3>{{ $ctrl.i18n.PARTICIPANTS }}</h3>\n    <p>\n      {{ $ctrl.ordersPlaced }}\n    </p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <div class="cartDetail noCarts" ng-if="$ctrl.numCarts < 1 && !$ctrl.addMeToOrder">\n      {{ $ctrl.i18n.OTHER_PARTICIPANTS_APPEAR_HERE }}\n    </div>\n    <div class="cartDetail" ng-if="$ctrl.numCarts > 0 || $ctrl.addMeToOrder">\n      <div ng-if="$ctrl.addMeToOrder">\n        <go-cart-details start-order="$ctrl.startOrder()" i18n="$ctrl.i18n"></go-cart-details>\n      </div>\n      <go-cart-details\n              ng-repeat="cart in $ctrl.carts | orderBy : [\'isAdmin\', \'customer.firstName\', \'customer.lastName\']"\n                        cart="cart"\n                        i18n="$ctrl.i18n"\n                        customer-info="$ctrl.customerInfo"\n                        remove-cart="$ctrl.removeCart(orderId)">\n      </go-cart-details>\n    </div>\n  </div>\n</div>\n<div class="row orderTotal">\n  <p ng-if="$ctrl.numCarts > 0" class="col-sm-offset-6 col-sm-6 col-xs-12 copy">\n    {{ $ctrl.i18n.ORDER_TOTAL }} {{ $ctrl.order.groupSummary.totalPrice | currency }}</p>\n  <div ng-if="!$ctrl.isAdminOrdered && !$ctrl.addMeToOrder" class="col-xs-12">\n    <button ng-click="$ctrl.addMeToOrder = true" class="btn btn-default addToOrderBtn">\n      {{ $ctrl.i18n.ADD_ME_TO_ORDER}}\n    </button>\n  </div>\n</div>\n<div class="row visible-xs" ng-if="$ctrl.addMeToOrder">\n  <div class="col-xs-12">\n    <button ng-click="$ctrl.startOrder()" class="btn btn-primary orderBtn">\n      {{ $ctrl.i18n.ORDER }}\n    </button>\n  </div>\n</div>\n')}]),angular.module("goDashboardTimes.html",[]).run(["$templateCache",function(e){e.put("goDashboardTimes.html",'<div class="row">\n  <div class="col-xs-12 col-md-6">\n    <h3>{{ $ctrl.i18n.ORDER_CUTOFF }}</h3>\n    <div class="order-time" ng-class="{\'today\': $ctrl.isToday}">\n      <go-deadline show-countdown="false" order="$ctrl.groupOrder"></go-deadline>\n    </div>\n  </div>\n  <div class="col-xs-12 col-md-6">\n    <h3>{{ $ctrl.i18n.FOR_DELIVERY_BY }}</h3>\n    <div class="order-time" ng-class="{\'today\': $ctrl.isToday}">\n      <p>\n        <span class="today-time">{{$ctrl.orderFulfillmentTime.dateTime}}</span>\n        <span class="am-pm">{{$ctrl.orderFulfillmentTime.amPm}}</span>\n        <span class="today-time"\n              ng-if="$ctrl.orderFulfillmentTime.dateTime2">{{$ctrl.orderFulfillmentTime.dateTime2}}</span>\n        <span class="am-pm"\n              ng-if="$ctrl.orderFulfillmentTime.amPm2">{{$ctrl.orderFulfillmentTime.amPm2}}</span>\n      </p>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goDeliveryDetails.html",[]).run(["$templateCache",function(e){e.put("goDeliveryDetails.html",'<div class="row">\n  <div class="col-xs-12">\n    <h3>{{ $ctrl.i18n.DELIVERY_DETAILS }}</h3>\n    <address>\n      <span ng-if="$ctrl.groupOrderName">{{ $ctrl.groupOrderName }}<br></span>\n      <span ng-if="$ctrl.address.address1">{{ $ctrl.address.address1 }}<br></span>\n      <span ng-if="$ctrl.address.address2">{{ $ctrl.address.address2 }}<br></span>\n      <span ng-if="$ctrl.address.address3">{{ $ctrl.address.address3 }}<br></span>\n    </address>\n  </div>\n</div>\n')}]),angular.module("goInfoPanel.html",[]).run(["$templateCache",function(e){e.put("goInfoPanel.html",'<div class="infoPanel col-xs-12 col-sm-4">\n  <div class="row">\n    <div class="col-xs-12">\n      <h5 class="sectionTitle">{{ $ctrl.sectionTitle }}</h5>\n      <p class="subTitle">{{ $ctrl.subTitle }}</p>\n      <div class="contentBlock">\n        <div ng-switch="$ctrl.contentType">\n          <div ng-switch-when="order">\n            <div class="row">\n              <p class="col-xs-12">\n                <span class="order-type">{{ $ctrl.orderDisplay.orderType }}</span>\n                {{ $ctrl.orderDisplay.addressType }}<br>\n                {{ $ctrl.orderDisplay.address1 }}<br>\n                {{ $ctrl.orderDisplay.address2 }}\n              </p>\n            </div>\n          </div>\n          <p ng-switch-when="time" class="subTitle">\n            {{ $ctrl.orderTime }}\n          </p>\n        </div>\n        <p>{{ $ctrl.contentText }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goInvite.html",[]).run(["$templateCache",function(e){e.put("goInvite.html",'<div class="row go-invite-container">\n  <div class="col-xs-12">\n    <div class="row">\n      <div class="col-xs-12">\n        <h2>{{ $ctrl.i18n.INVITE_OTHERS_TO_ORDER }}</h2>\n        <p>\n          {{ $ctrl.i18n.EMAIL_OR_TEXT_THIS_LINK }}\n        </p>\n      </div>\n    </div>\n    <action-overlay overlay-id="$ctrl.desktopOverlayId">\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="groupOrderLinkArea">\n            <div class="row">\n              <div class="hidden-xs" ng-class="$ctrl.isClipSupported ? \'col-sm-8 col-md-10\' : \'col-xs-12\'">\n                <p class="inviteLink">\n                  {{ $ctrl.inviteLink }}\n                </p>\n              </div>\n              <div ng-if="$ctrl.isClipSupported" class="col-xs-6 col-sm-4 col-md-2 copy-link-section" >\n                <action-overlay overlay-id="$ctrl.mobileOverlayId">\n                  <button clipboard\n                          class="btn action-button"\n                          text="$ctrl.inviteLink"\n                          on-copied="$ctrl.success()">\n                    <div class="action-button-img visible-xs">\n                      <img ng-src="{{$ctrl.imgSrc.link}}">\n                    </div>\n                    <div class="action-button-text">\n                      <p>{{ $ctrl.i18n.COPY_LINK }}</p>\n                    </div>\n                  </button>\n                </action-overlay>\n                <p class="hint-text hidden-xs">\n                  <a ng-href="{{ $ctrl.mailtoLink }}">{{ $ctrl.i18n.OR_SEND_BY_EMAIL }}</a>\n                </p>\n              </div>\n              <div class="text-center visible-xs" ng-class="!$ctrl.isClipSupported? \'col-xs-12\': \'col-xs-6\'">\n                <a class="btn btn-primary action-button" ng-href="{{ $ctrl.mailtoLink }}">\n                  <div class="action-button-img">\n                    <img ng-src="{{$ctrl.imgSrc.email}}">\n                  </div>\n                  <div class="action-button-text">\n                    <p>{{ $ctrl.i18n.GO_INVITE_VIA_EMAIL }}</p>\n                  </div>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </action-overlay>\n    <div class="row visible-xs">\n      <div class="col-xs-12">\n        <p class="inviteLink selectable">\n          {{ $ctrl.inviteLink }}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goOrderType.html",[]).run(["$templateCache",function(e){e.put("goOrderType.html",'<div class="row step-section" ng-if="$ctrl.shouldSelectOrderType">\n  <div class="col-xs-12">\n    <order-type show-selected="true"\n                is-group-order="true"\n                enabled-order-types="$ctrl.enabledOrderTypes">\n    </order-type>\n  </div>\n</div>\n\n<div ng-if="$ctrl.isRapidPickup">\n  <div ng-if="!$ctrl.isCafeSelected">\n    <div class="row step-section">\n      <div class="col-xs-12">\n        <cafe-selector show-my-cafe-links="true"\n                       show-features-filter="false"\n                       show-slogan="true"\n                       button-label="SELECT_CAFE"\n                       select-cafe="$ctrl.selectCafe(cafe)"\n                       map-center="$ctrl.mapCenter"\n                       current-location="$ctrl.currentLocation"\n                       features-filter="$ctrl.featuresFilter"\n                       display-removed="true">\n        </cafe-selector>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.isCafeSelected">\n    <div class="row step-section">\n      <div class="col-xs-12">\n        <h3>{{ $ctrl.i18n.YOUR_DELIVERY_ADDRESS }}</h3>\n        <p>\n          {{ $ctrl.cafe.StreetName }}<br>\n          {{ $ctrl.cafe.City }} {{ $ctrl.cafe.State }} {{ $ctrl.cafe.Zip }}<br>\n          {{ $ctrl.cafe.Phone }}\n        </p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <a ng-click="$ctrl.clearCafe()">{{ $ctrl.i18n.CHANGE }}</a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.isDelivery">\n  <div ng-if="!$ctrl.isCafeSelected">\n    <div class="row">\n      <delivery-address select-cafe="$ctrl.selectCafe(cafe)"\n                        is-group-order="true"\n                        start-individual-order="$ctrl.startIndividualOrder(cafe)">\n      </delivery-address>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.isCafeSelected" class="delivery-address">\n    <div class="row">\n      <div class="col-xs-12 header">\n        <h3>{{ $ctrl.i18n.YOUR_DELIVERY_ADDRESS }}</h3>\n      </div>\n      <div class="col-xs-12 hidden-xs">\n        <p>\n          <img ng-src="{{ $ctrl.confirmImg }}">\n          <span ng-if="$ctrl.deliveryInfo.address1">{{ $ctrl.deliveryInfo.address1 }},&nbsp;</span>\n          <span ng-if="$ctrl.deliveryInfo.city">{{ $ctrl.deliveryInfo.city }},&nbsp;</span>\n          <span ng-if="$ctrl.deliveryInfo.state">{{ $ctrl.deliveryInfo.state }}&nbsp;</span>\n          <span ng-if="$ctrl.deliveryInfo.postalCode">{{ $ctrl.deliveryInfo.postalCode }}&nbsp;</span>\n          <a ng-click="$ctrl.clearCafe()">{{ $ctrl.i18n.CHANGE_ADDRESS }}</a>\n        </p>\n      </div>\n      <div class="col-xs-12 visible-xs">\n        <div class="row">\n          <div class="col-xs-2">\n            <img ng-src="{{ $ctrl.confirmImg }}">\n          </div>\n          <div class="col-xs-10">\n            <p>\n              <span ng-if="$ctrl.deliveryInfo.address1">{{ $ctrl.deliveryInfo.address1 }}<br></span>\n              <span ng-if="$ctrl.deliveryInfo.city">{{ $ctrl.deliveryInfo.city }},&nbsp;</span>\n              <span ng-if="$ctrl.deliveryInfo.state">{{ $ctrl.deliveryInfo.state }}&nbsp;</span>\n              <span ng-if="$ctrl.deliveryInfo.postalCode">{{ $ctrl.deliveryInfo.postalCode }}</span>\n              <a ng-click="$ctrl.clearCafe()"><br>{{ $ctrl.i18n.CHANGE_ADDRESS }}</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("goPayment.html",[]).run(["$templateCache",function(e){e.put("goPayment.html",'<div class="row step-section">\n  <div class="col-xs-12">\n    <div class="form-group">\n      <h3>{{$ctrl.i18n.WHO_WILL_PAY}}</h3>\n      <div class="btn-group radio-buttons">\n        <label class="btn btn-default col-xs-12 col-sm-5"\n               ng-model="$ctrl.leaderPays"\n               uib-btn-radio="false"\n               ng-click="$ctrl.setLeaderPays(false)">\n          <i class="fa fa-users fa-2x"></i> {{ $ctrl.i18n.PAY_INDIVIDUALLY }}\n        </label>\n        <label class="btn btn-default col-xs-12 col-sm-5"\n               ng-model="$ctrl.leaderPays"\n               uib-btn-radio="true"\n               ng-click="$ctrl.setLeaderPays(true)">\n          <i class="fa fa-user fa-2x"></i> {{ $ctrl.i18n.I_WILL_PAY }}\n        </label>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.leaderPays === false">\n  <div class="row step-section">\n    <div class="col-xs-12">\n      <h3>{{$ctrl.i18n.APPROVAL_OPTIONS}}</h3>\n      <div class="btn-group radio-buttons check-box">\n        <label class="btn btn-default"\n               ng-model="$ctrl.leaderReview"\n               uib-btn-radio="false"\n               ng-click="$ctrl.setLeaderReview(false)">\n          <h3>{{ $ctrl.i18n.AUTOMATICALLY_PLACE_ORDER }}</h3>\n          <p>{{ $ctrl.i18n.ORDER_WILL_BE_SUBMITTED_AUTOMATICALLY_AT }}</p>\n        </label>\n        <label class="btn btn-default"\n               ng-model="$ctrl.leaderReview"\n               uib-btn-radio="true"\n               ng-click="$ctrl.setLeaderReview(true)">\n          <h3>{{ $ctrl.i18n.I_WANT_TO_REVIEW_ORDER }}</h3>\n          <p>{{ $ctrl.i18n.YOU_WILL_NEED_TO_PLACE_ORDER_BY }}</p>\n        </label>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.leaderPays === true">\n  <div class="row step-section">\n    <div class="col-xs-12">\n      <credit-card is-group-order="true"\n                   cost="$ctrl.cost"\n                   do-pay-pal-redirect="$ctrl.doPayPalRedirect(info)">\n      </credit-card>\n    </div>\n  </div>\n\n  <div class="row step-section">\n    <div class="col-xs-12 sub-heading">\n      <div class="form-group">\n        <label for="spendingLimit">\n          <h3>{{$ctrl.i18n.SET_A_SPENDING_LIMIT}}</h3>\n          <p>{{$ctrl.i18n.SPENDING_LIMITS_ARE_PRETAX}}</p>\n        </label>\n        <div class="currency-input">\n          <input type="text"\n                 class="form-control"\n                 id="spendingLimit"\n                 ng-model="$ctrl.spendingLimit"\n                 ng-change="$ctrl.cleanseSpendingLimitInput()"\n                 ng-blur="$ctrl.setSpendingLimit()">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("goProgress.html",[]).run(["$templateCache",function(e){e.put("goProgress.html",'<div ng-repeat="step in $ctrl.steps" class="go-steps">\n  <div ng-class="{past: $ctrl.currentStep.index > step.index,\n                current: $ctrl.currentStep.index === step.index,\n                future: $ctrl.currentStep.index < step.index}">\n    <div class="step">\n      <i class="fa fa-circle"></i>\n      <span class="hidden-xs step-name">{{ step.displayName }}</span>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("goTime.html",[]).run(["$templateCache",function(e){e.put("goTime.html",'<div class="row step-section">\n  <div class="col-xs-12">\n    <div class="previous">\n      <a ng-click="$ctrl.previous()">\n        <i class="fa fa-caret-left"></i> {{ $ctrl.i18n.PREVIOUS }}\n      </a>\n    </div>\n  </div>\n  <div class="col-xs-12">\n    <h3>{{$ctrl.i18n.HOW_MANY_PEOPLE_IN_YOUR_GROUP}}</h3>\n    <p class="sub-title">{{ $ctrl.i18n.NUMBER_OF_PEOPLE_WILL_DETERMINE }}</p>\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="btn-group radio-buttons large-text">\n          <label ng-repeat="group in $ctrl.groupOrderSizes"\n                 class="btn btn-default"\n                 ng-model="$ctrl.groupSize"\n                 ng-click="$ctrl.setGroupSize(group)"\n                 uib-btn-radio="group">\n            {{ $ctrl.i18n[group] }}\n          </label>\n        </div>\n        <div class="catering">\n          <p>\n            {{$ctrl.i18n.FOR_GROUPS_OF_X_OR_MORE}}<br>\n            <a ng-click="$ctrl.goToPaneraCatering()">\n              <span ng-bind-html="$ctrl.i18n.TRY_PANERA_CATERING"></span> <i class="fa fa-caret-right"></i>\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.groupSize">\n  <div class="row step-section">\n    <order-time is-group-order="true"\n                enable-order="$ctrl.showNavButtons"\n                is-loading="$ctrl.orderTimeIsLoading"\n                new-group-size="$ctrl.newGroupSize"\n                on-time-select="$ctrl.onTimeSelect(orderTime)">\n    </order-time>\n  </div>\n</div>\n\n<div ng-if="$ctrl.orderCutoffTime">\n  <div class="row step-section cutoff-time">\n    <div class="col-xs-12">\n      <h3>{{$ctrl.i18n.WHATS_YOUR_ORDER_CUTOFF_TIME}}</h3>\n      <p class="sub-title">{{$ctrl.i18n.MAKE_SURE_EVERYONE_ORDERS_BY}}</p>\n      <p class="time-display">\n        {{$ctrl.orderCutoffTime.dateTime}} <span class="am-pm">{{$ctrl.orderCutoffTime.amPm}}</span>\n      </p>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("myPaneraContent.html",[]).run(["$templateCache",function(e){e.put("myPaneraContent.html",'<div ng-switch="currentPage" class="row">\n  <div ng-switch-when="my_rewards" class="col-xs-12">\n    <my-rewards show-header="true"></my-rewards>\n  </div>\n  <div ng-switch-when="my_past_orders" class="col-xs-12">\n    <menu-transitions-alert ng-if="menuTransitionsMessageIsEnabled"></menu-transitions-alert>\n    <my-past-orders is-menu="true"></my-past-orders>\n  </div>\n  <div ng-switch-when="my_favorites" class="col-xs-12">\n    <menu-transitions-alert ng-if="menuTransitionsMessageIsEnabled"></menu-transitions-alert>\n    <my-favorites is-menu="true"></my-favorites>\n  </div>\n</div>\n')}]),angular.module("myPaneraNav.html",[]).run(["$templateCache",function(e){e.put("myPaneraNav.html",'<ul class="list-unstyled">\n  <li><h4 class="my-panera-title"><span class="my-panera">My</span>Panera&reg;</h4></li>\n  <li ng-repeat="link in myPaneraNavLinks">\n    <a href="{{link.link}}">{{link.i18nName | translate}}</a>\n  </li>\n</ul>\n')}]),angular.module("categoryPlacard.html",[]).run(["$templateCache",function(e){e.put("categoryPlacard.html",'<div class="col-xs-12 no-margin placard"\n     ng-click="$ctrl.options.categoryClick()"\n     id="plc{{$ctrl.item.catId}}">\n  <div class="row placard-header">\n    <div class="col-xs-12 no-padding" ng-if="$ctrl.item.i18nName">\n      {{$ctrl.item.i18nName | translate}}\n    </div>\n  </div>\n  <div class="row placard-content">\n    <div ng-if="$ctrl.item.scheduleMessage && ($ctrl.item.scheduleDisplayAfter || $ctrl.item.scheduleDisplayUntil)" class="availability">\n      <div class="col-xs-12 no-padding message">\n        <p ng-if="$ctrl.item.scheduleDisplayAfter">{{\'AVAILABLE_AFTER\' | translate}} {{$ctrl.item.scheduleDisplayAfter}}</p>\n        <p ng-if="$ctrl.item.scheduleDisplayUntil">{{\'AVAILABLE_UNTIL\' | translate}} {{$ctrl.item.scheduleDisplayUntil}}</p>\n\n      </div>\n    </div>\n    <img class="col-xs-12 no-padding img-responsive"\n         ng-src="{{::placardBlank}}"\n         data-echo="{{$ctrl.item.imgKey | usage:\'category\'}}"\n         alt="{{$ctrl.item.imgKey}}">\n  </div>\n</div>')}]),angular.module("curatedPlacard.html",[]).run(["$templateCache",function(e){e.put("curatedPlacard.html",'<div class="row content">\n  <!-- Item Image -->\n  <div class="row author visible-xs">\n    <div class="col-xs-2 author-image">\n      <img class="no-padding"\n           alt="{{ $ctrl.item.curation.authorName }}"\n           ng-src="{{ $ctrl.item.curation.authorImgKey | usage: \'curation-icon\'}}">\n    </div>\n    <div class="col-xs-10 author-info">\n      <p>\n        {{ $ctrl.i18n.CURATED_PLACARD_AUTHOR_HEADER }}\n      </p>\n      <p>\n        <span class="author-name">{{ $ctrl.item.curation.authorName }}</span> {{ $ctrl.item.curation.authorTitle }}\n      </p>\n    </div>\n  </div>\n  <div class="col-md-5 col-sm-6 col-xs-12 item-image">\n    <placard-ribbon options="{ isProductStockout: $ctrl.options.isProductStockout, item: $ctrl.item }" ></placard-ribbon>\n    <img data-echo="{{$ctrl.item.optSets[$ctrl.options.selectedOpt].imgKey | usage:\'curation-placard\'}}"\n         ng-src="{{::placardBlank}}"\n         alt="{{$ctrl.item.optSets[$ctrl.options.selectedOpt].imgKey}}"\n         class="col-xs-3 col-sm-12 no-padding">\n    <div ng-show="$ctrl.options.showOverlay" class="addedOverlay animate-show">\n      <i class="fa-check"></i>\n      <span>{{ $ctrl.i18n.ADDED }}</span>\n    </div>\n  </div>\n  <!-- Item info -->\n  <div class="col-md-7 col-sm-6 col-xs-12 item-container">\n    <!-- Author and item info -->\n    <div class="row curated-info">\n      <div>\n        <!-- Author container -->\n        <div class="row author hidden-xs">\n          <div class="col-md-2 col-sm-3 author-image">\n            <img class="no-padding"\n                 alt="{{ $ctrl.item.curation.authorName }}"\n                 ng-src="{{ $ctrl.item.curation.authorImgKey | usage: \'curation-icon\'}}">\n          </div>\n          <div class="col-md-10 col-sm-9 author-info">\n            <p>\n              {{ $ctrl.i18n.CURATED_PLACARD_AUTHOR_HEADER }}\n            </p>\n            <p class="author-name">\n              {{ $ctrl.item.curation.authorName }}\n            </p>\n            <p>\n              {{ $ctrl.item.curation.authorTitle }}\n            </p>\n          </div>\n        </div>\n        <!-- Item container -->\n        <div class="row item">\n          <div class="col-xs-12 item-details">\n            <h3>{{ $ctrl.item.i18nName | translate }}</h3>\n            <p>{{ $ctrl.item.i18nDesc | translate }}</p>\n          </div>\n        </div>\n        <!-- Price and Nutr container -->\n        <div class="row price-and-nutr">\n          <div class="col-xs-12">\n            {{$ctrl.item.optSets[$ctrl.options.selectedOpt].price | currency}} <span>&verbar;</span>\n            {{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].value | number:0}}\n            {{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].unit | translate}}\n            <span class="hidden-xs">\n              &verbar;\n              <a uib-popover-template="\'placardNutrition.html\'"\n                 popover-placement="top"\n                 popover-trigger="\'{{$ctrl.options.trigger}}\'"\n                 popover-popup-delay="0"\n                 popover-popup-close-delay="{{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'ignoreNutr\'] ? 3000 : 0}}"\n                 popover-append-to-body="true"\n                 class="js-popover"> {{ $ctrl.i18n.NUTRITION_INFO }}\n            </a>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Buttons -->\n    <div class="row actions">\n      <placard-buttons class="col-xs-12"\n                       options="{  isCustomizable: $ctrl.options.isCustomizable,\n                                 customizeClick: $ctrl.options.customizeClick,\n                                 isNotValidAssortment: $ctrl.options.isNotValidAssortment,\n                                 item: $ctrl.item,\n                                 trigger: $ctrl.options.trigger,\n                                 setSelectedOpt: $ctrl.options.setSelectedOpt,\n                                 hasStockoutComponent: $ctrl.options.hasStockoutComponent,\n                                 hasStockoutSide: $ctrl.options.hasStockoutSide,\n                                 isOrderable: $ctrl.options.isOrderable,\n                                 isSubmitDisabled: $ctrl.options.isSubmitDisabled,\n                                 comboNumber: $ctrl.options.comboNumber,\n                                 orderClick: $ctrl.options.orderClick}">\n\n      </placard-buttons>\n    </div>\n  </div>\n</div>\n');
}]),angular.module("itemPlacard.html",[]).run(["$templateCache",function(e){e.put("itemPlacard.html",'<div class="col-xs-12">\n  <placard-ribbon options="{ isProductStockout: $ctrl.options.isProductStockout, item: $ctrl.item }" ></placard-ribbon>\n  <div class="row placard-header hidden-xs">\n    <div class="col-sm-12 no-padding">\n      <div class="row no-margin">\n        <div class="title col-sm-8"\n             title="{{$ctrl.item.i18nName | translate}}">\n          {{ $ctrl.item.i18nName | translate}}\n          <img class="sodium-warning-msg pull-right"\n               ng-if="$ctrl.item.optSets[$ctrl.options.selectedOpt].highSodiumFlag == true && $ctrl.options.isSodiumMessageEnabled"\n               ng-src="{{$ctrl.options.sodiumIconImgUrl}}"/>\n        </div>\n        <div class="col-sm-4 placard-details">\n          <div class="row">\n            <div class="col-sm-12 price">\n              {{$ctrl.item.optSets[$ctrl.options.selectedOpt].price | currency}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-12 nutrition">\n                <span ng-if="$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0] &&\n                !$ctrl.item.optSets[$ctrl.options.selectedOpt][\'ignoreNutr\']">\n                {{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].value | number:0}}\n                {{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].unit | translate}}\n                </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row placard-content">\n    <img data-echo="{{$ctrl.item.optSets[$ctrl.options.selectedOpt].imgKey | usage:\'placard\'}}"\n         ng-src="{{::placardBlank}}"\n         alt="{{$ctrl.item.optSets[$ctrl.options.selectedOpt].imgKey}}"\n         class="col-xs-3 col-sm-12 no-padding img-responsive">\n    <div class="col-xs-9 visible-xs mobile-placard-content">\n      <p>\n        {{ $ctrl.item.i18nName | translate | limitTo:35 }}\n        <span ng-if="$ctrl.item.optSets[$ctrl.options.selectedOpt].highSodiumFlag && $ctrl.options.isSodiumMessageEnabled">\n               <img class="sodium-warning-msg pull-right"\n                    ng-src="{{$ctrl.options.sodiumIconImgUrl}}"/>\n            </span>\n        <br>\n        {{$ctrl.item.optSets[$ctrl.options.selectedOpt].price | currency}}\n        <span ng-if="$ctrl.item.optSets[$ctrl.options.selectedOpt].nutr &&\n          !$ctrl.item.optSets[$ctrl.options.selectedOpt][\'ignoreNutr\']">\n            &#124;&nbsp;{{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].value | number:0}}\n            {{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'nutr\'][0].unit | translate}}\n          </span>\n      </p>\n    </div>\n    <div ng-show="$ctrl.options.showOverlay" class="addedOverlay animate-show">\n      <i class="fa-check"></i>\n      <span>{{ \'ADDED\' | translate }}</span>\n    </div>\n    <div class="popovers hidden-xs" ng-hide="$ctrl.options.showOverlay">\n      <div class="row no-margin">\n        <div ng-if="$ctrl.item.i18nDesc"\n             class="col-xs-6">\n          <a uib-popover-template="\'placardDescription.html\'"\n             popover-placement="bottom"\n             popover-trigger="\'{{$ctrl.options.trigger}}\'"\n             popover-popup-delay="0"\n             popover-append-to-body="true"\n             class="js-popover">\n            {{\'DESCRIPTION\' | translate}}\n          </a>\n        </div>\n        <div ng-if="$ctrl.item.optSets[$ctrl.options.selectedOpt].nutr || $ctrl.item.optSets[$ctrl.options.selectedOpt][\'ignoreNutr\']"\n             ng-class="{\'col-xs-offset-6\': !$ctrl.item.i18nDesc}"\n             class="col-xs-6 text-right">\n          <a uib-popover-template="\'placardNutrition.html\'"\n             popover-placement="bottom"\n             popover-trigger="\'{{$ctrl.options.trigger}}\'"\n             popover-popup-delay="0"\n             popover-popup-close-delay="{{$ctrl.item.optSets[$ctrl.options.selectedOpt][\'ignoreNutr\'] ? 3000 : 0}}"\n             popover-append-to-body="true"\n             class="js-popover">{{ \'NUTRITION\' | translate}}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <placard-buttons class="col-xs-12"\n                     options="{  isCustomizable: $ctrl.options.isCustomizable,\n                                 customizeClick: $ctrl.options.customizeClick,\n                                 isNotValidAssortment: $ctrl.options.isNotValidAssortment,\n                                 item: $ctrl.item,\n                                 trigger: $ctrl.options.trigger,\n                                 setSelectedOpt: $ctrl.options.setSelectedOpt,\n                                 hasStockoutComponent: $ctrl.options.hasStockoutComponent,\n                                 hasStockoutSide: $ctrl.options.hasStockoutSide,\n                                 isOrderable: $ctrl.options.isOrderable,\n                                 isSubmitDisabled: $ctrl.options.isSubmitDisabled,\n                                 comboNumber: $ctrl.options.comboNumber,\n                                 orderClick: $ctrl.options.orderClick}">\n\n    </placard-buttons>\n  </div>\n</div>\n')}]),angular.module("placardButtons.html",[]).run(["$templateCache",function(e){e.put("placardButtons.html",'<div class="row placard-footer">\n  <div class="col-xs-12 no-padding">\n    <div class="row no-margin">\n      <div ng-if="$ctrl.i18nNames.length > 1" class="dropup" uib-dropdown>\n        <button type="button"\n                ng-class="{\'col-xs-6\': !$ctrl.options.isCustomizable, \'col-xs-5\': $ctrl.options.isCustomizable}"\n                class="btn btn-sm uib-dropdown-toggle"\n                title="{{ $ctrl.i18nNames[$ctrl.selectedOptIndex] | translate }}"\n                uib-dropdown-toggle>\n          {{ $ctrl.i18nNames[$ctrl.selectedOptIndex] | translate }}\n          <span class="verticalDiv"></span>\n          <span class="caret"></span>\n        </button>\n        <ul ng-class="{\'col-xs-6\': !$ctrl.options.isCustomizable, \'col-xs-5\': $ctrl.options.isCustomizable}"\n            class="uib-dropdown-menu"\n            role="menu"\n            uib-dropdown-menu>\n          <li ng-repeat="i18nName in $ctrl.i18nNames track by $index"\n              ng-click="$ctrl.setSelectedOpt($index)"\n              ng-class="{selected: i18nName === $ctrl.i18nNames[$ctrl.selectedOptIndex]}">\n            {{ i18nName | translate }}\n          </li>\n        </ul>\n      </div>\n      <button type="button"\n              ng-click="$ctrl.options.customizeClick()"\n              ng-class="{\'col-xs-6\': $ctrl.i18nNames.length <= 1 && !$ctrl.options.isNotValidAssortment,\n                  \'col-xs-4\': $ctrl.i18nNames.length > 1 && !$ctrl.options.isNotValidAssortment ,\n                  \'col-xs-12\': $ctrl.options.isNotValidAssortment,\n                  \'hidden\': !$ctrl.options.isCustomizable}"\n              id="cust{{$ctrl.options.item.plcId}}"\n              class="btn btn-sm btn-default">\n        {{\'CUSTOMIZE\' | translate}}\n      </button>\n      <div class="add-item"\n           ng-if="!$ctrl.options.isNotValidAssortment"\n           ng-class="{\'col-xs-12\': $ctrl.i18nNames.length <= 1 && !$ctrl.options.isCustomizable,\n               \'col-xs-6\': ($ctrl.i18nNames.length <= 1 && $ctrl.options.isCustomizable) || ($ctrl.i18nNames.length > 1 && !$ctrl.options.isCustomizable) ,\n               \'col-xs-3\': $ctrl.i18nNames.length > 1 && $ctrl.options.isCustomizable}">\n        <div ng-if="$ctrl.options.hasStockoutComponent || $ctrl.options.hasStockoutSide"\n             class="popovers col-xs-12"\n             uib-popover-template="\'placardComponentStockout.html\'"\n             popover-trigger="\'{{$ctrl.options.trigger}}\'"\n             popover-placement="bottom"\n             popover-append-to-body="true">\n        </div>\n        <button type="button"\n                ng-disabled="!$ctrl.options.isOrderable || $ctrl.options.isSubmitDisabled || $ctrl.options.item.hasInvalidSchedule"\n                ng-switch="$ctrl.options.comboNumber === undefined"\n                class="pull-right btn btn-sm btn-primary col-xs-12"\n                id="plc{{$ctrl.options.item.plcId}}"\n                ng-click="$ctrl.options.orderClick()">\n          <span ng-switch-when="true">{{\'ADD_ITEM\' | translate}}</span>\n          <span ng-switch-when="false">{{\'PICK\' | translate}} {{($ctrl.options.comboNumber + 1)}}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("placardRibbon.html",[]).run(["$templateCache",function(e){e.put("placardRibbon.html",'<!-- Stockout -->\n<p ng-if="$ctrl.options.isProductStockout" class="ribbon-wrapper">\n  <span ng-if="$ctrl.options.isProductStockout" class="ribbon stockout">\n    {{ $ctrl.i18n.STOCKOUT }}\n  </span>\n</p>\n<!-- Item not Available -->\n<p ng-if="$ctrl.item.hasInvalidSchedule" class="ribbon-wrapper">\n  <span ng-if="$ctrl.item.hasInvalidSchedule && $ctrl.item.scheduleDisplayAfter && !$ctrl.options.isProductStockout"\n        class="schedule-ribbon">\n    {{ $ctrl.i18n.AVAILABLE_AFTER }} {{$ctrl.item.scheduleDisplayAfter}}\n  </span>\n  <span ng-if="$ctrl.item.hasInvalidSchedule && $ctrl.item.scheduleDisplayUntil && !$ctrl.options.isProductStockout"\n        class="schedule-ribbon">\n    {{ $ctrl.i18n.AVAILABLE_UNTIL }} {{$ctrl.item.scheduleDisplayUntil}}\n  </span>\n</p>')}]),angular.module("redirectPlacard.html",[]).run(["$templateCache",function(e){e.put("redirectPlacard.html",'<div class="placard">\n  <!-- SWITCHING BETWEEN REDIRECT PLACARD TYPES -->\n  <div class="row">\n    <div ng-if="$ctrl.redirectPlacard.redirect">\n      <!-- REDIRECT PLACARD TYPES -->\n      <div ng-if="$ctrl.redirectPlacard.redirect.placardStyle === $ctrl.redirectTypes.flatbread">\n        <flatbread-placard placard="$ctrl.redirectPlacard"></flatbread-placard>\n      </div>\n      <div ng-if="$ctrl.redirectPlacard.redirect.placardStyle === $ctrl.redirectTypes.yp2">\n        <yp2-placard placard="$ctrl.redirectPlacard"></yp2-placard>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("deliveryAddress.html",[]).run(["$templateCache",function(e){e.put("deliveryAddress.html",'<div class="col-xs-12">\n  <h3>{{ $ctrl.i18n.YOUR_DELIVERY_ADDRESS }}</h3>\n</div>\n<div class="col-xs-12">\n  <div class="row">\n    <div class="col-xs-12">\n      <p class="sub-heading" ng-if="$ctrl.isGroupOrder">\n        {{ $ctrl.i18n.GO_CHECK_DELIVERY_AVAILABLE }}\n      </p>\n    </div>\n    <div class="col-xs-12" ng-if="$ctrl.userDataLoaded">\n      <horizontal-links links="$ctrl.myAddressLinks"></horizontal-links>\n    </div>\n    <div class="col-xs-12 addresses" ng-if="$ctrl.selectedLink.i18nName == \'NEW\' && $ctrl.showDeliveryCheck">\n      <delivery-check input-model="$ctrl.search.address"\n                      btn-function="$ctrl.checkAvailability"\n                      html-class="$ctrl.isGroupOrder ? \'col-xs-12 col-sm-8\' : \'col-xs-12 col-sm-5\'">\n      </delivery-check>\n    </div>\n    <div class="col-xs-12 addresses" ng-switch="$ctrl.selectedLink.i18nName">\n      <user-addresses ng-switch-when="SAVED"\n                      ng-if="$ctrl.selectedLink.selected && !$ctrl.addressSelected"\n                      empty-title="NO_SAVED_ADDRESSES"\n                      addresses="$ctrl.selectedLink.addresses"\n                      select-address="$ctrl.checkAvailability(address)"\n                      html-class="$ctrl.isGroupOrder ? \'col-sm-5\' : \'col-sm-4\'">\n      </user-addresses>\n      <user-addresses ng-switch-when="RECENT"\n                      ng-if="$ctrl.selectedLink.selected && !$ctrl.addressSelected"\n                      empty-title="NO_RECENT_ORDERS"\n                      addresses="$ctrl.selectedLink.addresses"\n                      select-address="$ctrl.checkAvailability(address)"\n                      html-class="$ctrl.isGroupOrder ? \'col-sm-5\' : \'col-sm-4\'">\n      </user-addresses>\n    </div>\n  </div>\n</div>\n<div class="col-xs-12" ng-if="$ctrl.address.status">\n  <div class="row" ng-if="!$ctrl.deliveryFound">\n    <div class="col-xs-12">\n      <p class="address-error">\n        <span ng-if="$ctrl.address.status === \'invalid\'">\n          {{ $ctrl.i18n.SORRY_ADDRESS_IS_INVALID }}\n        </span>\n        <span ng-if="$ctrl.address.status === \'not found\'">\n          {{ $ctrl.i18n.SORRY_ADDRESS_NOT_FOUND }}\n        </span>\n        <span ng-if="$ctrl.address.status === \'delivery not found\'">\n          {{ $ctrl.i18n.SORRY_DELIVERY_IS_NOT_AVAILABLE_TO }}\n        </span>\n      </p>\n    </div>\n  </div>\n  <div class="row"\n       ng-class="{\'address-found\': $ctrl.deliveryFound, \'address-not-found\': !$ctrl.deliveryFound}">\n    <div class="col-xs-12 hidden-xs">\n      <img ng-if="$ctrl.deliveryFound" ng-src="{{ $ctrl.staticImages.globalIcons.confirm }}">\n      <span class="address" ng-if="$ctrl.addressExists">\n        <span ng-if="$ctrl.address.address1 !== undefined">{{ $ctrl.address.address1 }},&nbsp;</span>\n        <span ng-if="$ctrl.address.city !== undefined">{{ $ctrl.address.city }},&nbsp;</span>\n        <span ng-if="$ctrl.address.state !== undefined">{{ $ctrl.address.state }}&nbsp;</span>\n        <span ng-if="$ctrl.address.postalCode !== undefined">{{ $ctrl.address.postalCode }}&nbsp;</span>\n      </span>\n      <a ng-click="$ctrl.clear();">{{ $ctrl.i18n.CLEAR_ADDRESS }}</a>\n    </div>\n    <div class="col-xs-12 visible-xs">\n      <div class="row">\n        <div class="col-xs-2" ng-if="$ctrl.deliveryFound">\n          <img ng-src="{{ $ctrl.staticImages.globalIcons.confirm }}">\n        </div>\n        <div class="col-xs-6">\n          <span ng-if="$ctrl.address.address1 !== undefined">{{ $ctrl.address.address1 }}<br></span>\n          <span ng-if="$ctrl.address.city !== undefined">{{ $ctrl.address.city }},&nbsp;</span>\n          <span ng-if="$ctrl.address.state !== undefined">{{ $ctrl.address.state }}&nbsp;</span>\n          <span ng-if="$ctrl.address.postalCode !== undefined">{{ $ctrl.address.postalCode }}</span>\n        </div>\n        <div class="col-xs-4 clear-btn-container">\n          <button ng-click="$ctrl.clear()" class="clear-btn">{{ $ctrl.i18n.CLEAR_ADDRESS }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="$ctrl.deliveryFound">\n    <div class="col-xs-12">\n      <div class="row address-details">\n        <div class="col-xs-12 col-sm-6">\n          <form sf-schema="$ctrl.schema"\n                sf-model="$ctrl.model"\n                sf-form="$ctrl.form"\n                sf-options="$ctrl.options"\n                ng-submit="$ctrl.updateDeliveryInfo()">\n          </form>\n        </div>\n      </div>\n      <div class="row" ng-if="$ctrl.promptCreateGroupOrder && $ctrl.model.addressType.length > 0">\n        <div class="col-xs-12 col-sm-5">\n          <div class="group-order">\n            <image-link options="{text: $ctrl.i18n.MAKE_GROUP_ORDER,\n                                  clickAction: $ctrl.setDeliveryInfoAndCreateGroupOrder,\n                                  hoverOutImg: $ctrl.staticImages.groupOrder.group.small.orange,\n                                  hoverOverImg: $ctrl.staticImages.groupOrder.group.small.dark,\n                                  iconCSSClass: \'fa fa-caret-right\'}">\n            </image-link>\n          </div>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12 consent">\n          <p><em>{{ $ctrl.i18n.DELIVERY_CONSENT }}</em></p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if=" !$ctrl.deliveryFound && $ctrl.address.status === \'delivery not found\'">\n    <div class="col-xs-12">\n      <div class="row">\n        <div class="col-xs-12">\n          <hr ng-class="{\'artisan\': !$ctrl.isGroupOrder, \'hairline\': $ctrl.isGroupOrder}">\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <h3>{{ $ctrl.i18n.TRY_RPU_INSTEAD }}</h3>\n          <p ng-if="$ctrl.isGroupOrder">\n            {{ $ctrl.i18n.PLACE_AN_ORDER_FOR_YOURSELF }}\n          </p>\n        </div>\n      </div>\n      <div class="row closest-cafe" ng-if="$ctrl.cafe">\n        <div class="col-xs-12">\n          <p><strong>{{ $ctrl.i18n.CLOSEST_CAFE }}</strong></p>\n        </div>\n        <div class="col-xs-12">\n          <span ng-if="$ctrl.cafe.StreetName">{{ $ctrl.cafe.StreetName}},&nbsp;</span>\n          <span ng-if="$ctrl.cafe.City">{{ $ctrl.cafe.City }},&nbsp;</span>\n          <span ng-if="$ctrl.cafe.State">{{ $ctrl.cafe.State }}&nbsp;</span>\n          <span ng-if="$ctrl.cafe.Zip">{{ $ctrl.cafe.Zip }}&nbsp;</span>\n        </div>\n        <div class="col-xs-12 rpu-order">\n          <button id="startIndividualOrder"\n                  class="btn btn-primary"\n                  ng-click="$ctrl.selectRpuCafe()">\n            {{ $ctrl.i18n.ORDER_FROM_HERE }}\n          </button>\n          <a ng-href="{{ $ctrl.routes.cafeLocator }}">{{ $ctrl.i18n.FIND_A_DIFFERENT_CAFE }}</a>\n        </div>\n      </div>\n      <div class="row" ng-if="!$ctrl.cafe">\n        <div class="col-xs-12 col-sm-6">\n          <a ng-href="{{ $ctrl.routes.cafeLocator }}">{{ $ctrl.i18n.SEARCH_OTHER_CAFES }}</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("orderTime.html",[]).run(["$templateCache",function(e){e.put("orderTime.html",'<div class="col-xs-12"\n     ng-if="isLoading">\n  <p>{{ \'LOADING\' | translate }}</p>\n</div>\n\n<div class="col-xs-12"\n     ng-if="!isLoading">\n  <div class="row">\n    <div class="col-xs-12">\n      <div ng-if="!isGroupOrder">\n        <h3 ng-if="isRapidPickup">{{\'WHEN_WOULD_YOU_LIKE_YOUR_FOOD_READY_FOR_PICKUP\' | translate }}</h3>\n        <h3 ng-if="isDelivery">{{\'WHEN_WOULD_YOU_LIKE_YOUR_FOOD_DELIVERED\' | translate }}</h3>\n      </div>\n      <div ng-if="isGroupOrder">\n        <h3>{{\'WHEN_WOULD_YOU_LIKE_YOUR_ORDER\' | translate }}</h3>\n        <p class="sub-title">{{ \'SHOWING_THE_SOONEST_AVAILABLE_TIMES\' | translate : [newGroupSize.min + \'-\' + newGroupSize.max] }}</p>\n      </div>\n    </div>\n  </div>\n  <div class="row order-radio" id="order-now"\n       ng-if="!isGroupOrder && isCafeAvailable && isOpen">\n    <div class="col-xs-12">\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="radio">\n            <label>\n              <input type="radio"\n                     name="dateTime"\n                     ng-model="orderWhen"\n                     value="Now"\n                     ng-click="storeOrderTime(\'Now\')"\n                     id="now">\n              <span class="check"></span>\n              {{ \'NOW\' | translate }}\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="row" id="order-now-content">\n        <div class="col-xs-12">\n          {{ \'ABOUT\' | translate }} {{ leadTimeRange }} {{ \'AFTER_CHECKOUT\' | translate }}\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row order-radio" id="order-later">\n    <div class="col-xs-12">\n      <div class="row"\n           ng-if="!isGroupOrder && isCafeAvailable">\n        <div class="col-xs-12">\n          <div class="radio">\n            <label for="later">\n              <input type="radio"\n                     name="dateTime"\n                     ng-model="orderWhen"\n                     value="Later"\n                     ng-click="storeOrderTime(\'Later\')"\n                     id="later">\n              <span class="check"></span>\n              {{ \'LATER\' | translate }}\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="row" id="order-later-content" ng-class="{disabled: orderWhen !== \'Later\', \'group\': isGroupOrder}">\n        <div ng-if="!isCafeAvailable"\n             class="col-xs-12 col-sm-6 col-md-4 alert alert-warning"\n             role="alert">\n          {{ \'CAFE_CURRENTLY_NOT_ACCEPTING\' | translate }}\n        </div>\n        <div ng-if="exceptionMessage || invalidSelection"\n             ng-class="{\'col-xs-12 col-sm-6 col-sm-push-6 col-md-4 col-md-push-6\': isCafeAvailable}"\n             class="col-sm-6 col-xs-12"\n             role="alert">\n          <div ng-if="invalidSelection" class="row alert alert-warning">\n            {{ \'WERE_SORRY_BUT_THE_SELECTED\' | translate }}\n          </div>\n          <div ng-if="exceptionMessage" class="row alert alert-warning">\n            {{ exceptionMessage }}\n          </div>\n        </div>\n        <div ng-class="{\'col-sm-pull-6 col-md-pull-4\': exceptionMessage || invalidSelection}"\n             class="col-xs-12 visible-xs"\n             ng-if="isCafeAvailable && showDatePicker">\n          <div class="row">\n            <div class="col-xs-6">{{ \'DATE\' | translate }}</div>\n            <div class="col-xs-6">{{ \'TIME\' | translate }}</div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <select class="form-control"\n                      ng-model="selectedDate"\n                      ng-options="date as date.orderDateTime.format(\'M/D dddd\') for date in dateList"\n                      ng-change="updateDate(selectedDate)"/>\n            </div>\n            <div class="col-xs-6">\n              <select class="form-control"\n                      ng-model="selectedTime"\n                      ng-options="time as (time.orderDateTime | orderTimeDisplay:rangeInterval.later:\'hh:mm A\') disable when !time.isAvailable for time in timeList"\n                      ng-change="updateTime(selectedTime)"/>\n            </div>\n          </div>\n        </div>\n        <div ng-class="{\'col-sm-pull-6 col-md-pull-4\': exceptionMessage || invalidSelection, \'col-md-4\': !isGroupOrder}"\n             class="col-sm-6 hidden-xs"\n             ng-if="isCafeAvailable">\n          <div class="row">\n            <div class="col-md-6">{{ \'DATE\' | translate }}</div>\n            <div class="col-md-6">{{ \'TIME\' | translate }}</div>\n          </div>\n          <div class="row">\n            <div class="col-md-6">\n              <ol class="artisan-scroll">\n                <li ng-repeat="date in dateList"\n                    ng-click="selectDate(date)"\n                    ng-class="{selected: date.isSelected}">\n                  {{ date.orderDateTime.format(\'M/D dddd\') }}\n                </li>\n              </ol>\n            </div>\n            <div class="col-md-6">\n              <ol class="artisan-scroll">\n                <li ng-repeat="time in timeList"\n                    ng-disabled="!time.isAvailable"\n                    ng-click="time.isAvailable && selectTime(time, $event)"\n                    ng-class="{selected: time.isSelected, unavailable: !time.isAvailable}">\n                  {{ time.orderDateTime | orderTimeDisplay:rangeInterval.later:\'hh:mm A\' }}\n                </li>\n              </ol>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row" id="large-orders" ng-if="!isGroupOrder">\n    <div class="col-xs-12">\n      <p>{{ \'LARGE_ORDERS_REQUIRE_ADVANCE_NOTICE\' | translate }}\n        <a popover-placement="top"\n           popover-trigger="\'mouseenter\'"\n           uib-popover="{{ largeOrderMessage }}"\n           class="js-popover">\n          {{ \'MORE_INFO\' | translate }}\n        </a>\n      </p>\n    </div>\n  </div>\n</div>\n')}]),angular.module("orderType.html",[]).run(["$templateCache",function(e){e.put("orderType.html",'<div class="row">\n  <div class="col-xs-12">\n    <h3 ng-if="!isGroupOrder">{{ \'HOW_WOULD_YOU_LIKE_YOUR_FOOD_SERVED\' | translate }}</h3>\n    <h3 ng-if="isGroupOrder">{{ \'HOW_WILL_YOU_GET_YOUR_ORDER\' | translate }}</h3>\n  </div>\n</div>\n<div class="row" id="orderTypesWrapper"><!-- Prevents overextending -->\n  <div class="col-xs-12 col-md-{{12 / visibleOrderTypes.length}}"\n       ng-repeat="orderType in orderTypeOrder">\n    <div class="order-type"\n         ng-class="{\'selected\': orderType.storageKey === selectedOrderType && showSelected, \'disabled\':\n                   enabledOrderTypes.indexOf(orderType.storageKey) < 0}"\n         ng-if="visibleOrderTypes.indexOf(orderType.storageKey) > -1"\n         ng-click="selectOrderType(orderType.storageKey)">\n      <a>\n        <div class="orderTypeWrapper">\n          <img ng-src="{{::orderTypeImage}}" class="{{ orderType.imgClass }}">\n        </div>\n        <span>{{ orderType.i18nName | translate }}</span>\n      </a>\n    </div>\n  </div>\n</div>\n')}]),angular.module("tableNumber.html",[]).run(["$templateCache",function(e){e.put("tableNumber.html",'<div class="col-xs-12">\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>\n        {{ TableNumber.provideYourTableNumber }}\n      </h4>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <form name="TableNumber.tableNumberForm"\n            sf-schema="TableNumber.schema"\n            sf-form="TableNumber.form"\n            sf-model="TableNumber.model">\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("userAddresses.html",[]).run(["$templateCache",function(e){e.put("userAddresses.html",'<div class="row">\n  <div class="col-xs-12" ng-class="$ctrl.htmlClass">\n    <address-list ng-if="$ctrl.hasAddresses"\n                  addresses="$ctrl.addresses"\n                  select-address="$ctrl.selectAddress({address: address})">\n    </address-list>\n    <h4 ng-if="!$ctrl.hasAddresses">{{ $ctrl.i18n.emptyTitle }}</h4>\n  </div>\n</div>\n')}]),angular.module("accountInfo.html",[]).run(["$templateCache",function(e){e.put("accountInfo.html",'<form role="form">\n  <div class="form-group">\n    <div class="col-xs-12">\n      <ul>\n        <li class="error" ng-repeat="error in errors">{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="username">*{{ \'USERNAME\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="username"\n             id="username"\n             placeholder="{{ \'ENTER_USERNAME\' | translate}}"\n             ng-model="info.username"\n             ng-required="true"\n             ng-disabled="control.useEmail">\n      <p ng-if="!control.useEmail">\n        <strong>{{ \'USERNAME_CHARACTERS_CONTAIN\' | translate }}</strong>\n      </p>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 name="useEmail"\n                 id="useEmail"\n                 ng-checked="control.useEmail"\n                 ng-model="control.useEmail">\n          <span class="check"></span>\n          {{ \'USE_MY_EMAIL_ADDRESS\' | translate }}\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="password">*{{ \'PASSWORD\' | translate }}</label>\n      <input type="password"\n             class="form-control"\n             name="password"\n             id="password"\n             placeholder="{{ \'PASSWORD\' | translate }}"\n             ng-model="info.password"\n             ng-required="true">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="confirmPassword">*{{ \'CONFIRM_PASSWORD\' | translate }}</label>\n      <input type="password"\n             class="form-control"\n             name="confirmPassword"\n             id="confirmPassword"\n             placeholder="{{ \'CONFIRM_PASSWORD\' | translate }}"\n             ng-model="control.passwordConfirmation"\n             ng-required="true">\n      <p>\n        <strong>{{ \'PASSWORD_CHARACTERS_CONTAIN\' | translate }}</strong>\n      </p>\n    </div>\n  </div>\n  <div class="form-group box">\n    <div class="col-xs-12">\n      <p class="box-title label">*{{ \'MYPANERA_LOYALTY_REWARDS_PROGRAM\' | translate }}</p>\n      <p>{{ \'DO_YOU_CURRENTLY_HAVE_A_MYPANERA_CARD\' | translate }}</p>\n      <div class="radio">\n        <label>\n          <input type="radio"\n                 name="physicalMyPaneraCard"\n                 id="physicalMyPaneraCardNo"\n                 ng-value="false"\n                 ng-model="control.physicalMyPaneraCard">\n          <span class="check"></span>\n          {{ \'NO_I_DONT_HAVE_A_MYPANERA_CARD\' | translate }}\n        </label>\n      </div>\n      <div class="radio">\n        <label>\n          <input type="radio"\n                 name="physicalMyPaneraCard"\n                 id="physicalMyPaneraCardYes"\n                 ng-value="true"\n                 ng-model="control.physicalMyPaneraCard">\n          <span class="check"></span>\n          {{ \'YES_I_HAVE_A_MYPANERA_CARD\' | translate }}\n        </label>\n      </div>\n      <div class="form-group" ng-show="control.physicalMyPaneraCard">\n        <label for="cardNumber">*{{ \'MYPANERA_CARD_NUMBER\' | translate }} (12 {{ \'DIGITS\' | translate }}):</label>\n        <input type="text"\n               class="form-control"\n               name="cardNumber"\n               id="cardNumber"\n               placeholder="{{ \'ENTER_CARD_NUMBER\' | translate}}"\n               ng-model="info.loyaltyCardNumber"\n               ng-required="control.physicalMyPaneraCard">\n      </div>\n      <div class="form-group" ng-show="control.physicalMyPaneraCard">\n        <label for="registrationCode">*{{ \'REGISTRATION_CODE\' | translate }}:</label>\n        <input type="text"\n               class="form-control"\n               name="registrationCode"\n               id="registrationCode"\n               placeholder="{{ \'ENTER_REGISTRATION_CODE\' | translate}}"\n               ng-model="info.loyaltyRegistrationCode"\n               ng-required="control.physicalMyPaneraCard">\n      </div>\n    </div>\n  </div>\n  <div class="form-group birthday">\n    <div class="col-xs-12 col-sm-12">\n      <div class="row">\n        <div class="col-xs-12 col-sm-2">\n          <label>{{ \'BIRTHDATE\' | translate }}</label>\n        </div>\n        <div class="col-xs-5 col-sm-3 no-padding">\n          <select name="birthdateMonth"\n                  class="form-control"\n                  id="birthdateMonth"\n                  ng-model="info.birthMonth"\n                  ng-required="true">\n            <option value="">*{{ \'MONTH\' | translate }}</option>\n            <option ng-repeat="month in months" value="{{$index + 1}}">\n              {{ month | translate }}\n            </option>\n          </select>\n        </div>\n        <div class="col-xs-7 col-sm-7">\n          <div class="row">\n            <div class="col-xs-6 col-sm-3 no-padding">\n              <select name="birthdateDay"\n                      class="form-control"\n                      id="birthdateDay"\n                      ng-model="info.birthDay"\n                      ng-required="true"\n                      ng-options="day for day in daysOfMonth">\n                <option value="">*{{ \'DAY\' | translate }}</option>\n              </select>\n            </div>\n            <div class="col-xs-6 col-sm-4 no-padding">\n              <select name="birthdateYear"\n                      class="form-control"\n                      id="birthdateYear"\n                      ng-model="info.birthYear"\n                      ng-required="false"\n                      ng-options="year for year in years">\n                <option value="">{{ \'YEAR\' | translate }}</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row">\n        <p>(&#42; {{ \'REQUIRED_TO_RECEIVE_YOUR_BIRTHDAY_BONUS\' | translate }})</p>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 name="over18"\n                 id="over18"\n                 ng-checked="control.over18"\n                 ng-model="control.over18">\n          <span class="check"></span>\n          *{{ \'IM_OVER_18\' | translate }}\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12 col-sm-2">\n      <button type="button" class="btn btn-default btn-block" ng-click="previous()">\n        {{ \'PREVIOUS\' | translate }}\n      </button>\n    </div>\n    <div class="col-xs-12 col-sm-2">\n      <button type="submit" class="btn btn-primary btn-block" ng-click="nextStep()"\n              ng-disabled="!control.over18">\n        {{ \'NEXT\' | translate }}\n      </button>\n    </div>\n      <div class="form-group">\n          <div class="col-xs-12 col-sm-3 pull-right">\n              <i class="fa fa-asterisk" aria-hidden="true"></i>\n              <label>{{ \'DENOTES_REQUIRED_FIELD\' | translate }}</label>\n          </div>\n      </div>\n  </div>\n</form>\n');
}]),angular.module("accountPreferences.html",[]).run(["$templateCache",function(e){e.put("accountPreferences.html",'<form role="form">\n  <div class="row">\n    <div class="col-xs-12">\n      <ul>\n        <li class="error" ng-repeat="error in errors">{{ error | translate }}</li>\n      </ul>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h3>{{ \'DIETARY_PREFERENCES\' | translate }} ({{ \'OPTIONAL\' | translate }})</h3>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-sm-6">\n      <ul class="form-group">\n        <li ng-repeat="pref in prefs"\n            class="col-xs-12 col-sm-6">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox"\n                     name="{{pref}}"\n                     check-list="info.foodPreferences"\n                     separator="|"\n                     value="{{pref}}"\n                     ng-checked="pref"\n                     id="{{pref}}">\n              <span class="check"></span>\n              {{ pref | translate }}\n            </label>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="form-group">\n    <input name="loyaltyGather" id="loyaltyGather" type="hidden"\n           ng-model="info.loyalty.gather">\n  </div>\n  <div class="form-group">\n    <div class="checkbox col-xs-12">\n      <label>\n        <input type="checkbox"\n               name="optIn"\n               id="optIn"\n               ng-checked="info.optIn"\n               ng-model="info.optIn">\n        <span class="check"></span>\n        {{ \'I_WANT_TO_RECEIVE_MYPANERA_REWARDS_VIA_MAIL\' | translate }}\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="checkbox col-xs-12">\n      <label>\n        <input type="checkbox"\n               name="agreeToTerms"\n               id="agreeToTerms"\n               ng-checked="control.agreeToTerms"\n               ng-model="control.agreeToTerms">\n        <span class="check"></span>\n        {{ \'I_HAVE_READ_AND_AGREE_TO_THE\' | translate }}\n        <a href=\'https://www.panerabread.com/en-us/home.html\'\n           title="{{ \'PROGRAM_TERMS\' | translate }}"\n           target = "_blank">\n          {{ \'PROGRAM_TERMS\' | translate }}</a>,\n        <a href=\'https://www.panerabread.com/en-us/company-information/terms-of-use.html\'\n           title="{{ \'TERMS_OF_USE\' | translate }}"\n           target = "_blank">\n          {{ \'TERMS_OF_USE\' | translate }}</a>,\n        {{ \'AND\' | translate }}\n        <a href=\'https://www.panerabread.com/en-us/company-information/privacy-policy.html\'\n           title="{{ \'PRIVACY_POLICY\' | translate }}"\n           target = "_blank">\n          {{ \'PRIVACY_POLICY\' | translate }}</a>,\n        {{ \'APPLICABLE_TO_THE_MYPANERA_PROGRAM\' | translate }}\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12 col-sm-2">\n      <button type="button" class="btn btn-default btn-block" ng-click="previous()">\n        {{ \'PREVIOUS\' | translate }}\n      </button>\n    </div>\n    <div class="col-xs-12 col-sm-2">\n      <button type="submit" class="btn btn-primary btn-block" ng-click="nextStep()"\n              ng-disabled="registerDisabled()">\n        {{ \'REGISTER\' | translate }}\n      </button>\n    </div>\n  </div>\n</form>\n')}]),angular.module("personalInfo.html",[]).run(["$templateCache",function(e){e.put("personalInfo.html",'<form role="form">\n  <div class="form-group" ng-if="errors.length > 0">\n    <div class="col-xs-12">\n      <ul>\n        <li class="error" ng-repeat="error in errors">{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n <div class="form-group">\n    <div class="col-xs-12">\n      <label for="firstName">* {{ \'FIRST_NAME\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="firstName"\n             id="firstName"\n             placeholder="{{ \'ENTER_FIRST_NAME\' | translate}}"\n             ng-model="info.firstName"\n             ng-required="true"\n             autocomplete="given-name">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="lastName">* {{ \'LAST_NAME\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="lastName"\n             id="lastName"\n             placeholder="{{ \'ENTER_LAST_NAME\' | translate}}"\n             ng-model="info.lastName"\n             ng-required="true"\n             autocomplete="family-name">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="phone">* {{ \'PHONE_NUMBER\' | translate }}:</label>\n      <input type="tel"\n             class="form-control"\n             name="phone"\n             format-phone="true"\n             id="phone"\n             placeholder="{{ \'ENTER_PHONE_NUMBER\' | translate}}"\n             ng-model="info.phone"\n             ng-required="true"\n             autocomplete="tel">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="email">* {{ \'EMAIL\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="email"\n             id="email"\n             placeholder="{{ \'ENTER_EMAIL\' | translate}}"\n             ng-model="info.email"\n             ng-required="true"\n             autocomplete="email">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12">\n      <label for="address1">* {{ \'ADDRESS1\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="address1"\n             id="address1"\n             placeholder="{{ \'ENTER_ADDRESS1\' | translate}}"\n             ng-model="address.address1"\n             ng-required="true"\n             autocomplete="street-address">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-xs-12 col-sm-5">\n      <label for="city">* {{ \'CITY\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="city"\n             id="city"\n             placeholder="{{ \'ENTER_CITY\' | translate}}"\n             ng-model="address.city"\n             ng-required="true"\n             autocomplete="address-line1">\n    </div>\n    <div class="col-xs-12 col-sm-2">\n      <label for="state">* {{ \'STATE\' | translate }}:</label><br>\n      <select ng-model="address.state"\n              name="state"\n              ng-required="true"\n              ng-options="state for state in states"\n              id="state"\n              class="form-control"\n              autocomplete="address-level1">\n        <option value="">{{ \'SELECT\' | translate }}</option>\n      </select>\n    </div>\n    <div class="col-xs-12 col-sm-3">\n      <label for="zip">* {{ \'ZIP\' | translate }}:</label>\n      <input type="text"\n             class="form-control"\n             name="zip"\n             id="zip"\n             placeholder="{{ \'ENTER_ZIP\' | translate}}"\n             ng-model="address.zip"\n             ng-required="true"\n             autocomplete="postal-code">\n    </div>\n  </div>\n  <div class="form-group">\n    <input name="addressType" id="addressType" type="hidden"\n           ng-model="address.type">\n  </div>\n  <div class="form-group canadian">\n    <div class="col-xs-12">\n      <div class="row">\n        <div class="col-xs-12">{{ \'FOR_CANADIAN_RESIDENTS\' | translate }}:\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <a href="https://www.panerabread.com/en-us/home.html" target="_blank">\n            {{ \'SIGN_UP_FOR_MYPANERA_PROGRAM\' | translate }}\n          </a>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n	  <a href="" ng-click="guestLogin()">\n            {{ \'ORDER_WITHOUT_SIGNING_UP\' | translate }}\n	  </a>\n        </div>\n      </div>\n    </div>\n  </div>\n    <div class="col-xs-12 col-sm-2">\n      <button type="submit" class="btn btn-primary btn-block" ng-click="nextStep()">\n        {{ \'NEXT\' | translate }}\n      </button>\n    </div>\n    <div class="form-group">\n        <div class="col-xs-12 col-sm-3 pull-right">\n            <i class="fa fa-asterisk" aria-hidden="true"></i>\n            <label>{{ \'DENOTES_REQUIRED_FIELD\' | translate }}</label>\n        </div>\n    </div>\n</form>\n')}]),angular.module("globalNavigationLink.html",[]).run(["$templateCache",function(e){e.put("globalNavigationLink.html",'<span ng-if="$ctrl.url">\n  {{ $ctrl.type }}\n  <a ng-href="{{ $ctrl.url }}"\n     ng-if="!$ctrl.link.isOpinionLab"\n     target="_blank"\n     title="{{ $ctrl.link.i18nName | translate }}">\n     {{ $ctrl.link.i18nName | translate }}\n  </a>\n  <span ng-if="$ctrl.link.isOpinionLab">\n    <feedback-survey-link  target-event="{ action: \'click\', feedback: \'oo_feedback_nav\' }">\n    </feedback-survey-link>\n  </span>\n</span>')}]),angular.module("promptLiteRegistration.html",[]).run(["$templateCache",function(e){e.put("promptLiteRegistration.html",'<div class="row">\n  <div class="col-xs-12 col-sm-6">\n    <h3>{{ $ctrl.i18n.PROMPT_LITE_REG_HEADER }}</h3>\n    <p>{{ $ctrl.i18n.PROMPT_LITE_REG_BODY_TEXT }}</p>\n  </div>\n  <div class="col-xs-12 col-sm-6">\n    <button class="btn pnra-btn" ng-click="$ctrl.liteRegistration();">{{ $ctrl.i18n.JOIN_MYPANERA }}</button>\n  </div>\n</div>\n')}]),angular.module("formErrors.html",[]).run(["$templateCache",function(e){e.put("formErrors.html",'<div ng-repeat="error in form.errors" class="form-group">\n  <div class="alert {{ form.alertClass || \'alert-danger\' }}">\n    <span ng-if="form.errorVariables">{{ error | translate:form.errorVariables }}</span>\n    <span ng-if="!form.errorVariables">{{ error | translate }}</span>\n  </div>\n</div>\n')}]),angular.module("typeAhead.html",[]).run(["$templateCache",function(e){e.put("typeAhead.html",'<div class="form-group {{form.htmlClass}}"\n     ng-class="{\'{{\'schema-form-\'+form.type}}\': true,\n                \'has-error\': form.disableErrorState !== true && hasError(),\n                \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n                \'has-feedback\': form.feedback !== false,\n                \'material\': form.isMaterial }">\n  <label class="contrl-label"\n         ng-class="{\'sr-only\': !showTitle()}"\n         for="{{form.key.slice(-1)[0]}}"\n         ng-if="!form.isMaterial">\n    {{form.title}}\n    <span ng-if="form.required">&ast;</span>\n  </label>\n  <input ng-if="form.key"\n         type="text"\n         autocomplete="off"\n         step="any"\n         sf-changed="form"\n         placeholder="{{form.placeholder}}"\n         class="form-control {{form.fieldHtmlClass}}"\n         ng-model-options="form.ngModelOptions"\n         ng-model="$$value$$"\n         ng-disabled="form.readonly"\n         schema-validate="form"\n         required="{{ form.required }}"\n         name="{{form.key.slice(-1)[0]}}"\n         typeahead-active\n         uib-typeahead="item for item in (form.typeAhead($viewValue) || form.typeAhead || []) | limitTo:form.taLimit || 5"\n         typeahead-append-to-body="form.taAppendToBody || false"\n         typeahead-editable="form.taEditable || true"\n         typeahead-loading="(form.taLoading && \'loading\') || angular.noop"\n         typeahead-min-length="form.taMinLength || 1"\n         typeahead-on-select="form.taOnSelect($item) || null"\n         typeahead-template-url="{{form.taTemplate}}"\n         typeahead-popup-template-url="suggestions.html"\n         typeahead-wait-ms="form.taWait || 0"\n         typeahead-focus-first="form.taFocusFirst || true">\n  <label ng-if="form.isMaterial"\n         class="control-label material-label"\n         for="{{form.key.slice(-1)[0]}}">\n    {{form.title}}\n    <span ng-if="form.required">&ast;</span>\n  </label>\n  <span ng-if="!form.isMaterial && form.feedback !== false"\n        class="form-control-feedback"\n        ng-class="evalInScope(form.feedback) ||\n          {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError(),\n          \'glyphicon-refresh\': loading }"></span>\n  <div class="help-block"\n       ng-if="(hasError() || form.description) && form.required"\n       sf-message="form.description"></div>\n</div>\n')}]),angular.module("alert.html",[]).run(["$templateCache",function(e){e.put("alert.html",'<div class="container alert-modal">\n  <div class="row">\n    <div class="col-xs-12"\n         ng-if="modalOptions.headerText">\n    <h3 ng-bind-html="modalOptions.headerText | translate"></h3>\n  </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12"\n         ng-if="modalOptions.bodyText"\n         ng-bind-html="modalOptions.bodyText | translate: modalOptions.model">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="hairline">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-8">\n      <div class="checkbox row" ng-if="modalOptions.optOut">\n        <label class="col-xs-12">\n          <input type="checkbox"\n                 ng-model="modalOptions.shouldOptOut"\n                 ng-checked="modalOptions.shouldOptOut">\n          <span class="check"></span>\n          {{ \'OPT_OUT\' | translate }}\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-4 text-right">\n      <button class="btn btn-primary"\n              type="button"\n              ng-click="close()"\n              ng-bind-html="modalOptions.actionButtonText | translate">\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("comboModal.html",[]).run(["$templateCache",function(e){e.put("comboModal.html",'<div id="combo-modal">\n  <div class="row">\n    <div class="col-xs-12">\n      <p ng-if="minRequirementsMet">\n        {{ \'ADD_COMBO_TO_ORDER_\' + comboName | translate }}\n      </p>\n      <p ng-if="!minRequirementsMet">\n        {{ \'CONTINUE_WITH_COMBO_\' + comboName | translate }}\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <button class="btn btn-default"\n              ng-click="exit(\'leave\')">\n        {{ \'LEAVE\' | translate }}\n     </button>\n      <button class="btn btn-primary"\n              ng-click="exit(\'review\')"\n              ng-if="minRequirementsMet">\n        {{ \'REVIEW\' | translate }}\n      </button>\n      <button class="btn btn-primary"\n              ng-click="exit(\'order\')"\n              ng-if="minRequirementsMet">\n       {{ \'ADD_TO_ORDER\' | translate }}\n       </button>\n       <button class="btn btn-primary"\n              ng-click="dismiss()"\n              ng-if="!minRequirementsMet">\n        {{ \'CONTINUE\' | translate }}\n       </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("confirmation.html",[]).run(["$templateCache",function(e){e.put("confirmation.html",'<div class="container confirmation-modal">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="cancel()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12"\n         ng-if="modalOptions.headerText">\n      <h3>{{modalOptions.headerText | translate}}</h3>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-11 col-sm-12"\n         ng-if="modalOptions.bodyText">\n      {{modalOptions.bodyText | translate: modalOptions.bodyTextVariables}}\n      {{modalOptions.bodyData}}\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <hr class="hairline">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <button class="btn btn-primary" ng-click="ok()">{{modalOptions.actionButtonText | translate}}</button>\n      <button class="btn btn-default" ng-click="cancel()">{{modalOptions.closeButtonText | translate}}</button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("hiring.html",[]).run(["$templateCache",function(e){e.put("hiring.html",'<div class="container hiring-modal">\n  <!-- HEADING AND EXIT BUTTON -->\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <i ng-click="Hiring.dismissModal()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{ \'TELL_A_FRIEND\' | translate }}</h1>\n    </div>\n  </div>\n  <!-- TELL A FRIEND FORM -->\n  <div ng-if="!Hiring.successfulSubmission">\n    <div class="row">\n      <div class="col-xs-12">\n        <p>{{ \'PANERA_BREAD_IS_HIRING\' | translate }}</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <hr class="artisan">\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12">\n        <form name="hiringForm"\n              sf-form="Hiring.form"\n              sf-model="Hiring.model"\n              sf-options="Hiring.options"\n              sf-schema="Hiring.schema"\n              ng-submit="Hiring.sendEmail(hiringForm)">\n        </form>\n      </div>\n    </div>\n  </div>\n  <!-- SUCCESSFUL SUBMISSION MESSAGE -->\n  <div ng-if="Hiring.successfulSubmission">\n    <div class="row">\n      <div class="col-xs-12">\n        <p>{{ \'SUCCESSFUL_SHARE\' | translate }}</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 text-right">\n        <button class="btn btn-default"\n                type="button"\n                ng-click="Hiring.closeModal()">\n          {{ \'CLOSE\' | translate}}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("invalidOrder.html",[]).run(["$templateCache",function(e){e.put("invalidOrder.html",'<div class="container invalid-order-modal">\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <i ng-click="InvalidOrder.changeOrderDetails()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <h1>{{ InvalidOrder.modalOptions.headerText | translate }}</h1>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <p>{{ InvalidOrder.modalOptions.bodyText | translate : [InvalidOrder.selectedOrderType]}}</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <button class="btn btn-primary"\n              type="button"\n              ng-click="InvalidOrder.changeOrderDetails()"\n              ng-bind-html="InvalidOrder.modalOptions.actionButtonText | translate">\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("message.html",[]).run(["$templateCache",function(e){e.put("message.html",'<!-- MESSAGES COMPONENT FOR PNRAMODALSERVICE MODAL -->\n<div class="row">\n  <div class="col-xs-12">\n    <div class="row">\n      <div class="col-xs-12">\n        <!-- TITLE -->\n        <h2 ng-if="$ctrl.i18n.TITLE">\n          {{ $ctrl.i18n.TITLE }}\n        </h2>\n        <!-- DESCRIPTION -->\n        <p ng-if="$ctrl.i18n.DESCRIPTION">\n          {{ $ctrl.i18n.DESCRIPTION }}\n        </p>\n        <!-- IMAGE, IF PROVIDED -->\n        <img ng-if="$ctrl.imgKey"\n             ng-src="{{ $ctrl.imgKey | usage: \'category\' }}"\n             alt="{{ $ctrl.i18n.DESCRIPTION }}"\n             class="img-responsive">\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-12 btn-container">\n        <!-- CTA / BUTTON -->\n        <button class="btn pnra-btn"\n                ng-click="$ctrl.resolveModal()">\n          {{ $ctrl.i18n.BUTTON_LABEL }}\n        </button>\n      </div>\n    </div>\n    <!-- DISCLAIMER, IF ONE IS PROVIDED -->\n    <div class="row disclaimer" ng-if="$ctrl.i18n.DISCLAIMER">\n      <div class="col-xs-12">\n        <p>\n          {{ $ctrl.i18n.DISCLAIMER }}\n        </p>\n      </div>\n    </div>\n    <!-- SHOULD OPT OUT, IF WE WANT THAT -->\n    <div class="checkbox row" ng-if="$ctrl.showOptOut">\n      <label class="col-xs-12">\n        <input type="checkbox"\n                ng-model="$ctrl.shouldOptOut"\n                ng-checked="$ctrl.shouldOptOut">\n        <span class="check"></span>\n        {{ $ctrl.i18n.OPT_OUT }}\n      </label>\n    </div>\n  </div>\n</div>')}]),angular.module("preorder.html",[]).run(["$templateCache",function(e){e.put("preorder.html",'<div class="row" id="preorder">\n  <div class="col-xs-12">\n    <div class="row"\n         ng-repeat="preorder in modalOptions.item.preorderCustomizations">\n      <button class="btn btn-primary col-xs-12"\n              ng-click="performAction(preorder)">\n        {{preorder.i18nName | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("rewardModal.html",[]).run(["$templateCache",function(e){e.put("rewardModal.html",'<div class="container-fluid" id="rewardModal">\n  <!-- close button -->\n  <i ng-click="cancel()" class="btn-modal-close"></i>\n  <!-- content -->\n  <div ng-switch="step" class="row">\n    <!-- selecting menu items -->\n    <div ng-switch-when="menu" class="col-xs-12 artisan-scroll">\n      <h3 ng-if="rewardItemsShowing === \'eligibleItems\'">{{\'SELECT_ITEM_TO_DISCOUNT\' | translate}}</h3>\n      <h3 ng-if="rewardItemsShowing === \'requiredItems\'">{{\'SELECT_REQUIRED_ITEM_MESSAGE\' | translate}}</h3>\n      <div ng-if="comboId">\n        <menu-content customize-item="customizeItem(item, addItem)"\n                      format-item="buildCartItem(product, item, isCombo)"\n                      is-rewards="true"\n                      category-id="comboId"></menu-content>\n      </div>\n      <div ng-if="comboPlacards && comboPlacards.length > 0">\n        <h3>{{\'SELECT_ELIGIBLE_COMBO\' | translate}}</h3>\n        <menu-content customize-item="customizeItem(item, addItem)"\n                      format-item="buildCartItem(product, item, isCombo)"\n                      is-rewards="true"\n                      select-category="selectCategory(placard)"\n                      category-items="comboPlacards"></menu-content>\n      </div>\n      <div ng-if="placards && placards.length > 0 ">\n        <h3>{{\'SELECT_ELIGIBLE_ITEM\' | translate}}</h3>\n        <menu-content customize-item="customizeItem(item, addItem)"\n                      format-item="buildCartItem(product, item, isCombo)",\n                      is-rewards="true"\n                      items="placards">\n        </menu-content>\n      </div>\n    </div>\n    <div ng-switch-when="rewards" class="col-xs-12 artisan-scroll">\n      <my-rewards is-menu="true"\n                  is-modal="true"\n                  select-reward="selectReward(selectedReward)"\n                  cart="cart"></my-rewards>\n    </div>\n    <!-- default reward description -->\n    <div ng-switch-default class="col-xs-12 no-padding">\n      <div class="row">\n        <h3 ng-if="!preventRedemption" class="col-xs-12">{{reward.name}}</h3>\n      </div>\n      <hr ng-if="!preventRedemption" class="artisan">\n      <div class="row">\n        <div class="col-xs-7">\n          <img ng-if="reward && !preventRedemption"\n               ng-src="{{::reward.discCode | usage: \'reward\'}}"\n               class="img-responsive"\n               alt="{{\'REWARD_IMAGE_ALT\' | translate}}">\n          <img ng-if="!reward || preventRedemption"\n               ng-src="{{\'\' | usage: \'reward\'}}"\n               class="img-responsive"\n               alt="{{\'REWARD_IMAGE_ALT\' | translate}}">\n        </div>\n        <div class="col-xs-5">\n          <div ng-if="overRewardLimit">\n            <h3 ng-if="reward && !preventRedemption && !reward.isReadyToRedeem">\n              {{\'REWARD_BALANCE_WARNING\' | translate}}</h3>\n            <h3 ng-if="reward && !preventRedemption && reward.isReadyToRedeem">\n              {{\'REWARD_BALANCE_WARNING\' | translate}}</h3>\n            <h3 ng-if="!reward && !preventRedemption">{{\'REWARD_BALANCE_WARNING\' | translate}}</h3>\n          </div>\n          <div ng-if="!overRewardLimit">\n            <h3 ng-if="reward && !preventRedemption && !reward.isReadyToRedeem">{{\'TO_REDEEM_REWARD\' |translate}}</h3>\n            <h3 ng-if="reward && !preventRedemption && reward.isReadyToRedeem">\n              {{\'PLEASE_PROCEED_TO_CART_AND_WE_LL_APPLY\' | translate}}</h3>\n            <h3 ng-if="!reward && !preventRedemption">{{\'REWARDS_ELIGIBLE\' | translate}}</h3>\n          </div>\n          <h3 ng-if="preventRedemption">{{\'REWARD_ALREADY_REDEEMED\' | translate}}</h3>\n        </div>\n      </div>\n      <hr class="artisan">\n      <div class="row">\n        <div class="col-xs-12 text-right">\n          <button ng-if="!preventRedemption && !overRewardLimit" ng-click="cancel()" class="btn btn-default">\n            {{\'NO_THANKS\' | translate}}</button>\n          <button ng-if="!preventRedemption && overRewardLimit" ng-click="cancel()" class="btn btn-default">\n            {{\'SAVE_FOR_LATER\' | translate}}</button>\n          <button ng-if="step===\'checkout\'"\n                  ng-click="selectRewards()"\n                  class="btn btn-primary">\n            {{\'SELECT_REWARDS\' | translate}}\n          </button>\n          <button ng-if="step!==\'checkout\'"\n                  ng-click="selectItems(reward.requiredItems.length > 0 ? \'requiredItems\': \'eligibleItems\')"\n                  class="btn btn-primary"\n                  ng-disabled="isSubmitted">\n            <div ng-if="overRewardLimit">\n              <span ng-if="!preventRedemption && !(reward && reward.isReadyToRedeem)">{{\'CONTINUE\' | translate}}</span>\n              <span ng-if="preventRedemption || (reward && reward.isReadyToRedeem)">{{\'CONTINUE\' | translate}}</span>\n            </div>\n            <div ng-if="!overRewardLimit">\n              <span ng-if="!preventRedemption && !(reward && reward.isReadyToRedeem)">{{\'NEXT_PROGRAM\' | translate}}</span>\n              <span ng-if="preventRedemption || (reward && reward.isReadyToRedeem)">{{\'OK\' | translate}}</span>\n            </div>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("sides.html",[]).run(["$templateCache",function(e){e.put("sides.html",'<div class="sides-modal container">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="exit()" class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="selector">\n    <ol class="row">\n        <li side-selection\n            ng-repeat="side in sides"\n            data="side"\n            selection="selection">\n        </li>\n    </ol>\n  </div>\n</div>\n')}]),angular.module("socialModal.html",[]).run(["$templateCache",function(e){e.put("socialModal.html",'<div class="social-modal">\n  <i ng-click="Social.dismissModal()" class="btn-modal-close"></i>\n  <div class="row">\n    <div class="col-xs-12">\n      <social-password-prompt auth-token="Social.accessToken" forgot-password="Social.forgotPassword()">\n      </social-password-prompt>\n    </div>\n  </div>\n</div>\n')}]),angular.module("upsell.html",[]).run(["$templateCache",function(e){e.put("upsell.html",'<upsell>\n  <div ng-click="$ctrl.returnToCheckout()" class="close-btn">\n    <img ng-src="{{ $ctrl.closeButton }}">\n  </div>\n  <div class="upsell-container">\n    <!-- CURRENTLY NOT LOOKING AT FEATURED ITEMS -->\n    <div ng-if="$ctrl.step === 0 && $ctrl.programs[$ctrl.activeProgram]">\n      <div class="row">\n        <h3 class="col-xs-12"\n            ng-if="$ctrl.programs[$ctrl.activeProgram].i18nName"\n            ng-bind-html="$ctrl.programs[$ctrl.activeProgram].i18nName | translate">\n        </h3>\n      </div>\n      <div class="row image">\n        <div class="col-xs-12">\n          <img ng-src="{{ $ctrl.programs[$ctrl.activeProgram].imgKey | usage: \'upsell\' }}"\n               class="img-responsive"\n               alt="{{ $ctrl.programs[$ctrl.activeProgram].i18nName | translate }}">\n        </div>\n      </div>\n      <div class="row actions">\n        <div class="col-xs-12 col-sm-6">\n          <button type="button"\n                  ng-click="$ctrl.exit(\'No Thanks\')"\n                  class="btn pnra-btn-secondary">\n            {{ $ctrl.i18n.NO_THANKS }}\n          </button>\n        </div>\n        <div class="col-xs-12 col-sm-6">\n          <button type="button"\n                  ng-click="$ctrl.nextStep()"\n                  class="btn pnra-btn">\n            {{ $ctrl.programs[$ctrl.activeProgram].i18nBtnLbl | translate }}\n          </button>\n        </div>\n      </div>\n    </div>\n    <div ng-if="$ctrl.step === 1">\n      <div class="row">\n        <p class="col-xs-12"\n           ng-bind-html="$ctrl.programs[$ctrl.activeProgram].qualifiedItems.i18nDesc | translate : [$ctrl.availableItems - $ctrl.itemsAdded]">\n        </p>\n      </div>\n      <div class="row" ng-if="$ctrl.availableItems > 1 && $ctrl.availableItems <= 99">\n        <p class="col-xs-12 items-added"\n           ng-bind-html="\'YOU_HAVE_ADDED\' | translate : [$ctrl.itemsAdded, $ctrl.availableItems]"></p>\n      </div>\n      <div class="row artisan-scroll">\n        <menu-content class="col-xs-12 upsell"\n                      format-item="$ctrl.formatItem(product, item, isCombo)"\n                      items="$ctrl.placards"\n                      is-upsell="true">\n        </menu-content>\n      </div>\n      <div class="row actions">\n        <div class="col-xs-12 col-sm-6">\n          <button type="button"\n                  ng-click="$ctrl.returnToCheckout()"\n                  class="btn pnra-btn-secondary">\n            {{ $ctrl.i18n.RETURN_TO_CHECKOUT }}\n          </button>\n        </div>\n        <div class="col-xs-12 col-sm-6">\n          <button type="button"\n                  ng-if="$ctrl.programs[$ctrl.activeProgram].qualifiedItems.seeAll && $ctrl.programs[$ctrl.activeProgram].qualifiedItems.seeAll.useCatId"\n                  ng-click="$ctrl.toCategory($ctrl.programs[$ctrl.activeProgram].qualifiedItems.seeAll.mnavCatId)"\n                  class="btn pnra-btn">\n            {{ $ctrl.programs[$ctrl.activeProgram].qualifiedItems.seeAll.i18nBtnLbl | translate }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</upsell>\n')}]),angular.module("goCartDetails.html",[]).run(["$templateCache",function(e){e.put("goCartDetails.html",'<div class="goCartDetailsContainer" ng-class="{\'active\': $ctrl.isOpen}">\n  <div class="row">\n    <div class="col-xs-10 col-sm-11">\n      <div class="header row">\n        <div class="col-xs-8">\n          {{ $ctrl.name }}\n        </div>\n        <div class="col-xs-4 text-right">\n          <button ng-if="!$ctrl.cart && $ctrl.startOrder"\n                  ng-click="$ctrl.startOrder()"\n                  class="btn btn-primary orderBtn hidden-xs">\n            {{ $ctrl.i18n.ORDER }}\n          </button>\n          <span ng-if="$ctrl.cart">{{ $ctrl.cart.summary.totalPrice | currency }}</span>\n        </div>\n      </div>\n      <div ng-if="$ctrl.isOpen" class="expanded">\n        <div class="row">\n          <div class="menuItem col-xs-12" ng-repeat="item in $ctrl.cart.items">\n            <div class="row">\n              <div class="col-xs-9">{{ item.name }}</div>\n              <div class="col-xs-3 priceInfo">{{ item.totalPrice | currency }}</div>\n            </div>\n            <div class="row" ng-repeat="side in item.sides">\n              <p class="col-xs-11 col-xs-offset-1 sideItem">{{ side.name }}</p>\n            </div>\n            <div class="row" ng-repeat="nonSide in item.nonSides">\n              <p class="col-xs-11 col-xs-offset-1 comboItem">{{ nonSide.name }}</p>\n            </div>\n          </div>\n          <div class="priceInfo col-xs-12">\n            <div class="row">\n              <div class="col-xs-8 col-sm-10">{{ $ctrl.i18n.SUBTOTAL }}</div>\n              <div class="col-xs-4 col-sm-2">{{ $ctrl.cart.summary.subTotal | currency }}</div>\n            </div>\n            <div class="row">\n              <div class="col-xs-8 col-sm-10">{{ $ctrl.i18n.TAX }}</div>\n              <div class="col-xs-4 col-sm-2">{{ $ctrl.cart.summary.tax | currency }}</div>\n            </div>\n            <div ng-if="$ctrl.cart.summary.deliveryFee > 0" class="row">\n              <div class="col-xs-8 col-sm-10">{{ $ctrl.i18n.DELIVERY_FEE }}</div>\n              <div class="col-xs-4 col-sm-2">{{ $ctrl.cart.summary.deliveryFee | currency }}</div>\n            </div>\n            <div ng-if="$ctrl.cart.summary.tip > 0" class="row">\n              <div class="col-xs-8 col-sm-10">{{ $ctrl.i18n.TIP }}</div>\n              <div class="col-xs-4 col-sm-2">{{ $ctrl.cart.summary.tip | currency }}</div>\n            </div>\n            <div class="row">\n              <div class="col-xs-8 col-sm-10">{{ $ctrl.i18n.TOTAL }}</div>\n              <div class="col-xs-4 col-sm-2">{{ $ctrl.cart.summary.totalPrice | currency }}</div>\n            </div>\n          </div>\n          <div class="removeLink col-xs-12">\n            <div class="row">\n              <div class="col-xs-12">\n                <a ng-click="$ctrl.removeCart({orderId: $ctrl.cart.orderId})">{{ $ctrl.i18n.REMOVE_FROM_ORDER }}</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-xs-2 col-sm-1" ng-click="$ctrl.toggleDetails()">\n      <i ng-class="{\'fa fa-chevron-up pull-right\': $ctrl.isOpen, \'fa fa-chevron-down pull-right\': !$ctrl.isOpen }"\n         aria-hidden="true"></i>\n    </div>\n  </div>\n</div>\n');
}]),angular.module("curatedCategory.html",[]).run(["$templateCache",function(e){e.put("curatedCategory.html",'<!-- MAIN CURATED CATEGORY PLACARDS -->\n<section class="row">\n  <!-- CURATED CATEGORY TOP-LEVEL PLACARDS -->\n  <div ng-repeat="placard in $ctrl.placards track by $index">\n    <placard class="{{ $ctrl.getPlacardColumns(placard) }}"\n             combo-number="$ctrl.comboNumber"\n             item="placard"\n             is-rewards="$ctrl.isRewards"\n             select-category="$ctrl.selectCategory({placard: placard})"\n             customize-item="$ctrl.customizeItem({item: item})"\n             order-item="$ctrl.orderItem({product: product, item: item})"\n             is-item="$ctrl.isItem({placard: placard})"\n             categorial-context="{parent: $ctrl.categoryData.i18nName}">\n    </placard>\n  </div>\n</section>\n<!-- DIVIDER -->\n<div class="row divider hidden-xs"></div>\n<!-- CURATED SUB CATEGORY TITLES AND PLACARDS -->\n<section class="row">\n  <!-- ACCORDION FOR MOBILE -->\n  <uib-accordion class="visible-xs" close-others="true">\n    <div uib-accordion-group \n         ng-repeat="category in $ctrl.subCategories track by $index"\n         ng-init="status.open = $first"\n         is-open="status.open">\n      <uib-accordion-heading>\n        {{ category.i18nName | translate }}\n        <i class="pull-right fa" ng-class="{\'fa-caret-up\': status.open,\n                                            \'fa-caret-down\': !status.open}"></i>\n      </uib-accordion-heading>\n      <!-- CURATED SUB CATEGORY PLACARDS -->\n      <div class="col-xs-12">\n        <div class="row">\n          <div ng-repeat="placard in category.availabePlacards track by $index">\n            <placard class="{{ $ctrl.getPlacardColumns(placard) }}"\n                    combo-number="$ctrl.comboNumber"\n                    item="placard"\n                    is-rewards="$ctrl.isRewards"\n                    select-category="$ctrl.selectCategory({placard: placard})"\n                    customize-item="$ctrl.customizeItem({item: item})"\n                    order-item="$ctrl.orderItem({product: product, item: item})"\n                    is-item="$ctrl.isItem({placard: placard})"\n                    categorial-context="{parent: $ctrl.categoryData.i18nName, sub: category.i18nName}">\n            </placard>\n          </div>\n        </div>\n      </div>\n    </div>\n  </uib-accordion>\n  <!-- DESKTOP VIEW -->\n  <div class="hidden-xs" ng-repeat="category in $ctrl.subCategories track by $index">\n    <div ng-if="category.availabePlacards.length > 0">\n      <!-- CURATED SUB CATEGORY TITLE-->\n      <h3 class="col-xs-12" ng-if="category.i18nName">\n        {{ category.i18nName | translate }}\n      </h3>\n      <div class="row">\n        <!-- CURATED SUB CATEGORY PLACARDS -->\n        <div class="col-xs-12">\n          <div class="row">\n            <div ng-repeat="placard in category.availabePlacards track by $index">\n              <placard class="{{ $ctrl.getPlacardColumns(placard) }}"\n                      combo-number="$ctrl.comboNumber"\n                      item="placard"\n                      is-rewards="$ctrl.isRewards"\n                      select-category="$ctrl.selectCategory({placard: placard})"\n                      customize-item="$ctrl.customizeItem({item: item})"\n                      order-item="$ctrl.orderItem({product: product, item: item})"\n                      is-item="$ctrl.isItem({placard: placard})"\n                      categorial-context="{parent: $ctrl.categoryData.i18nName, sub: category.i18nName}">\n              </placard>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>')}]),angular.module("parentCategory.html",[]).run(["$templateCache",function(e){e.put("parentCategory.html",'<!-- PARENT CATEGORY SUB-CATEGORY LOOP -->\n<section class="row" ng-repeat="category in $ctrl.categories track by $index">\n  <div ng-if="category.placards && category.placards.length > 0 ">\n    <div class="col-xs-12">\n      <!-- SUB-CATEGORY TITLE -->\n      <h3 ng-if="category.i18nName">\n        {{ category.i18nName | translate }}\n      </h3>\n    </div>\n    <div class="col-xs-12">\n      <div class="row">\n        <!-- SUB-CATEGORY PLACARD LOOP -->\n        <div ng-repeat="placard in category.placards track by $index">\n          <placard class="{{ $ctrl.getPlacardColumns(placard) }}"\n                   combo-number="$ctrl.comboNumber"\n                   item="placard"\n                   is-rewards="$ctrl.isRewards"\n                   select-category="$ctrl.selectCategory({placard: placard})"\n                   customize-item="$ctrl.customizeItem({item: item})"\n                   order-item="$ctrl.orderItem({product: product, item: item})"\n                   is-item="$ctrl.isItem({placard: placard})"\n                   categorial-context="{parent: $ctrl.categoryData.i18nName, sub: category.i18nName}">\n          </placard>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>')}]),angular.module("subCategory.html",[]).run(["$templateCache",function(e){e.put("subCategory.html",'<!-- SUB-CATEGORY -->\n<section class="row">\n  <!-- SUB CATEGORY PLACARD LOOP -->\n  <div ng-repeat="placard in $ctrl.placards">\n    <placard class="{{ $ctrl.getPlacardColumns(placard) }}"\n             combo-number="$ctrl.comboNumber"\n             item="placard"\n             is-rewards="$ctrl.isRewards"\n             select-category="$ctrl.selectCategory({placard: placard})"\n             customize-item="$ctrl.customizeItem({item: item})"\n             order-item="$ctrl.orderItem({product: product, item: item})"\n             is-item="$ctrl.isItem({placard: placard})"\n             categorial-context="$ctrl.categorialContextObject">\n    </placard>\n  </div>\n</section>')}]),angular.module("flatbreadPlacard.html",[]).run(["$templateCache",function(e){e.put("flatbreadPlacard.html",'<!-- FLATBREAD -->\n<div class="row flatbread">\n  <img class="no-padding img-responsive"\n       alt="{{ $ctrl.i18n.description }}"\n       ng-src="{{ $ctrl.placard.imgKey | usage: \'combo\'}}">\n  <div class="content {{ $ctrl.placard.imgKey }}">\n    <h3>{{ $ctrl.i18n.title }}</h3>\n    <p>{{ $ctrl.i18n.description }}</p>\n    <button class="btn btn-primary"\n            target="{{ $ctrl.redirectTarget }}"\n            ng-click="$ctrl.redirect()">\n      {{ $ctrl.i18n.link }}\n    </button>\n  </div>\n</div>')}]),angular.module("yp2Placard.html",[]).run(["$templateCache",function(e){e.put("yp2Placard.html",'<div class="col-xs-12">\n  <div class="row">\n    <div class="col-xs-12 col-md-4 text-center">\n      <img class="no-padding"\n          alt="{{ $ctrl.i18n.description }}"\n          ng-src="{{ $ctrl.placard.imgKey | usage: \'curation\'}}">\n    </div>\n    <div class="col-xs-12 col-md-4">\n      <p>{{ $ctrl.i18n.description }}</p>\n    </div>\n    <div class="col-xs-12 col-md-4 btn-container">\n      <button class="btn pnra-btn-tan"\n              target="{{ $ctrl.redirectTarget }}"\n              ng-click="$ctrl.redirect()">\n        {{ $ctrl.i18n.link }}\n      </button>\n    </div>\n  </div>\n</div>')}]),angular.module("deliveryCheck.html",[]).run(["$templateCache",function(e){e.put("deliveryCheck.html",'<form class="form-horizontal"\n      name="deliveryCheckForm"\n      sf-form="form"\n      sf-model="model"\n      sf-options="options"\n      sf-schema="schema"\n      ng-submit="submit(deliveryCheckForm)">\n</form>\n')}]),angular.module("suggestion.html",[]).run(["$templateCache",function(e){e.put("suggestion.html",'<a tabindex="-1" class="suggestion">\n  <i class="fa-map-marker"></i>\n  <span ng-bind-html="match.label | uibTypeaheadHighlight:query" title="{{match.label}}"></span>\n</a>\n')}]),angular.module("suggestions.html",[]).run(["$templateCache",function(e){e.put("suggestions.html",'<ul class="dropdown-menu suggestions"\n    ng-show="isOpen() && !moveInProgress"\n    ng-style="{top: position().top+\'px\', left: position().left+\'px\'}"\n    role="listbox"\n    aria-hidden="{{!isOpen()}}">\n  <li ng-repeat="match in matches track by $index"\n      ng-class="{active: isActive($index) }"\n      ng-mouseenter="selectActive($index)"\n      ng-click="selectMatch($index)"\n      role="option"\n      id="{{::match.id}}">\n    <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n  </li>\n</ul>\n')}]),angular.module("orderTypeCtrl.html",[]).run(["$templateCache",function(e){e.put("orderTypeCtrl.html",'<div class="container" id="orderTypeWrapper">\n  <div class="row">\n    <div class="col-xs-12">\n      <i ng-click="cancel()"\n         class="btn-modal-close"></i>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <order-type enabled-order-types="enabledOrderTypes"\n                  show-selected="false"\n                  close-modal="close()">\n      </order-type>\n    </div>\n  </div>\n</div>\n')}]),angular.module("fbButton.html",[]).run(["$templateCache",function(e){e.put("fbButton.html",'<div class="row">\n  <div class="col-xs-12">\n    <button type="button"\n            class="btn"\n            ng-click="$ctrl.action()">\n      {{ $ctrl.label }}\n    </button>\n  </div>\n</div>\n')}]),angular.module("fbConnection.html",[]).run(["$templateCache",function(e){e.put("fbConnection.html",'<div class="row fb-connection-wrapper" ng-if="$ctrl.facebookLoginIsEnabled">\n  <div class="col-xs-12">\n    <h2>{{ $ctrl.labels.title }}</h2>\n    <p>{{ $ctrl.labels.desc }}</p>\n    <div ng-class="$ctrl.buttonAlign">\n      <button type="button"\n              class="btn"\n              ng-click="$ctrl.setAssociation()">\n        {{ $ctrl.labels.btn }}\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("fbJoinMyPanera.html",[]).run(["$templateCache",function(e){e.put("fbJoinMyPanera.html",'<div>\n  <h2>{{$ctrl.i18n.JOIN_MYPANERA}}</h2>\n  <p>{{$ctrl.i18n.JOIN_MYPANERA_DESC}}</p>\n  <div class="row button-container">\n    <div class="col-xs-12">\n      <fb-button action="$ctrl.register()" i18n-key="SIGN_UP_WITH_FACEBOOK"></fb-button>\n    </div>\n    <div class="col-xs-12 separator">\n      <div class="row">\n        <div class="col-xs-5 line"></div>\n        <div class="col-xs-2 or-text">{{$ctrl.i18n.OR}}</div>\n        <div class="col-xs-5 line"></div>\n      </div>\n    </div>\n    <div class="col-xs-12">\n      <button class="pnra-btn"\n              type="button"\n              ng-click="$ctrl.signUpWithEmail()">{{$ctrl.i18n.SIGN_UP_WITH_EMAIL}}\n      </button>\n    </div>\n  </div>\n</div>')}]),angular.module("fbLogin.html",[]).run(["$templateCache",function(e){e.put("fbLogin.html",'<fb-button action="$ctrl.login()" i18n-key="SIGN_IN_WITH_FACEBOOK"></fb-button>')}]),angular.module("fbVerifyAccount.html",[]).run(["$templateCache",function(e){e.put("fbVerifyAccount.html",'<div class="row" cg-busy="{promise: $ctrl.socialPromise}">\n  <div class="col-xs-12">\n    <h2>{{ $ctrl.i18n.FB_VERIFY_TITLE }}</h2>\n    <p ng-if="$ctrl.numEmailsFound === 1">{{ $ctrl.i18n.FB_VERIFY_DESC_ONE_MATCH }}</p>\n    <p ng-if="$ctrl.numEmailsFound === 0">{{ $ctrl.i18n.FB_CANT_FIND_ACCOUNT }}</p>\n    <p ng-if="$ctrl.numEmailsFound > 1">{{ $ctrl.i18n.FB_MULTIPLE_ACCTS_FOUND }}</p>\n    <form name="$ctrl.linkAcctForm"\n          sf-form="$ctrl.form"\n          sf-schema="$ctrl.schema"\n          sf-options="$ctrl.options"\n          sf-model="$ctrl.model"\n          ng-submit="$ctrl.associate()">\n    </form>\n  </div>\n  <div class="col-xs-12 join-container" ng-if="$ctrl.numEmailsFound === 0">\n    <a ng-click="$ctrl.joinMyPanera()">{{ $ctrl.i18n.JOIN_MYPANERA }}</a>\n  </div>\n</div>\n')}]);